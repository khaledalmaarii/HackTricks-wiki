# CET ve Shadow Stack

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸÃ¼n</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> ile Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

## Kontrol AkÄ±ÅŸÄ± Uygulama Teknolojisi (CET)

**CET**, **DÃ¶nÃ¼ÅŸe YÃ¶nelik Programlama (ROP)** ve **Atlamaya YÃ¶nelik Programlama (JOP)** gibi yaygÄ±n kontrol akÄ±ÅŸÄ± ele geÃ§irme saldÄ±rÄ±larÄ±nÄ± engellemek amacÄ±yla donanÄ±m seviyesinde uygulanan bir gÃ¼venlik Ã¶zelliÄŸidir. Bu tÃ¼r saldÄ±rÄ±lar, bir programÄ±n yÃ¼rÃ¼tme akÄ±ÅŸÄ±nÄ± manipÃ¼le ederek kÃ¶tÃ¼ amaÃ§lÄ± kodu yÃ¼rÃ¼tmek veya zararsÄ±z kod parÃ§alarÄ±nÄ± bir araya getirerek kÃ¶tÃ¼ amaÃ§lÄ± bir eylem gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lÄ±r.

CET, **DolaylÄ± DalÄ±ÅŸ Takibi (IBT)** ve **Shadow Stack** olmak Ã¼zere iki ana Ã¶zellik sunar.

* **IBT**, dolaylÄ± sÄ±Ã§ramalarÄ±n ve Ã§aÄŸrÄ±larÄ±n geÃ§erli hedeflere yapÄ±ldÄ±ÄŸÄ±ndan emin olur. DolaylÄ± dallanmalar iÃ§in geÃ§erli hedefler olarak aÃ§Ä±kÃ§a iÅŸaretlenen bir yeni komut seti kullanÄ±larak bu saÄŸlanÄ±r, bÃ¶ylece saldÄ±rganlarÄ±n kontrol akÄ±ÅŸÄ±nÄ± keyfi konumlara yÃ¶nlendirmesini engeller.
* **Shadow Stack**, dÃ¶nÃ¼ÅŸ adresleri iÃ§in bÃ¼tÃ¼nlÃ¼k saÄŸlayan bir mekanizmadÄ±r. Normal Ã§aÄŸrÄ± yÄ±ÄŸÄ±nÄ±ndan ayrÄ±lmÄ±ÅŸ, gÃ¼venli ve gizli bir dÃ¶nÃ¼ÅŸ adresi kopyasÄ±nÄ± tutar. Bir iÅŸlev dÃ¶ndÃ¼ÄŸÃ¼nde, dÃ¶nÃ¼ÅŸ adresi shadow stack'e karÅŸÄ± doÄŸrulanÄ±r, bu da saldÄ±rganlarÄ±n kontrol akÄ±ÅŸÄ±nÄ± ele geÃ§irmek iÃ§in yÄ±ÄŸÄ±nda dÃ¶nÃ¼ÅŸ adreslerini Ã¼zerine yazmasÄ±nÄ± engeller.

## Shadow Stack

**Shadow stack**, **yalnÄ±zca dÃ¶nÃ¼ÅŸ adreslerini depolamak iÃ§in kullanÄ±lan Ã¶zel bir yÄ±ÄŸÄ±n**tÄ±r. Normal yÄ±ÄŸÄ±nla birlikte Ã§alÄ±ÅŸÄ±r ancak korunur ve normal program yÃ¼rÃ¼tmesinden gizlenir, bu da saldÄ±rganlarÄ±n mÃ¼dahale etmesini zorlaÅŸtÄ±rÄ±r. Shadow stack'in temel amacÄ±, dÃ¶nÃ¼ÅŸ adreslerinde yapÄ±lan herhangi bir deÄŸiÅŸikliÄŸin kullanÄ±lmadan Ã¶nce tespit edilmesini saÄŸlamaktÄ±r, bu da ROP saldÄ±rÄ±larÄ±nÄ± etkili bir ÅŸekilde azaltÄ±r.

## CET ve Shadow Stack'in SaldÄ±rÄ±larÄ± NasÄ±l Ã–nlediÄŸi

**ROP ve JOP saldÄ±rÄ±larÄ±**, bir uygulamanÄ±n kontrol akÄ±ÅŸÄ±nÄ± ele geÃ§irme yeteneÄŸine dayanÄ±r ve onlara yÄ±ÄŸÄ±nda iÅŸaretÃ§ileri veya dÃ¶nÃ¼ÅŸ adreslerini Ã¼zerine yazma izni veren zayÄ±flÄ±klarÄ± kullanarak uygulamanÄ±n kontrol akÄ±ÅŸÄ±nÄ± ele geÃ§irirler. Varolan kod parÃ§alarÄ± veya dÃ¶nÃ¼ÅŸe yÃ¶nelik programlama parÃ§alarÄ± dizilerine yÃ¶nlendirerek saldÄ±rganlar keyfi kodlarÄ± yÃ¼rÃ¼tebilirler.

* **CET'in IBT** Ã¶zelliÄŸi, dolaylÄ± dallanmalarÄ±n yalnÄ±zca aÃ§Ä±kÃ§a geÃ§erli hedefler olarak iÅŸaretlenmiÅŸ adreslere sÄ±Ã§ramasÄ±nÄ± saÄŸlayarak bu saldÄ±rÄ±larÄ± Ã¶nemli Ã¶lÃ§Ã¼de zorlaÅŸtÄ±rÄ±r. Bu, saldÄ±rganlarÄ±n ikili dosya Ã¼zerine yayÄ±lmÄ±ÅŸ keyfi parÃ§alarÄ± yÃ¼rÃ¼tmesini imkansÄ±z hale getirir.
* **Shadow stack** ise, saldÄ±rganÄ±n normal yÄ±ÄŸÄ±nda bir dÃ¶nÃ¼ÅŸ adresini Ã¼zerine yazabilse bile, iÅŸlevden dÃ¶nerken bozulmuÅŸ adresi shadow stack'te saklanan gÃ¼venli kopya ile karÅŸÄ±laÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda farklÄ±lÄ±k tespit edilir. Adresler eÅŸleÅŸmiyorsa, program saldÄ±rÄ±nÄ±n baÅŸarÄ±lÄ± olmasÄ±nÄ± engellemek iÃ§in sonlandÄ±rÄ±labilir veya diÄŸer gÃ¼venlik Ã¶nlemleri alÄ±nabilir.
