# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO**, **Yeniden YerleÅŸtirme Salt Okunur** anlamÄ±na gelir ve **GOT (KÃ¼resel Ofset Tablosu)** Ã¼zerine yazma ile iliÅŸkili riskleri azaltmak iÃ§in ikili dosyalarda kullanÄ±lan bir gÃ¼venlik Ã¶zelliÄŸidir. Ä°ki tÃ¼r **RELRO** korumasÄ± vardÄ±r: (1) **KÄ±smi RELRO** ve (2) **Tam RELRO**. Her ikisi de **GOT** ve **BSS**'yi ELF dosyalarÄ±ndan yeniden sÄ±ralar, ancak farklÄ± sonuÃ§lar ve etkilerle. Ã–zellikle, **GOT** bÃ¶lÃ¼mÃ¼nÃ¼ **BSS**'den *Ã¶nce* yerleÅŸtirir. Yani, **GOT**, **BSS**'den daha dÃ¼ÅŸÃ¼k adreslerde bulunur, bu nedenle **BSS**'deki deÄŸiÅŸkenleri taÅŸÄ±rarak **GOT** giriÅŸlerini yazmak imkansÄ±z hale gelir (belleÄŸe yazma iÅŸlemi daha dÃ¼ÅŸÃ¼k adreslerden daha yÃ¼ksek adreslere doÄŸru gerÃ§ekleÅŸir).

KavramÄ± netlik iÃ§in iki ayrÄ± tÃ¼rÃ¼ne ayÄ±ralÄ±m.

### **KÄ±smi RELRO**

**KÄ±smi RELRO**, gÃ¼venliÄŸi artÄ±rmak iÃ§in daha basit bir yaklaÅŸÄ±m benimser ve ikilinin performansÄ±nÄ± Ã¶nemli Ã¶lÃ§Ã¼de etkilemez. KÄ±smi RELRO, **.got'u salt okunur hale getirir (GOT bÃ¶lÃ¼mÃ¼nÃ¼n PLT dÄ±ÅŸÄ± kÄ±smÄ±)**. Kalan bÃ¶lÃ¼mÃ¼n (Ã¶rneÄŸin, .got.plt) hala yazÄ±labilir olduÄŸunu ve dolayÄ±sÄ±yla saldÄ±rÄ±lara maruz kalabileceÄŸini unutmayÄ±n. Bu, **GOT**'un **rastgele yazma** zafiyetleri tarafÄ±ndan kÃ¶tÃ¼ye kullanÄ±lmasÄ±nÄ± engellemez.

Not: VarsayÄ±lan olarak, GCC ikilileri KÄ±smi RELRO ile derler.

### **Tam RELRO**

**Tam RELRO**, **tÃ¼m GOT'u (hem .got hem de .got.plt) ve .fini\_array** bÃ¶lÃ¼mÃ¼nÃ¼ tamamen **salt okunur hale getirerek** korumayÄ± artÄ±rÄ±r. Ä°kili dosya baÅŸladÄ±ÄŸÄ±nda tÃ¼m iÅŸlev adresleri Ã§Ã¶zÃ¼lÃ¼r ve GOT'a yÃ¼klenir, ardÄ±ndan GOT salt okunur olarak iÅŸaretlenir, bu da Ã§alÄ±ÅŸma zamanÄ±nda herhangi bir deÄŸiÅŸiklik yapÄ±lmasÄ±nÄ± etkili bir ÅŸekilde engeller.

Ancak, Tam RELRO ile ilgili bir takas, performans ve baÅŸlangÄ±Ã§ sÃ¼residir. Ã‡Ã¼nkÃ¼ GOT'u salt okunur olarak iÅŸaretlemeden Ã¶nce tÃ¼m dinamik sembolleri baÅŸlangÄ±Ã§ta Ã§Ã¶zmesi gerektiÄŸinden, **Tam RELRO etkin olan ikililer daha uzun yÃ¼kleme sÃ¼releri yaÅŸayabilir**. Bu ek baÅŸlangÄ±Ã§ yÃ¼kÃ¼, Tam RELRO'nun tÃ¼m ikililerde varsayÄ±lan olarak etkin olmamasÄ±nÄ±n nedenidir.

Tam RELRO'nun bir ikili dosyada **etkin** olup olmadÄ±ÄŸÄ±nÄ± gÃ¶rmek mÃ¼mkÃ¼ndÃ¼r:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

EÄŸer Full RELRO etkinse, bunu aÅŸmanÄ±n tek yolu, keyfi yÃ¼rÃ¼tme elde etmek iÃ§in GOT tablosuna yazma gerektirmeyen baÅŸka bir yol bulmaktÄ±r.

**LIBC'nin GOT'u genellikle Partial RELRO'dur**, bu nedenle keyfi bir yazma ile deÄŸiÅŸtirilebilir. Daha fazla bilgi iÃ§in [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)**.**

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.**

</details>
{% endhint %}
