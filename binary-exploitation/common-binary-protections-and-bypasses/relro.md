# Relro

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO** signifie **Relocation Read-Only**, et c'est une fonctionnalit√© de s√©curit√© utilis√©e dans les binaires pour att√©nuer les risques associ√©s aux √©crasements de la **GOT (Global Offset Table)**. Explorons le concept en ses deux types distincts pour plus de clart√© : **Partial RELRO** et **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** adopte une approche plus simple pour renforcer la s√©curit√© sans impacter significativement les performances du binaire. En **positionnant la GOT au-dessus des variables du programme en m√©moire, Partial RELRO vise √† emp√™cher les d√©bordements de tampon d'atteindre et de corrompre la GOT**.&#x20;

Cela **n'emp√™che pas la GOT** d'√™tre exploit√©e **par des vuln√©rabilit√©s d'√©criture arbitraire**.

### **Full RELRO**

**Full RELRO** renforce la protection en **rendant la GOT et la section .fini\_array** compl√®tement **en lecture seule**. Une fois que le binaire d√©marre, toutes les adresses de fonctions sont r√©solues et charg√©es dans la GOT, puis, la GOT est marqu√©e comme en lecture seule, emp√™chant efficacement toute modification pendant l'ex√©cution.

Cependant, le compromis avec Full RELRO se situe en termes de performances et de temps de d√©marrage. Parce qu'il doit r√©soudre tous les symboles dynamiques au d√©marrage avant de marquer la GOT comme en lecture seule, **les binaires avec Full RELRO activ√© peuvent conna√Ætre des temps de chargement plus longs**. Ce surco√ªt de d√©marrage suppl√©mentaire est la raison pour laquelle Full RELRO n'est pas activ√© par d√©faut dans tous les binaires.

Il est possible de v√©rifier si Full RELRO est **activ√©** dans un binaire avec :
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Contourner

Si Full RELRO est activ√©, la seule fa√ßon de le contourner est de trouver une autre m√©thode qui ne n√©cessite pas d'√©crire dans la table GOT pour obtenir une ex√©cution arbitraire.

Notez que **la GOT de la LIBC est g√©n√©ralement en Partial RELRO**, donc elle peut √™tre modifi√©e avec une √©criture arbitraire. Plus d'informations dans [Cibler les entr√©es de la GOT de la libc](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)**.**
