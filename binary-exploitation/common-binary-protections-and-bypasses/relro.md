# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO**ëŠ” **Relocation Read-Only**ì˜ ì•½ìë¡œ, **GOT (Global Offset Table)** ì˜¤ë²„ë¼ì´íŠ¸ì™€ ê´€ë ¨ëœ ìœ„í—˜ì„ ì™„í™”í•˜ê¸° ìœ„í•´ ë°”ì´ë„ˆë¦¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë³´ì•ˆ ê¸°ëŠ¥ì…ë‹ˆë‹¤. **RELRO** ë³´í˜¸ì—ëŠ” ë‘ ê°€ì§€ ìœ í˜•ì´ ìˆìŠµë‹ˆë‹¤: (1) **Partial RELRO**ì™€ (2) **Full RELRO**. ë‘ ê°€ì§€ ëª¨ë‘ ELF íŒŒì¼ì˜ **GOT**ì™€ **BSS**ë¥¼ ì¬ë°°ì¹˜í•˜ì§€ë§Œ, ê²°ê³¼ì™€ ì˜ë¯¸ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œ, **GOT** ì„¹ì…˜ì„ **BSS**ë³´ë‹¤ *ì•ì—* ë°°ì¹˜í•©ë‹ˆë‹¤. ì¦‰, **GOT**ëŠ” **BSS**ë³´ë‹¤ ë‚®ì€ ì£¼ì†Œì— ìœ„ì¹˜í•˜ë¯€ë¡œ, **BSS**ì˜ ë³€ìˆ˜ë¥¼ ì˜¤ë²„í”Œë¡œìš°í•˜ì—¬ **GOT** í•­ëª©ì„ ë®ì–´ì“°ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤ (ë©”ëª¨ë¦¬ì— ì“°ëŠ” ê²ƒì€ ë‚®ì€ ì£¼ì†Œì—ì„œ ë†’ì€ ì£¼ì†Œë¡œ ì§„í–‰ë©ë‹ˆë‹¤).

ëª…í™•ì„±ì„ ìœ„í•´ ì´ ê°œë…ì„ ë‘ ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

### **Partial RELRO**

**Partial RELRO**ëŠ” ë°”ì´ë„ˆë¦¬ì˜ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë©´ì„œ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ê°„ë‹¨í•œ ì ‘ê·¼ ë°©ì‹ì„ ì·¨í•©ë‹ˆë‹¤. Partial RELROëŠ” **.gotì„ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤ (GOT ì„¹ì…˜ì˜ ë¹„-PLT ë¶€ë¶„)**. ë‚˜ë¨¸ì§€ ì„¹ì…˜(ì˜ˆ: .got.plt)ì€ ì—¬ì „íˆ ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë¯€ë¡œ ê³µê²©ì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” **GOT**ê°€ **ì„ì˜ ì“°ê¸°** ì·¨ì•½ì ìœ¼ë¡œ ì•…ìš©ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì°¸ê³ : ê¸°ë³¸ì ìœ¼ë¡œ GCCëŠ” Partial RELROë¡œ ë°”ì´ë„ˆë¦¬ë¥¼ ì»´íŒŒì¼í•©ë‹ˆë‹¤.

### **Full RELRO**

**Full RELRO**ëŠ” **ì „ì²´ GOT (both .got and .got.plt)ì™€ .fini\_array** ì„¹ì…˜ì„ ì™„ì „íˆ **ì½ê¸° ì „ìš©**ìœ¼ë¡œ ë§Œë“¤ì–´ ë³´í˜¸ë¥¼ ê°•í™”í•©ë‹ˆë‹¤. ë°”ì´ë„ˆë¦¬ê°€ ì‹œì‘ë˜ë©´ ëª¨ë“  í•¨ìˆ˜ ì£¼ì†Œê°€ í•´ê²°ë˜ê³  GOTì— ë¡œë“œëœ í›„, GOTëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ í‘œì‹œë˜ì–´ ëŸ°íƒ€ì„ ì¤‘ì— ìˆ˜ì •ì´ íš¨ê³¼ì ìœ¼ë¡œ ë°©ì§€ë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ Full RELROì˜ ë‹¨ì ì€ ì„±ëŠ¥ê³¼ ì‹œì‘ ì‹œê°„ì— ìˆìŠµë‹ˆë‹¤. GOTë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ í‘œì‹œí•˜ê¸° ì „ì— ëª¨ë“  ë™ì  ì‹¬ë³¼ì„ ì‹œì‘ ì‹œ í•´ê²°í•´ì•¼ í•˜ë¯€ë¡œ, **Full RELROê°€ í™œì„±í™”ëœ ë°”ì´ë„ˆë¦¬ëŠ” ë¡œë“œ ì‹œê°„ì´ ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤**. ì´ ì¶”ê°€ ì‹œì‘ ì˜¤ë²„í—¤ë“œ ë•Œë¬¸ì— Full RELROëŠ” ëª¨ë“  ë°”ì´ë„ˆë¦¬ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

Full RELROê°€ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Full RELROê°€ í™œì„±í™”ëœ ê²½ìš°, ì´ë¥¼ ìš°íšŒí•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ GOT í…Œì´ë¸”ì— ì“°ì§€ ì•Šê³  ì„ì˜ ì‹¤í–‰ì„ ì–»ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤.

**LIBCì˜ GOTëŠ” ì¼ë°˜ì ìœ¼ë¡œ Partial RELROì´ë¯€ë¡œ**, ì„ì˜ ì“°ê¸°ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)**ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.**

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
