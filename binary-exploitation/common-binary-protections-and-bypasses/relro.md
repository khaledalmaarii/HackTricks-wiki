# Relro

<details>

<summary><strong>Nauka hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si swoimi sztuczkami hakowania, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Relro

**RELRO** oznacza **Relocation Read-Only** i jest funkcj zabezpiecze stosowan w plikach binarnych w celu zmniejszenia ryzyka zwizanego z nadpisywaniem **GOT (Global Offset Table)**. Rozbijmy ten koncept na dwa odrbne typy dla jasnoci: **Czciowy RELRO** i **Peny RELRO**.

### **Czciowy RELRO**

**Czciowy RELRO** stosuje prostsze podejcie do poprawy bezpieczestwa bez znacznego wpywu na wydajno binari贸w. Poprzez **umieszczenie GOT powy偶ej zmiennych programu w pamici, Czciowy RELRO ma na celu zapobieganie dotarciu i uszkodzeniu GOT przez przepenienie bufora**.&#x20;

To **nie zapobiega nadu偶ywaniu GOT** z podatnoci na **dowolne zapisy**.

### **Peny RELRO**

**Peny RELRO** podnosi ochron poprzez **ustawienie GOT i sekcji .fini\_array** jako cakowicie **tylko do odczytu.** Gdy binarny si uruchamia, wszystkie adresy funkcji s rozwizane i zaadowane do GOT, a nastpnie GOT jest oznaczane jako tylko do odczytu, skutecznie zapobiegajc jakimkolwiek modyfikacjom podczas dziaania.

Jednak偶e, w przypadku Penego RELRO, istnieje wymiana wydajnoci i czasu uruchamiania. Poniewa偶 wymaga to rozwizania wszystkich symboli dynamicznych podczas uruchamiania przed oznaczeniem GOT jako tylko do odczytu, **binaria z wczonym Penym RELRO mog dowiadczy du偶szych czas贸w adowania**. Dodatkowe obci偶enie podczas uruchamiania to pow贸d, dla kt贸rego Peny RELRO nie jest domylnie wczony we wszystkich binariach.

Mo偶na sprawdzi, czy Peny RELRO jest wczony w binariach za pomoc:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Jeli pene RELRO jest wczone, jedynym sposobem na jego obejcie jest znalezienie innego sposobu, kt贸ry nie wymaga zapisu do tabeli GOT w celu uzyskania dowolnego wykonania.
