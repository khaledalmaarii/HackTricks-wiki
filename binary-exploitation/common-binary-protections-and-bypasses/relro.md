# Relro

{% hint style="success" %}
Nau캜ite i ve쬭ajte hakovanje AWS-a:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Nau캜ite i ve쬭ajte hakovanje GCP-a: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr쬴te HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Relro

**RELRO** ozna캜ava **Relocation Read-Only**, i to je sigurnosna funkcija koja se koristi u binarnim fajlovima kako bi se umanjili rizici povezani sa **GOT (Global Offset Table)** prepisivanjem. Razlo쬴캖emo koncept na dva razli캜ita tipa radi jasno캖e: **Partial RELRO** i **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** koristi jednostavniji pristup za pobolj코anje sigurnosti bez zna캜ajnog uticaja na performanse binarnog fajla. **Pomeranjem GOT iznad promenljivih programa u memoriji, Partial RELRO ima za cilj da spre캜i preplavljivanje bafera da dosegne i o코teti GOT**.&#x20;

Ovo **ne spre캜ava** da se GOT **zloupotrebi** iz **proizvolnih upisa** ranjivosti.

### **Full RELRO**

**Full RELRO** poja캜ava za코titu tako 코to **캜ini GOT i .fini\_array** sekciju potpuno **samo za 캜itanje.** Kada binarni fajl po캜ne, sve adrese funkcija se re코avaju i u캜itavaju u GOT, zatim, GOT se ozna캜ava kao samo za 캜itanje, efikasno spre캜avaju캖i bilo kakve modifikacije tokom izvr코avanja.

Me캠utim, trgovina sa Full RELRO je u pogledu performansi i vremena pokretanja. Zato 코to mora da re코i sve dinami캜ke simbole pri pokretanju pre ozna캜avanja GOT kao samo za 캜itanje, **binarni fajlovi sa omogu캖enim Full RELRO-om mogu imati du쬬 vremena u캜itavanja**. Ovaj dodatni po캜etni tro코ak je razlog za코to Full RELRO nije podrazumevano omogu캖en u svim binarnim fajlovima.

Mogu캖e je proveriti da li je Full RELRO **omogu캖en** u binarnom fajlu sa:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Ako je omogu캖en puni RELRO, jedini na캜in da ga zaobi캠ete je prona캖i drugi na캜in koji ne zahteva pisanje u GOT tabelu kako biste dobili proizvoljno izvr코enje.

Imajte na umu da je **GOT biblioteke obi캜no delimi캜no RELRO**, pa je mogu캖e izmeniti je pomo캖u proizvoljnog upisa. Vi코e informacija u [Ciljanje unosa libc GOT](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)**.**
