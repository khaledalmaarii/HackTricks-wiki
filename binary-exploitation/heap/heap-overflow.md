# å †æº¢å‡º

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ä»¬ ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## åŸºæœ¬ä¿¡æ¯

å †æº¢å‡ºç±»ä¼¼äº[**æ ˆæº¢å‡º**](../stack-overflow/)ï¼Œä½†å‘ç”Ÿåœ¨å †ä¸­ã€‚åŸºæœ¬ä¸Šæ„å‘³ç€åœ¨å †ä¸­ä¿ç•™äº†ä¸€äº›ç©ºé—´æ¥å­˜å‚¨ä¸€äº›æ•°æ®ï¼Œ**å­˜å‚¨çš„æ•°æ®å¤§äºä¿ç•™çš„ç©ºé—´**ã€‚

åœ¨æ ˆæº¢å‡ºä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€äº›å¯„å­˜å™¨ï¼Œå¦‚æŒ‡ä»¤æŒ‡é’ˆæˆ–å †æ ˆå¸§ï¼Œå°†ä»å †æ ˆä¸­æ¢å¤ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæ»¥ç”¨è¿™ä¸€ç‚¹ã€‚åœ¨å †æº¢å‡ºçš„æƒ…å†µä¸‹ï¼Œ**å †å—ä¸­é»˜è®¤æ²¡æœ‰å­˜å‚¨ä»»ä½•æ•æ„Ÿä¿¡æ¯**ï¼Œå¯ä»¥è¢«æº¢å‡ºã€‚ä½†æ˜¯ï¼Œå¯èƒ½ä¼šæœ‰æ•æ„Ÿä¿¡æ¯æˆ–æŒ‡é’ˆï¼Œå› æ­¤æ­¤æ¼æ´çš„**ä¸¥é‡æ€§å–å†³äº**å¯ä»¥è¢«è¦†ç›–çš„**æ•°æ®ä»¥åŠæ”»å‡»è€…å¦‚ä½•æ»¥ç”¨æ­¤æ¼æ´**ã€‚

{% hint style="success" %}
ä¸ºäº†æ‰¾åˆ°æº¢å‡ºåç§»é‡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸[**æ ˆæº¢å‡º**](../stack-overflow/#finding-stack-overflows-offsets)ç›¸åŒçš„æ¨¡å¼ã€‚
{% endhint %}

### æ ˆæº¢å‡º vs å †æº¢å‡º

åœ¨æ ˆæº¢å‡ºä¸­ï¼Œå½“æ¼æ´è§¦å‘æ—¶ï¼Œå †æ ˆä¸­å°†å‡ºç°çš„æ’åˆ—å’Œæ•°æ®ç›¸å½“å¯é ã€‚è¿™æ˜¯å› ä¸ºå †æ ˆæ˜¯çº¿æ€§çš„ï¼Œåœ¨å†²çªå†…å­˜ä¸­å§‹ç»ˆå¢åŠ ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„ç‰¹å®šä½ç½®ï¼Œå †æ ˆå†…å­˜é€šå¸¸å­˜å‚¨ç±»ä¼¼ç±»å‹çš„æ•°æ®ï¼Œå¹¶ä¸”å…·æœ‰ä¸€äº›ç‰¹å®šç»“æ„ï¼Œæ¯ä¸ªå‡½æ•°ä½¿ç”¨çš„å †æ ˆéƒ¨åˆ†æœ«å°¾æœ‰ä¸€äº›æŒ‡é’ˆã€‚

ç„¶è€Œï¼Œåœ¨å †æº¢å‡ºçš„æƒ…å†µä¸‹ï¼Œç”±äºä½¿ç”¨çš„å†…å­˜ä¸æ˜¯çº¿æ€§çš„ï¼Œè€Œæ˜¯é€šå¸¸åœ¨å†…å­˜çš„åˆ†ç¦»ä½ç½®åˆ†é…çš„å—ï¼ˆä¸æ˜¯ç›¸é‚»çš„ï¼‰ï¼Œè¿™æ˜¯å› ä¸º**é€šè¿‡å¤§å°åˆ†éš”åˆ†é…çš„binså’Œzones**ï¼Œä»¥åŠ**åœ¨åˆ†é…æ–°å—ä¹‹å‰ä½¿ç”¨å…ˆå‰é‡Šæ”¾çš„å†…å­˜**ã€‚å¾ˆéš¾çŸ¥é“å°†ä¸æ˜“å—å †æº¢å‡ºçš„å¯¹è±¡å‘ç”Ÿå†²çªçš„å¯¹è±¡æ˜¯ä»€ä¹ˆã€‚å› æ­¤ï¼Œå½“å‘ç°å †æº¢å‡ºæ—¶ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ç§**å¯é çš„æ–¹æ³•**ï¼Œä½¿æœŸæœ›çš„å¯¹è±¡ä»æ˜“å—æº¢å‡ºçš„å¯¹è±¡çš„æ—è¾¹å¼€å§‹ã€‚

ç”¨äºæ­¤ç›®çš„çš„æŠ€æœ¯ä¹‹ä¸€æ˜¯**å †æ•´ç†**ï¼Œä¾‹å¦‚åœ¨[**æ­¤æ–‡ç« **](https://azeria-labs.com/grooming-the-ios-kernel-heap/)ä¸­ä½¿ç”¨ã€‚æ–‡ç« ä¸­è§£é‡Šäº†åœ¨iOSå†…æ ¸ä¸­ï¼Œå½“ä¸€ä¸ªåŒºåŸŸçš„å†…å­˜ç”¨å®Œä»¥å­˜å‚¨å†…å­˜å—æ—¶ï¼Œå®ƒä¼šé€šè¿‡ä¸€ä¸ªå†…æ ¸é¡µæ‰©å±•ï¼Œç„¶åå°†è¯¥é¡µåˆ†å‰²ä¸ºé¢„æœŸå¤§å°çš„å—ï¼Œè¿™äº›å—å°†æŒ‰é¡ºåºä½¿ç”¨ï¼ˆç›´åˆ°iOSç‰ˆæœ¬9.2ï¼Œç„¶åè¿™äº›å—ä»¥éšæœºæ–¹å¼ä½¿ç”¨ï¼Œä»¥å¢åŠ è¿™äº›æ”»å‡»çš„åˆ©ç”¨éš¾åº¦ï¼‰ã€‚

å› æ­¤ï¼Œåœ¨å…ˆå‰çš„æ–‡ç« ä¸­ï¼Œå‘ç”Ÿå †æº¢å‡ºæ—¶ï¼Œä¸ºäº†å¼ºåˆ¶æº¢å‡ºçš„å¯¹è±¡ä¸å—å®³è€…é¡ºåºå‘ç”Ÿå†²çªï¼Œé€šè¿‡å‡ ä¸ªçº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œå‡ ä¸ª**`kallocs`**ï¼Œä»¥ç¡®ä¿æ‰€æœ‰ç©ºé—²å—éƒ½è¢«å¡«å……ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢ã€‚

ä¸ºäº†å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šå¤§å°çš„å¯¹è±¡å¡«å……æ­¤å¯¹è±¡ï¼Œä¸iOS machç«¯å£ç›¸å…³è”çš„**ç¦»çº¿åˆ†é…**æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©ã€‚é€šè¿‡ç²¾å¿ƒåˆ¶ä½œæ¶ˆæ¯çš„å¤§å°ï¼Œå¯ä»¥ç²¾ç¡®æŒ‡å®š`kalloc`åˆ†é…çš„å¤§å°ï¼Œå½“ç›¸åº”çš„machç«¯å£è¢«é”€æ¯æ—¶ï¼Œç›¸åº”çš„åˆ†é…å°†ç«‹å³é‡Šæ”¾å›`kfree`ã€‚

ç„¶åï¼Œå¯ä»¥**é‡Šæ”¾**å…¶ä¸­ä¸€äº›å ä½ç¬¦ã€‚**`kalloc.4096`ç©ºé—²åˆ—è¡¨ä»¥åè¿›å…ˆå‡ºçš„é¡ºåºé‡Šæ”¾å…ƒç´ **ï¼Œè¿™åŸºæœ¬ä¸Šæ„å‘³ç€å¦‚æœé‡Šæ”¾äº†ä¸€äº›å ä½ç¬¦ï¼Œå¹¶ä¸”å°è¯•åœ¨åˆ†é…æ˜“å—æº¢å‡ºçš„å¯¹è±¡æ—¶åˆ†é…å¤šä¸ªå—å®³è€…å¯¹è±¡ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½è¯¥å¯¹è±¡å°†è¢«ä¸€ä¸ªå—å®³è€…å¯¹è±¡è·Ÿéšã€‚

## ARM64ç¤ºä¾‹

åœ¨é¡µé¢[https://8ksec.io/arm64-reversing-and-exploitation-part-1-arm-instruction-set-simple-heap-overflow/](https://8ksec.io/arm64-reversing-and-exploitation-part-1-arm-instruction-set-simple-heap-overflow/)ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå †æº¢å‡ºç¤ºä¾‹ï¼Œå…¶ä¸­å°†è¦æ‰§è¡Œçš„å‘½ä»¤å­˜å‚¨åœ¨æº¢å‡ºå—çš„ä¸‹ä¸€ä¸ªå—ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡ç”¨æ˜“å—æ”»å‡»çš„å—è¦†ç›–å®ƒæ¥ä¿®æ”¹è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š
```bash
python3 -c 'print("/"*0x400+"/bin/ls\x00")' > hax.txt
```
<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

å…¶ä»–æ”¯æŒHackTricksçš„æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
