# Dom Lore

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) albo **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>

## Podstawowe informacje

### Kod

* To nie dziaÅ‚a
* SprawdÅº ten z [https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_lore/](https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_lore/)
* Lub: [https://github.com/shellphish/how2heap/blob/master/glibc\_2.39/house\_of\_lore.c](https://github.com/shellphish/how2heap/blob/master/glibc\_2.39/house\_of\_lore.c)

### Cel

* Wstaw faÅ‚szywe maÅ‚e bloki do maÅ‚ego kubeÅ‚ka, aby moÅ¼na je byÅ‚o przydzieliÄ‡.

### Wymagania

* Stworzenie faÅ‚szywych blokÃ³w
* ZnajomoÅ›Ä‡ adresu bloku ofiary i faÅ‚szywych blokÃ³w
* MoÅ¼liwoÅ›Ä‡ modyfikacji wskaÅºnikÃ³w `bk` i `fd`

### Atak

* Przydzielony zostaje maÅ‚y blok ofiary
* AtakujÄ…cy generuje kilka faÅ‚szywych maÅ‚ych blokÃ³w, ustawia pierwszy faÅ‚szywy blok tak, aby wskaÅºnik `fd` wskazywaÅ‚ na prawdziwy blok, a `bk` wskazywaÅ‚ na drugi faÅ‚szywy blok. NastÄ™pnie ustawia wskaÅºnik `bk` drugiego faÅ‚szywego bloku na pierwszy.
* NastÄ™pnie przydzielany jest nowy duÅ¼y blok, aby zapobiec scaleniu pierwszego z blokiem gÃ³rnym podczas zwalniania
* NastÄ™pnie zwalniany jest poczÄ…tkowy wskaÅºnik, a przydzielany jest drugi wskaÅºnik wiÄ™kszego rozmiaru, aby zwolniony poczÄ…tkowy maÅ‚y blok zostaÅ‚ umieszczony w maÅ‚ym kubeÅ‚ku.
* Prawdziwy maÅ‚y blok jest modyfikowany, aby jego wskaÅºnik `bk` wskazywaÅ‚ na faÅ‚szywy blok.
* NastÄ™pnie, gdy przydzielane sÄ… 2 bloki tego samego rozmiaru, najpierw otrzymujÄ… prawidÅ‚owy blok, a nastÄ™pnie jakiÅ› nieprawidÅ‚owy blok kontrolowany w jakiÅ› sposÃ³b przez atakujÄ…cego.

## OdnoÅ›niki

* [https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_lore/](https://ctf-wiki.mahaloz.re/pwn/linux/glibc-heap/house\_of\_lore/)
* [https://heap-exploitation.dhavalkapil.com/attacks/house\_of\_lore](https://heap-exploitation.dhavalkapil.com/attacks/house\_of\_lore)

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) albo **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>
