# Use After Free

<details>

<summary><strong>제로부터 영웅이 될 때까지 AWS 해킹을 배우세요</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team 전문가)</strong></a><strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사가 HackTricks에 광고되길 원하거나** **PDF 형식의 HackTricks를 다운로드**하려면 [**구독 요금제**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 굿즈**](https://peass.creator-spring.com)를 구매하세요
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요, 당사의 독점 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f)에 가입하거나 [**텔레그램 그룹**](https://t.me/peass)에 가입하거나 **트위터** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를 팔로우**하세요.
* **해킹 요령을 공유하려면 PR을 제출하여** [**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소를 확인하세요.

</details>

## 기본 정보

이 취약점은 프로그램이 객체를 위해 힙에 일부 공간을 저장하고, 거기에 일부 정보를 쓰고, 더 이상 필요하지 않다고 판단하여 그것을 해제한 다음 다시 액세스할 때 발생합니다.

여기서 문제는 **해제된 메모리에 액세스**할 때 **오류가 발생하지 않는다는 것**입니다. 따라서 프로그램(또는 공격자)이 **해제된 메모리를 할당하고 임의의 데이터를 저장**할 수 있다면, 해제된 메모리가 초기 포인터에서 액세스될 때 해당 데이터가 덮어쓰여 **원래 저장된 데이터의 민감성에 따라 취약점이 발생**할 수 있습니다(호출될 함수의 포인터였다면, 공격자가 제어할 수 있을 것입니다).

### First Fit 공격

First Fit 공격은 glibc와 같은 일부 메모리 할당기가 해제된 메모리를 관리하는 방식을 대상으로 합니다. 메모리 블록을 해제하면 해당 블록이 목록에 추가되고, 새로운 메모리 요청은 해당 목록의 끝에서 가져옵니다. 공격자는 이 동작을 사용하여 **재사용되는 메모리 블록을 조작**할 수 있습니다. 이는 메모리의 내용을 변경하여 보안 위험을 초래할 수 있는 "use-after-free" 문제로 이어질 수 있습니다.\
자세한 정보는 다음을 확인하세요:

{% content-ref url="first-fit.md" %}
[first-fit.md](first-fit.md)
{% endcontent-ref %}

<details>

<summary><strong>제로부터 영웅이 될 때까지 AWS 해킹을 배우세요</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team 전문가)</strong></a><strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사가 HackTricks에 광고되길 원하거나** **PDF 형식의 HackTricks를 다운로드**하려면 [**구독 요금제**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 굿즈**](https://peass.creator-spring.com)를 구매하세요
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요, 당사의 독점 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f)에 가입하거나 [**텔레그램 그룹**](https://t.me/peass)에 가입하거나 **트위터** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를 팔로우**하세요.
* **해킹 요령을 공유하려면 PR을 제출하여** [**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소를 확인하세요.

</details>
