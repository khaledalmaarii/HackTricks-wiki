# Neinicijalizovane promenljive

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 游눫 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Osnovne informacije

Osnovna ideja ovde je razumeti 코ta se de코ava sa **neinicijalizovanim promenljivama jer 캖e imati vrednost koja je ve캖 bila u dodeljenoj memoriji za njih.** Primer:

* **Funkcija 1: `initializeVariable`**: Deklarisali smo promenljivu `x` i dodelili joj vrednost, recimo `0x1234`. Ova akcija je sli캜na rezervisanju mesta u memoriji i stavljanju specifi캜ne vrednosti u nju.
* **Funkcija 2: `useUninitializedVariable`**: Ovde, deklarisali smo jo코 jednu promenljivu `y`, ali joj nismo dodelili nikakvu vrednost. U C-u, neinicijalizovane promenljive se automatski ne postavljaju na nulu. Umesto toga, zadr쬬vaju bilo koju vrednost koja je poslednja sa캜uvana na njihovoj memorijskoj lokaciji.

Kada pokrenemo ove dve funkcije **uzastopno**:

1. U `initializeVariable`, `x` dobija vrednost (`0x1234`), koja zauzima specifi캜nu adresu u memoriji.
2. U `useUninitializedVariable`, `y` je deklarisana, ali joj nije dodeljena vrednost, pa zauzima memorijsko mesto odmah nakon `x`. Zbog neinicijalizovanja `y`, ona na kraju "nasle캠uje" vrednost iz iste memorijske lokacije koju koristi `x`, jer je to poslednja vrednost koja je bila tamo.

Ovo pona코anje ilustruje klju캜ni koncept u niskonivou programiranju: **Upravljanje memorijom je klju캜no**, a neinicijalizovane promenljive mogu dovesti do nepredvidivog pona코anja ili sigurnosnih ranjivosti, jer mogu nenamerno sadr쬬ti osetljive podatke ostavljene u memoriji.

Neinicijalizovane promenljive na steku mogu predstavljati nekoliko sigurnosnih rizika kao 코to su:

* **Curjenje podataka**: Osetljive informacije kao 코to su lozinke, klju캜evi za enkripciju ili li캜ni podaci mogu biti izlo쬰ni ako su sa캜uvani u neinicijalizovanim promenljivama, omogu캖avaju캖i napada캜ima da potencijalno pro캜itaju ove podatke.
* **Otkrivanje informacija**: Sadr쬬j neinicijalizovanih promenljivih mo쬰 otkriti detalje o rasporedu memorije programa ili unutra코njim operacijama, poma쬿캖i napada캜ima u razvoju ciljanih eksploatacija.
* **Ru코enja i nestabilnost**: Operacije koje uklju캜uju neinicijalizovane promenljive mogu rezultirati neodre캠enim pona코anjem, 코to dovodi do ru코enja programa ili nepredvidivih ishoda.
* **Izvr코avanje proizvoljnog koda**: U odre캠enim scenarijima, napada캜i bi mogli iskoristiti ove ranjivosti da promene tok izvr코avanja programa, omogu캖avaju캖i im da izvr코e proizvoljan kod, 코to mo쬰 uklju캜ivati pretnje od daljinskog izvr코avanja koda.

### Primer
```c
#include <stdio.h>

// Function to initialize and print a variable
void initializeAndPrint() {
int initializedVar = 100; // Initialize the variable
printf("Initialized Variable:\n");
printf("Address: %p, Value: %d\n\n", (void*)&initializedVar, initializedVar);
}

// Function to demonstrate the behavior of an uninitialized variable
void demonstrateUninitializedVar() {
int uninitializedVar; // Declare but do not initialize
printf("Uninitialized Variable:\n");
printf("Address: %p, Value: %d\n\n", (void*)&uninitializedVar, uninitializedVar);
}

int main() {
printf("Demonstrating Initialized vs. Uninitialized Variables in C\n\n");

// First, call the function that initializes its variable
initializeAndPrint();

// Then, call the function that has an uninitialized variable
demonstrateUninitializedVar();

return 0;
}
```
#### Kako ovo funkcioni코e:

* **`initializeAndPrint` funkcija**: Ova funkcija deklari코e celobrojnu promenljivu `initializedVar`, dodeljuje joj vrednost `100`, a zatim ispisuje i adresu u memoriji i vrednost promenljive. Ovaj korak je jednostavan i pokazuje kako se pona코a inicijalizovana promenljiva.
* **`demonstrateUninitializedVar` funkcija**: U ovoj funkciji, deklari코emo celobrojnu promenljivu `uninitializedVar` bez inicijalizacije. Kada poku코amo da ispi코emo njenu vrednost, izlaz mo쬰 prikazati nasumi캜an broj. Ovaj broj predstavlja bilo koje podatke koji su prethodno bili na toj adresi u memoriji. U zavisnosti od okru쬰nja i kompajlera, stvarni izlaz mo쬰 varirati, a ponekad, iz bezbednosnih razloga, neki kompajleri mogu automatski inicijalizovati promenljive na nulu, iako se na to ne treba oslanjati.
* **`main` funkcija**: `main` funkcija poziva obe gornje funkcije redom, demonstriraju캖i razliku izme캠u inicijalizovane i neinicijalizovane promenljive.

## ARM64 Primer

Ovo se uop코te ne menja u ARM64 jer se lokalne promenljive tako캠e upravljaju na steku, mo쬰te [**proveriti ovaj primer**](https://8ksec.io/arm64-reversing-and-exploitation-part-6-exploiting-an-uninitialized-stack-variable-vulnerability/) gde je ovo prikazano.

{% hint style="success" %}
U캜ite i ve쬭ajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
U캜ite i ve쬭ajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr쬴te HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
