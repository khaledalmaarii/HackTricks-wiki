# рдмрд╛рдЗрдирд░реА рдХреЛрдб (exe, elf) рдХреЛ рдбрд┐рдХрдВрдкрд╛рдЗрд▓ рдХрд░реЗрдВ - .pyc рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХреНрд▓рд╛рдЙрдб тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж рдЯреНрд╡рд┐рдЯрд░ ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П рдЯреНрд╡рд┐рдЪ ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе рдпреВрдЯреНрдпреВрдм ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк рдХрд┐рд╕реА **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family)
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛред**

</details>

<img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" data-size="original">

рдпрджрд┐ рдЖрдк **рд╣реИрдХрд┐рдВрдЧ рдХрд░рд┐рдпрд░** рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЕрд╣реИрдХреЗрдмрд▓ рдХреЛ рд╣реИрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - рд╣рдо рдирд┐рдпреБрдХреНрддрд┐ рдХрд░ рд░рд╣реЗ рд╣реИрдВ! (_рдЕрдЪреНрдЫреА рдкреЛрд▓рд┐рд╢ рд▓рд┐рдЦрд┐рдд рдФрд░ рдмреЛрд▓реА рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП_).

{% embed url="https://www.stmcyber.com/careers" %}

## рдХрдВрдкрд╛рдЗрд▓реНрдб рдмрд╛рдЗрдирд░реА рд╕реЗ .pyc рддрдХ

**ELF** рдХрдВрдкрд╛рдЗрд▓реНрдб рдмрд╛рдЗрдирд░реА рд╕реЗ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ рд╕рд╛рде **.pyc рдкреНрд░рд╛рдкреНрдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
pyi-archive_viewer <binary>
# The list of python modules will be given here:
[(0, 230, 311, 1, 'm', 'struct'),
(230, 1061, 1792, 1, 'm', 'pyimod01_os_path'),
(1291, 4071, 8907, 1, 'm', 'pyimod02_archive'),
(5362, 5609, 13152, 1, 'm', 'pyimod03_importers'),
(10971, 1473, 3468, 1, 'm', 'pyimod04_ctypes'),
(12444, 816, 1372, 1, 's', 'pyiboot01_bootstrap'),
(13260, 696, 1053, 1, 's', 'pyi_rth_pkgutil'),
(13956, 1134, 2075, 1, 's', 'pyi_rth_multiprocessing'),
(15090, 445, 672, 1, 's', 'pyi_rth_inspect'),
(15535, 2514, 4421, 1, 's', 'binary_name'),
...

? X binary_name
to filename? /tmp/binary.pyc
```
рдПрдХ **рдкрд╛рдпрдерди рдПрдХреНрд╕реА рдмрд╛рдЗрдирд░реА** рдХреЛ рдХрдВрдкрд╛рдЗрд▓ рдХрд░рдХреЗ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдХрд░ **.pyc рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
python pyinstxtractor.py executable.exe
```
## .pyc рд╕реЗ рдкрд╛рдпрдерди рдХреЛрдб рддрдХ

**.pyc** рдбреЗрдЯрд╛ ("рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛" рдкрд╛рдпрдерди) рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП **рдореВрд▓** **рдкрд╛рдпрдерди** **рдХреЛрдб** рдХреЛ **рдирд┐рдХрд╛рд▓рдиреЗ** рдХрд╛:
```bash
uncompyle6 binary.pyc  > decompiled.py
```
**рдзреНрдпрд╛рди рджреЗрдВ** рдХрд┐ рдмрд╛рдЗрдирд░реА рдХрд╛ **рдПрдХреНрд╕рдЯреЗрдВрд╢рди** "**.pyc**" рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдпрджрд┐ рдирд╣реАрдВ рд╣реИ, рддреЛ uncompyle6 рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛)

**uncompyle6** рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╕рдордп рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд **рддреНрд░реБрдЯрд┐рдпрд╛рдБ** рдорд┐рд▓ рд╕рдХрддреА рд╣реИрдВ:

### рддреНрд░реБрдЯрд┐: рдЕрдЬреНрдЮрд╛рдд рдореИрдЬрд┐рдХ рдирдВрдмрд░ 227
```bash
/kali/.local/bin/uncompyle6 /tmp/binary.pyc
Unknown magic number 227 in /tmp/binary.pyc
```
рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЙрддреНрдкрдиреНрди рдлрд╝рд╛рдЗрд▓ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ **рд╕рд╣реА рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдЬреЛрдбрд╝рдирд╛** рд╣реЛрдЧрд╛ред

**рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдкрд╛рдпрдерди рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдмрджрд▓рддреЗ рд╣реИрдВ**, рдкрд╛рдпрдерди 3.8 рдХреЗ **рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП** рдЖрдкрдХреЛ **рдкрд╛рдпрдерди 3.8** рдЯрд░реНрдорд┐рдирд▓ рдЦреЛрд▓рдХрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛:
```
>> import imp
>> imp.get_magic().hex()
'550d0d0a'
```
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдкрд╛рдпрдерди 3.8 рдХреЗ рд▓рд┐рдП **рдореИрдЬрд┐рдХ рдирдВрдмрд░** **`0x550d0d0a`** рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕ рддреНрд░реБрдЯрд┐ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **.pyc рдлрд╝рд╛рдЗрд▓** рдХреА **рд╢реБрд░реБрдЖрдд** рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрд╛рдЗрдЯреНрд╕ рдХреЛ **рдЬреЛрдбрд╝рдиреЗ** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: `0x0d550a0d000000000000000000000000`

**рдПрдХ рдмрд╛рд░** рдЬрдм рдЖрдкрдиреЗ рд╡рд╣ рдореИрдЬрд┐рдХ рд╣реИрдбрд░ **рдЬреЛрдбрд╝ рджрд┐рдпрд╛** рд╣реЛрдЧрд╛, рддрдм рддреНрд░реБрдЯрд┐ рдареАрдХ рд╣реЛ рдЬрд╛рдПрдЧреАред

рдпрд╣рд╛рдВ рдПрдХ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ **.pyc рдкрд╛рдпрдерди 3.8 рдореИрдЬрд┐рдХ рд╣реИрдбрд░** рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИ:
```bash
hexdump 'binary.pyc' | head
0000000 0d55 0a0d 0000 0000 0000 0000 0000 0000
0000010 00e3 0000 0000 0000 0000 0000 0000 0000
0000020 0700 0000 4000 0000 7300 0132 0000 0064
0000030 0164 006c 005a 0064 0164 016c 015a 0064
```
### рддреНрд░реБрдЯрд┐: рд╕рд╛рдорд╛рдиреНрдп рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХрд╛ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд░рдирд╛

`class 'AssertionError'>; co_code should be one of the types (<class 'str'>, <class 'bytes'>, <class 'list'>, <class 'tuple'>); is type <class 'NoneType'>` рдЬреИрд╕реА **рдЕрдиреНрдп рддреНрд░реБрдЯрд┐рдпрд╛рдБ** рджрд┐рдЦ рд╕рдХрддреА рд╣реИрдВред

рдпрд╣ рд╢рд╛рдпрдж рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдиреЗ **рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдирд╣реАрдВ рдЬреЛрдбрд╝рд╛ рд╣реИ** рдпрд╛ рдЖрдкрдиреЗ **рд╕рд╣реА рдореИрдЬрд┐рдХ рдирдВрдмрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ**, рдЗрд╕рд▓рд┐рдП рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк рд╕рд╣реА рдирдВрдмрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ (рдпрд╛ рдПрдХ рдирдпрд╛ рдирдВрдмрд░ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ)ред

рдкрд┐рдЫрд▓реА рддреНрд░реБрдЯрд┐ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред

## рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЙрдкрдХрд░рдг

рдЙрдкрдХрд░рдг [https://github.com/countercept/python-exe-unpacker](https://github.com/countercept/python-exe-unpacker) рд╕рдореБрджрд╛рдп рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдХрдИ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╢реЛрдзрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкрд╛рдпрдерди рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП (py2exe рдФрд░ pyinstaller) рдХреЛ рдЕрдирдкреИрдХ рдФрд░ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред

рдкрд╛рдпрдерди рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рд╣реЛрдиреЗ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ YARA рдирд┐рдпрдо рдЙрдкрд▓рдмреНрдз рд╣реИрдВ (рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпрд╣ рднреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдПрдХреНрд╕реАрдХреНрдпреВрдЯреЗрдмрд▓ py2exe рдпрд╛ pyinstaller рдХреЗ рд╕рд╛рде рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред

### ImportError: рдлрд╝рд╛рдЗрд▓ рдирд╛рдо: 'unpacked/malware\_3.exe/**pycache**/archive.cpython-35.pyc' рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ

рд╡рд░реНрддрдорд╛рди рдореЗрдВ, unpy2exe рдпрд╛ pyinstxtractor рдХреЗ рд╕рд╛рде рд╣рдореЗрдВ рдкрд╛рдпрдерди рдмрд╛рдЗрдЯрдХреЛрдб рдлрд╝рд╛рдЗрд▓ рдкреВрд░реА рдирд╣реАрдВ рдорд┐рд▓ рд╕рдХрддреА рд╣реИ рдФрд░ рдлрд┐рд░, рдЗрд╕реЗ **рд╕рд╛рджрд╛ рдкрд╛рдпрдерди рд╕реНрд░реЛрдд рдХреЛрдб рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП uncompyle6 рджреНрд╡рд╛рд░рд╛ рдкрд╣рдЪрд╛рдирд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдПрдХ рдЕрдиреБрдкрд╕реНрдерд┐рдд рдкрд╛рдпрдерди **рдмрд╛рдЗрдЯрдХреЛрдб рд╕рдВрд╕реНрдХрд░рдг рдирдВрдмрд░** рд╣реИред рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдПрдХ рдкреНрд░реАрдкреЗрдВрдб рд╡рд┐рдХрд▓реНрдк рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рд╣реИ; рдЗрд╕рдореЗрдВ рдПрдХ рдкрд╛рдпрдерди рдмрд╛рдЗрдЯрдХреЛрдб рд╕рдВрд╕реНрдХрд░рдг рдирдВрдмрд░ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдбреАрдХрдВрдкрд╛рдЗрд▓рд┐рдВрдЧ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреАред рдЬрдм рд╣рдо .pyc рдлрд╝рд╛рдЗрд▓ рдХреЛ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП uncompyle6 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдПрдХ рддреНрд░реБрдЯрд┐ рд▓реМрдЯрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, **рдПрдХ рдмрд╛рд░ рд╣рдо рдкреНрд░реАрдкреЗрдВрдб рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкрд╛рдпрдерди рд╕реНрд░реЛрдд рдХреЛрдб рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдбреАрдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ**ред
```
test@test: uncompyle6 unpacked/malware_3.exe/archive.py
Traceback (most recent call last):
тАжтАжтАжтАжтАжтАжтАжтАжтАж.
ImportError: File name: 'unpacked/malware_3.exe/__pycache__/archive.cpython-35.pyc' doesn't exist
```

```
test@test:python python_exe_unpack.py -p unpacked/malware_3.exe/archive
[*] On Python 2.7
[+] Magic bytes are already appended.

# Successfully decompiled file
[+] Successfully decompiled.
```
## рдЕрд╕реЗрдВрдмрд▓реА рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рдпрджрд┐ рдЖрдк рдкрд┐рдЫрд▓реЗ рдХрджрдореЛрдВ рдХреЗ рдмрд╛рдж рдкрд╛рдпрдерди "рдореВрд▓" рдХреЛрдб рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рдереЗ, рддреЛ рдЖрдк рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЕрд╕реЗрдВрдмрд▓реА рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ (рд▓реЗрдХрд┐рди рдпрд╣ рдмрд╣реБрдд рд╡рд░реНрдгрдирд╛рддреНрдордХ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреБрдирдГ рдореВрд▓ рдХреЛрдб рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ)ред [рдпрд╣рд╛рдВ](https://bits.theorem.co/protecting-a-python-codebase/) рдореИрдВрдиреЗ рдПрдХ рдмрд╣реБрдд рд╕рд░рд▓ рдХреЛрдб рдЦреЛрдЬрд╛ рд╣реИ рдЬреЛ _.pyc_ рдмрд╛рдЗрдирд░реА рдХреЛ **рдЕрд╕реЗрдВрдмрд▓** рдХрд░рддрд╛ рд╣реИ (рдХреЛрдб рдлреНрд▓реЛ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рд╢реБрднрдХрд╛рдордирд╛рдПрдВ)ред рдпрджрд┐ _.pyc_ рдкрд╛рдпрдерди2 рд╕реЗ рд╣реИ, рддреЛ рдкрд╛рдпрдерди2 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```bash
>>> import dis
>>> import marshal
>>> import struct
>>> import imp
>>>
>>> with open('hello.pyc', 'r') as f:  # Read the binary file
...     magic = f.read(4)
...     timestamp = f.read(4)
...     code = f.read()
...
>>>
>>> # Unpack the structured content and un-marshal the code
>>> magic = struct.unpack('<H', magic[:2])
>>> timestamp = struct.unpack('<I', timestamp)
>>> code = marshal.loads(code)
>>> magic, timestamp, code
((62211,), (1425911959,), <code object <module> at 0x7fd54f90d5b0, file "hello.py", line 1>)
>>>
>>> # Verify if the magic number corresponds with the current python version
>>> struct.unpack('<H', imp.get_magic()[:2]) == magic
True
>>>
>>> # Disassemble the code object
>>> dis.disassemble(code)
1           0 LOAD_CONST               0 (<code object hello_world at 0x7f31b7240eb0, file "hello.py", line 1>)
3 MAKE_FUNCTION            0
6 STORE_NAME               0 (hello_world)
9 LOAD_CONST               1 (None)
12 RETURN_VALUE
>>>
>>> # Also disassemble that const being loaded (our function)
>>> dis.disassemble(code.co_consts[0])
2           0 LOAD_CONST               1 ('Hello  {0}')
3 LOAD_ATTR                0 (format)
6 LOAD_FAST                0 (name)
9 CALL_FUNCTION            1
12 PRINT_ITEM
13 PRINT_NEWLINE
14 LOAD_CONST               0 (None)
17 RETURN_VALUE
```
## Python рд╕реЗ Executable рдореЗрдВ рдмрджрд▓рдирд╛

рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЖрдкрдХреЛ рджрд┐рдЦрд╛рдПрдВрдЧреЗ рдХрд┐ payloads рдХреЛ py2exe рдФрд░ PyInstaller рдореЗрдВ рдХреИрд╕реЗ compile рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### py2exe рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ payload рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП:

1. [http://www.py2exe.org/](http://www.py2exe.org) рд╕реЗ py2exe package рдХреЛ install рдХрд░реЗрдВред
2. Payload рдХреЗ рд▓рд┐рдП (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЗрд╕реЗ hello.py рдирд╛рдо рджреЗрдВрдЧреЗ), рдПрдХ script рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреИрд╕рд╛ рдХрд┐ рдЪрд┐рддреНрд░ 1 рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред "bundle\_files" рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдорд╛рди 1 рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ, рдЗрдВрдЯрд░рдкреНрд░реЗрдЯрд░ рд╕рд╣рд┐рдд, рдПрдХ exe рдореЗрдВ bundle рд╣реЛ рдЬрд╛рдПрдЧрд╛ред
3. рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ "python setup.py py2exe" рдХрдорд╛рдВрдб рдЬрд╛рд░реА рдХрд░рдиреА рд╣реЛрдЧреАред рдпрд╣ executable рдмрдирд╛рдПрдЧрд╛, рдЬреИрд╕рд╛ рдХрд┐ рдЪрд┐рддреНрд░ 2 рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред
```
from distutils.core import setup
import py2exe, sys, os

sys.argv.append('py2exe')

setup(
options = {'py2exe': {'bundle_files': 1}},
#windows = [{'script': "hello.py"}],
console = [{'script': "hello.py"}],
zipfile = None,
)
```

```
C:\Users\test\Desktop\test>python setup.py py2exe
running py2exe
*** searching for required modules ***
*** parsing results ***
*** finding dlls needed ***
*** create binaries ***
*** byte compile python files ***
*** copy extensions ***
*** copy dlls ***
copying C:\Python27\lib\site-packages\py2exe\run.exe -> C:\Users\test\Desktop\test\dist\hello.exe
Adding python27.dll as resource to C:\Users\test\Desktop\test\dist\hello.exe
```
### PyInstaller рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдкреЗрд▓реЛрдб рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП:

1. рдкрд╛рдЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ PyInstaller рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ (pip install pyinstaller).
2. рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдЖрджреЗрд╢ рджреЗрдирд╛ рд╣реЛрдЧрд╛ "pyinstaller тАУonefile hello.py" (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ 'hello.py' рд╣рдорд╛рд░рд╛ рдкреЗрд▓реЛрдб рд╣реИ)ред рдЗрд╕рд╕реЗ рд╕рдм рдХреБрдЫ рдПрдХ рдПрдХреНрд╕реАрдХреНрдпреВрдЯреЗрдмрд▓ рдореЗрдВ рдмрдВрдбрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред
```
C:\Users\test\Desktop\test>pyinstaller --onefile hello.py
108 INFO: PyInstaller: 3.3.1
108 INFO: Python: 2.7.14
108 INFO: Platform: Windows-10-10.0.16299
тАжтАжтАжтАжтАжтАжтАжтАжтАжтАжтАжтАж
5967 INFO: checking EXE
5967 INFO: Building EXE because out00-EXE.toc is non existent
5982 INFO: Building EXE from out00-EXE.toc
5982 INFO: Appending archive to EXE C:\Users\test\Desktop\test\dist\hello.exe
6325 INFO: Building EXE from out00-EXE.toc completed successfully.
```
## рд╕рдВрджрд░реНрдн

* [https://blog.f-secure.com/how-to-decompile-any-python-binary/](https://blog.f-secure.com/how-to-decompile-any-python-binary/)

<img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" data-size="original">

рдпрджрд┐ рдЖрдк **рд╣реИрдХрд┐рдВрдЧ рдХрд░рд┐рдпрд░** рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЕрд╣реИрдХреЗрдмрд▓ рдХреЛ рд╣реИрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - **рд╣рдо рднрд░реНрддреА рдХрд░ рд░рд╣реЗ рд╣реИрдВ!** (_рдЕрдЪреНрдЫреА рдкреЛрд▓рд┐рд╢ рд▓рд┐рдЦрдиреЗ рдФрд░ рдмреЛрд▓рдиреЗ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдЖрд╡рд╢реНрдпрдХ_).

{% embed url="https://www.stmcyber.com/careers" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>тШБя╕П HackTricks Cloud тШБя╕П</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ЁЯРж Twitter ЁЯРж</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ЁЯОЩя╕П Twitch ЁЯОЩя╕П</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ЁЯОе Youtube ЁЯОе</strong></a></summary>

* рдХреНрдпрд╛ рдЖрдк **рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрдВрдкрдиреА** рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? рдХреНрдпрд╛ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ**? рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛** рдЪрд╛рд╣рд┐рдП? [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* рдЦреЛрдЬреЗрдВ [**The PEASS Family**](https://opensea.io/collection/the-peass-family), рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** [**ЁЯТм**](https://emojipedia.org/speech-balloon/) [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ **рдлрд╝реЙрд▓реЛ** рдХрд░реЗрдВ [**ЁЯРж**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рд░реЗрдкреЛ** (https://github.com/carlospolop/hacktricks) **рдФрд░** [**hacktricks-cloud рд░реЗрдкреЛ**](https://github.com/carlospolop/hacktricks-cloud) **рдХреЛ PR рдЬрдорд╛ рдХрд░рдХреЗ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред**

</details>
