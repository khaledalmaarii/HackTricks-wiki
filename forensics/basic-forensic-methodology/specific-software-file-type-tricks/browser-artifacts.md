# æµè§ˆå™¨é—ç•™ç—•è¿¹

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

![](<../.gitbook/assets/image (9) (1) (2).png>)

\
ä½¿ç”¨[**Trickest**](https://trickest.io/)å¯ä»¥è½»æ¾æ„å»ºå’Œè‡ªåŠ¨åŒ–ç”±å…¨çƒ**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒçš„å·¥ä½œæµç¨‹ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## æµè§ˆå™¨é—ç•™ç—•è¿¹ <a href="#3def" id="3def"></a>

å½“æˆ‘ä»¬è°ˆè®ºæµè§ˆå™¨é—ç•™ç—•è¿¹æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯æµè§ˆå†å²ã€ä¹¦ç­¾ã€ä¸‹è½½æ–‡ä»¶åˆ—è¡¨ã€ç¼“å­˜æ•°æ®ç­‰ã€‚

è¿™äº›é—ç•™ç—•è¿¹æ˜¯å­˜å‚¨åœ¨æ“ä½œç³»ç»Ÿç‰¹å®šæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ã€‚

æ¯ä¸ªæµè§ˆå™¨å°†å…¶æ–‡ä»¶å­˜å‚¨åœ¨ä¸å…¶ä»–æµè§ˆå™¨ä¸åŒçš„ä½ç½®ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æœ‰ä¸åŒçš„åç§°ï¼Œä½†å®ƒä»¬ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼‰å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®ï¼ˆé—ç•™ç—•è¿¹ï¼‰ã€‚

è®©æˆ‘ä»¬æ¥çœ‹çœ‹æµè§ˆå™¨å­˜å‚¨çš„æœ€å¸¸è§çš„é—ç•™ç—•è¿¹ã€‚

* **æµè§ˆå†å²ï¼š** åŒ…å«ç”¨æˆ·çš„æµè§ˆå†å²æ•°æ®ã€‚å¯ä»¥ç”¨äºè¿½è¸ªç”¨æˆ·æ˜¯å¦è®¿é—®è¿‡æŸäº›æ¶æ„ç½‘ç«™ã€‚
* **è‡ªåŠ¨å®Œæˆæ•°æ®ï¼š** è¿™æ˜¯æµè§ˆå™¨æ ¹æ®æ‚¨æœ€å¸¸æœç´¢çš„å†…å®¹æä¾›çš„æ•°æ®ã€‚å¯ä»¥ä¸æµè§ˆå†å²ä¸€èµ·ä½¿ç”¨ï¼Œä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚
* **ä¹¦ç­¾ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **æ‰©å±•å’Œæ’ä»¶ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **ç¼“å­˜ï¼š** åœ¨æµè§ˆç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨ä¼šä¸ºè®¸å¤šåŸå› åˆ›å»ºå„ç§ç¼“å­˜æ•°æ®ï¼ˆå›¾åƒã€JavaScriptæ–‡ä»¶ç­‰ï¼‰ï¼Œä¾‹å¦‚åŠ å¿«ç½‘ç«™çš„åŠ è½½æ—¶é—´ã€‚è¿™äº›ç¼“å­˜æ–‡ä»¶åœ¨å–è¯è°ƒæŸ¥ä¸­å¯ä»¥æˆä¸ºé‡è¦çš„æ•°æ®æ¥æºã€‚
* **ç™»å½•ä¿¡æ¯ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **ç½‘ç«™å›¾æ ‡ï¼š** å®ƒä»¬æ˜¯åœ¨é€‰é¡¹å¡ã€URLã€ä¹¦ç­¾ç­‰å¤„æ‰¾åˆ°çš„å°å›¾æ ‡ã€‚å®ƒä»¬å¯ä»¥ç”¨ä½œè·å–æœ‰å…³ç½‘ç«™æˆ–ç”¨æˆ·è®¿é—®è¿‡çš„ä½ç½®çš„æ›´å¤šä¿¡æ¯çš„å¦ä¸€ä¸ªæ¥æºã€‚
* **æµè§ˆå™¨ä¼šè¯ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **ä¸‹è½½ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **è¡¨å•æ•°æ®ï¼š** æµè§ˆå™¨é€šå¸¸ä¼šå­˜å‚¨åœ¨è¡¨å•ä¸­è¾“å…¥çš„ä»»ä½•å†…å®¹ï¼Œä»¥ä¾¿ä¸‹æ¬¡ç”¨æˆ·åœ¨è¡¨å•ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œæµè§ˆå™¨å¯ä»¥æä¾›å…ˆå‰è¾“å…¥çš„æ•°æ®ã€‚
* **ç¼©ç•¥å›¾ï¼š** ä¸è¨€è‡ªæ˜ã€‚
* **è‡ªå®šä¹‰å­—å…¸.txtï¼š** ç”¨æˆ·æ·»åŠ åˆ°å­—å…¸ä¸­çš„å•è¯ã€‚

## Firefox

Firefoxåœ¨\~/_**.mozilla/firefox/**_ï¼ˆLinuxï¼‰ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶æ–‡ä»¶å¤¹ï¼Œåœ¨**/Users/$USER/Library/Application Support/Firefox/Profiles/**ï¼ˆMacOSï¼‰ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶æ–‡ä»¶å¤¹ï¼Œåœ¨_**%userprofile%\AppData\Roaming\Mozilla\Firefox\Profiles\\**_ï¼ˆWindowsï¼‰ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶æ–‡ä»¶å¤¹ã€‚\
åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­ï¼Œåº”è¯¥å‡ºç°åä¸º_**profiles.ini**_çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·é…ç½®æ–‡ä»¶çš„åç§°ã€‚\
æ¯ä¸ªé…ç½®æ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªåä¸ºâ€œ**Path**â€çš„å˜é‡ï¼Œå…¶ä¸­åŒ…å«å…¶æ•°æ®å°†å­˜å‚¨çš„æ–‡ä»¶å¤¹çš„åç§°ã€‚è¯¥æ–‡ä»¶å¤¹åº”è¯¥**å­˜åœ¨äºä¸\_profiles.ini**\_\*\*ç›¸åŒçš„ç›®å½•ä¸­\*\*ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å¯èƒ½å·²è¢«åˆ é™¤ã€‚

åœ¨æ¯ä¸ªé…ç½®æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼ˆ_\~/.mozilla/firefox/\<ProfileName>/_ï¼‰è·¯å¾„ä¸­ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿæ‰¾åˆ°ä»¥ä¸‹æœ‰è¶£çš„æ–‡ä»¶ï¼š

* _**places.sqlite**_ï¼šå†å²è®°å½•ï¼ˆmoz\_\_placesï¼‰ã€ä¹¦ç­¾ï¼ˆmoz\_bookmarksï¼‰å’Œä¸‹è½½æ–‡ä»¶ï¼ˆmoz\_\_annosï¼‰ã€‚åœ¨Windowsä¸­ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·[BrowsingHistoryView](https://www.nirsoft.net/utils/browsing\_history\_view.html)æ¥è¯»å–_**places.sqlite**_ä¸­çš„å†å²è®°å½•ã€‚
* è½¬å‚¨å†å²çš„æŸ¥è¯¢ï¼š`select datetime(lastvisitdate/1000000,'unixepoch') as visit_date, url, title, visit_count, visit_type FROM moz_places,moz_historyvisits WHERE moz_places.id = moz_historyvisits.place_id;`
* æ³¨æ„ï¼Œé“¾æ¥ç±»å‹æ˜¯ä¸€ä¸ªæŒ‡ç¤ºæ•°å­—ï¼Œè¡¨ç¤ºï¼š
* 1ï¼šç”¨æˆ·ç‚¹å‡»é“¾æ¥
* 2ï¼šç”¨æˆ·è¾“å…¥URL
* 3ï¼šç”¨æˆ·ä½¿ç”¨æ”¶è—å¤¹
* 4ï¼šä»IframeåŠ è½½
* 5ï¼šé€šè¿‡HTTPé‡å®šå‘301è®¿é—®
* 6ï¼šé€šè¿‡HTTPé‡å®šå‘302è®¿é—®
* 7ï¼šä¸‹è½½æ–‡ä»¶
* 8ï¼šç”¨æˆ·åœ¨Iframeä¸­ç‚¹å‡»é“¾æ¥
* è½¬å‚¨ä¸‹è½½çš„æŸ¥è¯¢ï¼š`SELECT datetime(lastModified/1000000,'unixepoch') AS down_date, content as File, url as URL FROM moz_places, moz_annos WHERE moz_places.id = moz_annos.place_id;`
*
* _**bookmarkbackups/**_ï¼šä¹¦ç­¾å¤‡ä»½
* _**formhistory.sqlite**_ï¼š**Webè¡¨å•æ•°æ®**ï¼ˆä¾‹å¦‚ç”µå­é‚®ä»¶ï¼‰
* _**handlers.json**_ï¼šåè®®å¤„ç†ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œå“ªä¸ªåº”ç”¨ç¨‹åºå°†å¤„ç†_mailto://_åè®®ï¼‰
* _**persdict.dat**_ï¼šç”¨æˆ·æ·»åŠ åˆ°å­—å…¸ä¸­çš„å•è¯
* _**addons.json**_å’Œ_**extensions.sqlite**_ï¼šå·²å®‰è£…çš„æ’ä»¶å’Œæ‰©å±•
* _**cookies.sqlite**_ï¼šåŒ…å«**cookies**ã€‚åœ¨Windowsä¸­ï¼Œå¯ä»¥ä½¿ç”¨[MZCookiesView](https://www.nirsoft.net/utils/mzcv.html)æ¥æ£€æŸ¥æ­¤æ–‡ä»¶ã€‚
* _**cache2/entries**_æˆ–_**startupCache**_ï¼šç¼“å­˜æ•°æ®ï¼ˆçº¦350MBï¼‰ã€‚è¿˜å¯ä»¥ä½¿ç”¨æ•°æ®åˆ»å½•ç­‰æŠ€å·§æ¥è·å–ç¼“å­˜ä¸­ä¿å­˜çš„æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨[MozillaCacheView](https://www.nirsoft.net/utils/mozilla\_cache\_viewer.html)æ¥æŸ¥çœ‹**ç¼“å­˜ä¸­ä¿å­˜çš„æ–‡ä»¶**ã€‚

å¯ä»¥è·å–çš„ä¿¡æ¯ï¼š

* URLã€è·å–æ¬¡æ•°ã€æ–‡ä»¶åã€å†…å®¹ç±»å‹ã€æ–‡ä»¶å¤§å°ã€ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ã€ä¸Šæ¬¡è·å–æ—¶é—´ã€æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´ã€æœåŠ¡å™¨å“åº”
* _**favicons.sqlite**_ï¼šç½‘ç«™å›¾æ ‡
* _**prefs.js**_ï¼šè®¾ç½®å’Œé¦–é€‰é¡¹
* _**downloads.sqlite**_ï¼šæ—§çš„ä¸‹è½½æ•°æ®åº“ï¼ˆç°åœ¨å·²ç»åœ¨places.sqliteä¸­ï¼‰
* _**thumbnails/**_ï¼šç¼©ç•¥å›¾
* _**logins.json**_ : åŠ å¯†çš„ç”¨æˆ·åå’Œå¯†ç 
* **æµè§ˆå™¨å†…ç½®çš„åé’“é±¼åŠŸèƒ½:** `grep 'browser.safebrowsing' ~/Library/Application Support/Firefox/Profiles/*/prefs.js`
* å¦‚æœå®‰å…¨æœç´¢è®¾ç½®å·²è¢«ç¦ç”¨ï¼Œåˆ™è¿”å›â€œsafebrowsing.malware.enabledâ€å’Œâ€œphishing.enabledâ€ä¸ºfalse
* _**key4.db**_ æˆ– _**key3.db**_ : ä¸»å¯†é’¥ï¼Ÿ

ä¸ºäº†å°è¯•è§£å¯†ä¸»å¯†ç ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[https://github.com/unode/firefox\_decrypt](https://github.com/unode/firefox\_decrypt)\
ä½¿ç”¨ä»¥ä¸‹è„šæœ¬å’Œè°ƒç”¨ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯†ç æ–‡ä»¶è¿›è¡Œæš´åŠ›ç ´è§£ï¼š

{% code title="brute.sh" %}
```bash
#!/bin/bash

#./brute.sh top-passwords.txt 2>/dev/null | grep -A2 -B2 "chrome:"
passfile=$1
while read pass; do
echo "Trying $pass"
echo "$pass" | python firefox_decrypt.py
done < $passfile
```
{% endcode %}

![](<../../../.gitbook/assets/image (417).png>)

## Google Chrome

Google Chromeåœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œè·¯å¾„ä¸º_**\~/.config/google-chrome/**_ï¼ˆLinuxï¼‰ï¼Œ_**C:\Users\XXX\AppData\Local\Google\Chrome\User Data\\**_ï¼ˆWindowsï¼‰ï¼Œæˆ–è€…_**/Users/$USER/Library/Application Support/Google/Chrome/**_ï¼ˆMacOSï¼‰ã€‚å¤§éƒ¨åˆ†ä¿¡æ¯ä¿å­˜åœ¨ä¹‹å‰æåˆ°çš„è·¯å¾„ä¸‹çš„_Default/_æˆ–è€…_ChromeDefaultData/_æ–‡ä»¶å¤¹ä¸­ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°ä»¥ä¸‹æœ‰è¶£çš„æ–‡ä»¶ï¼š

* _**History**_ï¼šURLã€ä¸‹è½½è®°å½•ç”šè‡³æœç´¢å…³é”®è¯ã€‚åœ¨Windowsä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨å·¥å…·[ChromeHistoryView](https://www.nirsoft.net/utils/chrome\_history\_view.html)æ¥æŸ¥çœ‹å†å²è®°å½•ã€‚"Transition Type"åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼š
* Linkï¼šç”¨æˆ·ç‚¹å‡»äº†é“¾æ¥
* Typedï¼šURLè¢«æ‰‹åŠ¨è¾“å…¥
* Auto Bookmark
* Auto Subframeï¼šæ·»åŠ 
* Start pageï¼šä¸»é¡µ
* Form Submitï¼šå¡«å†™å¹¶æäº¤è¡¨å•
* Reloaded
* _**Cookies**_ï¼šCookiesã€‚å¯ä»¥ä½¿ç”¨[ChromeCookiesView](https://www.nirsoft.net/utils/chrome\_cookies\_view.html)æ¥æŸ¥çœ‹Cookiesã€‚
* _**Cache**_ï¼šç¼“å­˜ã€‚åœ¨Windowsä¸­ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·[ChromeCacheView](https://www.nirsoft.net/utils/chrome\_cache\_view.html)æ¥æŸ¥çœ‹ç¼“å­˜ã€‚
* _**Bookmarks**_ï¼šä¹¦ç­¾
* _**Web Data**_ï¼šè¡¨å•å†å²
* _**Favicons**_ï¼šç½‘ç«™å›¾æ ‡
* _**Login Data**_ï¼šç™»å½•ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ç­‰ï¼‰
* _**Current Session**_å’Œ_**Current Tabs**_ï¼šå½“å‰ä¼šè¯æ•°æ®å’Œå½“å‰æ ‡ç­¾é¡µ
* _**Last Session**_å’Œ_**Last Tabs**_ï¼šè¿™äº›æ–‡ä»¶ä¿å­˜äº†åœ¨å…³é—­Chromeæ—¶æ´»åŠ¨çš„ç½‘ç«™ã€‚
* _**Extensions**_ï¼šæ‰©å±•å’Œæ’ä»¶æ–‡ä»¶å¤¹
* **Thumbnails**ï¼šç¼©ç•¥å›¾
* **Preferences**ï¼šè¯¥æ–‡ä»¶åŒ…å«äº†å¤§é‡æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¦‚æ’ä»¶ã€æ‰©å±•ã€ä½¿ç”¨åœ°ç†ä½ç½®çš„ç½‘ç«™ã€å¼¹å‡ºçª—å£ã€é€šçŸ¥ã€DNSé¢„å–ã€è¯ä¹¦å¼‚å¸¸ç­‰ã€‚å¦‚æœä½ æƒ³ç ”ç©¶æŸä¸ªç‰¹å®šçš„Chromeè®¾ç½®æ˜¯å¦å¯ç”¨ï¼Œä½ å¾ˆå¯èƒ½ä¼šåœ¨è¿™é‡Œæ‰¾åˆ°è¯¥è®¾ç½®ã€‚
* **æµè§ˆå™¨å†…ç½®çš„åé’“é±¼åŠŸèƒ½**ï¼š`grep 'safebrowsing' ~/Library/Application Support/Google/Chrome/Default/Preferences`
* ä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨grepæœç´¢â€œ**safebrowsing**â€ï¼Œå¹¶åœ¨ç»“æœä¸­æŸ¥æ‰¾`{"enabled: true,"}`æ¥åˆ¤æ–­åé’“é±¼å’Œæ¶æ„è½¯ä»¶ä¿æŠ¤æ˜¯å¦å¼€å¯ã€‚

## **SQLiteæ•°æ®åº“æ•°æ®æ¢å¤**

æ­£å¦‚å‰é¢çš„éƒ¨åˆ†æ‰€ç¤ºï¼ŒChromeå’ŒFirefoxéƒ½ä½¿ç”¨**SQLite**æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨å·¥å…·[**sqlparse**](https://github.com/padfoot999/sqlparse)æˆ–è€…[**sqlparse\_gui**](https://github.com/mdegrazia/SQLite-Deleted-Records-Parser/releases)æ¥**æ¢å¤å·²åˆ é™¤çš„æ¡ç›®**ã€‚

## **Internet Explorer 11**

Internet Explorerå°†**æ•°æ®**å’Œ**å…ƒæ•°æ®**å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ã€‚å…ƒæ•°æ®å¯ä»¥å¸®åŠ©æ‰¾åˆ°æ•°æ®ã€‚

å…ƒæ•°æ®å¯ä»¥åœ¨æ–‡ä»¶å¤¹`%userprofile%\Appdata\Local\Microsoft\Windows\WebCache\WebcacheVX.data`ä¸­æ‰¾åˆ°ï¼Œå…¶ä¸­VXå¯ä»¥æ˜¯V01ã€V16æˆ–V24ã€‚\
åœ¨ä¸Šè¿°æ–‡ä»¶å¤¹ä¸­ï¼Œè¿˜å¯ä»¥æ‰¾åˆ°æ–‡ä»¶V01.logã€‚å¦‚æœæ­¤æ–‡ä»¶çš„**ä¿®æ”¹æ—¶é—´**å’ŒWebcacheVX.dataæ–‡ä»¶çš„**ä¸åŒ**ï¼Œå¯èƒ½éœ€è¦è¿è¡Œå‘½ä»¤`esentutl /r V01 /d`æ¥**ä¿®å¤**å¯èƒ½çš„**ä¸å…¼å®¹æ€§**ã€‚

ä¸€æ—¦**æ¢å¤**äº†è¿™ä¸ªå·¥ä»¶ï¼ˆå®ƒæ˜¯ä¸€ä¸ªESEæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨photorecå·¥å…·å¹¶é€‰æ‹©Exchange Databaseæˆ–EDBé€‰é¡¹æ¥æ¢å¤ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ç¨‹åº[ESEDatabaseView](https://www.nirsoft.net/utils/ese\_database\_view.html)æ¥æ‰“å¼€å®ƒã€‚æ‰“å¼€åï¼Œè½¬åˆ°åä¸ºâ€œ**Containers**â€çš„è¡¨ã€‚

![](<../../../.gitbook/assets/image (446).png>)

åœ¨è¿™ä¸ªè¡¨ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°å­˜å‚¨ä¿¡æ¯çš„æ¯ä¸ªéƒ¨åˆ†åœ¨å“ªäº›å…¶ä»–è¡¨æˆ–å®¹å™¨ä¸­ã€‚ç„¶åï¼Œä½ å¯ä»¥æ‰¾åˆ°æµè§ˆå™¨å­˜å‚¨çš„æ•°æ®çš„ä½ç½®ä»¥åŠå…¶ä¸­çš„å…ƒæ•°æ®ã€‚

**è¯·æ³¨æ„ï¼Œæ­¤è¡¨è¿˜æŒ‡ç¤ºäº†å…¶ä»–Microsoftå·¥å…·ï¼ˆå¦‚Skypeï¼‰çš„ç¼“å­˜å…ƒæ•°æ®**

### ç¼“å­˜

å¯ä»¥ä½¿ç”¨å·¥å…·[IECacheView](https://www.nirsoft.net/utils/ie\_cache\_viewer.html)æ¥æŸ¥çœ‹ç¼“å­˜ã€‚ä½ éœ€è¦æŒ‡å®šæå–ç¼“å­˜æ•°æ®çš„æ–‡ä»¶å¤¹ã€‚

#### å…ƒæ•°æ®

å…³äºç¼“å­˜çš„å…ƒæ•°æ®å­˜å‚¨äº†ä»¥ä¸‹ä¿¡æ¯ï¼š

* æ–‡ä»¶å
* SecureDIrectoryï¼šç¼“å­˜ç›®å½•ä¸­æ–‡ä»¶çš„ä½ç½®
* AccessCountï¼šæ–‡ä»¶åœ¨ç¼“å­˜ä¸­ä¿å­˜çš„æ¬¡æ•°
* URLï¼šæºURL
* CreationTimeï¼šç¼“å­˜çš„ç¬¬ä¸€æ¬¡æ—¶é—´
* AccessedTimeï¼šç¼“å­˜è¢«ä½¿ç”¨çš„æ—¶é—´
* ModifiedTimeï¼šæœ€åçš„ç½‘é¡µç‰ˆæœ¬
* ExpiryTimeï¼šç¼“å­˜è¿‡æœŸçš„æ—¶é—´

#### æ–‡ä»¶

ç¼“å­˜ä¿¡æ¯å¯ä»¥åœ¨_**%userprofile%\Appdata\Local\Microsoft\Windows\Temporary Internet Files\Content.IE5**_å’Œ_**%userprofile%\Appdata\Local\Microsoft\Windows\Temporary Internet Files\Content.IE5\low**_ä¸­æ‰¾åˆ°ã€‚

è¿™äº›æ–‡ä»¶å¤¹ä¸­çš„ä¿¡æ¯æ˜¯ç”¨æˆ·æ‰€è§çš„é¡µé¢çš„**å¿«ç…§**ã€‚ç¼“å­˜çš„å¤§å°ä¸º**250 MB**ï¼Œæ—¶é—´æˆ³æŒ‡ç¤ºäº†é¡µé¢çš„è®¿é—®æ—¶é—´ï¼ˆç¬¬ä¸€æ¬¡è®¿é—®æ—¶é—´ã€NTFSçš„åˆ›å»ºæ—¥æœŸã€æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´ã€NTFSçš„ä¿®æ”¹æ—¶é—´ï¼‰ã€‚

### Cookies

å¯ä»¥ä½¿ç”¨å·¥å…·[IECookiesView](https://www.nirsoft.net/utils/iecookies.html)æ¥æŸ¥çœ‹Cookiesã€‚ä½ éœ€è¦æŒ‡å®šæå–Cookiesçš„æ–‡ä»¶å¤¹ã€‚

#### **å…ƒæ•°æ®**

å…³äºCookiesçš„å…ƒæ•°æ®å­˜å‚¨äº†ä»¥ä¸‹ä¿¡æ¯ï¼š

* æ–‡ä»¶ç³»ç»Ÿä¸­çš„Cookieåç§°
* URL
* AccessCountï¼šCookieè¢«å‘é€åˆ°æœåŠ¡å™¨çš„æ¬¡æ•°
* CreationTimeï¼šCookieçš„åˆ›å»ºæ—¶é—´
* ModifiedTimeï¼šCookieçš„æœ€åä¿®æ”¹æ—¶é—´
* AccessedTimeï¼šCookieçš„æœ€åè®¿é—®æ—¶é—´
* ExpiryTimeï¼šCookieçš„è¿‡æœŸæ—¶é—´

#### æ–‡ä»¶

Cookiesæ•°æ®å¯ä»¥åœ¨_**%userprofile%\Appdata\Roaming\Microsoft\Windows\Cookies**_å’Œ_**%userprofile%\Appdata\Roaming\Microsoft\Windows\Cookies\low**_ä¸­æ‰¾åˆ°ã€‚

ä¼šè¯Cookieå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒæŒä¹…Cookieå­˜å‚¨åœ¨ç£ç›˜ä¸­ã€‚
### ä¸‹è½½

#### **å…ƒæ•°æ®**

æ£€æŸ¥å·¥å…·[ESEDatabaseView](https://www.nirsoft.net/utils/ese\_database\_view.html)ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°åŒ…å«ä¸‹è½½å…ƒæ•°æ®çš„å®¹å™¨ï¼š

![](<../../../.gitbook/assets/image (445).png>)

é€šè¿‡è·å–â€œResponseHeadersâ€åˆ—çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å°†è¯¥ä¿¡æ¯ä»åå…­è¿›åˆ¶è½¬æ¢ä¸ºURLã€æ–‡ä»¶ç±»å‹å’Œä¸‹è½½æ–‡ä»¶çš„ä½ç½®ã€‚

#### æ–‡ä»¶

æŸ¥çœ‹è·¯å¾„_**%userprofile%\Appdata\Roaming\Microsoft\Windows\IEDownloadHistory**_

### **å†å²è®°å½•**

å¯ä»¥ä½¿ç”¨å·¥å…·[BrowsingHistoryView](https://www.nirsoft.net/utils/browsing\_history\_view.html)æ¥è¯»å–å†å²è®°å½•ã€‚ä½†é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨é«˜çº§é€‰é¡¹ä¸­æŒ‡å®šæµè§ˆå™¨å’Œæå–çš„å†å²è®°å½•æ–‡ä»¶çš„ä½ç½®ã€‚

#### **å…ƒæ•°æ®**

* ModifiedTimeï¼šæ‰¾åˆ°URLçš„ç¬¬ä¸€æ¬¡æ—¶é—´
* AccessedTimeï¼šæœ€åä¸€æ¬¡æ—¶é—´
* AccessCountï¼šè®¿é—®æ¬¡æ•°

#### **æ–‡ä»¶**

åœ¨_**userprofile%\Appdata\Local\Microsoft\Windows\History\History.IE5**_å’Œ_**userprofile%\Appdata\Local\Microsoft\Windows\History\Low\History.IE5**_ä¸­æœç´¢

### **é”®å…¥çš„URL**

æ­¤ä¿¡æ¯å¯ä»¥åœ¨æ³¨å†Œè¡¨NTDUSER.DATçš„è·¯å¾„ä¸­æ‰¾åˆ°ï¼š

* _**Software\Microsoft\InternetExplorer\TypedURLs**_
* å­˜å‚¨ç”¨æˆ·è¾“å…¥çš„æœ€å50ä¸ªURL
* _**Software\Microsoft\InternetExplorer\TypedURLsTime**_
* URLæœ€åä¸€æ¬¡è¾“å…¥çš„æ—¶é—´

## Microsoft Edge

è¦åˆ†æMicrosoft Edgeçš„å·¥ä»¶ï¼Œæ‰€æœ‰å…³äºç¼“å­˜å’Œä½ç½®çš„è§£é‡Šï¼ˆIE 11ä¸­çš„ï¼‰ä»ç„¶æœ‰æ•ˆï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åŸºæœ¬å®šä½åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯_**%userprofile%\Appdata\Local\Packages**_ï¼ˆå¦‚ä¸‹é¢çš„è·¯å¾„æ‰€ç¤ºï¼‰ï¼š

* é…ç½®æ–‡ä»¶è·¯å¾„ï¼š_**C:\Users\XX\AppData\Local\Packages\Microsoft.MicrosoftEdge\_XXX\AC**_
* å†å²è®°å½•ã€Cookieå’Œä¸‹è½½ï¼š_**C:\Users\XX\AppData\Local\Microsoft\Windows\WebCache\WebCacheV01.dat**_
* è®¾ç½®ã€ä¹¦ç­¾å’Œé˜…è¯»åˆ—è¡¨ï¼š_**C:\Users\XX\AppData\Local\Packages\Microsoft.MicrosoftEdge\_XXX\AC\MicrosoftEdge\User\Default\DataStore\Data\nouser1\XXX\DBStore\spartan.edb**_
* ç¼“å­˜ï¼š_**C:\Users\XXX\AppData\Local\Packages\Microsoft.MicrosoftEdge\_XXX\AC#!XXX\MicrosoftEdge\Cache**_
* æœ€åæ´»åŠ¨çš„ä¼šè¯ï¼š_**C:\Users\XX\AppData\Local\Packages\Microsoft.MicrosoftEdge\_XXX\AC\MicrosoftEdge\User\Default\Recovery\Active**_

## **Safari**

æ•°æ®åº“å¯ä»¥åœ¨`/Users/$User/Library/Safari`ä¸­æ‰¾åˆ°

* **History.db**ï¼šè¡¨`history_visits`å’Œ`history_items`åŒ…å«æœ‰å…³å†å²è®°å½•å’Œæ—¶é—´æˆ³çš„ä¿¡æ¯ã€‚
* `sqlite3 ~/Library/Safari/History.db "SELECT h.visit_time, i.url FROM history_visits h INNER JOIN history_items i ON h.history_item = i.id"`
* **Downloads.plist**ï¼šåŒ…å«æœ‰å…³å·²ä¸‹è½½æ–‡ä»¶çš„ä¿¡æ¯ã€‚
* **Book-marks.plist**ï¼šå·²æ”¶è—çš„URLã€‚
* **TopSites.plist**ï¼šç”¨æˆ·æµè§ˆçš„æœ€å¸¸è®¿é—®çš„ç½‘ç«™åˆ—è¡¨ã€‚
* **Extensions.plist**ï¼šæ£€ç´¢Safariæµè§ˆå™¨æ‰©å±•çš„æ—§å¼åˆ—è¡¨ã€‚
* `plutil -p ~/Library/Safari/Extensions/Extensions.plist| grep "Bundle Directory Name" | sort --ignore-case`
* `pluginkit -mDvvv -p com.apple.Safari.extension`
* **UserNotificationPermissions.plist**ï¼šå…è®¸æ¨é€é€šçŸ¥çš„åŸŸã€‚
* `plutil -p ~/Library/Safari/UserNotificationPermissions.plist | grep -a3 '"Permission" => 1'`
* **LastSession.plist**ï¼šç”¨æˆ·é€€å‡ºSafariæ—¶æ‰“å¼€çš„æ ‡ç­¾ã€‚
* `plutil -p ~/Library/Safari/LastSession.plist | grep -iv sessionstate`
* **æµè§ˆå™¨å†…ç½®çš„åé’“é±¼åŠŸèƒ½**ï¼š`defaults read com.apple.Safari WarnAboutFraudulentWebsites`
* å›å¤åº”ä¸º1ï¼Œè¡¨ç¤ºè¯¥è®¾ç½®å¤„äºæ´»åŠ¨çŠ¶æ€

## Opera

æ•°æ®åº“å¯ä»¥åœ¨`/Users/$USER/Library/Application Support/com.operasoftware.Opera`ä¸­æ‰¾åˆ°

Operaä»¥ä¸Google Chromeå®Œå…¨ç›¸åŒçš„æ ¼å¼å­˜å‚¨æµè§ˆå™¨å†å²è®°å½•å’Œä¸‹è½½æ•°æ®ã€‚è¿™é€‚ç”¨äºæ–‡ä»¶åå’Œè¡¨åã€‚

* **æµè§ˆå™¨å†…ç½®çš„åé’“é±¼åŠŸèƒ½**ï¼š`grep --color 'fraud_protection_enabled' ~/Library/Application Support/com.operasoftware.Opera/Preferences`
* **fraud\_protection\_enabled**åº”ä¸º**true**

![](<../.gitbook/assets/image (9) (1) (2).png>)

\
ä½¿ç”¨[**Trickest**](https://trickest.io/)å¯ä»¥è½»æ¾æ„å»ºå’Œè‡ªåŠ¨åŒ–ç”±å…¨çƒ**æœ€å…ˆè¿›çš„**ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒçš„å·¥ä½œæµç¨‹ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Šå—ï¼Ÿæˆ–è€…æ‚¨æƒ³è·å¾—æœ€æ–°ç‰ˆæœ¬çš„PEASSæˆ–ä»¥PDFæ ¼å¼ä¸‹è½½HackTrickså—ï¼Ÿè¯·æŸ¥çœ‹[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFT](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTricksè¡£ç‰©**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
