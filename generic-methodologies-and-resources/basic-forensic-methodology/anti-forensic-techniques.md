# рдПрдВрдЯреА-рдлреЙрд░реЗрдВрд╕рд┐рдХ рддрдХрдиреАрдХреЗрдВ

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдУрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* **рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рд╣рдореЗрдВ** **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}

## рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ **рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЛ рдмрджрд▓рдиреЗ** рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрд╕реЗ рдкрдХрдбрд╝рд╛ рди рдЬрд╛ рд╕рдХреЗред\
MFT рдХреЗ рдЕрдВрджрд░ `$STANDARD_INFORMATION` \_\_ рдФрд░ \_\_ `$FILE_NAME` рдореЗрдВ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдорд┐рд▓рдирд╛ рд╕рдВрднрд╡ рд╣реИред

рджреЛрдиреЛрдВ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдореЗрдВ 4 рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рд╣реЛрддреЗ рд╣реИрдВ: **рд╕рдВрд╢реЛрдзрди**, **рдкрд╣реБрдБрдЪ**, **рдирд┐рд░реНрдорд╛рдг**, рдФрд░ **MFT рд░рдЬрд┐рд╕реНрдЯреНрд░рд┐ рд╕рдВрд╢реЛрдзрди** (MACE рдпрд╛ MACB)ред

**Windows рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░** рдФрд░ рдЕрдиреНрдп рдЙрдкрдХрд░рдг **`$STANDARD_INFORMATION`** рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред

### рдЯрд╛рдЗрдорд╕реНрдЯреЙрдореНрдк - рдПрдВрдЯреА-рдлреЙрд░реЗрдВрд╕рд┐рдХ рдЯреВрд▓

рдпрд╣ рдЙрдкрдХрд░рдг **`$STANDARD_INFORMATION`** рдХреЗ рдЕрдВрджрд░ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдЬрд╛рдирдХрд╛рд░реА рдХреЛ **рд╕рдВрд╢реЛрдзрд┐рдд** рдХрд░рддрд╛ рд╣реИ **рд▓реЗрдХрд┐рди** **`$FILE_NAME`** рдХреЗ рдЕрдВрджрд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ **рдирд╣реАрдВ**ред рдЗрд╕рд▓рд┐рдП, **рд╕рдВрджрд┐рдЧреНрдз** **рдЧрддрд┐рд╡рд┐рдзрд┐** рдХреЛ **рдкрд╣рдЪрд╛рдирдирд╛** рд╕рдВрднрд╡ рд╣реИред

### Usnjrnl

**USN рдЬрд░реНрдирд▓** (рдЕрдкрдбреЗрдЯ рдЕрдиреБрдХреНрд░рдо рд╕рдВрдЦреНрдпрд╛ рдЬрд░реНрдирд▓) NTFS (Windows NT рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА) рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ рдЬреЛ рд╡реЙрд▓реНрдпреВрдо рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдЯреНрд░реИрдХ рд░рдЦрддреА рд╣реИред [**UsnJrnl2Csv**](https://github.com/jschicht/UsnJrnl2Csv) рдЙрдкрдХрд░рдг рдЗрди рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

![](<../../.gitbook/assets/image (801).png>)

рдкрд┐рдЫрд▓реА рдЫрд╡рд┐ **рдЙрдкрдХрд░рдг** рджреНрд╡рд╛рд░рд╛ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ **рдЖрдЙрдЯрдкреБрдЯ** рд╣реИ рдЬрд╣рд╛рдБ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ **рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдП рдЧрдП** рдереЗред

### $LogFile

**рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рднреА рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд▓реЙрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ** рдЬрд┐рд╕реЗ [write-ahead logging](https://en.wikipedia.org/wiki/Write-ahead_logging) рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред рд▓реЙрдЧ рдХреА рдЧрдИ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд░рдЦреА рдЬрд╛рддреА рд╣реИ рдЬрд┐рд╕рдХрд╛ рдирд╛рдо `**$LogFile**` рд╣реИ, рдЬреЛ NTFS рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИред [LogFileParser](https://github.com/jschicht/LogFileParser) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

![](<../../.gitbook/assets/image (137).png>)

рдлрд┐рд░ рд╕реЗ, рдЙрдкрдХрд░рдг рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдпрд╣ рджреЗрдЦрдирд╛ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ **рдХреБрдЫ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдП рдЧрдП** рдереЗред

рдЙрд╕реА рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╣ рдкрд╣рдЪрд╛рдирдирд╛ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ **рдХрдм рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдП рдЧрдП** рдереЗ:

![](<../../.gitbook/assets/image (1089).png>)

* CTIME: рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рд╕рдордп
* ATIME: рдлрд╝рд╛рдЗрд▓ рдХрд╛ рд╕рдВрд╢реЛрдзрди рд╕рдордп
* MTIME: рдлрд╝рд╛рдЗрд▓ рдХрд╛ MFT рд░рдЬрд┐рд╕реНрдЯреНрд░рд┐ рд╕рдВрд╢реЛрдзрди
* RTIME: рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрд╣реБрдБрдЪ рд╕рдордп

### `$STANDARD_INFORMATION` рдФрд░ `$FILE_NAME` рддреБрд▓рдирд╛

рд╕рдВрджрд┐рдЧреНрдз рд╕рдВрд╢реЛрдзрд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рджреЛрдиреЛрдВ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдкрд░ рд╕рдордп рдХреА рддреБрд▓рдирд╛ рдХрд░рдирд╛ рд╣реИ рдФрд░ **рдЕрд╕рдВрдЧрддрд┐рдпреЛрдВ** рдХреА рддрд▓рд╛рд╢ рдХрд░рдирд╛ рд╣реИред

### рдиреИрдиреЛрд╕реЗрдХрдВрдб

**NTFS** рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреА **рд╕рдЯреАрдХрддрд╛** **100 рдиреИрдиреЛрд╕реЗрдХрдВрдб** рд╣реИред рдлрд┐рд░, 2010-10-10 10:10:**00.000:0000 рдЬреИрд╕реЗ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЗрдВ **рдмрд╣реБрдд рд╕рдВрджрд┐рдЧреНрдз** рд╣реИрдВред

### SetMace - рдПрдВрдЯреА-рдлреЙрд░реЗрдВрд╕рд┐рдХ рдЯреВрд▓

рдпрд╣ рдЙрдкрдХрд░рдг рджреЛрдиреЛрдВ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ `$STARNDAR_INFORMATION` рдФрд░ `$FILE_NAME` рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, Windows Vista рд╕реЗ, рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд╛рдЗрд╡ OS рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

## рдбреЗрдЯрд╛ рдЫрд┐рдкрд╛рдирд╛

NFTS рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ рдиреНрдпреВрдирддрдо рдЬрд╛рдирдХрд╛рд░реА рдЖрдХрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрджрд┐ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ рдЖрдзрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ, рддреЛ **рдмрдЪрд╛ рд╣реБрдЖ рдЖрдзрд╛ рдХрднреА рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╣реЛрдЧрд╛** рдЬрдм рддрдХ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╣рдЯрд╛ рдирд╣реАрдВ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ред рдлрд┐рд░, рдЗрд╕ рд╕реНрд▓реИрдХ рд╕реНрдкреЗрд╕ рдореЗрдВ **рдбреЗрдЯрд╛ рдЫрд┐рдкрд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ**ред

рдРрд╕реЗ рдЙрдкрдХрд░рдг рд╣реИрдВ рдЬреИрд╕реЗ рд╕реНрд▓реИрдХрд░ рдЬреЛ рдЗрд╕ "рдЫрд┐рдкреЗ рд╣реБрдП" рд╕реНрдерд╛рди рдореЗрдВ рдбреЗрдЯрд╛ рдЫрд┐рдкрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдБрдХрд┐, `$logfile` рдФрд░ `$usnjrnl` рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рджрд┐рдЦрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛:

![](<../../.gitbook/assets/image (1060).png>)

рдлрд┐рд░, FTK рдЗрдореЗрдЬрд░ рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд▓реИрдХ рд╕реНрдкреЗрд╕ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрдкрдХрд░рдг рд╕рд╛рдордЧреНрд░реА рдХреЛ рдУрдмреНрд╕реНрдХреНрдпреВрд░реЗрдЯ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## UsbKill

рдпрд╣ рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ **USB** рдкреЛрд░реНрдЯ рдореЗрдВ рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдкрд░ **рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдмрдВрдж** рдХрд░ рджреЗрдЧрд╛ред\
рдЗрд╕рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдЪрд▓ рд░рд╣реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдФрд░ **рдкреНрд░рддреНрдпреЗрдХ рдЪрд▓ рд░рд╣реЗ рдкрд╛рдпрдерди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛** рд╣реИред

## рд▓рд╛рдЗрд╡ рд▓рд┐рдирдХреНрд╕ рд╡рд┐рддрд░рдг

рдпреЗ рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрд╢рди **RAM** рдореЗрдореЛрд░реА рдХреЗ рдЕрдВрджрд░ **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рд╣реЛрддреЗ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ рдХреЗрд╡рд▓ рддрднреА рдкрд╣рдЪрд╛рдирдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬрдм **NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛ**ред рдпрджрд┐ рдЗрд╕реЗ рдХреЗрд╡рд▓ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдШреБрд╕рдкреИрда рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред

## рд╕реБрд░рдХреНрд╖рд┐рдд рд╣рдЯрд╛рдирд╛

[https://github.com/Claudio-C/awesome-data-sanitization](https://github.com/Claudio-C/awesome-data-sanitization)

## Windows рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

рдлреЙрд░реЗрдВрд╕рд┐рдХ рдЬрд╛рдВрдЪ рдХреЛ рдмрд╣реБрдд рдХрдард┐рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рд╡рд┐рдВрдбреЛрдЬрд╝ рд▓реЙрдЧрд┐рдВрдЧ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдмрдВрдж рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред

### рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдмрдВрдж рдХрд░реЗрдВ - UserAssist

рдпрд╣ рдПрдХ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдХреБрдВрдЬреА рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЪрд▓рд╛рдП рдЧрдП рдкреНрд░рддреНрдпреЗрдХ рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рдХреА рддрд╛рд░реАрдЦреЛрдВ рдФрд░ рдШрдВрдЯреЛрдВ рдХреЛ рдмрдирд╛рдП рд░рдЦрддреА рд╣реИред

UserAssist рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдЪрд░рдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ:

1. рджреЛ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдХреБрдВрдЬрд┐рдпрд╛рдБ рд╕реЗрдЯ рдХрд░реЗрдВ, `HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Advanced\Start_TrackProgs` рдФрд░ `HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Advanced\Start_TrackEnabled`, рджреЛрдиреЛрдВ рдХреЛ рд╢реВрдиреНрдп рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ рддрд╛рдХрд┐ рд╕рдВрдХреЗрдд рдорд┐рд▓реЗ рдХрд┐ рд╣рдо UserAssist рдХреЛ рдмрдВрдж рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
2. рдЕрдкрдиреА рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдЙрдк-рдЯреНрд░реАрдЬрд╝ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ рдЬреЛ `HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\UserAssist\<hash>` рдХреА рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИрдВред

### рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдмрдВрдж рдХрд░реЗрдВ - Prefetch

рдпрд╣ рдЙрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╣реЗрдЬрддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рдХреНрд╖реНрдп рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддреЗ рд╣реИрдВред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдлреЙрд░реЗрдВрд╕рд┐рдХ рдкреНрд░рдерд╛рдУрдВ рдХреЗ рд▓рд┐рдП рднреА рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

* `regedit` рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ
* рдлрд╝рд╛рдЗрд▓ рдкрде рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SessionManager\Memory Management\PrefetchParameters`
* рджреЛрдиреЛрдВ `EnablePrefetcher` рдФрд░ `EnableSuperfetch` рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ
* рдкреНрд░рддреНрдпреЗрдХ рдкрд░ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рддрд╛рдХрд┐ рдорд╛рди 1 (рдпрд╛ 3) рд╕реЗ 0 рдореЗрдВ рдмрджрд▓ рдЬрд╛рдП
* рдкреБрдирдГ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ

### рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдмрдВрдж рдХрд░реЗрдВ - рдЕрдВрддрд┐рдо рдкрд╣реБрдБрдЪ рд╕рдордп

рдЬрдм рднреА рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ NTFS рд╡реЙрд▓реНрдпреВрдо рд╕реЗ Windows NT рд╕рд░реНрд╡рд░ рдкрд░ рдЦреЛрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪреАрдмрджреНрдз рдлрд╝реЛрд▓реНрдбрд░ рдкрд░ **рдПрдХ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдлрд╝реАрд▓реНрдб рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рд▓реЗрддрд╛ рд╣реИ**, рдЬрд┐рд╕реЗ рдЕрдВрддрд┐рдо рдкрд╣реБрдБрдЪ рд╕рдордп рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ рднрд╛рд░реА рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП NTFS рд╡реЙрд▓реНрдпреВрдо рдкрд░, рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

1. рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕рдВрдкрд╛рджрдХ (Regedit.exe) рдЦреЛрд▓реЗрдВред
2. `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\FileSystem` рдкрд░ рдЬрд╛рдПрдБред
3. `NtfsDisableLastAccessUpdate` рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВред рдпрджрд┐ рдпрд╣ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рддреЛ рдЗрд╕ DWORD рдХреЛ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕рдХрд╛ рдорд╛рди 1 рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ, рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрдВрдж рдХрд░ рджреЗрдЧрд╛ред
4. рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕рдВрдкрд╛рджрдХ рдмрдВрдж рдХрд░реЗрдВ, рдФрд░ рд╕рд░реНрд╡рд░ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВред

### USB рдЗрддрд┐рд╣рд╛рд╕ рд╣рдЯрд╛рдПрдБ

рд╕рднреА **USB рдбрд┐рд╡рд╛рдЗрд╕ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ** Windows рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ **USBSTOR** рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдХреБрдВрдЬреА рдХреЗ рддрд╣рдд рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдЙрдк рдХреБрдВрдЬрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ рдЬреЛ рддрдм рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИрдВ рдЬрдм рдЖрдк рдЕрдкрдиреЗ рдкреАрд╕реА рдпрд╛ рд▓реИрдкрдЯреЙрдк рдореЗрдВ USB рдбрд┐рд╡рд╛рдЗрд╕ рд▓рдЧрд╛рддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕ рдХреБрдВрдЬреА рдХреЛ рдпрд╣рд╛рдБ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Enum\USBSTOR`ред **рдЗрд╕реЗ рд╣рдЯрд╛рдиреЗ рд╕реЗ** рдЖрдк USB рдЗрддрд┐рд╣рд╛рд╕ рд╣рдЯрд╛ рджреЗрдВрдЧреЗред\
рдЖрдк рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП [**USBDeview**](https://www.nirsoft.net/utils/usb_devices_view.html) рдЙрдкрдХрд░рдг рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдиреЗ рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛ рджрд┐рдпрд╛ рд╣реИ (рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП)ред

рдПрдХ рдФрд░ рдлрд╝рд╛рдЗрд▓ рдЬреЛ USB рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣реЗрдЬрддреА рд╣реИ рд╡рд╣ рдлрд╝рд╛рдЗрд▓ `setupapi.dev.log` рд╣реИ рдЬреЛ `C:\Windows\INF` рдХреЗ рдЕрдВрджрд░ рд╣реИред рдЗрд╕реЗ рднреА рд╣рдЯрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рд╢реИрдбреЛ рдХреЙрдкреАрдЬрд╝ рдмрдВрдж рдХрд░реЗрдВ

**рд╢реИрдбреЛ рдХреЙрдкреАрдЬрд╝** рдХреА рд╕реВрдЪреА рдмрдирд╛рдПрдВ `vssadmin list shadowstorage`\
**рдЗрдиреНрд╣реЗрдВ рд╣рдЯрд╛рдПрдБ** `vssadmin delete shadow` рдЪрд▓рд╛рдХрд░

рдЖрдк GUI рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреА рдЗрдиреНрд╣реЗрдВ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ [https://www.ubackup.com/windows-10/how-to-delete-shadow-copies-windows-10-5740.html](https://www.ubackup.com/windows-10/how-to-delete-shadow-copies-windows-10-5740.html) рдореЗрдВ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗред

рд╢реИрдбреЛ рдХреЙрдкреАрдЬрд╝ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП [рдпрд╣рд╛рдБ рд╕реЗ рдЪрд░рдг](https://support.waters.com/KB_Inf/Other/WKB15560_How_to_disable_Volume_Shadow_Copy_Service_VSS_in_Windows):

1. Windows рд╕реНрдЯрд╛рд░реНрдЯ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЯреЗрдХреНрд╕реНрдЯ рд╕рд░реНрдЪ рдмреЙрдХреНрд╕ рдореЗрдВ "services" рдЯрд╛рдЗрдк рдХрд░рдХреЗ рд╕реЗрд╡рд╛рдПрдБ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЦреЛрд▓реЗрдВред
2. рд╕реВрдЪреА рд╕реЗ "Volume Shadow Copy" рдЦреЛрдЬреЗрдВ, рдЗрд╕реЗ рдЪреБрдиреЗрдВ, рдФрд░ рдлрд┐рд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдкреНрд░реЙрдкрд░реНрдЯреАрдЬрд╝ рдкрд░ рдЬрд╛рдПрдБред
3. "Startup type" рдбреНрд░реЙрдк-рдбрд╛рдЙрди рдореЗрдиреВ рд╕реЗ Disabled рдЪреБрдиреЗрдВ, рдФрд░ рдлрд┐рд░ Apply рдФрд░ OK рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВред

рдпрд╣ рднреА рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рд░рдЬрд┐рд╕реНрдЯреНрд░реА `HKLM\SYSTEM\CurrentControlSet\Control\BackupRestore\FilesNotToSnapshot` рдореЗрдВ рд╢реИрдбреЛ рдХреЙрдкреА рдореЗрдВ рдХреЙрдкреА рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред

### рд╣рдЯрд╛рдИ рдЧрдИ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░реЗрдВ

* рдЖрдк рдПрдХ **Windows рдЙрдкрдХрд░рдг** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: `cipher /w:C` рдпрд╣ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд░реЗрдЧрд╛ рдХрд┐ рд╕рд┐рдлрд░ C рдбреНрд░рд╛рдЗрд╡ рдХреЗ рдЕрдВрджрд░ рдЙрдкрд▓рдмреНрдз рдЕрдкреНрд░рдпреБрдХреНрдд рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рд╕реЗ рдХрд┐рд╕реА рднреА рдбреЗрдЯрд╛ рдХреЛ рд╣рдЯрд╛ рджреЗред
* рдЖрдк [**Eraser**](https://eraser.heidi.ie) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### Windows рдЗрд╡реЗрдВрдЯ рд▓реЙрдЧ рд╣рдЯрд╛рдПрдБ

* Windows + R --> eventvwr.msc --> "Windows Logs" рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ --> рдкреНрд░рддреНрдпреЗрдХ рд╢реНрд░реЗрдгреА рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ "Clear Log" рдЪреБрдиреЗрдВ
* `for /F "tokens=*" %1 in ('wevtutil.exe el') DO wevtutil.exe cl "%1"`
* `Get-EventLog -LogName * | ForEach { Clear-EventLog $_.Log }`

### Windows рдЗрд╡реЗрдВрдЯ рд▓реЙрдЧ рдмрдВрдж рдХрд░реЗрдВ

* `reg add 'HKLM\SYSTEM\CurrentControlSet\Services\eventlog' /v Start /t REG_DWORD /d 4 /f`
* рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдЕрдиреБрднрд╛рдЧ рдХреЗ рдЕрдВрджрд░ "Windows Event Log" рд╕реЗрд╡рд╛ рдХреЛ рдмрдВрдж рдХрд░реЗрдВ
* `WEvtUtil.exec clear-log` рдпрд╛ `WEvtUtil.exe cl`

### $UsnJrnl рдмрдВрдж рдХрд░реЗрдВ

* `fsutil usn deletejournal /d c:`

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдУрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* **рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рд╣рдореЗрдВ** **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}
