# Metodologia testowania penetracyjnego

<details>

<summary><strong>Zacznij od zera i sta si ekspertem od hakowania AWS dziki</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si swoimi sztuczkami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Jeli interesuje Ci **kariera w dziedzinie hakerstwa** i hakowanie niemo偶liwego do zhakowania - **rekrutujemy!** (_wymagana biega znajomo jzyka polskiego, zar贸wno w mowie, jak i pimie_).

{% embed url="https://www.stmcyber.com/careers" %}

## Metodologia testowania penetracyjnego

<figure><img src="../.gitbook/assets/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Loga Hacktricks zaprojektowane przez_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Ataki fizyczne

Masz **fizyczny dostp** do maszyny, kt贸r chcesz zaatakowa? Powiniene przeczyta kilka [**sztuczek dotyczcych atak贸w fizycznych**](../hardware-physical-access/physical-attacks.md) oraz innych dotyczcych [**ucieczki z aplikacji GUI**](../hardware-physical-access/escaping-from-gui-applications.md).

### 1 - [Odkrywanie host贸w w sieci](pentesting-network/#discovering-hosts)/ [Odkrywanie zasob贸w firmy](external-recon-methodology/)

**W zale偶noci** od tego, czy **test**, kt贸ry wykonujesz, jest **wewntrzny czy zewntrzny**, mo偶esz by zainteresowany znalezieniem **host贸w w sieci firmy** (test wewntrzny) lub **znalezieniem zasob贸w firmy w internecie** (test zewntrzny).

{% hint style="info" %}
Zauwa偶, 偶e jeli wykonujesz test zewntrzny i uda ci si uzyska dostp do wewntrznej sieci firmy, powiniene zacz od nowa ten przewodnik.
{% endhint %}

### **2-** [**Zabawa z sieci**](pentesting-network/) **(Wewntrzne)**

**Ta sekcja dotyczy tylko test贸w wewntrznych.**\
Zanim zaatakujesz hosta, mo偶e wolisz **ukra pewne powiadczenia** **z sieci** lub **przechwyci** pewne **dane** w celu **pasywnej/aktywnej (MitM)** nauki tego, co mo偶na znale藕 w sieci. Mo偶esz przeczyta [**Testowanie penetracyjne sieci**](pentesting-network/#sniffing).

### 3- [Skanowanie port贸w - Odkrywanie usug](pentesting-network/#scanning-hosts)

Pierwsz rzecz do zrobienia, gdy **szukasz podatnoci w hocie**, jest poznanie, kt贸re **usugi dziaaj na kt贸rych portach**. Zobaczmy [**podstawowe narzdzia do skanowania port贸w host贸w**](pentesting-network/#scanning-hosts).

### **4-** [Wyszukiwanie eksploit贸w wersji usugi](search-exploits.md)

Gdy ju偶 wiesz, kt贸re usugi dziaaj, a mo偶e nawet ich wersj, musisz **szuka znanych podatnoci**. By mo偶e masz szczcie i istnieje eksploit, kt贸ry da ci dostp do powoki...

### **5-** Testowanie usug

Jeli nie ma 偶adnego spektakularnego eksploitu dla 偶adnej dziaajcej usugi, powiniene szuka **czstych bd贸w konfiguracyjnych w ka偶dej dziaajcej usudze**.

**W tej ksi偶ce znajdziesz przewodnik po testowaniu penetracyjnym najczstszych usug** (i innych, kt贸re nie s tak powszechne)**. Prosz, szukaj w lewym indeksie sekcji** _**PENTESTING**_ **(usugi s uporzdkowane wedug ich domylnych port贸w).**

**Chciabym zwr贸ci uwag na** [**cz Testowanie Web**](../network-services-pentesting/pentesting-web/) **(poniewa偶 jest najbardziej obszerna).**\
Ponadto, may przewodnik dotyczcy [**znajdowania znanych podatnoci w oprogramowaniu**](search-exploits.md) mo偶na znale藕 tutaj.

**Jeli twoja usuga nie znajduje si w indeksie, poszukaj w Google** innych samouczk贸w i **daj mi zna, jeli chcesz, 偶ebym j doda.** Jeli **nie mo偶esz nic znale藕** w Google, przeprowad藕 **swoje wasne lepe testowanie penetracyjne**, mo偶esz zacz od **poczenia si z usug, testowania jej i czytania odpowiedzi** (jeli takie s).

#### 5.1 Narzdzia automatyczne

Istnieje r贸wnie偶 kilka narzdzi, kt贸re mog przeprowadzi **automatyczn ocen podatnoci**. **Polecibym spr贸bowa** [**Legion**](https://github.com/carlospolop/legion)**, kt贸ry jest narzdziem, kt贸re stworzyem i opiera si na notatkach dotyczcych testowania usug, kt贸re znajdziesz w tej ksi偶ce.**

#### **5.2 Pr贸by siowe usug**

W niekt贸rych scenariuszach **pr贸ba siowa** mo偶e by przydatna do **skompromitowania** usugi. [**Znajd藕 tutaj cigawk r贸偶nych pr贸b siowych dla r贸偶nych usug**](brute-force.md)**.**

### 6- [Phishing](phishing-methodology/)

Jeli do tej pory nie znalaze 偶adnej interesujcej podatnoci, **mo偶e by konieczne przeprowadzenie phishingu** w celu dostania si do sieci. Mo偶esz przeczyta moj metodologi phishingu [tutaj](phishing-methodology/):

### **7-** [**Uzyskiwanie powoki**](shells/)

W jaki spos贸b powiniene znale藕 **spos贸b wykonania kodu** na ofierze. Nastpnie, [bardzo przydatna byaby lista mo偶liwych narzdzi w systemie, kt贸re mo偶na u偶y do uzyskania odwrotnej powoki](shells/).

Szczeg贸lnie w systemie Windows mo偶esz potrzebowa pomocy, aby **unikn antywirus贸w**: [**Sprawd藕 t stron**](../windows-hardening/av-bypass.md)**.**\\

### 8- Wewntrz

Jeli masz problemy z powok, tutaj znajdziesz ma **kompilacj najbardziej przydatnych polece** dla tester贸w penetracyjnych:

* [**Linux**](../linux-hardening/useful-linux-commands.md)
* [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
* [**Windows (PS)**](../windows-hardening/basic-powershell-for-pentesters/)

### **9 -** [**Eksfiltracja**](exfiltration.md)

Prawdopodobnie bdziesz musia **wydoby pewne dane z ofiary** lub nawet **co wstawi** (np. skrypty eskalacji uprawnie). **Tutaj masz** [**post o powszechnie u偶ywanych narzdziach, kt贸re mo偶esz u偶y w tych celach**](exfiltration.md)**.**
### **10- Eskalacja uprawnie**

#### **10.1- Lokalna eskalacja uprawnie**

Jeli nie jeste **root/Administrator** wewntrz systemu, powiniene znale藕 spos贸b na **eskalacj uprawnie.**\
Tutaj znajdziesz **przewodnik po eskalacji uprawnie lokalnie w** [**Linuxie**](../linux-hardening/privilege-escalation/) **i w** [**Windowsie**](../windows-hardening/windows-local-privilege-escalation/)**.**\
Powiniene r贸wnie偶 sprawdzi te strony dotyczce dziaania **Windowsa**:

* [**Uwierzytelnianie, Powiadczenia, Uprawnienia token贸w i UAC**](../windows-hardening/authentication-credentials-uac-and-efs/)
* Jak dziaa [**NTLM**](../windows-hardening/ntlm/) w Windowsie
* Jak [**ukra powiadczenia**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md) w Windowsie
* Kilka sztuczek dotyczcych [_**Active Directory**_](../windows-hardening/active-directory-methodology/)

**Nie zapomnij sprawdzi najlepszych narzdzi do wyliczania cie偶ek eskalacji uprawnie lokalnych w Windowsie i Linuxie:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Eskalacja uprawnie domenowych**

Tutaj znajdziesz [**metodologi wyjaniajc najczstsze dziaania w celu wyliczenia, eskalacji uprawnie i utrwalenia w Active Directory**](../windows-hardening/active-directory-methodology/). Nawet jeli jest to tylko podsekcja sekcji, ten proces mo偶e by **niezwykle delikatny** podczas zadania Pentesting/Red Team.

### 11 - POST

#### **11**.1 - Grabie偶

Sprawd藕, czy mo偶esz znale藕 wicej **hasa** wewntrz hosta lub czy masz **dostp do innych maszyn** z **uprawnieniami** twojego **u偶ytkownika**.\
Znajd藕 tutaj r贸偶ne sposoby na [**wydobywanie hase w Windowsie**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md).

#### 11.2 - Utrwalenie

**U偶yj 2 lub 3 r贸偶nych typ贸w mechanizm贸w trwaoci, aby nie musie ponownie wykorzystywa systemu.**\
**Tutaj znajdziesz kilka** [**sztuczek trwaoci w Active Directory**](../windows-hardening/active-directory-methodology/#persistence)**.**

TODO: Uzupenij post o trwaoci w Windowsie i Linuxie

### 12 - Pivoting

Dziki **zebranym powiadczeniom** mo偶esz uzyska dostp do innych maszyn, lub mo偶e bdziesz musia **odkry i skanowa nowe hosty** (rozpocznij ponownie metodologi Pentesting) w nowych sieciach, do kt贸rych podczony jest tw贸j cel.\
W tym przypadku tunelowanie mo偶e by konieczne. Tutaj znajdziesz [**post m贸wicy o tunelowaniu**](tunneling-and-port-forwarding.md).\
Na pewno powiniene r贸wnie偶 sprawdzi post dotyczcy [Metodologii Pentestingu Active Directory](../windows-hardening/active-directory-methodology/). Znajdziesz tam fajne sztuczki do poruszania si lateralnie, eskalacji uprawnie i wydobywania powiadcze.\
Sprawd藕 r贸wnie偶 stron dotyczc [**NTLM**](../windows-hardening/ntlm/), mo偶e by bardzo przydatna do pivotowania w rodowiskach Windows.

### WICEJ

#### [Aplikacje Android](../mobile-pentesting/android-app-pentesting/)

#### **Eksploatacja**

* [**Podstawowa eksploatacja Linuxa**](../binary-exploitation/linux-exploiting-basic-esp.md)
* [**Podstawowa eksploatacja Windowsa**](../binary-exploitation/windows-exploiting-basic-guide-oscp-lvl.md)
* [**Podstawowe narzdzia do eksploatacji**](../binary-exploitation/basic-binary-exploitation-methodology/tools/)

#### [**Podstawy Pythona**](python/)

#### **Sztuczki kryptograficzne**

* [**ECB**](../crypto-and-stego/electronic-code-book-ecb.md)
* [**CBC-MAC**](../crypto-and-stego/cipher-block-chaining-cbc-mac-priv.md)
* [**Padding Oracle**](../crypto-and-stego/padding-oracle-priv.md)

<figure><img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Jeli interesuje Ci **kariera w hackowaniu** i hakowanie niemo偶liwych do zhakowania rzeczy - **rekrutujemy!** (_wymagane biege pisanie i m贸wienie po polsku_).

{% embed url="https://www.stmcyber.com/careers" %}

<details>

<summary><strong>Zacznij od zera i zosta ekspertem w hakowaniu AWS dziki</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si swoimi sztuczkami hakowania, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
