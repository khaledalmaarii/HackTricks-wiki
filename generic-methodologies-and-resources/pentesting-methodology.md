# Metodologia Pentestingu

{% hint style="success" %}
Ucz si i wicz Hacking AWS:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz si i wicz Hacking GCP: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si trikami hackingowymi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytori贸w github.

</details>
{% endhint %}

<figure><img src="../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Jeli jeste zainteresowany **karier w hacking** i chcesz zama to, co nie do zamania - **zatrudniamy!** (_wymagana biega znajomo polskiego w mowie i pimie_).

{% embed url="https://www.stmcyber.com/careers" %}

## Metodologia Pentestingu

<figure><img src="../.gitbook/assets/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Loga Hacktricks zaprojektowane przez_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Ataki fizyczne

Czy masz **fizyczny dostp** do maszyny, kt贸r chcesz zaatakowa? Powiniene przeczyta kilka [**sztuczek dotyczcych atak贸w fizycznych**](../hardware-physical-access/physical-attacks.md) i innych dotyczcych [**ucieczki z aplikacji GUI**](../hardware-physical-access/escaping-from-gui-applications.md).

### 1 - [Odkrywanie host贸w w sieci](pentesting-network/#discovering-hosts)/ [Odkrywanie zasob贸w firmy](external-recon-methodology/)

**W zale偶noci** od tego, czy **test**, kt贸ry wykonujesz, jest **testem wewntrznym czy zewntrznym**, mo偶esz by zainteresowany znalezieniem **host贸w w sieci firmy** (test wewntrzny) lub **znalezieniem zasob贸w firmy w internecie** (test zewntrzny).

{% hint style="info" %}
Zauwa偶, 偶e jeli wykonujesz test zewntrzny, po uzyskaniu dostpu do wewntrznej sieci firmy powiniene ponownie rozpocz ten przewodnik.
{% endhint %}

### **2-** [**Zabawa z sieci**](pentesting-network/) **(Wewntrzny)**

**Ta sekcja dotyczy tylko test贸w wewntrznych.**\
Zanim zaatakujesz hosta, mo偶e wolisz **ukra jakie dane logowania** **z sieci** lub **podsuchiwa** jakie **dane**, aby dowiedzie si **pasywnie/aktywnie (MitM)**, co mo偶esz znale藕 w sieci. Mo偶esz przeczyta [**Pentesting Network**](pentesting-network/#sniffing).

### 3- [Skanowanie port贸w - Odkrywanie usug](pentesting-network/#scanning-hosts)

Pierwsz rzecz do zrobienia, gdy **szukasz luk w hocie**, jest poznanie, kt贸re **usugi dziaaj** na jakich portach. Zobaczmy [**podstawowe narzdzia do skanowania port贸w host贸w**](pentesting-network/#scanning-hosts).

### **4-** [**Szukajc exploit贸w wersji usug**](search-exploits.md)

Gdy ju偶 wiesz, kt贸re usugi dziaaj, a mo偶e ich wersje, musisz **szuka znanych luk**. Mo偶e masz szczcie i istnieje exploit, kt贸ry da ci powok...

### **5-** Usugi Pentestingu

Jeli nie ma 偶adnego fajnego exploita dla 偶adnej dziaajcej usugi, powiniene poszuka **czstych bd贸w konfiguracyjnych w ka偶dej dziaajcej usudze.**

**W tej ksi偶ce znajdziesz przewodnik po pentestingu najczciej wystpujcych usug** (i innych, kt贸re nie s tak powszechne)**. Prosz, przeszukaj lewy indeks w sekcji** _**PENTESTING**_ **(usugi s uporzdkowane wedug ich domylnych port贸w).**

**Chc szczeg贸lnie wspomnie o** [**Pentestingu Web**](../network-services-pentesting/pentesting-web/) **(poniewa偶 jest to najbardziej rozbudowana cz).**\
R贸wnie偶 may przewodnik na temat [**znajdowania znanych luk w oprogramowaniu**](search-exploits.md) mo偶na znale藕 tutaj.

**Jeli twoja usuga nie znajduje si w indeksie, poszukaj w Google** innych samouczk贸w i **daj mi zna, jeli chcesz, 偶ebym to doda.** Jeli **nie mo偶esz nic znale藕** w Google, przeprowad藕 **wasny lepy pentesting**, mo偶esz zacz od **poczenia si z usug, fuzzowania jej i czytania odpowiedzi** (jeli jakie s).

#### 5.1 Narzdzia automatyczne

Istnieje r贸wnie偶 kilka narzdzi, kt贸re mog przeprowadza **automatyczne oceny luk**. **Zalecabym spr贸bowa** [**Legion**](https://github.com/carlospolop/legion)**, kt贸re jest narzdziem, kt贸re stworzyem i opiera si na notatkach dotyczcych pentestingu usug, kt贸re mo偶esz znale藕 w tej ksi偶ce.**

#### **5.2- Bruteforce usug**

W niekt贸rych scenariuszach **Brute-Force** mo偶e by przydatny do **kompromitacji** **usugi**. [**Znajd藕 tutaj CheatSheet r贸偶nych usug do bruteforce**](brute-force.md)**.**

### 6- [Phishing](phishing-methodology/)

Jeli w tym momencie nie znalaze 偶adnej interesujcej luki, **mo偶esz potrzebowa spr贸bowa phishingu**, aby dosta si do sieci. Mo偶esz przeczyta moj metodologi phishingu [tutaj](phishing-methodology/):

### **7-** [**Uzyskiwanie powoki**](reverse-shells/)

W jaki spos贸b powiniene znale藕 **jak metod wykonania kodu** na ofierze. Wtedy [lista mo偶liwych narzdzi w systemie, kt贸re mo偶esz u偶y do uzyskania powoki zwrotnej, byaby bardzo przydatna](reverse-shells/).

Szczeg贸lnie w systemie Windows mo偶esz potrzebowa pomocy, aby **unika program贸w antywirusowych**: [**Sprawd藕 t stron**](../windows-hardening/av-bypass.md)**.**\\

### 8- Wewntrz

Jeli masz problemy z powok, mo偶esz tutaj znale藕 ma **kompilacj najbardziej przydatnych polece** dla pentester贸w:

* [**Linux**](../linux-hardening/useful-linux-commands.md)
* [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
* [**Windows (PS)**](../windows-hardening/basic-powershell-for-pentesters/)

### **9 -** [**Ekstrakcja**](exfiltration.md)

Prawdopodobnie bdziesz musia **wycign jakie dane z ofiary** lub nawet **wprowadzi co** (jak skrypty do eskalacji uprawnie). **Tutaj masz** [**post o wsp贸lnych narzdziach, kt贸re mo偶esz u偶y do tych cel贸w**](exfiltration.md)**.**

### **10- Eskalacja uprawnie**

#### **10.1- Lokalne Privesc**

Jeli nie jeste **rootem/Administratorem** w systemie, powiniene znale藕 spos贸b na **eskalacj uprawnie.**\
Tutaj znajdziesz **przewodnik po eskalacji uprawnie lokalnie w** [**Linuxie**](../linux-hardening/privilege-escalation/) **i w** [**Windowsie**](../windows-hardening/windows-local-privilege-escalation/)**.**\
Powiniene r贸wnie偶 sprawdzi te strony dotyczce tego, jak dziaa **Windows**:

* [**Uwierzytelnianie, dane logowania, uprawnienia token贸w i UAC**](../windows-hardening/authentication-credentials-uac-and-efs/)
* Jak dziaa [**NTLM**](../windows-hardening/ntlm/)
* Jak [**ukra dane logowania**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md) w Windowsie
* Kilka sztuczek dotyczcych [_**Active Directory**_](../windows-hardening/active-directory-methodology/)

**Nie zapomnij sprawdzi najlepszych narzdzi do enumeracji lokalnych cie偶ek eskalacji uprawnie w Windowsie i Linuxie:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Domain Privesc**

Tutaj znajdziesz [**metodologi wyjaniajc najczstsze dziaania w celu enumeracji, eskalacji uprawnie i utrzymania si w Active Directory**](../windows-hardening/active-directory-methodology/). Nawet jeli jest to tylko podsekcja sekcji, ten proces mo偶e by **ekstremalnie delikatny** w zadaniu Pentesting/Red Team.

### 11 - POST

#### **11**.1 - Grabie偶

Sprawd藕, czy mo偶esz znale藕 wicej **hase** wewntrz hosta lub czy masz **dostp do innych maszyn** z **uprawnieniami** swojego **u偶ytkownika**.\
Znajd藕 tutaj r贸偶ne sposoby [**zrzucania hase w Windowsie**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md).

#### 11.2 - Utrzymywanie

**U偶yj 2 lub 3 r贸偶nych typ贸w mechanizm贸w utrzymywania, aby nie musie ponownie eksploatowa systemu.**\
**Tutaj znajdziesz kilka** [**sztuczek dotyczcych utrzymywania w Active Directory**](../windows-hardening/active-directory-methodology/#persistence)**.**

TODO: Uzupenij post o utrzymywaniu w Windowsie i Linuxie

### 12 - Pivoting

Dziki **zebranym danym logowania** mo偶esz uzyska dostp do innych maszyn, lub mo偶e musisz **odkry i zeskanowa nowe hosty** (rozpocznij metodologi pentestingu od nowa) w nowych sieciach, do kt贸rych jest podczona twoja ofiara.\
W takim przypadku tunelowanie mo偶e by konieczne. Tutaj mo偶esz znale藕 [**post m贸wicy o tunelowaniu**](tunneling-and-port-forwarding.md).\
Zdecydowanie powiniene r贸wnie偶 sprawdzi post o [metodologii pentestingu Active Directory](../windows-hardening/active-directory-methodology/). Tam znajdziesz fajne sztuczki do poruszania si lateralnie, eskalacji uprawnie i zrzucania danych logowania.\
Sprawd藕 r贸wnie偶 stron o [**NTLM**](../windows-hardening/ntlm/), mo偶e by bardzo przydatna do pivotowania w rodowiskach Windows.

### WICEJ

#### [Aplikacje Android](../mobile-pentesting/android-app-pentesting/)

#### **Eksploatacja**

* [**Podstawowa eksploatacja Linuxa**](broken-reference/)
* [**Podstawowa eksploatacja Windowsa**](../binary-exploitation/windows-exploiting-basic-guide-oscp-lvl.md)
* [**Podstawowe narzdzia eksploatacji**](../binary-exploitation/basic-stack-binary-exploitation-methodology/tools/)

#### [**Podstawowy Python**](python/)

#### **Sztuczki kryptograficzne**

* [**ECB**](../crypto-and-stego/electronic-code-book-ecb.md)
* [**CBC-MAC**](../crypto-and-stego/cipher-block-chaining-cbc-mac-priv.md)
* [**Padding Oracle**](../crypto-and-stego/padding-oracle-priv.md)

<figure><img src="../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Jeli jeste zainteresowany **karier w hacking** i chcesz zama to, co nie do zamania - **zatrudniamy!** (_wymagana biega znajomo polskiego w mowie i pimie_).

{% embed url="https://www.stmcyber.com/careers" %}

{% hint style="success" %}
Ucz si i wicz Hacking AWS:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz si i wicz Hacking GCP: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si trikami hackingowymi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytori贸w github.

</details>
{% endhint %}
