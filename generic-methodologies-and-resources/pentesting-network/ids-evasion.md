{% hint style="success" %}
Dowiedz si i wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Dowiedz si i wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel si trikami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytori贸w na GitHubie.

</details>
{% endhint %}


# **Manipulacja TTL**

Wylij kilka pakiet贸w z TTL wystarczajco niskim, aby dotrze do IDS/IPS, ale nie wystarczajco niskim, aby dotrze do ostatecznego systemu. Nastpnie wylij inne pakiety z tymi samymi sekwencjami, aby IPS/IDS uzna je za powt贸rzenia i nie sprawdzi ich, podczas gdy faktycznie przenosz zoliwe treci.

**Opcja Nmap:** `--ttlvalue <value>`

# Unikanie sygnatur

Dodaj po prostu dane mieciowe do pakiet贸w, aby unikn sygnatury IPS/IDS.

**Opcja Nmap:** `--data-length 25`

# **Pakietowanie fragment贸w**

Po prostu fragmentuj pakiety i wylij je. Jeli IDS/IPS nie ma mo偶liwoci ich ponownego zo偶enia, dotr one do ostatecznego hosta.

**Opcja Nmap:** `-f`

# **Nieprawidowa** _**suma kontrolna**_

Czujniki zwykle nie obliczaj sumy kontrolnej ze wzgld贸w wydajnociowych. Dlatego atakujcy mo偶e wysa pakiet, kt贸ry zostanie **zinterpretowany przez czujnik, ale odrzucony przez ostatecznego hosta.** Przykad:

Wylij pakiet z flag RST i nieprawidow sum kontroln, wtedy IPS/IDS mo偶e uzna, 偶e ten pakiet ma zamkn poczenie, ale ostateczny host odrzuci pakiet, poniewa偶 suma kontrolna jest nieprawidowa.

# **Niezwyke opcje IP i TCP**

Czujnik mo偶e zignorowa pakiety z okrelonymi flagami i opcjami ustawionymi w nag贸wkach IP i TCP, podczas gdy host docelowy akceptuje pakiet po otrzymaniu.

# **Nakadanie si**

Mo偶e si zdarzy, 偶e gdy fragmentujesz pakiet, istnieje pewne nakadanie si midzy pakietami (mo偶e pierwsze 8 bajt贸w pakietu 2 nakada si na ostatnie 8 bajt贸w pakietu 1, a ostatnie 8 bajt贸w pakietu 2 nakada si na pierwsze 8 bajt贸w pakietu 3). Wtedy, jeli IDS/IPS zo偶y je w inny spos贸b ni偶 ostateczny host, zostanie zinterpretowany inny pakiet.\
Albo mo偶e si zdarzy, 偶e przychodz 2 pakiety z t sam wartoci przesunicia i host musi zdecydowa, kt贸ry z nich przyj.

* **BSD**: Preferuje pakiety z mniejszym _przesuniciem_. Dla pakiet贸w z tym samym przesuniciem wybierze pierwszy.
* **Linux**: Podobnie jak BSD, ale preferuje ostatni pakiet z tym samym przesuniciem.
* **First** (Windows): Pierwsza warto, kt贸ra przychodzi, zostaje.
* **Last** (cisco): Ostatnia warto, kt贸ra przychodzi, zostaje.

# Narzdzia

* [https://github.com/vecna/sniffjoke](https://github.com/vecna/sniffjoke)


{% hint style="success" %}
Dowiedz si i wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Dowiedz si i wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel si trikami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytori贸w na GitHubie.

</details>
{% endhint %}
