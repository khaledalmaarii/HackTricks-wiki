<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Travaillez-vous dans une entreprise de cybersÃ©curitÃ© ? Voulez-vous voir votre entreprise annoncÃ©e dans HackTricks ? ou voulez-vous avoir accÃ¨s Ã  la derniÃ¨re version de PEASS ou tÃ©lÃ©charger HackTricks en PDF ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !

- DÃ©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)

- **Rejoignez le** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Partagez vos astuces de piratage en soumettant des PR au [repo hacktricks](https://github.com/carlospolop/hacktricks) et au [repo hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


# ThÃ©orie de base IPv6

## RÃ©seaux

Dans une adresse IPv6, les **48 premiers bits sont le prÃ©fixe de rÃ©seau**. Les **16 bits suivants sont l'ID de sous-rÃ©seau** et sont utilisÃ©s pour dÃ©finir les sous-rÃ©seaux. Les **64 derniers bits sont l'identifiant d'interface** (Ã©galement connu sous le nom d'ID d'interface ou d'ID de pÃ©riphÃ©rique, pour les pÃ©riphÃ©riques). Si nÃ©cessaire, les bits normalement rÃ©servÃ©s Ã  l'ID de pÃ©riphÃ©rique peuvent Ãªtre utilisÃ©s pour un masquage de sous-rÃ©seau supplÃ©mentaire.

Il n'y a pas d'ARP en IPv6. Ã€ la place, il y a **ICMPv6 NS (Neighbor Solicitation) et NA (Neighbor Advertisement)**. Le **NS** est utilisÃ© pour rÃ©soudre une adresse, il envoie donc des paquets **multicast**. Le **NA** est **unicast** et est utilisÃ© pour rÃ©pondre au NS. Un paquet NA peut Ã©galement Ãªtre envoyÃ© sans avoir besoin d'un paquet NS.

**0:0:0:0:0:0:0:1** = 1 (`::1` pour faire court) - C'est l'Ã©quivalent de 127.0.0.1 en IPv4.

**Adresses locales de lien:** Il s'agit d'une adresse privÃ©e qui n'est pas destinÃ©e Ã  Ãªtre routÃ©e sur Internet. Elle peut Ãªtre utilisÃ©e localement par des LAN privÃ©s ou temporaires pour le partage et la distribution de fichiers entre les pÃ©riphÃ©riques du LAN. D'autres pÃ©riphÃ©riques de votre LAN local utilisant ce type d'adresses peuvent Ãªtre trouvÃ©s en envoyant un ping Ã  l'adresse multicast ff02::01\
**FE80::/10** - Plage d'adresses unicast locales de lien.
```bash
ping6 â€“I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

#Or you could also use
alive6 eth0
```
Si vous **connaissez l'adresse MAC d'un hÃ´te dans le mÃªme rÃ©seau** que vous (vous pouvez simplement envoyer une requÃªte ping Ã  son adresse IPv4 et afficher la table ARP pour trouver son adresse MAC), vous pouvez calculer son adresse Link-local pour communiquer avec lui.\
Supposons que l'**adresse MAC** est **`12:34:56:78:9a:bc`**

1. En notation IPv6 : **`1234:5678:9abc`**
2. Ajoutez `fe80::` au dÃ©but et insÃ©rez `fffe` au milieu : **`fe80::`**`1234:56`**`ff:fe`**`78:9abc`
3. Inversez le septiÃ¨me bit Ã  partir de la gauche, de 0001 0010 Ã  0001 0000 : `fe80::1`**`0`**`34:56ff:fe78:9abc`
4. `fe80::1034:56ff:fe78:9abc`

**Adresse unique locale :** Ce type d'adresse IPv6 n'est pas destinÃ© Ã  Ãªtre routÃ© sur Internet public. L'adresse unique locale est un remplacement de l'adresse de site local, qui permet la communication au sein d'un site tout en Ã©tant routable vers plusieurs rÃ©seaux locaux.\
**FEC00::/7** - La plage d'adresses locales uniques.

**Adresse multicast :** Cela peut Ã©galement Ãªtre appelÃ© Un-Ã -Plusieurs. Les paquets adressÃ©s Ã  une adresse multicast sont livrÃ©s Ã  toutes les interfaces identifiÃ©es par l'adresse multicast. Les types d'adresse multicast sont facilement reconnaissables car ils commencent normalement par FF.\
**FF00::/8** - La plage de multidiffusion.

**Anycast :** Cette forme d'adresse IPv6 est similaire Ã  l'adresse multicast avec une lÃ©gÃ¨re diffÃ©rence. L'adresse anycast peut Ã©galement Ãªtre appelÃ©e Un Ã  Plus Proche. Elle peut Ãªtre utilisÃ©e pour adresser des paquets destinÃ©s Ã  plusieurs interfaces ; mais elle envoie gÃ©nÃ©ralement des paquets Ã  la premiÃ¨re interface qu'elle trouve, telle que dÃ©finie dans la distance de routage. Cela signifie qu'elle envoie des paquets Ã  l'interface la plus proche dÃ©terminÃ©e par les protocoles de routage.\
**20000::/3** - La plage d'adresses unicast globales.

fe80::/10 --> Link-Local Unique (169.254.x.x) \[fe80:0000:0000:0000:0000:0000:0000:0000, febf:ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]\
fc00::/7 --> Local-Unicast Unique (10.x.x.x, 172.16.x.x, 192.168.x.x) \[]\
2000::/3 --> Unicast global\
ff02::1 --> Multicast Tous les nÅ“uds\
ff02::2 --> Multicast NÅ“uds de routeur

## **Devinez l'IPv6 d'une machine**

**MÃ©thode 1**

Les adresses IPv6 de fe80::/10 sont basÃ©es sur l'adresse MAC. Si vous avez l'IPv6 d'un appareil Ã  l'intÃ©rieur d'un rÃ©seau et que vous voulez deviner l'IPv6 d'un autre appareil du rÃ©seau, vous pouvez obtenir son adresse MAC en utilisant une requÃªte ping (Ã  l'intÃ©rieur de la table ARP).

**MÃ©thode 2**

Vous pouvez envoyer un ping6 Ã  la multidiffusion et obtenir l'adresse IPv6 Ã  l'intÃ©rieur de la table ARP.
```bash
service ufw stop #Stop firewall
ping6 -I <IFACE> ff02::1 #You could also make: ping6 -I <IPV6> ff02::1 if you want to make a ping to a specific IP Address
ip -6 neigh
alive6
use auxiliary/scanner/discovery/ipv6_neighbor_router_advertisement; set INTERFACE eth1; run
```
# IPv6 MitM

Homme du milieu avec annonce de voisin ICMPv6 falsifiÃ©e.

* Homme du milieu avec annonce de routeur ICMPv6 falsifiÃ©e.
* Homme du milieu utilisant une redirection ICMPv6 ou ICMPv6 trop grand pour implanter une route.
* Homme du milieu pour attaquer le mobile IPv6 mais nÃ©cessite que ipsec soit dÃ©sactivÃ©.
* Homme du milieu avec un serveur DHCPv6 malveillant.



# DÃ©couverte d'adresses IPv6 dans la nature

## Sous-domaines

Vous pouvez utiliser Google et d'autres navigateurs pour rechercher des sous-domaines comme "ipv6.\*"
```bash
site:ipv6./
```
## DNS

Vous pouvez Ã©galement essayer de rechercher les adresses IPv6 en utilisant "**AXFR**" (zone de transfert), "**AAAA**" (IPv6) ou mÃªme "**ANY**" (tout) registre dans DNS.

## Ping6

Une fois que vous avez trouvÃ© certains appareils IPv6 d'une organisation, vous pouvez essayer d'utiliser `ping6` pour vÃ©rifier les adresses Ã  proximitÃ©.

# RÃ©fÃ©rences

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Travaillez-vous dans une **entreprise de cybersÃ©curitÃ©** ? Voulez-vous voir votre **entreprise annoncÃ©e dans HackTricks** ? ou voulez-vous avoir accÃ¨s Ã  la **derniÃ¨re version de PEASS ou tÃ©lÃ©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !

- DÃ©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)

- **Rejoignez le** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Partagez vos astuces de piratage en soumettant des PR au [repo hacktricks](https://github.com/carlospolop/hacktricks) et au [repo hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
