# PAM - Pluggable Authentication Modules

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


### Basic Information

**PAM (Pluggable Authentication Modules)** рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рддрдВрддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ рдЬреЛ **рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗрд╡рд╛рдУрдВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВ**, рдЙрдирдХреЗ рдкрд╣реБрдБрдЪ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдорд╛рдирджрдВрдбреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдПрдХ рдбрд┐рдЬрд┐рдЯрд▓ рдЧреЗрдЯрдХреАрдкрд░ рдХреЗ рд╕рдорд╛рди рд╣реИ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рдВрд▓рдЧреНрди рд╣реЛ рд╕рдХреЗрдВ рдЬрдмрдХрд┐ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдЙрдирдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдУрд╡рд░рд▓реЛрдб рд╕реЗ рдмрдЪрд╛ рдЬрд╛ рд╕рдХреЗред

#### Configuration Files

* **Solaris рдФрд░ UNIX-рдЖрдзрд╛рд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо** рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдХреЗрдВрджреНрд░реАрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ `/etc/pam.conf` рдкрд░ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИред
* **Linux рд╕рд┐рд╕реНрдЯрдо** рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рд╕реЗрд╡рд╛-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди `/etc/pam.d` рдХреЗ рднреАрддрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓реЙрдЧрд┐рди рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ `/etc/pam.d/login` рдкрд░ рдкрд╛рдИ рдЬрд╛рддреА рд╣реИред

рд▓реЙрдЧрд┐рди рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП PAM рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:
```
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
#### **PAM рдкреНрд░рдмрдВрдзрди рдХреНрд╖реЗрддреНрд░**

рдпреЗ рдХреНрд╖реЗрддреНрд░, рдпрд╛ рдкреНрд░рдмрдВрдзрди рд╕рдореВрд╣, **auth**, **account**, **password**, рдФрд░ **session** рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдФрд░ рд╕рддреНрд░ рдкреНрд░рдмрдВрдзрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдкрд╣рд▓реБрдУрдВ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ:

* **Auth**: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкрд╣рдЪрд╛рди рдХреЛ рдорд╛рдиреНрдп рдХрд░рддрд╛ рд╣реИ, рдЕрдХреНрд╕рд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рд╕рдВрдХреЗрдд рджреЗрдХрд░ред
* **Account**: рдЦрд╛рддрд╛ рд╕рддреНрдпрд╛рдкрди рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рд╕рдореВрд╣ рд╕рджрд╕реНрдпрддрд╛ рдпрд╛ рд╕рдордп-рд╕реАрдорд╛ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ред
* **Password**: рдкрд╛рд╕рд╡рд░реНрдб рдЕрдкрдбреЗрдЯ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЬрдЯрд┐рд▓рддрд╛ рдЬрд╛рдВрдЪ рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рд╣рдорд▓реЛрдВ рдХреА рд░реЛрдХрдерд╛рдо рд╢рд╛рдорд┐рд▓ рд╣реИред
* **Session**: рд╕реЗрд╡рд╛ рд╕рддреНрд░ рдХреА рд╢реБрд░реБрдЖрдд рдпрд╛ рдЕрдВрдд рдХреЗ рджреМрд░рд╛рди рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛ рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛рдПрдБ рд╕реЗрдЯ рдХрд░рдирд╛ред

#### **PAM рдореЙрдбреНрдпреВрд▓ рдирд┐рдпрдВрддреНрд░рдг**

рдирд┐рдпрдВрддреНрд░рдг рдореЙрдбреНрдпреВрд▓ рдХреА рд╕рдлрд▓рддрд╛ рдпрд╛ рд╡рд┐рдлрд▓рддрд╛ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╕рдордЧреНрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЗрдирдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* **Required**: рдПрдХ рдЖрд╡рд╢реНрдпрдХ рдореЙрдбреНрдпреВрд▓ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдЕрдВрддрддрдГ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рджреЗрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рддрдм рдЬрдм рд╕рднреА рдмрд╛рдж рдХреЗ рдореЙрдбреНрдпреВрд▓ рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рддреА рд╣реИред
* **Requisite**: рд╡рд┐рдлрд▓рддрд╛ рдкрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рддрд╛рддреНрдХрд╛рд▓рд┐рдХ рд╕рдорд╛рдкреНрддрд┐ред
* **Sufficient**: рд╕рдлрд▓рддрд╛ рдЙрд╕реА рдХреНрд╖реЗрддреНрд░ рдХреЗ рдмрд╛рдХреА рдЬрд╛рдВрдЪреЛрдВ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рддреА рд╣реИ рдЬрдм рддрдХ рдХрд┐ рдХреЛрдИ рдмрд╛рдж рдХрд╛ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рдлрд▓ рди рд╣реЛред
* **Optional**: рдХреЗрд╡рд▓ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ рдпрджрд┐ рдпрд╣ рд╕реНрдЯреИрдХ рдореЗрдВ рдПрдХрдорд╛рддреНрд░ рдореЙрдбреНрдпреВрд▓ рд╣реИред

#### рдЙрджрд╛рд╣рд░рдг рдкрд░рд┐рджреГрд╢реНрдп

рдХрдИ auth рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рд╛рде рд╕реЗрдЯрдЕрдк рдореЗрдВ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдПрдХ рд╕рдЦреНрдд рдХреНрд░рдо рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреА рд╣реИред рдпрджрд┐ `pam_securetty` рдореЙрдбреНрдпреВрд▓ рд▓реЙрдЧрд┐рди рдЯрд░реНрдорд┐рдирд▓ рдХреЛ рдЕрдирдзрд┐рдХреГрдд рдкрд╛рддрд╛ рд╣реИ, рддреЛ рд░реВрдЯ рд▓реЙрдЧрд┐рди рдЕрд╡рд░реБрджреНрдз рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рдлрд┐рд░ рднреА рд╕рднреА рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЗрд╕рдХреЗ "required" рд╕реНрдерд┐рддрд┐ рдХреЗ рдХрд╛рд░рдг рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред `pam_env` рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдореЗрдВ рд╕рд╣рд╛рдпрддрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИред `pam_ldap` рдФрд░ `pam_unix` рдореЙрдбреНрдпреВрд▓ рдПрдХ рд╕рд╛рде рдорд┐рд▓рдХрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рддреЗ рд╣реИрдВ, `pam_unix` рдкрд╣рд▓реЗ рд╕реЗ рджрд┐рдП рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддрд╛ рд╣реИ, рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рджрдХреНрд╖рддрд╛ рдФрд░ рд▓рдЪреАрд▓рд╛рдкрди рдмрдврд╝рд╛рддрд╛ рд╣реИред

### рд╕рдВрджрд░реНрдн

* [https://hotpotato.tistory.com/434](https://hotpotato.tistory.com/434)


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
