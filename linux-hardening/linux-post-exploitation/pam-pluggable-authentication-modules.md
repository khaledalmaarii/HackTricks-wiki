# PAM - Pluggable Authentication Modules

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


### Basic Information

**PAM (Pluggable Authentication Modules)** deluje kao bezbednosni mehanizam koji **proverava identitet korisnika koji pokuÅ¡avaju da pristupe raÄunarskim uslugama**, kontroliÅ¡uÄ‡i njihov pristup na osnovu razliÄitih kriterijuma. SliÄno je digitalnom Äuvaru, osiguravajuÄ‡i da samo ovlaÅ¡Ä‡eni korisnici mogu da koriste odreÄ‘ene usluge, dok potencijalno ograniÄavaju njihovu upotrebu kako bi se spreÄilo preoptereÄ‡enje sistema.

#### Configuration Files

* **Solaris i UNIX-bazirani sistemi** obiÄno koriste centralnu konfiguracionu datoteku smeÅ¡tenu na `/etc/pam.conf`.
* **Linux sistemi** preferiraju pristup putem direktorijuma, ÄuvajuÄ‡i konfiguracije specifiÄne za uslugu unutar `/etc/pam.d`. Na primer, konfiguraciona datoteka za uslugu prijavljivanja se nalazi na `/etc/pam.d/login`.

Primer PAM konfiguracije za uslugu prijavljivanja moÅ¾e izgledati ovako:
```
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```
#### **PAM MenadÅ¾ment Oblasti**

Ove oblasti, ili menadÅ¾ment grupe, ukljuÄuju **auth**, **account**, **password**, i **session**, svaka odgovorna za razliÄite aspekte procesa autentifikacije i upravljanja sesijama:

* **Auth**: Validira identitet korisnika, Äesto traÅ¾eÄ‡i lozinku.
* **Account**: Rukuje verifikacijom naloga, proveravajuÄ‡i uslove kao Å¡to su Älanstvo u grupi ili ograniÄenja vremena.
* **Password**: Upravljanje aÅ¾uriranjima lozinki, ukljuÄujuÄ‡i provere sloÅ¾enosti ili prevenciju napada reÄnikom.
* **Session**: Upravljanje radnjama tokom poÄetka ili zavrÅ¡etka sesije usluge, kao Å¡to su montiranje direktorijuma ili postavljanje ograniÄenja resursa.

#### **PAM Modul Kontrole**

Kontrole odreÄ‘uju odgovor modula na uspeh ili neuspeh, utiÄuÄ‡i na celokupni proces autentifikacije. Ove ukljuÄuju:

* **Required**: Neuspeh obaveznog modula rezultira konaÄnim neuspehom, ali samo nakon Å¡to su svi naredni moduli provereni.
* **Requisite**: Odmah prekida proces u sluÄaju neuspeha.
* **Sufficient**: Uspeh zaobilazi ostale provere iste oblasti osim ako neki naredni modul ne ne uspe.
* **Optional**: Uzrokuje neuspeh samo ako je jedini modul u steku.

#### Primer Scenarija

U postavci sa viÅ¡e auth modula, proces prati strogi redosled. Ako `pam_securetty` modul pronaÄ‘e da je terminal za prijavu neovlaÅ¡Ä‡en, root prijave su blokirane, ali se svi moduli i dalje obraÄ‘uju zbog njegovog "required" statusa. `pam_env` postavlja promenljive okruÅ¾enja, potencijalno pomaÅ¾uÄ‡i u korisniÄkom iskustvu. Moduli `pam_ldap` i `pam_unix` rade zajedno na autentifikaciji korisnika, pri Äemu `pam_unix` pokuÅ¡ava da koristi prethodno dostavljenu lozinku, poboljÅ¡avajuÄ‡i efikasnost i fleksibilnost u metodama autentifikacije.

### Reference

* [https://hotpotato.tistory.com/434](https://hotpotato.tistory.com/434)


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
