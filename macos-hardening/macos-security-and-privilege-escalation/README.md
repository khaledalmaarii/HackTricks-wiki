# macOSå®‰å…¨ä¸æƒé™æå‡

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFT](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

åŠ å…¥[**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy)æœåŠ¡å™¨ï¼Œä¸ç»éªŒä¸°å¯Œçš„é»‘å®¢å’Œèµé‡‘çŒäººäº¤æµï¼

**é»‘å®¢è§è§£**\
å‚ä¸æ·±å…¥æ¢è®¨é»‘å®¢çš„åˆºæ¿€å’ŒæŒ‘æˆ˜çš„å†…å®¹

**å®æ—¶é»‘å®¢æ–°é—»**\
é€šè¿‡å®æ—¶æ–°é—»å’Œè§è§£äº†è§£å¿«èŠ‚å¥çš„é»‘å®¢ä¸–ç•Œ

**æœ€æ–°å…¬å‘Š**\
äº†è§£æœ€æ–°çš„èµé‡‘ä»»åŠ¡å‘å¸ƒå’Œé‡è¦å¹³å°æ›´æ–°

**åŠ å…¥æˆ‘ä»¬çš„**[**Discord**](https://discord.com/invite/N3FrSbmwdy)ï¼Œä¸é¡¶çº§é»‘å®¢ä¸€èµ·åˆä½œï¼

## åŸºæœ¬çš„MacOSçŸ¥è¯†

å¦‚æœä½ å¯¹macOSä¸ç†Ÿæ‚‰ï¼Œä½ åº”è¯¥å¼€å§‹å­¦ä¹ macOSçš„åŸºç¡€çŸ¥è¯†ï¼š

* ç‰¹æ®Šçš„macOS**æ–‡ä»¶å’Œæƒé™ï¼š**

{% content-ref url="macos-files-folders-and-binaries/" %}
[macos-files-folders-and-binaries](macos-files-folders-and-binaries/)
{% endcontent-ref %}

* å¸¸è§çš„macOS**ç”¨æˆ·**

{% content-ref url="macos-users.md" %}
[macos-users.md](macos-users.md)
{% endcontent-ref %}

* **AppleFS**

{% content-ref url="macos-applefs.md" %}
[macos-applefs.md](macos-applefs.md)
{% endcontent-ref %}

* **å†…æ ¸**çš„**æ¶æ„**

{% content-ref url="mac-os-architecture/" %}
[mac-os-architecture](mac-os-architecture/)
{% endcontent-ref %}

* å¸¸è§çš„macOS**ç½‘ç»œæœåŠ¡å’Œåè®®**

{% content-ref url="macos-protocols.md" %}
[macos-protocols.md](macos-protocols.md)
{% endcontent-ref %}

* **å¼€æº**çš„macOSï¼š[https://opensource.apple.com/](https://opensource.apple.com/)
* è¦ä¸‹è½½ä¸€ä¸ª`tar.gz`æ–‡ä»¶ï¼Œå°†URLä»[https://opensource.apple.com/**source**/dyld/](https://opensource.apple.com/source/dyld/)æ›´æ”¹ä¸º[https://opensource.apple.com/**tarballs**/dyld/**dyld-852.2.tar.gz**](https://opensource.apple.com/tarballs/dyld/dyld-852.2.tar.gz)

### MacOS MDM

åœ¨å…¬å¸ä¸­ï¼Œ**macOS**ç³»ç»Ÿå¾ˆå¯èƒ½ä¼šè¢«**MDMç®¡ç†**ã€‚å› æ­¤ï¼Œä»æ”»å‡»è€…çš„è§’åº¦æ¥çœ‹ï¼Œäº†è§£**å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„**æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼š

{% content-ref url="../macos-red-teaming/macos-mdm/" %}
[macos-mdm](../macos-red-teaming/macos-mdm/)
{% endcontent-ref %}

### MacOS - æ£€æŸ¥ã€è°ƒè¯•å’Œæ¨¡ç³Šæµ‹è¯•

{% content-ref url="macos-apps-inspecting-debugging-and-fuzzing/" %}
[macos-apps-inspecting-debugging-and-fuzzing](macos-apps-inspecting-debugging-and-fuzzing/)
{% endcontent-ref %}

## MacOSå®‰å…¨ä¿æŠ¤

{% content-ref url="macos-security-protections/" %}
[macos-security-protections](macos-security-protections/)
{% endcontent-ref %}

## æ”»å‡»é¢

### æ–‡ä»¶æƒé™

å¦‚æœä»¥**rootæƒé™è¿è¡Œçš„è¿›ç¨‹**å†™å…¥ä¸€ä¸ªå¯ä»¥è¢«ç”¨æˆ·æ§åˆ¶çš„æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´**æå‡æƒé™**ã€‚\
è¿™ç§æƒ…å†µå¯èƒ½å‘ç”Ÿåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼š

* ä½¿ç”¨çš„æ–‡ä»¶å·²ç»ç”±ç”¨æˆ·åˆ›å»ºï¼ˆç”±ç”¨æˆ·æ‹¥æœ‰ï¼‰
* ä½¿ç”¨çš„æ–‡ä»¶ç”±äºä¸€ä¸ªç»„çš„åŸå› å¯è¢«ç”¨æˆ·å†™å…¥
* ä½¿ç”¨çš„æ–‡ä»¶ä½äºç”¨æˆ·æ‹¥æœ‰çš„ç›®å½•ä¸­ï¼ˆç”¨æˆ·å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼‰
* ä½¿ç”¨çš„æ–‡ä»¶ä½äºç”±rootæ‹¥æœ‰ä½†ç”¨æˆ·å…·æœ‰å†™å…¥æƒé™çš„ç›®å½•ä¸­ï¼ˆç”¨æˆ·å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼‰

èƒ½å¤Ÿ**åˆ›å»ºä¸€ä¸ªå°†è¢«rootä½¿ç”¨çš„æ–‡ä»¶**ï¼Œå…è®¸ç”¨æˆ·**åˆ©ç”¨å…¶å†…å®¹**ï¼Œç”šè‡³åˆ›å»º**ç¬¦å·é“¾æ¥/ç¡¬é“¾æ¥**å°†å…¶æŒ‡å‘å¦ä¸€ä¸ªä½ç½®ã€‚

å¯¹äºè¿™ç§ç±»å‹çš„æ¼æ´ï¼Œä¸è¦å¿˜è®°**æ£€æŸ¥æ˜“å—æ”»å‡»çš„`.pkg`å®‰è£…ç¨‹åº**ï¼š

{% content-ref url="macos-files-folders-and-binaries/macos-installers-abuse.md" %}
[macos-installers-abuse.md](macos-files-folders-and-binaries/macos-installers-abuse.md)
{% endcontent-ref %}
### æ–‡ä»¶æ‰©å±•åå’ŒURLæ–¹æ¡ˆåº”ç”¨ç¨‹åºå¤„ç†ç¨‹åº

é€šè¿‡æ–‡ä»¶æ‰©å±•åæ³¨å†Œçš„å¥‡æ€ªåº”ç”¨ç¨‹åºå¯èƒ½ä¼šè¢«æ»¥ç”¨ï¼Œå¹¶ä¸”ä¸åŒçš„åº”ç”¨ç¨‹åºå¯ä»¥æ³¨å†Œä»¥æ‰“å¼€ç‰¹å®šçš„åè®®ã€‚

{% content-ref url="macos-file-extension-apps.md" %}
[macos-file-extension-apps.md](macos-file-extension-apps.md)
{% endcontent-ref %}

## macOS TCC / SIPæƒé™æå‡

åœ¨macOSä¸­ï¼Œ**åº”ç”¨ç¨‹åºå’ŒäºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥å…·æœ‰è®¿é—®æ–‡ä»¶å¤¹æˆ–è®¾ç½®çš„æƒé™**ï¼Œä½¿å®ƒä»¬æ¯”å…¶ä»–åº”ç”¨ç¨‹åºæ›´å…·ç‰¹æƒã€‚

å› æ­¤ï¼Œæƒ³è¦æˆåŠŸæ”»å‡»macOSæœºå™¨çš„æ”»å‡»è€…å°†éœ€è¦**æå‡å…¶TCCæƒé™**ï¼ˆç”šè‡³**ç»•è¿‡SIP**ï¼Œå–å†³äºä»–çš„éœ€æ±‚ï¼‰ã€‚

è¿™äº›æƒé™é€šå¸¸ä»¥åº”ç”¨ç¨‹åºç­¾åçš„**æˆæƒ**å½¢å¼ç»™å‡ºï¼Œæˆ–è€…åº”ç”¨ç¨‹åºå¯èƒ½è¯·æ±‚æŸäº›è®¿é—®æƒé™ï¼Œç»è¿‡**ç”¨æˆ·æ‰¹å‡†**åï¼Œè¿™äº›æƒé™å¯ä»¥åœ¨**TCCæ•°æ®åº“**ä¸­æ‰¾åˆ°ã€‚è¿›ç¨‹å¯ä»¥è·å¾—è¿™äº›æƒé™çš„å¦ä¸€ç§æ–¹å¼æ˜¯ä½œä¸ºå…·æœ‰è¿™äº›æƒé™çš„è¿›ç¨‹çš„**å­è¿›ç¨‹**ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸æ˜¯**ç»§æ‰¿**çš„ã€‚

è¯·å‚é˜…ä»¥ä¸‹é“¾æ¥ï¼Œäº†è§£ä¸åŒçš„æ–¹æ³•æ¥[**æå‡TCCæƒé™**](macos-security-protections/macos-tcc/#tcc-privesc-and-bypasses)ï¼Œ[**ç»•è¿‡TCC**](macos-security-protections/macos-tcc/macos-tcc-bypasses/)ä»¥åŠè¿‡å»å¦‚ä½•[**ç»•è¿‡SIP**](macos-security-protections/macos-sip.md#sip-bypasses)ã€‚

## macOSä¼ ç»Ÿæƒé™æå‡

å½“ç„¶ï¼Œä»çº¢é˜Ÿçš„è§’åº¦æ¥çœ‹ï¼Œæ‚¨ä¹Ÿåº”è¯¥å¯¹æå‡ä¸ºrootæ„Ÿå…´è¶£ã€‚æŸ¥çœ‹ä»¥ä¸‹æ–‡ç« ä»¥è·å–ä¸€äº›æç¤ºï¼š

{% content-ref url="macos-privilege-escalation.md" %}
[macos-privilege-escalation.md](macos-privilege-escalation.md)
{% endcontent-ref %}

## å‚è€ƒèµ„æ–™

* [**OS Xäº‹ä»¶å“åº”ï¼šè„šæœ¬å’Œåˆ†æ**](https://www.amazon.com/OS-Incident-Response-Scripting-Analysis-ebook/dp/B01FHOHHVS)
* [**https://taomm.org/vol1/analysis.html**](https://taomm.org/vol1/analysis.html)
* [**https://github.com/NicolasGrimonpont/Cheatsheet**](https://github.com/NicolasGrimonpont/Cheatsheet)
* [**https://assets.sentinelone.com/c/sentinal-one-mac-os-?x=FvGtLJ**](https://assets.sentinelone.com/c/sentinal-one-mac-os-?x=FvGtLJ)
* [**https://www.youtube.com/watch?v=vMGiplQtjTY**](https://www.youtube.com/watch?v=vMGiplQtjTY)

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

åŠ å…¥[**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy)æœåŠ¡å™¨ï¼Œä¸ç»éªŒä¸°å¯Œçš„é»‘å®¢å’Œèµé‡‘çŒäººäº¤æµï¼

**é»‘å®¢è§è§£**\
å‚ä¸æ·±å…¥æ¢è®¨é»‘å®¢çš„åˆºæ¿€å’ŒæŒ‘æˆ˜çš„å†…å®¹

**å®æ—¶é»‘å®¢æ–°é—»**\
é€šè¿‡å®æ—¶æ–°é—»å’Œè§è§£äº†è§£å¿«èŠ‚å¥çš„é»‘å®¢ä¸–ç•Œ

**æœ€æ–°å…¬å‘Š**\
äº†è§£æœ€æ–°çš„èµé‡‘ä»»åŠ¡å¯åŠ¨å’Œé‡è¦å¹³å°æ›´æ–°

**åŠ å…¥æˆ‘ä»¬çš„** [**Discord**](https://discord.com/invite/N3FrSbmwdy) **ï¼Œä¸é¡¶çº§é»‘å®¢ä¸€èµ·åˆä½œï¼**

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTæ”¶è—å“](https://opensea.io/collection/the-peass-family)â€”â€”[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
