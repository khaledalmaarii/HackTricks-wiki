# macOS AppleFS

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}
{% endhint %}

## Apple Proprietary File System (APFS)

**Apple File System (APFS)** рдПрдХ рдЖрдзреБрдирд┐рдХ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рд╣реИ рдЬрд┐рд╕реЗ **Hierarchical File System Plus (HFS+)** рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рдХрд╛ рд╡рд┐рдХрд╛рд╕ **рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди, рд╕реБрд░рдХреНрд╖рд╛, рдФрд░ рджрдХреНрд╖рддрд╛** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╕реЗ рдкреНрд░реЗрд░рд┐рдд рдерд╛ред

APFS рдХреА рдХреБрдЫ рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реИрдВ:

1. **рд╕реНрдкреЗрд╕ рд╢реЗрдпрд░рд┐рдВрдЧ**: APFS рдХрдИ рд╡реЙрд▓реНрдпреВрдо рдХреЛ **рдПрдХ рд╣реА рднреМрддрд┐рдХ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд╕рдорд╛рди рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдореБрдХреНрдд рд╕рдВрдЧреНрд░рд╣рдг рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдпрд╣ рдЕрдзрд┐рдХ рдХреБрд╢рд▓ рд╕реНрдерд╛рди рдЙрдкрдпреЛрдЧ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╡реЙрд▓реНрдпреВрдо рдмрд┐рдирд╛ рдореИрдиреБрдЕрд▓ рдЖрдХрд╛рд░ рдмрджрд▓рдиреЗ рдпрд╛ рдкреБрдирдГ рд╡рд┐рднрд╛рдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдмрдврд╝ рдФрд░ рдШрдЯ рд╕рдХрддреЗ рд╣реИрдВред
1. рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ, рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╡рд┐рднрд╛рдЬрдиреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдбрд┐рд╕реНрдХ рдореЗрдВ, **рдХрд┐ APFS рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рднрд╛рдЬрди (рд╡реЙрд▓реНрдпреВрдо) рд╕рднреА рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ**, рдЬрдмрдХрд┐ рдПрдХ рдирд┐рдпрдорд┐рдд рд╡рд┐рднрд╛рдЬрди рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЖрдХрд╛рд░ рдХрд╛ рд╣реЛрддрд╛ рдерд╛ред
2. **рд╕реНрдиреИрдкрд╢реЙрдЯ**: APFS **рд╕реНрдиреИрдкрд╢реЙрдЯ рдмрдирд╛рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ**, рдЬреЛ **рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓** рд╕рдордп-рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЙрджрд╛рд╣рд░рдг рд╣реЛрддреЗ рд╣реИрдВред рд╕реНрдиреИрдкрд╢реЙрдЯ рдХреБрд╢рд▓ рдмреИрдХрдЕрдк рдФрд░ рдЖрд╕рд╛рди рд╕рд┐рд╕реНрдЯрдо рд░реЛрд▓рдмреИрдХ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдиреНрдпреВрдирддрдо рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрдЧреНрд░рд╣рдг рдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд▓реНрджреА рд╕реЗ рдмрдирд╛рдП рдпрд╛ рд╡рд╛рдкрд╕ рд▓рд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред
3. **рдХреНрд▓реЛрди**: APFS **рдлрд╛рдЗрд▓ рдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреНрд▓реЛрди рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдореВрд▓ рдХреЗ рд╕рдорд╛рди рд╕рдВрдЧреНрд░рд╣рдг рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ** рдЬрдм рддрдХ рдХрд┐ рдпрд╛ рддреЛ рдХреНрд▓реЛрди рдпрд╛ рдореВрд▓ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрд╢реЛрдзрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ред рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдлрд╝рд╛рдЗрд▓реЛрдВ рдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреА рдкреНрд░рддрд┐рдпрд╛рдБ рдмрдирд╛рдиреЗ рдХрд╛ рдПрдХ рдХреБрд╢рд▓ рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ рдмрд┐рдирд╛ рд╕рдВрдЧреНрд░рд╣рдг рд╕реНрдерд╛рди рдХреЛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд┐рдПред
4. **рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди**: APFS **рдкреВрд░реНрдг-рдбрд┐рд╕реНрдХ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди** рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдкреНрд░рддрд┐-рдлрд╝рд╛рдЗрд▓ рдФрд░ рдкреНрд░рддрд┐-рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХрд╛ **рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ**, рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрдврд╝рд╛рддрд╛ рд╣реИред
5. **рдХреНрд░реИрд╢ рд╕реБрд░рдХреНрд╖рд╛**: APFS рдПрдХ **рдХреЙрдкреА-рдСрди-рд░рд╛рдЗрдЯ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдпреЛрдЬрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдХреА рд╕реНрдерд┐рд░рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ** рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рдЕрдЪрд╛рдирдХ рдкрд╛рд╡рд░ рд▓реЙрд╕ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдХреНрд░реИрд╢ рдХреЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдбреЗрдЯрд╛ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рддрд╛ рд╣реИред

рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, APFS Apple рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдзрд┐рдХ рдЖрдзреБрдирд┐рдХ, рд▓рдЪреАрд▓реА, рдФрд░ рдХреБрд╢рд▓ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди, рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛, рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
```bash
diskutil list # Get overview of the APFS volumes
```
## Firmlinks

`Data` рд╡реЙрд▓реНрдпреВрдо **`/System/Volumes/Data`** рдореЗрдВ рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдЖрдк рдЗрд╕реЗ `diskutil apfs list` рдХреЗ рд╕рд╛рде рдЪреЗрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред

Firmlinks рдХреА рд╕реВрдЪреА **`/usr/share/firmlinks`** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред
```bash
{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

{% endhint %}
</details>
{% endhint %}
