# macOS рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрд╡рд╛рдПрдБ рдФрд░ рдкреНрд░реЛрдЯреЛрдХреЙрд▓

{% hint style="success" %}
рд╕реАрдЦреЗрдВ рдФрд░ AWS рд╣реИрдХрд┐рдВрдЧ рдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
рд╕реАрдЦреЗрдВ рдФрд░ GCP рд╣реИрдХрд┐рдВрдЧ рдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **рд╣рдорд╛рд░реЗ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **рд╣рдореЗрдВ** **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВред**
* рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}

## рд░рд┐рдореЛрдЯ рдПрдХреНрд╕реЗрд╕ рд╕реЗрд╡рд╛рдПрдБ

рдпреЗ рд╕рд╛рдорд╛рдиреНрдп macOS рд╕реЗрд╡рд╛рдПрдБ рд╣реИрдВ рдЬрд┐рдирдХрд╛ рдЖрдк рджреВрд░рд╕реНрде рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рдЖрдк рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдХреЛ `System Settings` --> `Sharing` рдореЗрдВ рд╕рдХреНрд╖рдо/рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

* **VNC**, рдЬрд┐рд╕реЗ тАЬрд╕реНрдХреНрд░реАрди рд╢реЗрдпрд░рд┐рдВрдЧтАЭ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ (tcp:5900)
* **SSH**, рдЬрд┐рд╕реЗ тАЬрд░рд┐рдореЛрдЯ рд▓реЙрдЧрд┐рдитАЭ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ (tcp:22)
* **Apple Remote Desktop** (ARD), рдпрд╛ тАЬрд░рд┐рдореЛрдЯ рдкреНрд░рдмрдВрдзрдитАЭ (tcp:3283, tcp:5900)
* **AppleEvent**, рдЬрд┐рд╕реЗ тАЬрд░рд┐рдореЛрдЯ Apple рдЗрд╡реЗрдВрдЯтАЭ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ (tcp:3031)

рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЗрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╕рдХреНрд╖рдо рд╣реИ рдпрд╛ рдирд╣реАрдВ:
```bash
rmMgmt=$(netstat -na | grep LISTEN | grep tcp46 | grep "*.3283" | wc -l);
scrShrng=$(netstat -na | grep LISTEN | egrep 'tcp4|tcp6' | grep "*.5900" | wc -l);
flShrng=$(netstat -na | grep LISTEN | egrep 'tcp4|tcp6' | egrep "\*.88|\*.445|\*.548" | wc -l);
rLgn=$(netstat -na | grep LISTEN | egrep 'tcp4|tcp6' | grep "*.22" | wc -l);
rAE=$(netstat -na | grep LISTEN | egrep 'tcp4|tcp6' | grep "*.3031" | wc -l);
bmM=$(netstat -na | grep LISTEN | egrep 'tcp4|tcp6' | grep "*.4488" | wc -l);
printf "\nThe following services are OFF if '0', or ON otherwise:\nScreen Sharing: %s\nFile Sharing: %s\nRemote Login: %s\nRemote Mgmt: %s\nRemote Apple Events: %s\nBack to My Mac: %s\n\n" "$scrShrng" "$flShrng" "$rLgn" "$rmMgmt" "$rAE" "$bmM";
```
### Pentesting ARD

Apple Remote Desktop (ARD) macOS рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд [Virtual Network Computing (VNC)](https://en.wikipedia.org/wiki/Virtual_Network_Computing) рдХрд╛ рдПрдХ рдЙрдиреНрдирдд рд╕рдВрд╕реНрдХрд░рдг рд╣реИ, рдЬреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред ARD рдореЗрдВ рдПрдХ рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рд╕реБрд░рдХреНрд╖рд╛ рдХрдореА рдЗрд╕рдХрд╛ рдирд┐рдпрдВрддреНрд░рдг рд╕реНрдХреНрд░реАрди рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐ рд╣реИ, рдЬреЛ рдХреЗрд╡рд▓ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рдкрд╣рд▓реЗ 8 рдЕрдХреНрд╖рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ [brute force attacks](https://thudinh.blogspot.com/2017/09/brute-forcing-passwords-with-thc-hydra.html) рдХреЗ рд▓рд┐рдП рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ Hydra рдпрд╛ [GoRedShell](https://github.com/ahhh/GoRedShell/) рдХреЗ рд╕рд╛рде, рдХреНрдпреЛрдВрдХрд┐ рдХреЛрдИ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рджрд░ рд╕реАрдорд╛ рдирд╣реАрдВ рд╣реИред

рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рдкрд╣рдЪрд╛рди **nmap** рдХреЗ `vnc-info` рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред `VNC Authentication (2)` рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдПрдБ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ 8-рдЕрдХреНрд╖рд░ рдкрд╛рд╕рд╡рд░реНрдб рдХрдЯреМрддреА рдХреЗ рдХрд╛рд░рдг brute force рд╣рдорд▓реЛрдВ рдХреЗ рдкреНрд░рддрд┐ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛрддреА рд╣реИрдВред

рдкреНрд░рд┐рд╡рд┐рд▓реЗрдЬ рд╡реГрджреНрдзрд┐, GUI рдПрдХреНрд╕реЗрд╕, рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рдЧрд░рд╛рдиреА рдЬреИрд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП ARD рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:
```bash
sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -activate -configure -allowAccessFor -allUsers -privs -all -clientopts -setmenuextra -menuextra yes
```
ARD рд╡рд┐рднрд┐рдиреНрди рдирд┐рдпрдВрддреНрд░рдг рд╕реНрддрд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЕрд╡рд▓реЛрдХрди, рд╕рд╛рдЭрд╛ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рдкреВрд░реНрдг рдирд┐рдпрдВрддреНрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдФрд░ рд╕рддреНрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдмрд╛рдж рднреА рдмрдиреЗ рд░рд╣рддреЗ рд╣реИрдВред рдпрд╣ рд╕реАрдзреЗ Unix рдХрдорд╛рдВрдб рднреЗрдЬрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рдиреНрд╣реЗрдВ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдХрд╛рд░реНрдп рдЕрдиреБрд╕реВрдЪреА рдФрд░ рд░рд┐рдореЛрдЯ рд╕реНрдкреЙрдЯрд▓рд╛рдЗрдЯ рдЦреЛрдЬ рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реИрдВ, рдЬреЛ рдХрдИ рдорд╢реАрдиреЛрдВ рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рджреВрд░рд╕реНрде, рдХрдо-рдкреНрд░рднрд╛рд╡ рд╡рд╛рд▓реА рдЦреЛрдЬреЛрдВ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддреА рд╣реИрдВред

## Bonjour рдкреНрд░реЛрдЯреЛрдХреЙрд▓

Bonjour, рдПрдХ Apple рджреНрд╡рд╛рд░рд╛ рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рддрдХрдиреАрдХ, **рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдПрдХ-рджреВрд╕рд░реЗ рдХреА рдкреЗрд╢ рдХреА рдЧрдИ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдЗрд╕реЗ Rendezvous, **Zero Configuration**, рдпрд╛ Zeroconf рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣ рдПрдХ рдЙрдкрдХрд░рдг рдХреЛ TCP/IP рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ, **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ IP рдкрддрд╛ рдЪреБрдирдиреЗ**, рдФрд░ рдЕрдиреНрдп рдиреЗрдЯрд╡рд░реНрдХ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЕрдкрдиреА рд╕реЗрд╡рд╛рдПрдБ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред

Zero Configuration Networking, рдЬреЛ Bonjour рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЙрдкрдХрд░рдг:
* **DHCP рд╕рд░реНрд╡рд░ рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ IP рдкрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред**
* **DNS рд╕рд░реНрд╡рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ рдирд╛рдо-рд╕реЗ-рдкрддрд╛ рдЕрдиреБрд╡рд╛рдж** рдХрд░ рд╕рдХреЗрдВред
* рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЙрдкрд▓рдмреНрдз **рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдБред**

Bonjour рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдг **169.254/16 рд░реЗрдВрдЬ** рд╕реЗ рдПрдХ **IP рдкрддрд╛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВрдЧреЗ** рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЗрд╕рдХреА рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВрдЧреЗред Macs рдЗрд╕ рдЙрдкрдиреЗрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдмрдирд╛рдП рд░рдЦрддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ `netstat -rn | grep 169` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

DNS рдХреЗ рд▓рд┐рдП, Bonjour **Multicast DNS (mDNS) рдкреНрд░реЛрдЯреЛрдХреЙрд▓** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред mDNS **рдкреЛрд░реНрдЯ 5353/UDP** рдкрд░ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, **рдорд╛рдирдХ DNS рдкреНрд░рд╢реНрдиреЛрдВ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рд▓реЗрдХрд┐рди **рдорд▓реНрдЯреАрдХрд╛рд╕реНрдЯ рдкрддреЗ 224.0.0.251** рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рд╕рднреА рд╕реБрдирдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдг рдкреНрд░рд╢реНрди рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВ рдФрд░ рдЙрддреНрддрд░ рджреЗ рд╕рдХреЗрдВ, рдЬрд┐рд╕рд╕реЗ рдЙрдирдХреЗ рд░рд┐рдХреЙрд░реНрдб рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓рддреА рд╣реИред

рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдкрд░, рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдХрд░рдг рдПрдХ рдирд╛рдо рдХрд╛ рд╕реНрд╡-рдЪрдпрди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ **.local** рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рд╣реЛрд╕реНрдЯрдирд╛рдо рд╕реЗ рд╡реНрдпреБрддреНрдкрдиреНрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рднреАрддрд░ рд╕реЗрд╡рд╛ рдЦреЛрдЬ рдХреЛ **DNS рд╕реЗрд╡рд╛ рдЦреЛрдЬ (DNS-SD)** рджреНрд╡рд╛рд░рд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред DNS SRV рд░рд┐рдХреЙрд░реНрдб рдХреЗ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд▓рд╛рдн рдЙрдард╛рддреЗ рд╣реБрдП, DNS-SD **DNS PTR рд░рд┐рдХреЙрд░реНрдб** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдИ рд╕реЗрд╡рд╛рдУрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред рдПрдХ рдЧреНрд░рд╛рд╣рдХ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрд╡рд╛ рдХреА рддрд▓рд╛рд╢ рдореЗрдВ `<Service>.<Domain>` рдХреЗ рд▓рд┐рдП рдПрдХ PTR рд░рд┐рдХреЙрд░реНрдб рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░реЗрдЧрд╛, рдпрджрд┐ рд╕реЗрд╡рд╛ рдХрдИ рд╣реЛрд╕реНрдЯреЛрдВ рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИ рддреЛ рдЙрд╕реЗ `<Instance>.<Service>.<Domain>` рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рд░реВрдкрд┐рдд PTR рд░рд┐рдХреЙрд░реНрдб рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧреАред

`dns-sd` рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ **рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЦреЛрдЬ рдФрд░ рд╡рд┐рдЬреНрдЮрд╛рдкрди** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ:

### SSH рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЦреЛрдЬ

рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ SSH рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:
```bash
dns-sd -B _ssh._tcp
```
рдпрд╣ рдХрдорд╛рдВрдб _ssh._tcp рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдмреНрд░рд╛рдЙрдЬрд╝рд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк, рдлреНрд▓реИрдЧ, рдЗрдВрдЯрд░рдлреЗрд╕, рдбреЛрдореЗрди, рд╕реЗрд╡рд╛ рдкреНрд░рдХрд╛рд░, рдФрд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдирд╛рдо рдЬреИрд╕реА рдЬрд╛рдирдХрд╛рд░реА рдЖрдЙрдЯрдкреБрдЯ рдХрд░рддрд╛ рд╣реИред

### HTTP рд╕реЗрд╡рд╛ рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдХрд░рдирд╛

HTTP рд╕реЗрд╡рд╛ рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
dns-sd -R "Index" _http._tcp . 80 path=/index.html
```
рдпрд╣ рдХрдорд╛рдВрдб рдкреЛрд░реНрдЯ 80 рдкрд░ `/index.html` рдХреЗ рдкрде рдХреЗ рд╕рд╛рде "Index" рдирд╛рдо рдХреА рдПрдХ HTTP рд╕реЗрд╡рд╛ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддрд╛ рд╣реИред

рдлрд┐рд░ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ HTTP рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
dns-sd -B _http._tcp
```
рдЬрдм рдПрдХ рд╕реЗрд╡рд╛ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рддреЛ рдпрд╣ рдЕрдкрдиреЗ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреА рдШреЛрд╖рдгрд╛ рд╕рднреА рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╕рдмрдиреЗрдЯ рдкрд░ рдорд▓реНрдЯреАрдХрд╛рд╕реНрдЯ рдХрд░рдХреЗ рдХрд░рддреА рд╣реИред рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЕрдиреБрд░реЛрдз рднреЗрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдмрд▓реНрдХрд┐ рд╡реЗ рдмрд╕ рдЗрди рдШреЛрд╖рдгрд╛рдУрдВ рдХреЛ рд╕реБрдирддреЗ рд╣реИрдВред

рдПрдХ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдЕрдиреБрдХреВрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд▓рд┐рдП, **Discovery - DNS-SD Browser** рдРрдк рдЬреЛ Apple App Store рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдЖрдкрдХреЗ рд╕реНрдерд╛рдиреАрдп рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рджреГрд╢реНрдп рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдХрд╕реНрдЯрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ рдЬреЛ `python-zeroconf` рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдмреНрд░рд╛рдЙрдЬрд╝ рдФрд░ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдПред [**python-zeroconf**](https://github.com/jstasiak/python-zeroconf) рд╕реНрдХреНрд░рд┐рдкреНрдЯ `_http._tcp.local.` рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрд╡рд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдмрдирд╛рдиреЗ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░рддреА рд╣реИ, рдЬреЛ рдЬреЛрдбрд╝реА рдЧрдИ рдпрд╛ рд╣рдЯрд╛рдИ рдЧрдИ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреА рд╣реИ:
```python
from zeroconf import ServiceBrowser, Zeroconf

class MyListener:

def remove_service(self, zeroconf, type, name):
print("Service %s removed" % (name,))

def add_service(self, zeroconf, type, name):
info = zeroconf.get_service_info(type, name)
print("Service %s added, service info: %s" % (name, info))

zeroconf = Zeroconf()
listener = MyListener()
browser = ServiceBrowser(zeroconf, "_http._tcp.local.", listener)
try:
input("Press enter to exit...\n\n")
finally:
zeroconf.close()
```
### Bonjour рдХреЛ рдмрдВрдж рдХрд░рдирд╛
рдпрджрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛рдПрдБ рд╣реИрдВ рдпрд╛ Bonjour рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рдХрд╛рд░рдг рд╣реИрдВ, рддреЛ рдЗрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдВрдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:
```bash
sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist
```
## рд╕рдВрджрд░реНрдн

* [**рдж рдореИрдХ рд╣реИрдХрд░ рдХрд╛ рд╣реИрдВрдбрдмреБрдХ**](https://www.amazon.com/-/es/Charlie-Miller-ebook-dp-B004U7MUMU/dp/B004U7MUMU/ref=mt\_other?\_encoding=UTF8\&me=\&qid=)
* [**https://taomm.org/vol1/analysis.html**](https://taomm.org/vol1/analysis.html)
* [**https://lockboxx.blogspot.com/2019/07/macos-red-teaming-206-ard-apple-remote.html**](https://lockboxx.blogspot.com/2019/07/macos-red-teaming-206-ard-apple-remote.html)

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **рд╣рдорд╛рд░реЗ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **рд╣рдореЗрдВ** **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}
