# Android UygulamalarÄ± Pentesting

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Deneyimli hackerlar ve Ã¶dÃ¼l avcÄ±larÄ±yla iletiÅŸim kurmak iÃ§in [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) sunucusuna katÄ±lÄ±n!

**Hacking Ä°Ã§gÃ¶rÃ¼leri**\
Hacking'in heyecanÄ±na ve zorluklarÄ±na dalmÄ±ÅŸ iÃ§eriklerle etkileÅŸim kurun

**GerÃ§ek ZamanlÄ± Hack Haberleri**\
HÄ±zlÄ± tempolu hacking dÃ¼nyasÄ±nÄ± gerÃ§ek zamanlÄ± haberler ve iÃ§gÃ¶rÃ¼lerle takip edin

**En Son Duyurular**\
Yeni Ã¶dÃ¼l avcÄ±larÄ±nÄ±n baÅŸlatÄ±ldÄ±ÄŸÄ± ve Ã¶nemli platform gÃ¼ncellemelerinin olduÄŸu en son duyurularla bilgilenin

**Bize katÄ±lÄ±n** [**Discord**](https://discord.com/invite/N3FrSbmwdy) ve bugÃ¼n en iyi hackerlarla iÅŸbirliÄŸi yapmaya baÅŸlayÄ±n!

## Android UygulamalarÄ± Temelleri

Android gÃ¼venliÄŸi ile ilgili **en Ã¶nemli bÃ¶lÃ¼mleri ve bir Android uygulamasÄ±ndaki en tehlikeli bileÅŸenleri** Ã¶ÄŸrenmek iÃ§in bu sayfayÄ± okumak Ã§ok Ã¶nerilir:

{% content-ref url="android-applications-basics.md" %}
[android-applications-basics.md](android-applications-basics.md)
{% endcontent-ref %}

## ADB (Android Debug KÃ¶prÃ¼sÃ¼)

Bu, bir Android cihaza (emÃ¼le veya fiziksel) baÄŸlanmak iÃ§in ihtiyaÃ§ duyduÄŸunuz ana araÃ§tÄ±r.\
**ADB**, cihazlarÄ± bir bilgisayardan **USB** veya **AÄŸ** Ã¼zerinden kontrol etmeyi saÄŸlar. Bu yardÄ±mcÄ± program, dosyalarÄ±n **iki yÃ¶nde kopyalanmasÄ±nÄ±**, uygulamalarÄ±n **kurulmasÄ±nÄ± ve kaldÄ±rÄ±lmasÄ±nÄ±**, kabuk komutlarÄ±nÄ±n **yÃ¼rÃ¼tÃ¼lmesini**, verilerin **yedeklenmesini**, gÃ¼nlÃ¼klerin **okunmasÄ±nÄ±** ve diÄŸer iÅŸlevleri saÄŸlar.

ADB'yi nasÄ±l kullanacaÄŸÄ±nÄ±zÄ± Ã¶ÄŸrenmek iÃ§in aÅŸaÄŸÄ±daki [**ADB KomutlarÄ±**](adb-commands.md) listesine gÃ¶z atÄ±n.

## Smali

Bazen **uygulama kodunu deÄŸiÅŸtirmek** ilginÃ§ olabilir ve **gizli bilgilere** (belki de iyi gizlenmiÅŸ ÅŸifreler veya bayraklar) eriÅŸmek iÃ§in apk'yÄ± decompile etmek, kodu deÄŸiÅŸtirmek ve yeniden derlemek ilginÃ§ olabilir.\
[**Bu Ã¶ÄŸreticide** apk'yÄ± decompile etmeyi, Smali kodunu deÄŸiÅŸtirmeyi ve APK'yi yeniden derlemeyi **yeni iÅŸlevsellikle** Ã¶ÄŸrenebilirsiniz](smali-changes.md). Bu, sunulacak olan dinamik analiz sÄ±rasÄ±nda **Ã§eÅŸitli testler iÃ§in alternatif bir seÃ§enek olabilir**. Bu nedenle, **her zaman bu olasÄ±lÄ±ÄŸÄ± aklÄ±nÄ±zda bulundurun**.

## DiÄŸer ilginÃ§ hileler

* [Play Store'da konumunuzu sahte yapma](spoofing-your-location-in-play-store.md)
* **APK'larÄ± indirin**: [https://apps.evozi.com/apk-downloader/](https://apps.evozi.com/apk-downloader/), [https://apkpure.com/es/](https://apkpure.com/es/), [https://www.apkmirror.com/](https://www.apkmirror.com), [https://apkcombo.com/es-es/apk-downloader/](https://apkcombo.com/es-es/apk-downloader/)
* Cihazdan APK Ã§Ä±karÄ±n:
```bash
adb shell pm list packages
com.android.insecurebankv2

adb shell pm path com.android.insecurebankv2
package:/data/app/com.android.insecurebankv2-Jnf8pNgwy3QA_U5f-n_4jQ==/base.apk

adb pull /data/app/com.android.insecurebankv2- Jnf8pNgwy3QA_U5f-n_4jQ==/base.apk
```
## Statik Analiz

Ã–ncelikle, bir APK'yÄ± analiz etmek iÃ§in bir decompiler kullanarak Java koduna **bir gÃ¶z atmalÄ±sÄ±nÄ±z**.\
LÃ¼tfen, [**farklÄ± mevcut decompiler'lar hakkÄ±nda bilgi edinmek iÃ§in burayÄ± okuyun**](apk-decompilers.md).

### Ä°lgili Bilgileri Arama

APK'nÄ±n **strings**'lerine sadece bir gÃ¶z atarak **ÅŸifreler**, **URL'ler** ([https://github.com/ndelphit/apkurlgrep](https://github.com/ndelphit/apkurlgrep)), **api** anahtarlarÄ±, **ÅŸifreleme**, **bluetooth uuid'leri**, **token'lar** ve ilginÃ§ herhangi bir ÅŸey arayabilirsiniz... hatta kod yÃ¼rÃ¼tme **arka kapÄ±larÄ±** veya kimlik doÄŸrulama arka kapÄ±larÄ± (uygulamaya hardcoded yÃ¶netici kimlik bilgileri).

**Firebase**

Ã–zellikle **firebase URL'lerine** dikkat edin ve yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± kontrol edin. [Firebase'in ne olduÄŸu ve nasÄ±l sÃ¶mÃ¼rÃ¼leceÄŸi hakkÄ±nda daha fazla bilgi iÃ§in buraya bakÄ±n.](../../network-services-pentesting/pentesting-web/buckets/firebase-database.md)

### UygulamanÄ±n Temel AnlayÄ±ÅŸÄ± - Manifest.xml, strings.xml

Bir uygulamanÄ±n **Manifest.xml** ve **strings.xml** dosyalarÄ±nÄ±n incelenmesi, potansiyel gÃ¼venlik aÃ§Ä±klarÄ±nÄ± ortaya Ã§Ä±karabilir. Bu dosyalara decompiler'lar kullanarak veya APK dosyasÄ±nÄ±n uzantÄ±sÄ±nÄ± .zip olarak yeniden adlandÄ±rÄ±p ardÄ±ndan aÃ§arak eriÅŸilebilirler.

**Manifest.xml**'den tespit edilen **gÃ¼venlik aÃ§Ä±klarÄ±** ÅŸunlarÄ± iÃ§erir:

* **Hata AyÄ±klanabilir Uygulamalar**: _Manifest.xml_ dosyasÄ±nda `debuggable="true"` olarak ayarlanan uygulamalar, baÄŸlantÄ±lara izin vererek sÃ¶mÃ¼rÃ¼lmeye yol aÃ§ar. Hata ayÄ±klanabilir uygulamalarÄ± bulma ve sÃ¶mÃ¼rme konusunda daha fazla anlayÄ±ÅŸ iÃ§in bir cihazda hata ayÄ±klanabilir uygulamalarÄ± bulma ve sÃ¶mÃ¼rme konusunda bir Ã¶ÄŸreticiye baÅŸvurun.

* **Yedekleme AyarlarÄ±**: Hassas bilgilerle uÄŸraÅŸan uygulamalar iÃ§in `android:allowBackup="false"` Ã¶zniteliÄŸi aÃ§Ä±kÃ§a ayarlanmalÄ±dÄ±r. Bu, usb hata ayÄ±klama etkinleÅŸtirildiÄŸinde adb aracÄ±lÄ±ÄŸÄ±yla yetkisiz veri yedeklemelerini Ã¶nlemek iÃ§in gereklidir.

* **AÄŸ GÃ¼venliÄŸi**: _res/xml/_ iÃ§indeki Ã¶zel aÄŸ gÃ¼venliÄŸi yapÄ±landÄ±rmalarÄ± (`android:networkSecurityConfig="@xml/network_security_config"`) sertifika pinleri ve HTTP trafiÄŸi ayarlarÄ± gibi gÃ¼venlik ayrÄ±ntÄ±larÄ±nÄ± belirtebilir. Ã–rneÄŸin, belirli alanlar iÃ§in HTTP trafiÄŸine izin vermek gibi.

* **DÄ±ÅŸa AktarÄ±lan Etkinlikler ve Hizmetler**: Manifest'te dÄ±ÅŸa aktarÄ±lan etkinlikleri ve hizmetleri belirlemek, yanlÄ±ÅŸ kullanÄ±labilecek bileÅŸenleri vurgulayabilir. Dinamik test sÄ±rasÄ±nda daha fazla analiz, bu bileÅŸenlerin nasÄ±l sÃ¶mÃ¼rÃ¼leceÄŸini ortaya Ã§Ä±karabilir.

* **Ä°Ã§erik SaÄŸlayÄ±cÄ±larÄ± ve Dosya SaÄŸlayÄ±cÄ±larÄ±**: AÃ§Ä±ÄŸa Ã§Ä±karÄ±lan iÃ§erik saÄŸlayÄ±cÄ±lar, yetkisiz eriÅŸime veya veri deÄŸiÅŸikliÄŸine izin verebilir. Dosya saÄŸlayÄ±cÄ±larÄ±nÄ±n yapÄ±landÄ±rmasÄ± da dikkatlice incelenmelidir.

* **YayÄ±n AlÄ±cÄ±larÄ± ve URL ÅemalarÄ±**: Bu bileÅŸenler, Ã¶zellikle URL ÅŸemalarÄ±nÄ±n giriÅŸ aÃ§Ä±klarÄ±na nasÄ±l yÃ¶netildiÄŸine dikkat edilerek sÃ¶mÃ¼rÃ¼lebilir.

* **SDK SÃ¼rÃ¼mleri**: `minSdkVersion`, `targetSDKVersion` ve `maxSdkVersion` Ã¶znitelikleri desteklenen Android sÃ¼rÃ¼mlerini gÃ¶sterir ve gÃ¼venlik nedenleriyle gÃ¼ncellenmeyen, gÃ¼venlik aÃ§Ä±klarÄ±na sahip Android sÃ¼rÃ¼mlerini desteklememenin Ã¶nemini vurgular.

**strings.xml** dosyasÄ±ndan, API anahtarlarÄ±, Ã¶zel ÅŸemalar ve diÄŸer geliÅŸtirici notlarÄ± gibi hassas bilgiler keÅŸfedilebilir, bu nedenle bu kaynaklarÄ±n dikkatli bir ÅŸekilde gÃ¶zden geÃ§irilmesi gereklidir.


### Tapjacking

**Tapjacking**, **kÃ¶tÃ¼ niyetli** bir **uygulamanÄ±n** baÅŸlatÄ±ldÄ±ÄŸÄ± ve bir kurban uygulamanÄ±n Ã¼zerine yerleÅŸtiÄŸi bir saldÄ±rÄ±dÄ±r. Kurban uygulamayÄ± gÃ¶rÃ¼nÃ¼r ÅŸekilde engelledikten sonra, kullanÄ±cÄ± arayÃ¼zÃ¼, kullanÄ±cÄ±yÄ± yanÄ±ltacak ÅŸekilde tasarlanÄ±r ve kullanÄ±cÄ±nÄ±n gerÃ§ekte kurban uygulamada eylemler gerÃ§ekleÅŸtirdiÄŸini bilmeden etkileÅŸimi kurban uygulamaya aktarÄ±r.\
SonuÃ§ olarak, kullanÄ±cÄ±nÄ±n gerÃ§ekte kurban uygulamada eylemler gerÃ§ekleÅŸtirdiÄŸini bilmeden kullanÄ±cÄ±yÄ± kÃ¶r eder.

Daha fazla bilgi iÃ§in:

{% content-ref url="tapjacking.md" %}
[tapjacking.md](tapjacking.md)
{% endcontent-ref %}

### GÃ¶rev KaÃ§Ä±rma

**`launchMode`** Ã¶zelliÄŸi **`singleTask`** olarak ayarlanmÄ±ÅŸ bir **etkinlik** ve tanÄ±mlanmÄ±ÅŸ bir **`taskAffinity`** olmadan, gÃ¶rev kaÃ§Ä±rmaya karÅŸÄ± savunmasÄ±zdÄ±r. Bu, bir **uygulamanÄ±n** yÃ¼klenmesi ve gerÃ§ek uygulamadan Ã¶nce baÅŸlatÄ±lmasÄ± durumunda, gerÃ§ek uygulamanÄ±n gÃ¶revini **kaÃ§Ä±rabileceÄŸi** anlamÄ±na gelir (bu nedenle kullanÄ±cÄ±, gerÃ§ek uygulamayÄ± kullandÄ±ÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nerek **kÃ¶tÃ¼ niyetli bir uygulama ile etkileÅŸimde bulunur**).

Daha fazla bilgi iÃ§in:

{% content-ref url="android-task-hijacking.md" %}
[android-task-hijacking.md](android-task-hijacking.md)
{% endcontent-ref %}

### GÃ¼vensiz veri depolama

**Dahili Depolama**

Android'de, dahili depolamada **saklanan** dosyalarÄ±n yalnÄ±zca **onlarÄ± oluÅŸturan uygulama** tarafÄ±ndan **eriÅŸilebilir** olmasÄ± amaÃ§lanmÄ±ÅŸtÄ±r. Bu gÃ¼venlik Ã¶nlemi, Android iÅŸletim sistemi tarafÄ±ndan uygulanÄ±r ve genellikle Ã§oÄŸu uygulamanÄ±n gÃ¼venlik ihtiyaÃ§larÄ± iÃ§in yeterlidir. Bununla birlikte, geliÅŸtiriciler bazen `MODE_WORLD_READABLE` ve `MODE_WORLD_WRITABLE` gibi modlarÄ± kullanarak dosyalarÄ±n farklÄ± uygulamalar arasÄ±nda **paylaÅŸÄ±lmasÄ±na izin verir**. Ancak, bu modlar bu dosyalara diÄŸer uygulamalar tarafÄ±ndan, potansiyel olarak kÃ¶tÃ¼ niyetli olanlar dahil olmak Ã¼zere **sÄ±nÄ±rlama getirmez**.

1. **Statik Analiz:**
- `MODE_WORLD_READABLE` ve `MODE_WORLD_WRITABLE` kullanÄ±mÄ±nÄ±n **dikkatlice incelenmesini saÄŸlayÄ±n**. Bu modlar, dosyalarÄ±n **istenmeyen veya yetkisiz eriÅŸime** maruz kalmasÄ±na neden olabilir.

2. **Dinamik Analiz:**
- Uygulama tarafÄ±ndan oluÅŸturulan dosyalara ayarlanan **izinleri doÄŸrulayÄ±n**. Ã–zellikle, herhangi bir dosyanÄ±n **dÃ¼nya Ã§apÄ±nda okunabilir veya yazÄ±labilir olarak ayarlanÄ±p ayarlanmadÄ±ÄŸÄ±nÄ± kontrol edin**. Bu, herhangi bir kÃ¶ken veya niyetine bakÄ±lmaksÄ±zÄ±n cihaza yÃ¼klenen **herhangi bir uygulamanÄ±n** bu dosyalarÄ± **okumasÄ±na veya deÄŸiÅŸtirmesine** izin vereceÄŸi ciddi bir gÃ¼venlik riski oluÅŸturabilir.

**Harici Depolama**

SD Kart gibi **harici depolama** Ã¼zerindeki dosyalarla uÄŸraÅŸÄ±rken bazÄ± Ã¶nlemler alÄ±nmalÄ±dÄ±r:

1. **EriÅŸilebilirlik**:
- Harici depolamadaki dosyalar **genel olarak okunabilir ve yazÄ±labilir**. Bu, herhangi bir uygulamanÄ±n veya kullanÄ±cÄ±nÄ±n bu dosyalara eriÅŸebileceÄŸi anlamÄ±na gelir.

2. **GÃ¼venlik EndiÅŸeleri**:
- EriÅŸimin kolaylÄ±ÄŸÄ± gÃ¶z Ã¶nÃ¼ne alÄ±ndÄ±ÄŸÄ±nda, harici depolamada **hassas bilgileri saklamamak** Ã¶nerilir.
- Harici depolama, herhangi bir uygulama tarafÄ±ndan Ã§Ä±karÄ±labilir veya eriÅŸilebilir olduÄŸundan, daha az gÃ¼venlidir.

3. **Harici Depolamadan Veri Ä°ÅŸleme**:
- Harici depolamadan alÄ±nan veriler Ã¼zerinde her zaman **giriÅŸ doÄŸrulamasÄ±** yapÄ±n. Bu, verinin gÃ¼venilmeyen bir kaynaktan geldiÄŸi iÃ§in Ã¶nemlidir.
- Dinamik yÃ¼kleme iÃ§in harici depolamada yÃ¼rÃ¼tÃ¼lebilir
```java
SSLSocketFactory sf = new cc(trustStore);
sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);
```
Bu testi yapmanÄ±n iyi bir yolu, cihaz iÃ§inde Burp CA'yÄ± yetkilendirmeden Burp gibi bir proxy kullanarak trafiÄŸi yakalamaya Ã§alÄ±ÅŸmaktÄ±r. AyrÄ±ca, Burp ile farklÄ± bir ana bilgisayar adÄ± iÃ§in bir sertifika oluÅŸturabilir ve kullanabilirsiniz.

### KÄ±rÄ±k Åifreleme

**ZayÄ±f Anahtar YÃ¶netimi SÃ¼reÃ§leri**

BazÄ± geliÅŸtiriciler, hassas verileri yerel depolamada kaydedip kodda sabit/beklenen bir anahtarla ÅŸifreler. Bu, gizli bilgilerin saldÄ±rganlar tarafÄ±ndan Ã§Ä±karÄ±lmasÄ±na izin verebilecek bazÄ± tersine mÃ¼hendislik iÅŸlemleriyle yapÄ±lmamalÄ±dÄ±r.

**GÃ¼vensiz ve/veya KullanÄ±mdan KaldÄ±rÄ±lmÄ±ÅŸ AlgoritmalarÄ±n KullanÄ±mÄ±**

GeliÅŸtiriciler, yetkilendirme kontrolÃ¼, veri depolama veya gÃ¶nderme gibi iÅŸlemler iÃ§in **kullanÄ±mdan kaldÄ±rÄ±lmÄ±ÅŸ algoritmalarÄ±** kullanmamalÄ±dÄ±r. Bu algoritmalardan bazÄ±larÄ±: RC4, MD4, MD5, SHA1... Ã–rneÄŸin, ÅŸifreleri depolamak iÃ§in karma kullanÄ±lÄ±yorsa, tuz ile birlikte kaba kuvvet saldÄ±rÄ±larÄ±na dayanÄ±klÄ± karma kullanÄ±lmalÄ±dÄ±r.

### DiÄŸer kontroller

* APK'nÄ±n tersine mÃ¼hendislik iÅŸlemlerini zorlaÅŸtÄ±rmak iÃ§in **APK'yi karÄ±ÅŸtÄ±rmanÄ±z** Ã¶nerilir.
* Uygulama hassas ise (banka uygulamalarÄ± gibi), mobilin kÃ¶klendirilip kÃ¶klendirilmediÄŸini kontrol etmeli ve buna gÃ¶re hareket etmelidir.
* Uygulama hassas ise (banka uygulamalarÄ± gibi), bir emÃ¼latÃ¶rÃ¼n kullanÄ±lÄ±p kullanÄ±lmadÄ±ÄŸÄ±nÄ± kontrol etmelidir.
* Uygulama hassas ise (banka uygulamalarÄ± gibi), deÄŸiÅŸtirilip deÄŸiÅŸtirilmediÄŸini kontrol etmek iÃ§in kendi bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ kontrol etmelidir.
* APK'yi oluÅŸturmak iÃ§in hangi derleyici/paketleyici/obfuskatÃ¶rÃ¼n kullanÄ±ldÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in [**APKiD**](https://github.com/rednaga/APKiD) kullanÄ±n.

### React Native UygulamasÄ±

React uygulamalarÄ±nÄ±n javascript koduna nasÄ±l kolayca eriÅŸileceÄŸini Ã¶ÄŸrenmek iÃ§in aÅŸaÄŸÄ±daki sayfayÄ± okuyun:

{% content-ref url="react-native-application.md" %}
[react-native-application.md](react-native-application.md)
{% endcontent-ref %}

### Xamarin UygulamalarÄ±

Xamarin uygulamalarÄ±nÄ±n C# koduna nasÄ±l kolayca eriÅŸileceÄŸini Ã¶ÄŸrenmek iÃ§in aÅŸaÄŸÄ±daki sayfayÄ± okuyun:

{% content-ref url="../xamarin-apps.md" %}
[xamarin-apps.md](../xamarin-apps.md)
{% endcontent-ref %}

### SÃ¼perpaketlenmiÅŸ Uygulamalar

Bu [**blog yazÄ±sÄ±na**](https://clearbluejar.github.io/posts/desuperpacking-meta-superpacked-apks-with-github-actions/) gÃ¶re sÃ¼perpaketlenmiÅŸ, bir uygulamanÄ±n iÃ§eriÄŸini tek bir dosyaya sÄ±kÄ±ÅŸtÄ±ran bir Meta algoritmadÄ±r. Blog, bu tÃ¼r uygulamalarÄ± aÃ§abilen bir uygulama oluÅŸturma olasÄ±lÄ±ÄŸÄ±ndan bahseder... ve daha hÄ±zlÄ± bir yol olan **uygulamayÄ± Ã§alÄ±ÅŸtÄ±rÄ±p dosya sistemi Ã¼zerinden aÃ§Ä±lan dosyalarÄ± toplamak**.

### Otomatik Statik Kod Analizi

[**mariana-trench**](https://github.com/facebook/mariana-trench) aracÄ±, uygulamanÄ±n kodunu tarayarak **zafiyetleri** bulma yeteneÄŸine sahiptir. Bu araÃ§, **bilinen kaynaklar** (giriÅŸin kullanÄ±cÄ± tarafÄ±ndan kontrol edildiÄŸi yerleri araca belirten), **sÄ±zÄ±ntÄ±lar** (kÃ¶tÃ¼ niyetli kullanÄ±cÄ± giriÅŸinin zarar verebileceÄŸi tehlikeli yerleri belirten) ve **kurallar** iÃ§erir. Bu kurallar, bir zafiyeti belirten **kaynak-sÄ±zÄ±ntÄ±** kombinasyonunu gÃ¶sterir.

Bu bilgiyle, **mariana-trench kodu gÃ¶zden geÃ§irir ve olasÄ± zafiyetleri bulur**.

### SÄ±zan Gizli Bilgiler

Bir uygulama, iÃ§inde keÅŸfedebileceÄŸiniz (API anahtarlarÄ±, ÅŸifreler, gizli URL'ler, alt alan adlarÄ±...) gizli bilgiler iÃ§erebilir. [https://github.com/dwisiswant0/apkleaks](https://github.com/dwisiswant0/apkleaks) gibi bir araÃ§ kullanabilirsiniz.

### Biyometrik Kimlik DoÄŸrulamayÄ± Atlama

{% content-ref url="bypass-biometric-authentication-android.md" %}
[bypass-biometric-authentication-android.md](bypass-biometric-authentication-android.md)
{% endcontent-ref %}

### DiÄŸer ilginÃ§ fonksiyonlar

* **Kod yÃ¼rÃ¼tme**: `Runtime.exec(), ProcessBuilder(), native code:system()`
* **SMS gÃ¶nderme**: `sendTextMessage, sendMultipartTestMessage`
* `native` olarak tanÄ±mlanan **yerel fonksiyonlar**: `public native, System.loadLibrary, System.load`
* **Yerel fonksiyonlarÄ± tersine mÃ¼hendislik yapmak iÃ§in** [bunu okuyun](reversing-native-libraries.md)

### **DiÄŸer ipuÃ§larÄ±**

{% content-ref url="content-protocol.md" %}
[content-protocol.md](content-protocol.md)
{% endcontent-ref %}

***

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Deneyimli hackerlar ve hata Ã¶dÃ¼l avcÄ±larÄ± ile iletiÅŸim kurmak iÃ§in [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) sunucusuna katÄ±lÄ±n!

**Hacking Insights**\
Hacking'in heyecanÄ±nÄ± ve zorluklarÄ±nÄ± inceleyen iÃ§eriklerle etkileÅŸim kurun

**GerÃ§ek ZamanlÄ± Hack Haberleri**\
HÄ±zlÄ± tempolu hacking dÃ¼nyasÄ±nÄ± gerÃ§ek zamanlÄ± haberler ve iÃ§gÃ¶rÃ¼lerle takip edin

**En Son Duyurular**\
Yeni hata Ã¶dÃ¼lleri baÅŸlatma ve Ã¶nemli platform gÃ¼ncellemeleri hakkÄ±nda bilgi edinin

**Bize katÄ±lÄ±n** [**Discord**](https://discord.com/invite/N3FrSbmwdy) ve bugÃ¼n en iyi hackerlarla iÅŸbirliÄŸi yapmaya baÅŸlayÄ±n!

***

## Dinamik Analiz

> Ä°lk olarak, uygulamayÄ± ve tÃ¼m ortamÄ± (Burp CA sertifikasÄ±, Drozer ve Frida Ã¶zellikle) yÃ¼kleyebileceÄŸiniz bir ortama ihtiyacÄ±nÄ±z var. Bu nedenle, kÃ¶klendirilmiÅŸ bir cihaz (emÃ¼le edilmiÅŸ veya deÄŸil) kesinlikle Ã¶nerilir.

### Ã‡evrimiÃ§i Dinamik analiz

[https://appetize.io/](https://appetize.io) adresinde **Ã¼cretsiz bir hesap** oluÅŸturabilirsiniz. Bu platform, APK'leri **yÃ¼klemenize** ve **Ã§alÄ±ÅŸtÄ±rmanÄ±za** olanak tanÄ±r, bu nedenle bir APK'nin nasÄ±l davrandÄ±ÄŸÄ±nÄ± gÃ¶rmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r.

Web Ã¼zerinde uygulamanÄ±zÄ±n **gÃ¼nlÃ¼klerini gÃ¶rebilir** ve **adb** aracÄ±lÄ±ÄŸÄ±yla baÄŸlanabilirsiniz.

![](<../../.gitbook/assets/image (60).png>)

ADB baÄŸlantÄ±sÄ± sayesinde emÃ¼latÃ¶rler iÃ§inde **Drozer** ve **Frida** kullanabilirsiniz.

### Yerel Dinamik Analiz

#### Bir emÃ¼latÃ¶r kullanarak

* [**Android Studio**](https://developer.android.com/studio) (x86 ve arm cihazlar oluÅŸturabilirsiniz ve [**bu** ](https://android-developers.googleblog.com/2020/03/run-arm-apps-on-android-emulator.html)**en son x86** sÃ¼rÃ¼mleri yavaÅŸ bir arm emÃ¼latÃ¶rÃ¼ne ihtiyaÃ§ duymadan ARM kÃ¼tÃ¼phanelerini destekler).
* Kurulumunu Ã¶ÄŸrenmek iÃ§in bu sayfaya bakÄ±n:

{% content-ref url="avd-android-virtual-device.md" %}
[avd-android-virtual-device.md](avd-android-virtual-device.md)
{% endcontent-ref %}

* [**Genymotion**](https://www.genymotion.com/fun-zone/) **(Ãœcretsiz sÃ¼rÃ¼m:** KiÅŸisel SÃ¼rÃ¼m, bir hesap oluÅŸturmanÄ±z gerekiyor. _Potansiyel hatalardan kaÃ§Ä±nmak iÃ§in **VirtualBox ile birlikte** indirmeniz Ã¶nerilir._)
* [**Nox**](https://es.bignox.com) (Ãœcretsiz, ancak Frida veya Drozer'Ä± desteklemez).

{% hint style="info" %}
Herhangi bir platformda yeni bir emÃ¼latÃ¶r oluÅŸtururken, ekran ne kadar bÃ¼yÃ¼kse, emÃ¼latÃ¶r o kadar yavaÅŸ Ã§alÄ±ÅŸÄ±r. MÃ¼mkÃ¼nse kÃ¼Ã§Ã¼k ekranlarÄ± seÃ§in.
{% endhint %}

Genymotion'da Google hizmetlerini (AppStore gibi) **yÃ¼klemek** iÃ§in aÅŸaÄŸÄ±daki resimde kÄ±rmÄ±zÄ±
#### Fiziksel bir cihaz kullanÄ±n

**Hata ayÄ±klama** seÃ§eneklerini etkinleÅŸtirmeniz gerekiyor ve **root** yapabilirseniz harika olur:

1. **Ayarlar**.
2. (Android 8.0'dan itibaren) **Sistem** seÃ§in.
3. **Telefon hakkÄ±nda** seÃ§in.
4. **YapÄ± numarasÄ±**na 7 kez dokunun.
5. Geri dÃ¶nÃ¼n ve **GeliÅŸtirici seÃ§enekleri**ni bulacaksÄ±nÄ±z.

> UygulamayÄ± yÃ¼kledikten sonra yapmanÄ±z gereken ilk ÅŸey, onu denemek ve ne yaptÄ±ÄŸÄ±nÄ±, nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± araÅŸtÄ±rmak ve onunla rahat hissetmektir.\
> BaÅŸlangÄ±Ã§ta bu ilk dinamik analizi MobSF dinamik analiz + pidcat kullanarak yapmanÄ±zÄ± Ã¶neririm, bÃ¶ylece MobSF, daha sonra gÃ¶zden geÃ§irebileceÄŸiniz birÃ§ok **ilginÃ§ veri** yakalarken uygulamanÄ±n nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± Ã¶ÄŸrenme fÄ±rsatÄ± elde ederiz.

### Ä°stenmeyen Veri SÄ±zÄ±ntÄ±sÄ±

**GÃ¼nlÃ¼kleme**

GeliÅŸtiriciler, hassas veri sÄ±zÄ±ntÄ±larÄ±na yol aÃ§abileceÄŸi iÃ§in **hata ayÄ±klama bilgilerini** genel olarak aÃ§Ä±ÄŸa Ã§Ä±karmaktan kaÃ§Ä±nmalÄ±dÄ±r. Uygulama gÃ¼nlÃ¼klerini izlemek ve hassas bilgileri tespit etmek ve korumak iÃ§in [**pidcat**](https://github.com/JakeWharton/pidcat) ve `adb logcat` araÃ§larÄ± Ã¶nerilir. **Pidcat**, kullanÄ±m kolaylÄ±ÄŸÄ± ve okunabilirliÄŸi nedeniyle tercih edilir.

{% hint style="warning" %}
**Android 4.0'dan daha yeni sÃ¼rÃ¼mlerde**, **uygulamalar yalnÄ±zca kendi gÃ¼nlÃ¼klerine eriÅŸebilir**. Bu nedenle, uygulamalar diÄŸer uygulamalarÄ±n gÃ¼nlÃ¼klerine eriÅŸemez.\
Yine de, **hassas bilgileri gÃ¼nlÃ¼kleme** Ã¶nerilir.
{% endhint %}

**Kopyala/YapÄ±ÅŸtÄ±r Arabellek Ã–nbelleÄŸi**

Android'in **pano tabanlÄ±** Ã§erÃ§evesi, uygulamalarda kopyala-yapÄ±ÅŸtÄ±r iÅŸlevselliÄŸini saÄŸlar, ancak baÅŸka uygulamalar panoya eriÅŸebilir ve hassas verilerin aÃ§Ä±ÄŸa Ã§Ä±kmasÄ±na neden olabilir. Hassas bÃ¶lÃ¼mlerde, Ã¶rneÄŸin kredi kartÄ± bilgilerinde, veri sÄ±zÄ±ntÄ±sÄ±nÄ± Ã¶nlemek iÃ§in kopyala/yapÄ±ÅŸtÄ±r iÅŸlevlerini devre dÄ±ÅŸÄ± bÄ±rakmak Ã¶nemlidir.

**Ã‡Ã¶kme GÃ¼nlÃ¼kleri**

Bir uygulama **Ã§Ã¶ktÃ¼ÄŸÃ¼nde ve gÃ¼nlÃ¼kler kaydedildiÄŸinde**, bu gÃ¼nlÃ¼kler Ã¶zellikle uygulama tersine mÃ¼hendislik yapÄ±lamadÄ±ÄŸÄ±nda saldÄ±rganlara yardÄ±mcÄ± olabilir. Bu riski azaltmak iÃ§in Ã§Ã¶kmelerde gÃ¼nlÃ¼kleme yapmaktan kaÃ§Ä±nÄ±n ve gÃ¼nlÃ¼klerin aÄŸ Ã¼zerinden iletilmesi gerekiyorsa, gÃ¼venlik iÃ§in SSL kanalÄ± Ã¼zerinden gÃ¶nderildiÄŸinden emin olun.

Pentester olarak, bu gÃ¼nlÃ¼klere **bir gÃ¶z atmayÄ± deneyin**.

**3. Taraf Hizmetlere GÃ¶nderilen Analitik Veriler**

Uygulamalar genellikle Google Adsense gibi hizmetleri entegre eder ve geliÅŸtiricilerin yanlÄ±ÅŸ uygulama nedeniyle hassas veri sÄ±zÄ±ntÄ±sÄ±na neden olabilir. Potansiyel veri sÄ±zÄ±ntÄ±larÄ±nÄ± tespit etmek iÃ§in uygulamanÄ±n trafiÄŸini **intercept** etmek ve Ã¼Ã§Ã¼ncÃ¼ taraf hizmetlere gÃ¶nderilen herhangi bir hassas bilgiyi kontrol etmek Ã¶nerilir.

### SQLite VeritabanlarÄ±

Ã‡oÄŸu uygulama bilgileri kaydetmek iÃ§in **dahili SQLite veritabanlarÄ±nÄ±** kullanÄ±r. Pentest sÄ±rasÄ±nda oluÅŸturulan **veritabanlarÄ±na**, **tablo** ve **sÃ¼tun** isimlerine ve kaydedilen **tÃ¼m verilere** bir **gÃ¶z atÄ±n**, Ã§Ã¼nkÃ¼ hassas bilgiler bulabilirsiniz (bu bir zafiyet olabilir).\
VeritabanlarÄ±, `/data/data/the.package.name/databases` gibi bir konumda olmalÄ±dÄ±r, Ã¶rneÄŸin `/data/data/com.mwr.example.sieve/databases`

EÄŸer veritabanÄ± gizli bilgileri kaydediyor ve **ÅŸifrelenmiÅŸ** ise, ancak uygulama iÃ§inde **ÅŸifreyi bulabilirseniz**, hala bir **zafiyet** bulunmaktadÄ±r.

`.tables` komutunu kullanarak tablolarÄ± ve `.schema <table_name>` komutunu kullanarak tablolarÄ±n sÃ¼tunlarÄ±nÄ± listeleyin.

### Drozer (Exploit Etkinlikleri, Ä°Ã§erik SaÄŸlayÄ±cÄ±larÄ± ve Hizmetler)

[Drozer Belgeleri'nden](https://labs.mwrinfosecurity.com/assets/BlogFiles/mwri-drozer-user-guide-2015-03-23.pdf): **Drozer**, bir Android uygulamasÄ±nÄ±n rolÃ¼nÃ¼ **Ã¼stlenebilmenizi** ve diÄŸer uygulamalarla etkileÅŸimde bulunabilmenizi saÄŸlar. Android'in Ä°ÅŸlem ArasÄ± Ä°letiÅŸim (IPC) mekanizmasÄ±nÄ± kullanmak ve altta yatan iÅŸletim sistemiyle etkileÅŸimde bulunmak gibi, bir yÃ¼klÃ¼ uygulama yapabileceÄŸi her ÅŸeyi yapabilir.\
Drozer, aÅŸaÄŸÄ±daki bÃ¶lÃ¼mlerde Ã¶ÄŸreneceÄŸiniz gibi, **ihraÃ§ edilen etkinlikleri, ihraÃ§ edilen hizmetleri ve Ä°Ã§erik SaÄŸlayÄ±cÄ±larÄ±** sÃ¶mÃ¼rmek iÃ§in kullanÄ±ÅŸlÄ± bir araÃ§tÄ±r.

### Ä°hraÃ§ Edilen Etkinlikleri SÃ¶mÃ¼rme

[**Bir Android EtkinliÄŸi nedir**](android-applications-basics.md#launcher-activity-and-other-activities) hakkÄ±nda bilgi almak iÃ§in okuyun.\
AyrÄ±ca bir etkinliÄŸin kodu **`onCreate`** yÃ¶nteminde baÅŸlar.

**Yetkilendirme atlatma**

Bir etkinlik ihraÃ§ edildiÄŸinde, dÄ±ÅŸ bir uygulamadan ekranÄ±nÄ± Ã§aÄŸÄ±rabilirsiniz. Bu nedenle, **hassas bilgileri** iÃ§eren bir etkinlik **ihraÃ§ edildiyse**, **kimlik doÄŸrulama** mekanizmalarÄ±nÄ± **atlayarak eriÅŸebilirsiniz**.

[**Drozer ile ihraÃ§ edilen etkinlikleri nasÄ±l sÃ¶mÃ¼rebileceÄŸinizi Ã¶ÄŸrenin.**](drozer-tutorial/#activities)

AyrÄ±ca adb Ã¼zerinden ihraÃ§ edilen bir etkinliÄŸi baÅŸlatabilirsiniz:

* Paket AdÄ±: com.example.demo
* Ä°hraÃ§ Edilen Etkinlik AdÄ±: com.example.test.MainActivity
```bash
adb shell am start -n com.example.demo/com.example.test.MainActivity
```
**NOT**: MobSF, _**singleTask/singleInstance**_ olarak `android:launchMode` Ã¶zelliÄŸini kullanan bir etkinlik tespit ederse, bunun eski sÃ¼rÃ¼mlerde (API sÃ¼rÃ¼mleri < 21) sadece tehlikeli olduÄŸu iÃ§in kÃ¶tÃ¼ amaÃ§lÄ± olarak algÄ±lar.

{% hint style="info" %}
Bir yetkilendirme atlamasÄ± her zaman bir zayÄ±flÄ±k olmayabilir, bu atlamalarÄ±n nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±na ve hangi bilgilerin ortaya Ã§Ä±ktÄ±ÄŸÄ±na baÄŸlÄ± olacaktÄ±r.
{% endhint %}

**Hassas bilgi sÄ±zÄ±ntÄ±sÄ±**

**Etkinlikler sonuÃ§ da dÃ¶ndÃ¼rebilir**. EÄŸer dÄ±ÅŸa aktarÄ±lmÄ±ÅŸ ve korumasÄ±z bir etkinlik bulursanÄ±z ve **`setResult`** yÃ¶ntemini Ã§aÄŸÄ±rarak ve **hassas bilgileri dÃ¶ndÃ¼rerek**, hassas bilgi sÄ±zÄ±ntÄ±sÄ± oluÅŸabilir.

#### Tapjacking

Tapjacking engellenmezse, dÄ±ÅŸa aktarÄ±lmÄ±ÅŸ etkinliÄŸi kullanarak **kullanÄ±cÄ±nÄ±n beklenmeyen eylemler yapmasÄ±nÄ±** saÄŸlayabilirsiniz. [**Tapjacking nedir hakkÄ±nda daha fazla bilgi iÃ§in baÄŸlantÄ±yÄ± takip edin**](./#tapjacking).

### Ä°Ã§erik SaÄŸlayÄ±cÄ±larÄ±ndan Yararlanma - Hassas Bilgilere EriÅŸim ve ManipÃ¼lasyon

[**Bir Ä°Ã§erik SaÄŸlayÄ±cÄ±nÄ±n ne olduÄŸunu hatÄ±rlamak iÃ§in bunu okuyun.**](android-applications-basics.md#content-provider)\
Ä°Ã§erik saÄŸlayÄ±cÄ±larÄ± temel olarak veri paylaÅŸmak iÃ§in kullanÄ±lÄ±r. Bir uygulamanÄ±n kullanÄ±labilir iÃ§erik saÄŸlayÄ±cÄ±larÄ± varsa, bunlardan hassas verileri Ã§Ä±karabilirsiniz. AyrÄ±ca, olasÄ± **SQL enjeksiyonlarÄ±** ve **Yol GeÃ§iÅŸleri**'ni test etmek de ilginÃ§ olabilir, Ã§Ã¼nkÃ¼ bunlar zayÄ±f olabilir.

[**Drozer ile Ä°Ã§erik SaÄŸlayÄ±cÄ±larÄ±nÄ± nasÄ±l sÃ¶mÃ¼rÃ¼leceÄŸini Ã¶ÄŸrenin.**](drozer-tutorial/#content-providers)

### **Servisleri SÃ¶mÃ¼rme**

[**Bir Servisin ne olduÄŸunu hatÄ±rlamak iÃ§in bunu okuyun.**](android-applications-basics.md#services)\
Bir servis, temel olarak **veri alabilen**, **iÅŸleyebilen** ve **yanÄ±t** (veya yanÄ±t vermeme) dÃ¶ndÃ¼rebilen bir ÅŸeydir. Bu nedenle, bir uygulama bazÄ± servisleri dÄ±ÅŸa aktarÄ±yorsa, ne yaptÄ±ÄŸÄ±nÄ± anlamak iÃ§in **kodu kontrol etmeli** ve gizli bilgileri Ã§Ä±karmak, kimlik doÄŸrulama Ã¶nlemlerini atlamak iÃ§in **dinamik olarak** test etmelisiniz.\
[**Drozer ile Servisleri nasÄ±l sÃ¶mÃ¼rÃ¼leceÄŸini Ã¶ÄŸrenin.**](drozer-tutorial/#services)

### **YayÄ±n AlÄ±cÄ±larÄ±nÄ± SÃ¶mÃ¼rme**

[**Bir YayÄ±n AlÄ±cÄ±nÄ±n ne olduÄŸunu hatÄ±rlamak iÃ§in bunu okuyun.**](android-applications-basics.md#broadcast-receivers)\
Bir yayÄ±n alÄ±cÄ±sÄ±, bir tÃ¼r mesajÄ± bekleyecektir. AlÄ±cÄ± mesajÄ± nasÄ±l iÅŸlediÄŸine baÄŸlÄ± olarak zayÄ±f olabilir.\
[**Drozer ile YayÄ±n AlÄ±cÄ±larÄ±nÄ± nasÄ±l sÃ¶mÃ¼rÃ¼leceÄŸini Ã¶ÄŸrenin.**](./#exploiting-broadcast-receivers)

### **ÅemalarÄ± / Derin baÄŸlantÄ±larÄ± SÃ¶mÃ¼rme**

Derin baÄŸlantÄ±larÄ± MobSF gibi araÃ§lar veya [bu](https://github.com/ashleykinguk/FBLinkBuilder/blob/master/FBLinkBuilder.py) gibi betikler kullanarak manuel olarak arayabilirsiniz.\
Bir bildirilen **ÅŸemayÄ±** **adb** veya bir **tarayÄ±cÄ±** kullanarak **aÃ§abilirsiniz**:

{% code overflow="wrap" %}
```bash
adb shell am start -a android.intent.action.VIEW -d "scheme://hostname/path?param=value" [your.package.name]
```
{% endcode %}

_Not etmek gerekir ki, paket adÄ±nÄ± **atlayabilirsiniz** ve mobil cihaz otomatik olarak o baÄŸlantÄ±yÄ± aÃ§masÄ± gereken uygulamayÄ± Ã§aÄŸÄ±rÄ±r._

{% code overflow="wrap" %}
```markup
<!-- Browser regular link -->
<a href="scheme://hostname/path?param=value">Click me</a>
<!-- fallback in your url you could try the intent url -->
<a href="intent://hostname#Intent;scheme=scheme;package=your.package.name;S.browser_fallback_url=http%3A%2F%2Fwww.example.com;end">with alternative</a>
```
{% endcode %}

**Kod yÃ¼rÃ¼tÃ¼ldÃ¼**

Uygulamada **Ã§alÄ±ÅŸtÄ±rÄ±lacak kodu bulmak** iÃ§in, derin baÄŸlantÄ± tarafÄ±ndan Ã§aÄŸrÄ±lan etkinliÄŸe gidin ve **`onNewIntent`** iÅŸlevini arayÄ±n.

![](<../../.gitbook/assets/image (436) (1) (1) (1).png>)

**Hassas bilgiler**

Her derin baÄŸlantÄ± bulduÄŸunuzda, URL parametreleri aracÄ±lÄ±ÄŸÄ±yla hassas verilerin (ÅŸifreler gibi) alÄ±nmadÄ±ÄŸÄ±ndan emin olun, Ã§Ã¼nkÃ¼ baÅŸka bir uygulama derin baÄŸlantÄ±yÄ± taklit edebilir ve bu verileri Ã§alabilir!

**Yol parametreleri**

URL'nin yolunun iÃ§inde bir parametre kullanan herhangi bir derin baÄŸlantÄ±nÄ±n da kontrol edilmesi gerekmektedir, Ã¶rneÄŸin: `https://api.example.com/v1/users/{kullaniciadi}`, bu durumda `example://app/users?username=../../unwanted-endpoint%3fparam=value` gibi bir ÅŸeye eriÅŸerek bir yol geÃ§iÅŸi zorlayabilirsiniz.\
Uygulama iÃ§inde doÄŸru uÃ§ noktalarÄ± bulursanÄ±z, **AÃ§Ä±k YÃ¶nlendirme** (yolun bir kÄ±smÄ± alan adÄ± olarak kullanÄ±lÄ±yorsa), **hesap ele geÃ§irme** (CSRF belirteci olmadan kullanÄ±cÄ± ayrÄ±ntÄ±larÄ±nÄ± deÄŸiÅŸtirebilir ve zayÄ±f nokta uygulanan doÄŸru yÃ¶ntemi kullanÄ±yorsa) ve diÄŸer zayÄ±f noktalarÄ± tetikleyebilirsiniz. Daha fazla [bilgi iÃ§in buraya](http://dphoeniixx.com/2020/12/13-2/) bakÄ±n.

**Daha fazla Ã¶rnek**

BaÄŸlantÄ±larla ilgili bir [ilginÃ§ Ã¶dÃ¼l avÄ± raporu](https://hackerone.com/reports/855618) (_/.well-known/assetlinks.json_).

### TaÅŸÄ±ma KatmanÄ± Denetimi ve DoÄŸrulama HatalarÄ±

- Android uygulamalarÄ± genellikle uyarÄ±larÄ± gÃ¶z ardÄ± eder ve Ã¶z-kimlik doÄŸrulamasÄ± yapÄ±lmamÄ±ÅŸ sertifikalarÄ± kabul eder veya bazÄ± durumlarda HTTP baÄŸlantÄ±larÄ±na geri dÃ¶ner.
- SSL/TLS el sÄ±kÄ±ÅŸmasÄ± sÄ±rasÄ±nda yapÄ±lan mÃ¼zakereler bazen gÃ¼venli olmayan ÅŸifreleme sÃ¼itlerini kullanÄ±r. Bu zayÄ±flÄ±k, baÄŸlantÄ±nÄ±n ortadaki adam (MITM) saldÄ±rÄ±larÄ±na karÅŸÄ± savunmasÄ±z olmasÄ±na neden olur ve saldÄ±rganlarÄ±n verileri ÅŸifresini Ã§Ã¶zmesine olanak tanÄ±r.
- UygulamalarÄ±n gÃ¼venli kanallar kullanarak kimlik doÄŸrulama yapmasÄ±na raÄŸmen diÄŸer iÅŸlemler iÃ§in gÃ¼vensiz kanallar Ã¼zerinden iletiÅŸim kurmasÄ±, oturum Ã§erezleri veya kullanÄ±cÄ± ayrÄ±ntÄ±larÄ± gibi hassas verilerin kÃ¶tÃ¼ niyetli kiÅŸiler tarafÄ±ndan ele geÃ§irilmesini engellemez.

#### Sertifika DoÄŸrulama

**Sertifika doÄŸrulama** Ã¼zerinde odaklanacaÄŸÄ±z. Sunucunun sertifikasÄ±nÄ±n bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ gÃ¼venliÄŸi artÄ±rmak iÃ§in doÄŸrulanmalÄ±dÄ±r. Bu, gÃ¼vensiz TLS yapÄ±landÄ±rmalarÄ± ve ÅŸifrelenmemiÅŸ kanallar Ã¼zerinden hassas verilerin iletilmesi Ã¶nemli riskler oluÅŸturabilir. Sunucu sertifikalarÄ±nÄ± doÄŸrulamak ve zayÄ±f noktalarÄ± ele almak iÃ§in ayrÄ±ntÄ±lÄ± adÄ±mlar iÃ§in **[bu kaynak](https://manifestsecurity.com/android-application-security-part-10/)** kapsamlÄ± rehberlik saÄŸlar.

#### SSL Pinning

SSL Pinning, uygulamanÄ±n sunucunun sertifikasÄ±nÄ± uygulama iÃ§inde depolanan bilinen bir kopya ile doÄŸrulamasÄ±nÄ± saÄŸlayan bir gÃ¼venlik Ã¶nlemidir. Bu yÃ¶ntem, MITM saldÄ±rÄ±larÄ±nÄ± Ã¶nlemek iÃ§in Ã¶nemlidir. Hassas bilgileri iÅŸleyen uygulamalar iÃ§in SSL Pinning uygulamasÄ± kesinlikle Ã¶nerilir.

#### Trafik Ä°ncelemesi

HTTP trafiÄŸini incelemek iÃ§in, proxy aracÄ±nÄ±n sertifikasÄ±nÄ±n **kurulmasÄ± gerekmektedir** (Ã¶rneÄŸin, Burp). Bu sertifikayÄ± kurmadan, ÅŸifreli trafiÄŸin proxy Ã¼zerinden gÃ¶rÃ¼nmeyebilir. Ã–zel bir CA sertifikasÄ± kurulumu hakkÄ±nda bir kÄ±lavuz iÃ§in **[buraya tÄ±klayÄ±n](avd-android-virtual-device.md#install-burp-certificate-on-a-virtual-machine)**.

**API DÃ¼zeyi 24 ve Ã¼zeri** hedefleyen uygulamalar, ÅŸifreli trafiÄŸi incelemek iÃ§in aÄŸ gÃ¼venlik yapÄ±landÄ±rmasÄ±nÄ± proxy'nin CA sertifikasÄ±nÄ± kabul edecek ÅŸekilde deÄŸiÅŸtirmeyi gerektirir. Bu adÄ±m, ÅŸifreli trafiÄŸi incelemek iÃ§in Ã¶nemlidir. AÄŸ GÃ¼venlik YapÄ±landÄ±rmasÄ±nÄ± deÄŸiÅŸtirmek iÃ§in talimatlar iÃ§in **[bu Ã¶ÄŸreticiye baÅŸvurun](make-apk-accept-ca-certificate.md)**.

#### SSL Pinning'i Atlatma

SSL Pinning uygulandÄ±ÄŸÄ±nda, HTTPS trafiÄŸini incelemek iÃ§in SSL Pinning'i atlamak gerekebilir. Bu amaÃ§la Ã§eÅŸitli yÃ¶ntemler mevcuttur:

* SSL Pinning'i atlamak iÃ§in **apk'yi otomatik olarak deÄŸiÅŸtirin** [**apk-mitm**](https://github.com/shroudedcode/apk-mitm) ile. Bu seÃ§eneÄŸin en iyi yanÄ±, SSL Pinning'i atlamak iÃ§in kÃ¶k eriÅŸimi gerektirmemesidir, ancak uygulamayÄ± silip yeni bir tane yeniden yÃ¼klemeniz gerekebilir ve bu her zaman Ã§alÄ±ÅŸmayabilir.
* Bu korumayÄ± atlamak iÃ§in **Frida** kullanabilirsiniz (aÅŸaÄŸÄ±da tartÄ±ÅŸÄ±lmÄ±ÅŸtÄ±r). Burada Burp+Frida+Genymotion'u kullanmanÄ±n bir kÄ±lavuzu bulunmaktadÄ±r: [https://spenkk.github.io/bugbounty/Configuring-Frida-with-Burp-and-GenyMotion-to-bypass-SSL-Pinning/](https://spenkk.github.io/bugbounty/Configuring-Frida-with-Burp-and-GenyMotion-to-bypass-SSL-Pinning/)
* [**objection**](frida-tutorial/objection-tutorial.md) kullanarak SSL Pinning'i otomatik olarak atlamayÄ± deneyebilirsiniz: `objection --gadget com.package.app explore --startup-command "android sslpinning disable"`
* **MobSF dinamik analizi** kullanarak SSL Pinning'i otomatik olarak atlamayÄ± deneyebilirsiniz (aÅŸaÄŸÄ±da aÃ§Ä±klanmÄ±ÅŸtÄ±r)
* Hala yakalayamadÄ±ÄŸÄ±nÄ±z bazÄ± trafiÄŸin olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorsanÄ±z, trafiÄŸi burp'a yÃ¶nlendirmek iÃ§in **iptables kullanarak trafiÄŸi yÃ¶nlendirmeyi** deneyebilirsiniz. Bu blogu okuyun: [https://infosecwriteups.com/bypass-ssl-pinning-with-ip-forwarding-iptables-568171b52b62](https://infosecwriteups.com/bypass-ssl-pinning-with-ip-forwarding-iptables-568171b52b62)

#### YaygÄ±n Web ZayÄ±f NoktalarÄ±nÄ± Arama

Uygulama iÃ§inde yaygÄ±n web zayÄ±f noktalarÄ±nÄ± da aramak Ã¶nemlidir. Bu zayÄ±f noktalarÄ±n belirlenmesi ve azaltÄ±lmasÄ±yla ilgili ayrÄ±ntÄ±lÄ± bilgiler bu Ã¶zetin kapsamÄ± dÄ±ÅŸÄ±ndadÄ±r, ancak baÅŸka yerlerde kapsamlÄ± bir ÅŸekilde ele alÄ±nmaktadÄ±r.

### Frida

[Frida](https://www.frida.re), geliÅŸtiriciler, ters mÃ¼hendisler ve gÃ¼venlik araÅŸtÄ±rmacÄ±larÄ± iÃ§in bir dinamik enstrÃ¼mantasyon araÃ§ setidir.\
**Ã‡alÄ±ÅŸan uygulamalara eriÅŸebilir ve Ã§alÄ±ÅŸma zamanÄ±nda yÃ¶ntemleri kancalayarak davranÄ±ÅŸÄ± deÄŸiÅŸtirebilir, deÄŸerleri deÄŸiÅŸtirebilir, deÄŸerleri Ã§Ä±karabilir, farklÄ± kodlarÄ± Ã§alÄ±ÅŸtÄ±rabilirsiniz...**\
Android uygulamalarÄ±nÄ± pentest etmek istiyorsanÄ±z, Frida'yÄ± nasÄ±l kullanacaÄŸÄ±nÄ±zÄ± bilmelisiniz.

* Frida'yÄ± nasÄ±l kullanacaÄŸÄ±nÄ±zÄ± Ã¶ÄŸrenin: [**Frida Ã¶ÄŸretici**](frida-tutorial/)
* Frida ile eylemler iÃ§in bazÄ± "GUI" araÃ§lar: [**https://github.com/m0bilesecurity/RMS-Runtime-Mobile-Security**](https://github.com/m0bilesecurity/RMS-Runtime-Mobile-Security)
* Ojection, Frida'nÄ±n kullanÄ±mÄ±nÄ± otomatikleÅŸtirmek iÃ§in harikadÄ±r: [**https://github.com/sensepost/objection**](https://github.com/sensepost/objection) **,** [**https://github.com/dpnishant/appmon**](https://github.com/dpnishant/appmon)
* Harika Frida betiklerini burada bulabilirsiniz: [**https://codeshare.frida.re/**](https://codeshare.frida.re)

### **BelleÄŸi DÃ¶kme - Fridump**

UygulamanÄ±n, ÅŸifreler veya mnemonikler gibi saklanmamasÄ± gereken hassas bilgileri bellekte saklayÄ±p saklamadÄ±ÄŸÄ±nÄ± kontrol edin.

[**Fridump3**](https://github.com/rootbsd/fridump3) kullanarak uygulamanÄ±n belleÄŸini dÃ¶kebilirsiniz:
```bash
# With PID
python3 fridump3.py -u <PID>

# With name
frida-ps -Uai
python3 fridump3.py -u "<Name>"
```
Bu, belleÄŸi ./dump klasÃ¶rÃ¼ne dÃ¶kecek ve orada ÅŸuna benzer bir ÅŸeyle grep yapabilirsiniz:

{% code overflow="wrap" %}
```bash
strings * | grep -E "^[a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+ [a-z]+$"
```
{% endcode %}

### **Keystore'da Hassas Veri**

Android'de Keystore, hassas verileri saklamak iÃ§in en iyi yerdir, ancak yeterli yetkilere sahipseniz **buna eriÅŸmek mÃ¼mkÃ¼ndÃ¼r**. UygulamalarÄ±n burada hassas verileri aÃ§Ä±k metin olarak saklama eÄŸiliminde olduÄŸu iÃ§in pentestler, kÃ¶k kullanÄ±cÄ± veya cihaza fiziksel eriÅŸimi olan birinin bu verileri Ã§alabilme olasÄ±lÄ±ÄŸÄ±na karÅŸÄ± kontrol etmelidir.

Bir uygulama keystore'da veri saklasa bile, veriler ÅŸifrelenmelidir.

Keystore iÃ§indeki verilere eriÅŸmek iÃ§in bu Frida betiÄŸini kullanabilirsiniz: [https://github.com/WithSecureLabs/android-keystore-audit/blob/master/frida-scripts/tracer-cipher.js](https://github.com/WithSecureLabs/android-keystore-audit/blob/master/frida-scripts/tracer-cipher.js)
```bash
frida -U -f com.example.app -l frida-scripts/tracer-cipher.js
```
### **Parmak Ä°zi/Biyometrik Atlama**

AÅŸaÄŸÄ±daki Frida betiÄŸi kullanÄ±larak, Android uygulamalarÄ±nÄ±n belirli hassas alanlarÄ± korumak iÃ§in gerÃ§ekleÅŸtirebileceÄŸi **parmak izi doÄŸrulamasÄ±nÄ± atlama** olasÄ±dÄ±r:

{% code overflow="wrap" %}
```bash
frida --codeshare krapgras/android-biometric-bypass-update-android-11 -U -f <app.package>
```
{% endcode %}

### **Arka Plan GÃ¶rÃ¼ntÃ¼leri**

Bir uygulamayÄ± arka plana attÄ±ÄŸÄ±nÄ±zda, Android uygulamanÄ±n bir **anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼** saklar, bÃ¶ylece uygulama Ã¶ne Ã§Ä±karÄ±ldÄ±ÄŸÄ±nda uygulamadan Ã¶nce gÃ¶rÃ¼ntÃ¼yÃ¼ yÃ¼klemeye baÅŸlar, bÃ¶ylece uygulama daha hÄ±zlÄ± yÃ¼klenmiÅŸ gibi gÃ¶rÃ¼nÃ¼r.

Ancak, bu anlÄ±k gÃ¶rÃ¼ntÃ¼ **hassas bilgileri** iÃ§eriyorsa, anlÄ±k gÃ¶rÃ¼ntÃ¼ye eriÅŸimi olan biri bu bilgileri **Ã§alabilir** (unutmayÄ±n, bunun iÃ§in kÃ¶k eriÅŸimi gereklidir).

AnlÄ±k gÃ¶rÃ¼ntÃ¼ler genellikle ÅŸurada saklanÄ±r: **`/data/system_ce/0/snapshots`**

Android, FLAG\_SECURE dÃ¼zenleme parametresini ayarlayarak **ekran gÃ¶rÃ¼ntÃ¼sÃ¼ yakalama iÅŸlemini engellemek iÃ§in bir yol saÄŸlar**. Bu bayrak kullanÄ±larak, pencere iÃ§eriÄŸi gÃ¼venli olarak iÅŸlenir, bÃ¶ylece ekran gÃ¶rÃ¼ntÃ¼lerinde gÃ¶rÃ¼nmez veya gÃ¼venli olmayan ekranlarda gÃ¶rÃ¼ntÃ¼lenmez.
```bash
getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE);
```
### **Android Uygulama AnalizÃ¶rÃ¼**

Bu araÃ§, dinamik analiz sÄ±rasÄ±nda farklÄ± araÃ§larÄ± yÃ¶netmenize yardÄ±mcÄ± olabilir: [https://github.com/NotSoSecure/android\_application\_analyzer](https://github.com/NotSoSecure/android\_application\_analyzer)

### Intent Enjeksiyonu

GeliÅŸtiriciler genellikle aktiviteler, servisler ve yayÄ±n alÄ±cÄ±larÄ± gibi proxy bileÅŸenler oluÅŸturur ve bu Intent'leri `startActivity(...)` veya `sendBroadcast(...)` gibi yÃ¶ntemlere ileterek risk oluÅŸturabilir.

Tehlike, saldÄ±rganlarÄ±n bu Intent'leri yanlÄ±ÅŸ yÃ¶nlendirerek, ihraÃ§ edilmeyen uygulama bileÅŸenlerini tetiklemesine veya hassas iÃ§erik saÄŸlayÄ±cÄ±larÄ±na eriÅŸmesine izin vermesinde yatar. Dikkate deÄŸer bir Ã¶rnek, `WebView` bileÅŸeninin URL'leri `Intent.parseUri(...)` aracÄ±lÄ±ÄŸÄ±yla `Intent` nesnelerine dÃ¶nÃ¼ÅŸtÃ¼rmesi ve ardÄ±ndan bunlarÄ± yÃ¼rÃ¼tmesidir, bu da potansiyel olarak kÃ¶tÃ¼ niyetli Intent enjeksiyonlarÄ±na yol aÃ§abilir.

### Ã–nemli Noktalar
- **Intent Enjeksiyonu**, web'in AÃ§Ä±k YÃ¶nlendirme sorununa benzer.
- SaldÄ±rÄ±lar, `Intent` nesnelerini ekstralar olarak ileterek, gÃ¼vensiz iÅŸlemlerin yÃ¼rÃ¼tÃ¼lmesine yÃ¶nlendirilebilir.
- Ä°hraÃ§ edilmeyen bileÅŸenleri ve iÃ§erik saÄŸlayÄ±cÄ±larÄ±nÄ± saldÄ±rganlara aÃ§Ä±k edebilir.
- `WebView`'Ä±n URL'yi `Intent`'e dÃ¶nÃ¼ÅŸtÃ¼rmesi istenmeyen eylemleri kolaylaÅŸtÄ±rabilir.

### Android Ä°stemci TarafÄ± EnjeksiyonlarÄ± ve DiÄŸerleri

Muhtemelen Web'den bu tÃ¼r zayÄ±flÄ±klarÄ± biliyorsunuzdur. Bir Android uygulamasÄ±nda bu tÃ¼r zayÄ±flÄ±klara Ã¶zellikle dikkat etmeniz gerekmektedir:

* **SQL Enjeksiyonu:** Dinamik sorgular veya Ä°Ã§erik SaÄŸlayÄ±cÄ±larla uÄŸraÅŸÄ±rken, parametreli sorgular kullandÄ±ÄŸÄ±nÄ±zdan emin olun.
* **JavaScript Enjeksiyonu (XSS):** WebViews iÃ§in JavaScript ve Eklenti desteÄŸinin devre dÄ±ÅŸÄ± bÄ±rakÄ±ldÄ±ÄŸÄ±ndan emin olun (varsayÄ±lan olarak devre dÄ±ÅŸÄ±dÄ±r). [Daha fazla bilgi iÃ§in buraya tÄ±klayÄ±n](webview-attacks.md#javascript-enabled).
* **Yerel Dosya Dahil Etme:** WebViews, dosya sistemine eriÅŸime izin verilmemiÅŸ olmalÄ±dÄ±r (varsayÄ±lan olarak etkinleÅŸtirilmiÅŸtir) - `(webview.getSettings().setAllowFileAccess(false);)`. [Daha fazla bilgi iÃ§in buraya tÄ±klayÄ±n](webview-attacks.md#javascript-enabled).
* **KalÄ±cÄ± Ã§erezler**: Android uygulamasÄ± oturumu sonlandÄ±rÄ±ldÄ±ÄŸÄ±nda Ã§erez iptal edilmez veya hatta diske kaydedilebilir.
* [**GÃ¼venli Bayrak** Ã§erezlerde](../../pentesting-web/hacking-with-cookies/#cookies-flags)

***

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Deneyimli hackerlar ve Ã¶dÃ¼l avcÄ±larÄ±yla iletiÅŸim kurmak iÃ§in [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) sunucusuna katÄ±lÄ±n!

**Hacking Ä°Ã§gÃ¶rÃ¼leri**\
Hacking'in heyecanÄ±nÄ± ve zorluklarÄ±nÄ± inceleyen iÃ§eriklerle etkileÅŸime geÃ§in

**GerÃ§ek ZamanlÄ± Hack Haberleri**\
HÄ±zlÄ± tempolu hacking dÃ¼nyasÄ±nÄ± gerÃ§ek zamanlÄ± haberler ve iÃ§gÃ¶rÃ¼lerle takip edin

**En Son Duyurular**\
Yeni Ã¶dÃ¼l avlarÄ± baÅŸlatma ve Ã¶nemli platform gÃ¼ncellemeleri hakkÄ±nda bilgi edinin

**Bize katÄ±lÄ±n** [**Discord**](https://discord.com/invite/N3FrSbmwdy) ve bugÃ¼n en iyi hackerlarla iÅŸbirliÄŸi yapmaya baÅŸlayÄ±n!

## Otomatik Analiz

### [MobSF](https://github.com/MobSF/Mobile-Security-Framework-MobSF)

**Statik analiz**

![](<../../.gitbook/assets/image (61).png>)

GÃ¼zel bir web tabanlÄ± Ã¶n uÃ§ kullanarak uygulamanÄ±n **zayÄ±flÄ±k deÄŸerlendirmesi** yapabilirsiniz. AyrÄ±ca dinamik analiz yapabilirsiniz (ancak ortamÄ± hazÄ±rlamanÄ±z gerekmektedir).
```bash
docker pull opensecurity/mobile-security-framework-mobsf
docker run -it -p 8000:8000 opensecurity/mobile-security-framework-mobsf:latest
```
MobSF, **Android** (apk), IOS (ipa) ve Windows (apx) uygulamalarÄ±nÄ± analiz edebilir (_Windows uygulamalarÄ±, bir Windows ana bilgisayarÄ±nda yÃ¼klÃ¼ olan MobSF'den analiz edilmelidir_).\
AyrÄ±ca, bir **ZIP** dosyasÄ± oluÅŸturarak kaynak kodunu iÃ§eren bir **Android** veya **IOS** uygulamasÄ±nÄ± analiz edebilirsiniz (uygulamanÄ±n kÃ¶k klasÃ¶rÃ¼ne gidin, her ÅŸeyi seÃ§in ve bir ZIP dosyasÄ± oluÅŸturun).

MobSF ayrÄ±ca analizi **karÅŸÄ±laÅŸtÄ±rma/diff** yapmanÄ±za ve **VirusTotal**'Ä± entegre etmenize de olanak tanÄ±r (API anahtarÄ±nÄ±zÄ± _MobSF/settings.py_ dosyasÄ±na ayarlamanÄ±z ve etkinleÅŸtirmeniz gerekecektir: `VT_ENABLED = TRUE` `VT_API_KEY = <API anahtarÄ±nÄ±z>` `VT_UPLOAD = TRUE`). `VT_UPLOAD`'Ä± `False` olarak ayarlayabilirsiniz, bu durumda dosya yerine **hash** yÃ¼klenecektir.

### MobSF ile Desteklenen Dinamik Analiz

MobSF, **Android** iÃ§in dinamik analizde de Ã§ok yardÄ±mcÄ± olabilir, ancak bu durumda MobSF ve **genymotion**'Ä± ana bilgisayarÄ±nÄ±za yÃ¼klemeniz gerekecektir (bir sanal makine veya Docker Ã§alÄ±ÅŸmayacaktÄ±r). _Not: **Ã–nce genymotion'da bir sanal makine baÅŸlatmanÄ±z** ve **ardÄ±ndan MobSF'yi baÅŸlatmanÄ±z gerekmektedir.**_\
**MobSF dinamik analizÃ¶rÃ¼**, aÅŸaÄŸÄ±daki iÅŸlemleri yapabilir:

* Uygulama verilerini (URL'ler, gÃ¼nlÃ¼kler, panoya kopyalanan veriler, sizin tarafÄ±ndan alÄ±nan ekran gÃ¶rÃ¼ntÃ¼leri, "**Exported Activity Tester**" tarafÄ±ndan alÄ±nan ekran gÃ¶rÃ¼ntÃ¼leri, e-postalar, SQLite veritabanlarÄ±, XML dosyalarÄ± ve diÄŸer oluÅŸturulan dosyalar) **dÃ¶kÃ¼mleyebilir**. Ekran gÃ¶rÃ¼ntÃ¼leri hariÃ§, bunlarÄ±n hepsi otomatik olarak yapÄ±lÄ±r, ekran gÃ¶rÃ¼ntÃ¼sÃ¼ almak istediÄŸinizde veya tÃ¼m dÄ±ÅŸa aktarÄ±lan aktivitelerin ekran gÃ¶rÃ¼ntÃ¼lerini almak iÃ§in "**Exported Activity Tester**" dÃ¼ÄŸmesine basmanÄ±z gerekmektedir.
* **HTTPS trafiÄŸini** yakalayabilir
* **Frida** kullanarak **Ã§alÄ±ÅŸma zamanÄ± bilgileri** elde edebilir

Android **sÃ¼rÃ¼mleri > 5** iÃ§in, otomatik olarak Frida'yÄ± baÅŸlatacak ve trafiÄŸi yakalamak iÃ§in genel **proxy** ayarlarÄ±nÄ± yapacaktÄ±r. Sadece test edilen uygulamadan trafiÄŸi yakalayacaktÄ±r.

**Frida**

VarsayÄ±lan olarak, SSL pinning'i atlamak, root tespiti ve hata ayÄ±klama tespiti yapmak ve ilgi Ã§ekici API'leri izlemek iÃ§in bazÄ± Frida betiklerini kullanacaktÄ±r.\
MobSF ayrÄ±ca dÄ±ÅŸa aktarÄ±lan aktiviteleri **Ã§aÄŸÄ±rabilir**, bunlarÄ±n **ekran gÃ¶rÃ¼ntÃ¼lerini** alabilir ve rapor iÃ§in **kaydedebilir**.

Dinamik testi baÅŸlatmak iÃ§in yeÅŸil dÃ¼ÄŸmeye basÄ±n: "**Start Instrumentation**". Frida betikleri tarafÄ±ndan oluÅŸturulan gÃ¼nlÃ¼kleri gÃ¶rmek iÃ§in "**Frida Live Logs**" dÃ¼ÄŸmesine basÄ±n ve kancalanan yÃ¶ntemlere yapÄ±lan tÃ¼m Ã§aÄŸrÄ±larÄ±, iletilen argÃ¼manlarÄ± ve dÃ¶ndÃ¼rÃ¼len deÄŸerleri gÃ¶rmek iÃ§in "**Live API Monitor**" dÃ¼ÄŸmesine basÄ±n (bu, "Start Instrumentation" dÃ¼ÄŸmesine bastÄ±ktan sonra gÃ¶rÃ¼necektir).\
MobSF ayrÄ±ca kendi **Frida betiklerinizi** yÃ¼klemenize (Frida betiklerinizin sonuÃ§larÄ±nÄ± MobSF'ye gÃ¶ndermek iÃ§in `send()` iÅŸlevini kullanÄ±n) olanak tanÄ±r. AyrÄ±ca yÃ¼kleyebileceÄŸiniz **birÃ§ok Ã¶nceden yazÄ±lmÄ±ÅŸ betik** bulunur (`MobSF/DynamicAnalyzer/tools/frida_scripts/others/` dizinine daha fazlasÄ±nÄ± ekleyebilirsiniz), sadece **seÃ§in**, "**Load**" dÃ¼ÄŸmesine basÄ±n ve "**Start Instrumentation**" dÃ¼ÄŸmesine basÄ±n (bu betiklerin gÃ¼nlÃ¼klerini "**Frida Live Logs**" iÃ§inde gÃ¶rebileceksiniz).

![](<../../.gitbook/assets/image (215).png>)

AyrÄ±ca, bazÄ± YardÄ±mcÄ± Frida iÅŸlevleri bulunmaktadÄ±r:

* YÃ¼klenen SÄ±nÄ±flarÄ± SÄ±rala: YÃ¼klenen tÃ¼m sÄ±nÄ±flarÄ± yazdÄ±rÄ±r
* Dizeleri Yakala: UygulamayÄ± kullanÄ±rken yakalanan tÃ¼m dizeleri yazdÄ±rÄ±r (Ã§ok gÃ¼rÃ¼ltÃ¼lÃ¼)
* Dize KarÅŸÄ±laÅŸtÄ±rmalarÄ±nÄ± Yakala: Ã‡ok faydalÄ± olabilir. KarÅŸÄ±laÅŸtÄ±rÄ±lan 2 diziyi ve sonucun DoÄŸru veya YanlÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± gÃ¶sterecektir.
* SÄ±nÄ±f YÃ¶ntemlerini SÄ±rala: SÄ±nÄ±f adÄ±nÄ± (Ã¶rneÄŸin "java.io.File") girin ve sÄ±nÄ±fÄ±n tÃ¼m yÃ¶ntemlerini yazdÄ±rÄ±r.
* SÄ±nÄ±f Deseni Ara: Desene gÃ¶re sÄ±nÄ±flarÄ± ara
* SÄ±nÄ±f YÃ¶ntemlerini Ä°zle: Bir sÄ±nÄ±fÄ± izle (sÄ±nÄ±fÄ±n tÃ¼m yÃ¶ntemlerinin girdi ve Ã§Ä±ktÄ±larÄ±nÄ± gÃ¶r). UnutmayÄ±n, MobSF varsayÄ±lan olarak birÃ§ok ilgi Ã§ekici Android API yÃ¶ntemini izler.

Kullanmak istediÄŸiniz yardÄ±mcÄ± modÃ¼lÃ¼ seÃ§tikten sonra "**Start Intrumentation**" dÃ¼ÄŸmesine basmanÄ±z ve tÃ¼m Ã§Ä±ktÄ±larÄ± "**Frida Live Logs**" iÃ§inde gÃ¶receksiniz.

**Shell**

MobSF, dinamik analiz sayfasÄ±nÄ±n altÄ±nda bazÄ± **adb** komutlarÄ±, **MobSF komutlarÄ±** ve yaygÄ±n **shell** komutlarÄ±yla bir kabuk sunar. Ä°lginÃ§ bazÄ± komutlar:
```bash
help
shell ls
activities
exported_activities
services
receivers
```
**HTTP araÃ§larÄ±**

HTTP trafiÄŸi yakalandÄ±ÄŸÄ±nda, yakalanan trafiÄŸin "**HTTP(S) Trafik**" altÄ±nda Ã§irkin bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ veya "**HTTP AraÃ§larÄ±na BaÅŸla**" yeÅŸil dÃ¼ÄŸmeyle daha hoÅŸ bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ gÃ¶rebilirsiniz. Ä°kinci seÃ§enekten, yakalanan istekleri Burp veya Owasp ZAP gibi **proxy'lere** gÃ¶nderebilirsiniz.\
Bunu yapmak iÃ§in, _Burp'u aÃ§Ä±n -->_ _Intercept'i kapatÄ±n --> MobSB HTTP AraÃ§larÄ±'nda isteÄŸi seÃ§in_ --> "**Fuzzer'a GÃ¶nder**" dÃ¼ÄŸmesine basÄ±n --> _proxy adresini seÃ§in_ ([http://127.0.0.1:8080\\](http://127.0.0.1:8080)).

MobSF ile dinamik analizi tamamladÄ±ktan sonra, zafiyetleri aramak iÃ§in "**Web API Fuzzer'Ä± BaÅŸlat**" dÃ¼ÄŸmesine basabilirsiniz.

{% hint style="info" %}
MobSF ile dinamik analiz yapÄ±ldÄ±ktan sonra, proxy ayarlarÄ± yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ olabilir ve bunlarÄ± GUI Ã¼zerinden dÃ¼zeltemeyebilirsiniz. Proxy ayarlarÄ±nÄ± dÃ¼zeltmek iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyebilirsiniz:
```
adb shell settings put global http_proxy :0
```
{% endhint %}

### Inspeckage ile Desteklenen Dinamik Analiz

AraÃ§ [**Inspeckage**](https://github.com/ac-pm/Inspeckage) adresinden indirilebilir.\
Bu araÃ§, bir **dinamik analiz** gerÃ§ekleÅŸtirirken uygulamada neler olduÄŸunu Ã¶ÄŸrenmek iÃ§in bazÄ± **Hooks** kullanÄ±r.

### [Yaazhini](https://www.vegabird.com/yaazhini/)

Bu, bir GUI ile **statik analiz yapmak iÃ§in harika bir araÃ§tÄ±r**.

![](<../../.gitbook/assets/image (527).png>)

### [Qark](https://github.com/linkedin/qark)

Bu araÃ§, **kaynak kodunda** veya **paketlenmiÅŸ APK'lerde** birkaÃ§ **gÃ¼venlikle ilgili Android uygulama aÃ§Ä±ÄŸÄ±** aramak iÃ§in tasarlanmÄ±ÅŸtÄ±r. AraÃ§ ayrÄ±ca bulunan bazÄ± aÃ§Ä±klarÄ± (aÃ§Ä±ÄŸa Ã§Ä±kan aktiviteler, intentler, tapjacking...) sÃ¶mÃ¼rmek iÃ§in bir "Proof-of-Concept" daÄŸÄ±tÄ±labilir APK ve ADB komutlarÄ± oluÅŸturma yeteneÄŸine sahiptir. Drozer gibi, test cihazÄ±nÄ± rootlama ihtiyacÄ± yoktur.
```bash
pip3 install --user qark  # --user is only needed if not using a virtualenv
qark --apk path/to/my.apk
qark --java path/to/parent/java/folder
qark --java path/to/specific/java/file.java
```
### [**ReverseAPK**](https://github.com/1N3/ReverseAPK.git)

* Kolay referans iÃ§in tÃ¼m Ã§Ä±karÄ±lan dosyalarÄ± gÃ¶rÃ¼ntÃ¼ler
* APK dosyalarÄ±nÄ± otomatik olarak Java ve Smali formatÄ±na decompile eder
* YaygÄ±n gÃ¼venlik aÃ§Ä±klarÄ± ve davranÄ±ÅŸlar iÃ§in AndroidManifest.xml'yi analiz eder
* YaygÄ±n gÃ¼venlik aÃ§Ä±klarÄ± ve davranÄ±ÅŸlar iÃ§in statik kaynak kodu analizi yapar
* Cihaz bilgisi
* ve daha fazlasÄ±
```bash
reverse-apk relative/path/to/APP.apk
```
### [SUPER Android Analyzer](https://github.com/SUPERAndroidAnalyzer/super)

SUPER, Windows, MacOS X ve Linux'ta kullanÄ±labilen bir komut satÄ±rÄ± uygulamasÄ±dÄ±r. Bu uygulama, zayÄ±flÄ±klarÄ± aramak iÃ§in _.apk_ dosyalarÄ±nÄ± analiz eder. Bunun iÃ§in APK'larÄ± aÃ§ar ve bu zayÄ±flÄ±klarÄ± tespit etmek iÃ§in bir dizi kural uygular.

TÃ¼m kurallar, bir `rules.json` dosyasÄ±nda merkezlenmiÅŸtir ve her ÅŸirket veya testÃ§i ihtiyaÃ§larÄ±na gÃ¶re kendi kurallarÄ±nÄ± oluÅŸturabilir.

En son ikili dosyalarÄ± [indirme sayfasÄ±ndan](https://superanalyzer.rocks/download.html) indirebilirsiniz.
```
super-analyzer {apk_file}
```
### [StaCoAn](https://github.com/vincentcox/StaCoAn)

![](<../../.gitbook/assets/image (62).png>)

StaCoAn, mobil uygulamalar Ã¼zerinde [statik kod analizi](https://en.wikipedia.org/wiki/Static\_program\_analysis) gerÃ§ekleÅŸtiren geliÅŸtiricilere, bugbounty avcÄ±larÄ±na ve etik hackerlara yardÄ±mcÄ± olan **Ã§ok platformlu** bir araÃ§tÄ±r.

Kavram ÅŸudur: Mobil uygulama dosyanÄ±zÄ± (bir .apk veya .ipa dosyasÄ±) StaCoAn uygulamasÄ±na sÃ¼rÃ¼kleyip bÄ±rakÄ±rsÄ±nÄ±z ve size gÃ¶rsel ve taÅŸÄ±nabilir bir rapor oluÅŸturur. AyarlarÄ± ve kelime listelerini Ã¶zelleÅŸtirebilirsiniz.

[En son sÃ¼rÃ¼mÃ¼ indirin](https://github.com/vincentcox/StaCoAn/releases):
```
./stacoan
```
### [AndroBugs](https://github.com/AndroBugs/AndroBugs_Framework)

AndroBugs Framework, geliÅŸtiricilere veya hackerlara Android uygulamalarÄ±nda potansiyel gÃ¼venlik aÃ§Ä±klarÄ±nÄ± bulmalarÄ±na yardÄ±mcÄ± olan bir Android zafiyet analiz sistemi.\
[Windows sÃ¼rÃ¼mleri](https://github.com/AndroBugs/AndroBugs_Framework/releases)
```
python androbugs.py -f [APK file]
androbugs.exe -f [APK file]
```
### [Androwarn](https://github.com/maaaaz/androwarn)

**Androwarn**, Android uygulamalarÄ± tarafÄ±ndan geliÅŸtirilen potansiyel kÃ¶tÃ¼ niyetli davranÄ±ÅŸlarÄ± tespit etmek ve kullanÄ±cÄ±yÄ± uyarÄ±da bulunmak iÃ§in kullanÄ±lan bir araÃ§tÄ±r.

Tespit iÅŸlemi, uygulamanÄ±n Dalvik bytecode'Ä±nÄ±n **statik analizi** ile gerÃ§ekleÅŸtirilir ve bu bytecode **Smali** olarak temsil edilir. Bu analiz, [`androguard`](https://github.com/androguard/androguard) kÃ¼tÃ¼phanesi kullanÄ±larak yapÄ±lÄ±r.

Bu araÃ§, Telefoni kimlik bilgilerinin dÄ±ÅŸarÄ±ya aktarÄ±lmasÄ±, Ses/video akÄ±ÅŸÄ±nÄ±n dinlenmesi, PIM verilerinin deÄŸiÅŸtirilmesi, Keyfi kod yÃ¼rÃ¼tme gibi **"kÃ¶tÃ¼" uygulamalarÄ±n yaygÄ±n davranÄ±ÅŸlarÄ±nÄ±** arar.
```
python androwarn.py -i my_application_to_be_analyzed.apk -r html -v 3
```
### [MARA Framework](https://github.com/xtiankisutsa/MARA_Framework)

![](<../../.gitbook/assets/image (81).png>)

**MARA**, Mobil Uygulama Tersine MÃ¼hendislik ve Analiz Ã‡erÃ§evesi anlamÄ±na gelir. OWASP mobil gÃ¼venlik tehditlerine karÅŸÄ± mobil uygulamalarÄ± test etmeye yardÄ±mcÄ± olmak iÃ§in yaygÄ±n olarak kullanÄ±lan mobil uygulama tersine mÃ¼hendislik ve analiz araÃ§larÄ±nÄ± bir araya getiren bir araÃ§tÄ±r. AmacÄ±, bu gÃ¶revi mobil uygulama geliÅŸtiricileri ve gÃ¼venlik uzmanlarÄ± iÃ§in daha kolay ve kullanÄ±cÄ± dostu hale getirmektir.

AÅŸaÄŸÄ±daki iÅŸlemleri yapabilir:

* FarklÄ± araÃ§lar kullanarak Java ve Smali kodunu Ã§Ä±kartÄ±r.
* APK'larÄ± analiz eder: [smalisca](https://github.com/dorneanu/smalisca), [ClassyShark](https://github.com/google/android-classyshark), [androbugs](https://github.com/AndroBugs/AndroBugs_Framework), [androwarn](https://github.com/maaaaz/androwarn), [APKiD](https://github.com/rednaga/APKiD)
* APK'den Ã¶zel bilgileri regexps kullanarak Ã§Ä±kartÄ±r.
* Manifest'i analiz eder.
* Bulunan alanlarÄ± analiz eder: [pyssltest](https://github.com/moheshmohan/pyssltest), [testssl](https://github.com/drwetter/testssl.sh) ve [whatweb](https://github.com/urbanadventurer/WhatWeb)
* APK'yi [apk-deguard.com](http://www.apk-deguard.com) Ã¼zerinden deobfuscate eder.

### Koodous

KÃ¶tÃ¼ amaÃ§lÄ± yazÄ±lÄ±mlarÄ± tespit etmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r: [https://koodous.com/](https://koodous.com)

## Kodu Obfuscate/Deobfuscate Etme

Kodu obfuscate etmek iÃ§in kullandÄ±ÄŸÄ±nÄ±z hizmet ve yapÄ±landÄ±rmaya baÄŸlÄ± olarak, sÄ±rlar obfuscate edilmiÅŸ olabilir veya olmayabilir.

### [ProGuard](https://en.wikipedia.org/wiki/ProGuard\_\(software\))

[Wikipedia](https://en.wikipedia.org/wiki/ProGuard\_\(software\))'a gÃ¶re, **ProGuard**, Java kodunu kÃ¼Ã§Ã¼ltme, optimize etme ve obfuscate etme iÅŸlemlerini gerÃ§ekleÅŸtiren aÃ§Ä±k kaynaklÄ± bir komut satÄ±rÄ± aracÄ±dÄ±r. Bytecode'Ä± optimize edebilir ve kullanÄ±lmayan talimatlarÄ± tespit edip kaldÄ±rabilir. ProGuard, Ã¶zgÃ¼r yazÄ±lÄ±mdÄ±r ve GNU Genel Kamu LisansÄ±, sÃ¼rÃ¼m 2 altÄ±nda daÄŸÄ±tÄ±lÄ±r.

ProGuard, Android SDK'nÄ±n bir parÃ§asÄ± olarak daÄŸÄ±tÄ±lÄ±r ve uygulama release modunda derlenirken Ã§alÄ±ÅŸÄ±r.

### [DexGuard](https://www.guardsquare.com/dexguard)

Apk'nÄ±n deobfuscate edilmesi iÃ§in adÄ±m adÄ±m bir kÄ±lavuz [https://blog.lexfo.fr/dexguard.html](https://blog.lexfo.fr/dexguard.html)'de bulunabilir.

(O kÄ±lavuzdan) Son kontrol ettiÄŸimizde, Dexguard'Ä±n Ã§alÄ±ÅŸma modu ÅŸu ÅŸekildedir:

* Bir kaynaÄŸÄ± bir InputStream olarak yÃ¼kle;
* Sonucu ÅŸifrelemek iÃ§in FilterInputStream'den tÃ¼reyen bir sÄ±nÄ±fa besle;
* Bir ters mÃ¼hendislikÃ§inin birkaÃ§ dakikasÄ±nÄ± boÅŸa harcamak iÃ§in bazÄ± gereksiz obfuscation yap;
* ÅifrelenmiÅŸ sonucu bir ZipInputStream'e besle ve bir DEX dosyasÄ± elde et;
* Son olarak, `loadDex` yÃ¶ntemini kullanarak elde edilen DEX'i bir Kaynak olarak yÃ¼kle.

### [DeGuard](http://apk-deguard.com)

**DeGuard, Android obfuscation araÃ§larÄ± tarafÄ±ndan gerÃ§ekleÅŸtirilen obfuscation iÅŸleminin tersine Ã§evrilmesini saÄŸlar. Bu, kod incelemesi ve kÃ¼tÃ¼phanelerin tahmin edilmesi de dahil olmak Ã¼zere birÃ§ok gÃ¼venlik analizine olanak tanÄ±r.**

Obfuscate edilmiÅŸ bir APK'yÄ± platformlarÄ±na yÃ¼kleyebilirsiniz.

### [Simplify](https://github.com/CalebFenton/simplify)

Bu, **genel bir Android deobfuscator**'dÄ±r. Simplify, bir uygulamayÄ± sanal olarak Ã§alÄ±ÅŸtÄ±rarak davranÄ±ÅŸÄ±nÄ± anlamaya Ã§alÄ±ÅŸÄ±r ve ardÄ±ndan kodu insanlar tarafÄ±ndan daha kolay anlaÅŸÄ±labilir hale getirmek iÃ§in optimize etmeye Ã§alÄ±ÅŸÄ±r. Her optimizasyon tÃ¼rÃ¼ basit ve geneldir, bu nedenle Ã¶zel bir obfuscation tÃ¼rÃ¼ kullanÄ±lmÄ±ÅŸ olmasÄ± Ã¶nemli deÄŸildir.

### [APKiD](https://github.com/rednaga/APKiD)

APKiD, bir APK'nÄ±n nasÄ±l oluÅŸturulduÄŸu hakkÄ±nda bilgi verir. BirÃ§ok derleyici, paketleyici, obfuscator ve diÄŸer garip ÅŸeyleri tanÄ±r. Android iÃ§in [_PEiD_](https://www.aldeid.com/wiki/PEiD)'dir.

### El ile

[Ã–zel obfuscation'Ä± tersine Ã§evirme hakkÄ±nda bazÄ± ipuÃ§larÄ± Ã¶ÄŸrenmek iÃ§in bu kÄ±lavuzu okuyun](manual-deobfuscation.md)

## Laboratuvarlar

### [Androl4b](https://github.com/sh4hin/Androl4b)

AndroL4b, tersine mÃ¼hendislik ve kÃ¶tÃ¼ amaÃ§lÄ± yazÄ±lÄ±m analizi iÃ§in farklÄ± gÃ¼venlik uzmanlarÄ± ve araÅŸtÄ±rmacÄ±larÄ±n en son Ã§erÃ§eve, Ã¶ÄŸreticiler ve laboratuvarlarÄ± iÃ§eren ubuntu-mate tabanlÄ± bir Android gÃ¼venlik sanal makinesidir.

## Referanslar

* [https://owasp.org/www-project-mobile-app-security/](https://owasp.org/www-project-mobile-app-security/)
* [https://appsecwiki.com/#/](https://appsecwiki.com/#/) Bu, kaynaklarÄ±n harika bir listesidir.
* [https://maddiestone.github.io/AndroidAppRE/](https://maddiestone.github.io/AndroidAppRE/) Android hÄ±zlÄ± kursu
* [https://manifestsecurity.com/android-application-security/](https://manifestsecurity.com/android-application-security/)
* [https://github.com/Ralireza/Android-Security-Teryaagh](https://github.com/Ralireza/Android-Security-Teryaagh)
* [https://www.youtube.com/watch?v=PMKnPaGWxtg\&feature=youtu.be\&ab\_channel=B3nacSec](https://www.youtube.com/watch?v=PMKnPaGWxtg\&feature=youtu.be\&ab\_channel=B3nacSec)

## HenÃ¼z DenenmemiÅŸ

* [https://www.vegabird.com/yaazhini/](https://www.vegabird.com/yaazhini/)
* [https://github.com/abhi-r3v0/Adhrit](https://github.com/abhi-r3v0/Adhrit)

<figure><img src="../../.gitbook/assets/image (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

Deneyimli hackerlar ve bug bounty avcÄ±larÄ± ile iletiÅŸim kurmak iÃ§in [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) sunucusuna katÄ±lÄ±n!

**Hacking Insights**\
Hacking'in heyecanÄ±nÄ± ve zorluklarÄ±nÄ± inceleyen iÃ§eriklerle etkileÅŸime geÃ§in.

**GerÃ§ek ZamanlÄ± Hack Haberleri**\
HÄ±zlÄ± tempolu hacking dÃ¼nyasÄ±nÄ± gerÃ§ek zamanlÄ± haberler ve iÃ§gÃ¶rÃ¼lerle takip edin.

**En Son Duyurular**\
Yeni bug bounty'lerin baÅŸlatÄ±lmasÄ±nÄ± ve Ã¶nemli platform gÃ¼ncellemelerini takip edin.

BugÃ¼n [**Discord**](https://discord.com/invite/N3FrSbmwdy)'a katÄ±lÄ±n ve en iyi hackerlarla iÅŸbirliÄŸi yapmaya baÅŸlayÄ±n!

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin!</summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklam vermek veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [
