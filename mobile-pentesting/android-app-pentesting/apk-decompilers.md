# APKåç¼–è¯‘å™¨

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘å¹³å° â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitchç›´æ’­ ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTubeé¢‘é“ ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨HackTricksä¸­**å®£ä¼ ä½ çš„å…¬å¸**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTæ”¶è—å“**](https://opensea.io/collection/the-peass-family)â€”â€”[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ–è€… [**Telegramç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricksä»“åº“**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloudä»“åº“**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## [JD-Gui](https://github.com/java-decompiler/jd-gui)

ç¬¬ä¸€ä¸ªè‘—åçš„GUI Javaåç¼–è¯‘å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥ç ”ç©¶ä»APKä¸­è·å–çš„Javaä»£ç ã€‚

## [Jadx](https://github.com/skylot/jadx)

å†…ç½®çš„Javaï¼ˆå¤šå¹³å°ï¼‰åç¼–è¯‘å™¨ï¼Œç›®å‰æˆ‘è®¤ä¸ºè¿™æ˜¯æ¨èä½¿ç”¨çš„ã€‚\
åªéœ€**ä¸‹è½½**æœ€æ–°ç‰ˆæœ¬å¹¶ä»_**bin**_æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œï¼š
```
jadx-gui
```
ä½¿ç”¨GUIå¯ä»¥è¿›è¡Œæ–‡æœ¬æœç´¢ï¼Œè½¬åˆ°å‡½æ•°å®šä¹‰ï¼ˆåœ¨å‡½æ•°ä¸ŠæŒ‰CTRL +å·¦é”®å•å‡»ï¼‰å’Œäº¤å‰å¼•ç”¨ï¼ˆå³é”®å•å‡» --> æŸ¥æ‰¾ç”¨æ³•ï¼‰

å¦‚æœä½ åªæƒ³è¦Javaä»£ç ï¼Œä½†ä¸æƒ³ä½¿ç”¨GUIï¼Œä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨jadxå‘½ä»¤è¡Œå·¥å…·ï¼š
```
jadx app.apk
```
ä¸€äº›jadxï¼ˆGUIå’ŒCLIç‰ˆæœ¬ï¼‰çš„æœ‰è¶£é€‰é¡¹åŒ…æ‹¬ï¼š
```
-d <path to output dir>
--no-res #No resources
--no-src #No source code
--no-imports #Always write entire package name (very useful to know where is the function that you might want to hook)
```
## [GDA-android-reversing-Tool](https://github.com/charles2gan/GDA-android-reversing-Tool)

GDAä¹Ÿæ˜¯ä¸€ä¸ªå¼ºå¤§è€Œå¿«é€Ÿçš„åå‘åˆ†æå¹³å°ã€‚å®ƒä¸ä»…æ”¯æŒåŸºæœ¬çš„åç¼–è¯‘æ“ä½œï¼Œè¿˜å…·æœ‰è®¸å¤šå‡ºè‰²çš„åŠŸèƒ½ï¼Œå¦‚æ¶æ„è¡Œä¸ºæ£€æµ‹ã€éšç§æ³„éœ²æ£€æµ‹ã€æ¼æ´æ£€æµ‹ã€è·¯å¾„è§£å†³ã€æ‰“åŒ…ç¨‹åºè¯†åˆ«ã€å˜é‡è·Ÿè¸ªåˆ†æã€åæ··æ·†ã€Pythonå’ŒJavaè„šæœ¬ã€è®¾å¤‡å†…å­˜æå–ã€æ•°æ®è§£å¯†å’ŒåŠ å¯†ç­‰ç­‰ã€‚

ä»…é€‚ç”¨äºWindowsã€‚

![](<../../.gitbook/assets/image (207) (1) (1).png>)

## [Bytecode-Viewer](https://github.com/Konloch/bytecode-viewer/releases)

å¦ä¸€ä¸ªè¿›è¡Œé™æ€åˆ†æçš„æœ‰è¶£å·¥å…·æ˜¯ï¼š[bytecode-viewer](https://github.com/Konloch/bytecode-viewer/releases)ã€‚å®ƒå…è®¸æ‚¨åŒæ—¶ä½¿ç”¨å¤šä¸ªåç¼–è¯‘å™¨å¯¹APKè¿›è¡Œåç¼–è¯‘ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä¾‹å¦‚ä¸¤ä¸ªä¸åŒçš„Javaåç¼–è¯‘å™¨å’Œä¸€ä¸ªSmaliåç¼–è¯‘å™¨ã€‚å®ƒè¿˜å…è®¸æ‚¨ä¿®æ”¹ä»£ç ï¼š

![](<../../.gitbook/assets/image (82).png>)

å¦‚æœæ‚¨ä¿®æ”¹äº†ä»£ç ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å°†å…¶å¯¼å‡ºã€‚\
bytecode-viewerçš„ä¸€ä¸ªä¸å¥½çš„åœ°æ–¹æ˜¯å®ƒæ²¡æœ‰å¼•ç”¨æˆ–äº¤å‰å¼•ç”¨ã€‚

## [Enjarify](https://github.com/Storyyeller/enjarify)

Enjarifyæ˜¯ä¸€ç§å°†Dalvikå­—èŠ‚ç è½¬æ¢ä¸ºç­‰æ•ˆJavaå­—èŠ‚ç çš„å·¥å…·ã€‚è¿™ä½¿å¾—Javaåˆ†æå·¥å…·èƒ½å¤Ÿåˆ†æAndroidåº”ç”¨ç¨‹åºã€‚\
Dex2jaræ˜¯ä¸€ä¸ªè¾ƒæ—§çš„å·¥å…·ï¼Œä¹Ÿå°è¯•å°†Dalvikè½¬æ¢ä¸ºJavaå­—èŠ‚ç ã€‚å®ƒåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å·¥ä½œå¾—ç›¸å½“å¥½ï¼Œä½†è®¸å¤šæ™¦æ¶©çš„ç‰¹æ€§æˆ–è¾¹ç¼˜æƒ…å†µä¼šå¯¼è‡´å®ƒå¤±è´¥ï¼Œç”šè‡³æ‚„æ‚„åœ°äº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒEnjarifyè¢«è®¾è®¡ä¸ºåœ¨å°½å¯èƒ½å¤šçš„æƒ…å†µä¸‹å·¥ä½œï¼Œå³ä½¿æ˜¯Dex2jaræ— æ³•å¤„ç†çš„ä»£ç ã€‚Enjarifyæ­£ç¡®å¤„ç†Unicodeç±»åã€å¤šä¸ªç±»å‹ä½¿ç”¨çš„å¸¸é‡ã€éšå¼è½¬æ¢ã€å¼‚å¸¸å¤„ç†ç¨‹åºè·³è½¬åˆ°æ­£å¸¸æ§åˆ¶æµã€å¼•ç”¨å¤ªå¤šå¸¸é‡çš„ç±»ã€éå¸¸é•¿çš„æ–¹æ³•ã€catchallå¤„ç†ç¨‹åºä¹‹åçš„å¼‚å¸¸å¤„ç†ç¨‹åºä»¥åŠé”™è¯¯ç±»å‹çš„é™æ€åˆå§‹å€¼ç­‰ç­‰ã€‚

## [CFR](https://github.com/leibnitz27/cfr)

CFRå°†åç¼–è¯‘ç°ä»£Javaç‰¹æ€§ - åŒ…æ‹¬Java 9ã€12å’Œ14ç­‰ - ä½†å®ƒå®Œå…¨ä½¿ç”¨Java 6ç¼–å†™ï¼Œå› æ­¤å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼ï¼ˆ[FAQ](https://www.benf.org/other/cfr/faq.html)ï¼‰- å®ƒç”šè‡³å¯ä»¥å°†å…¶ä»–JVMè¯­è¨€çš„ç±»æ–‡ä»¶è½¬æ¢å›Javaï¼

å¯ä»¥ä½¿ç”¨è¯¥JARæ–‡ä»¶å¦‚ä¸‹ï¼š
```
java -jar ./cfr.jar "$JARFILE" --outputdir "$OUTDIR"
```
å¯¹äºè¾ƒå¤§çš„JARæ–‡ä»¶ï¼Œæˆ‘å‘ç°å†…å­˜ä¸è¶³ã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ç®€å•åœ°è°ƒæ•´JVMçš„å†…å­˜åˆ†é…æ± çš„å¤§å°ã€‚
```
java -Xmx4G -jar ./cfr.jar "$JARFILE" --outputdir "$OUTDIR"
```
è¿™ä¸ªç¤ºä¾‹å°†å…è®¸åˆ†é…æœ€å¤š4GBçš„å†…å­˜ã€‚

åœ¨è¾“å‡ºç›®å½•ä¸­ï¼Œæ‚¨å°†æ‰¾åˆ°åç¼–è¯‘çš„`.java`æ–‡ä»¶ï¼Œä»¥åŠåç¼–è¯‘çš„æ‘˜è¦ã€‚

## [Fernflower](https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine)

æ¥ä¸‹æ¥æ˜¯[Fernflower](https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine)ï¼Œå®ƒæ˜¯[IntelliJ IDEA](https://www.jetbrains.com/idea/)çš„ä¸€éƒ¨åˆ†ã€‚æ¯ä¸ªäººéƒ½æåˆ°å®ƒæ˜¯ä¸€ä¸ªâ€œåˆ†ææ€§â€åç¼–è¯‘å™¨ï¼ˆæ­£å¦‚ä»–ä»¬çš„é¡¹ç›®æè¿°ä¸­æ‰€è¿°ï¼‰ï¼Œä½†æ²¡æœ‰äººæŒ‡å‡ºè¿™å®é™…ä¸Šæ„å‘³ç€ä»€ä¹ˆã€‚æˆ‘åªæ‰¾åˆ°äº†[è¿™ä¸ªStackoverflowé—®é¢˜](https://stackoverflow.com/q/62298929)ï¼Œä½†å¾ˆé—æ†¾ï¼Œè‡³ä»Šæ²¡æœ‰å¾—åˆ°ç­”æ¡ˆã€‚

æ— è®ºå¦‚ä½•ï¼Œç”±äºæ²¡æœ‰è‡ªåŒ…å«çš„å‘å¸ƒç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦è‡ªå·±æ„å»ºå®ƒã€‚ä½œä¸ºä¸€ä¸ªåŸºäº[Gradle](https://gradle.org)çš„é¡¹ç›®ï¼Œæ‚¨å¯ä»¥å…‹éš†å®ƒï¼Œç„¶ååœ¨æ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº†Gradleä¹‹åè¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```
cd ./plugins/java-decompiler/engine && gradle jar
```
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆå°†å·¥ä½œç›®å½•åˆ‡æ¢åˆ°Fernflowerçš„æ ¹ç›®å½•ã€‚ç„¶åï¼Œæˆ‘ä»¬æŒ‡ç¤ºGradleæ„å»ºæ–‡ä»¶`./build/libs/fernflower.jar`ã€‚

Fernflowerçš„è°ƒç”¨æ–¹å¼ä¸CFRç±»ä¼¼ã€‚
```
java -jar ./fernflower.jar "$JARFILE" "$OUTDIR"
```
åœ¨è¿™é‡Œæè¿°çš„åç¼–è¯‘å™¨ä¸­ï¼Œè¿™æ˜¯å”¯ä¸€ä¸€ä¸ªå°†ç”Ÿæˆçš„`.java`æ–‡ä»¶è¾“å‡ºåˆ°JARæ–‡ä»¶ä¸­çš„å·¥å…·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`unzip`è½»æ¾æå–æºæ–‡ä»¶ã€‚

## [Krakatau](https://github.com/Storyyeller/Krakatau)

è¿˜è®°å¾—ä¸Šé¢æåˆ°çš„Enjarifyå—ï¼ŸåŒæ ·çš„ä½œè€…ä¹Ÿæ˜¯[Krakatau](https://github.com/Storyyeller/Krakatau)çš„å¼€å‘è€…ã€‚

ä¸å…¶ä»–é¡¹ç›®ä¸åŒï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯ç”¨Pythonç¼–å†™çš„ã€‚æˆ‘è®¤ä¸ºè¿™å°±æ˜¯å®ƒä¸å…¶ä»–é¡¹ç›®æœ‰æ‰€ä¸åŒçš„åŸå› ã€‚

è®©æˆ‘å¼•ç”¨ä¸€ä¸‹[è¯¥é¡¹ç›®çš„README](https://github.com/Storyyeller/Krakatau/blob/master/README.md)ã€‚

> æ¥ä¸‹æ¥ï¼Œç¡®ä¿æ‚¨æ‹¥æœ‰åŒ…å«ä»»ä½•å¤–éƒ¨ç±»ï¼ˆå³åº“ï¼‰çš„å®šä¹‰çš„JARæ–‡ä»¶ï¼Œè¿™äº›ç±»å¯èƒ½è¢«æ‚¨å°è¯•åç¼–è¯‘çš„JARæ–‡ä»¶å¼•ç”¨ã€‚è¿™åŒ…æ‹¬æ ‡å‡†åº“ç±»ï¼ˆå³JRTï¼‰ã€‚

æ ¹æ®æè¿°ï¼Œè¿™äº›æ ‡å‡†åº“ç±»ä»¥`rt.jar`æ–‡ä»¶çš„å½¢å¼éšJavaçš„8ç‰ˆæœ¬ä¸€èµ·æä¾›ã€‚å¯¹äºæ›´é«˜ç‰ˆæœ¬ï¼Œä½œè€…æä¾›äº†[jrt-extractor](https://github.com/Storyyeller/jrt-extractor)ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬ä¸‹è½½è¯¥å·¥å…·å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```
cd ./jrt-extractor
javac JRTExtractor.java
java -ea JRTExtractor
```
è¿™ä¸ªæ–‡ä»¶åº”è¯¥å†™åœ¨ç›®å½•ä¸­çš„`rt.jar`æ–‡ä»¶é‡Œã€‚

æœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿è¡ŒKrakatauã€‚
```
./Krakatau/decompile.py -out "$OUTDIR" -skip -nauto -path ./jrt-extractor/rt.jar "$JARFILE"
```
è®©æˆ‘å‚è€ƒé¡¹ç›®çš„GitHubæ¥äº†è§£å‚æ•°çš„è§£é‡Šã€‚åªéœ€æ³¨æ„ï¼Œå¯¹äºæ‚¨çš„JARæ–‡ä»¶ä½¿ç”¨çš„ä»»ä½•åº“ï¼ŒKrakatauå°†è¦æ±‚æ‚¨å°†å…¶ä½œä¸ºJARæ–‡ä»¶æ·»åŠ åˆ°`-path`æ ‡å¿—ä¸­ã€‚

## [procyon](https://github.com/mstrobel/procyon)

å®‰è£…å®Œæˆåï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ã€‚
```
procyon -jar "$JARFILE" -o "$OUTDIR"
```
## å‚è€ƒèµ„æ–™

{% embed url="https://eiken.dev/blog/2021/02/how-to-break-your-jar-in-2021-decompilation-guide-for-jars-and-apks/#cfr" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“â€”â€”[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
