# AVD - Android Virtual Device

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Thank you very much to [**@offsecjay**](https://twitter.com/offsecjay) for his help while creating this content.

## Î¤Î¹ ÎµÎ¯Î½Î±Î¹

Î¤Î¿ Android Studio ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± **Ï„ÏÎ­Ï‡ÎµÏ„Îµ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ­Ï‚ Î¼Î·Ï‡Î±Î½Î­Ï‚ Android Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î³Î¹Î± Î½Î± Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÎµÏ„Îµ APKs**. Î“Î¹Î± Î½Î± Ï„Î¹Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î¸Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯Ï„Îµ:

* Î¤Î± **ÎµÏÎ³Î±Î»ÎµÎ¯Î± Android SDK** - [ÎšÎ±Ï„ÎµÎ²Î¬ÏƒÏ„Îµ ÎµÎ´Ï](https://developer.android.com/studio/releases/sdk-tools).
* Î‰ **Android Studio** (Î¼Îµ ÎµÏÎ³Î±Î»ÎµÎ¯Î± Android SDK) - [ÎšÎ±Ï„ÎµÎ²Î¬ÏƒÏ„Îµ ÎµÎ´Ï](https://developer.android.com/studio).

Î£Ï„Î± Windows (ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ® Î¼Î¿Ï…) **Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎµÎ³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Ï„Î¿Ï… Android Studio** ÎµÎ¯Ï‡Î± Ï„Î± **ÎµÏÎ³Î±Î»ÎµÎ¯Î± SDK ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î± ÏƒÏ„Î¿**: `C:\Users\<UserName>\AppData\Local\Android\Sdk\tools`

Î£Ï„Î¿ mac Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î± SDK** ÎºÎ±Î¹ Î½Î± Ï„Î± Î­Ï‡ÎµÏ„Îµ ÏƒÏ„Î¿ PATH Ï„ÏÎ­Ï‡Î¿Î½Ï„Î±Ï‚:
```bash
brew tap homebrew/cask
brew install --cask android-sdk
```
Î‰ Î±Ï€ÏŒ Ï„Î¿ **Android Studio GUI** ÏŒÏ€Ï‰Ï‚ Ï…Ï€Î¿Î´ÎµÎ¹ÎºÎ½ÏÎµÏ„Î±Î¹ ÏƒÏ„Î¿ [https://stackoverflow.com/questions/46402772/failed-to-install-android-sdk-java-lang-noclassdeffounderror-javax-xml-bind-a](https://stackoverflow.com/questions/46402772/failed-to-install-android-sdk-java-lang-noclassdeffounderror-javax-xml-bind-a) Ï„Î¿ Î¿Ï€Î¿Î¯Î¿ Î¸Î± Ï„Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÎ¹ ÏƒÎµ `~/Library/Android/sdk/cmdline-tools/latest/bin/` ÎºÎ±Î¹ `~/Library/Android/sdk/platform-tools/` ÎºÎ±Î¹ `~/Library/Android/sdk/emulator/`

Î“Î¹Î± Ï„Î± Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î± Î¼Îµ Ï„Î¿ Java:
```java
export JAVA_HOME=/Applications/Android\ Studio.app/Contents/jbr/Contents/Home
```
## GUI

### Prepare Virtual Machine

Î‘Î½ Î­Ï‡ÎµÏ„Îµ ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÎ¹ Ï„Î¿ Android Studio, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î±Ï€Î»Î¬ Î½Î± Î±Î½Î¿Î¯Î¾ÎµÏ„Îµ Ï„Î·Î½ ÎºÏÏÎ¹Î± Ï€ÏÎ¿Î²Î¿Î»Î® Î­ÏÎ³Î¿Ï… ÎºÎ±Î¹ Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·: _**Tools**_ --> _**AVD Manager.**_

<div align="center" data-full-width="false">

<figure><img src="../../.gitbook/assets/image (1142).png" alt="" width="293"><figcaption></figcaption></figure>

</div>

Î£Ï„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î±, ÎºÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ _**Create Virtual Device**_

<figure><img src="../../.gitbook/assets/image (1143).png" alt="" width="188"><figcaption></figcaption></figure>

_**ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ** Ï„Î¿ Ï„Î·Î»Î­Ï†Ï‰Î½Î¿ Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ_ ÎºÎ±Î¹ ÎºÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ _**Next.**_

{% hint style="warning" %}
Î‘Î½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÏ„Îµ Î­Î½Î± Ï„Î·Î»Î­Ï†Ï‰Î½Î¿ Î¼Îµ ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î¿ Ï„Î¿ Play Store, ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î­Î½Î± Î¼Îµ Ï„Î¿ ÎµÎ¹ÎºÎ¿Î½Î¯Î´Î¹Î¿ Ï„Î¿Ï… Play Store Ï€Î¬Î½Ï‰ Ï„Î¿Ï…!

<img src="../../.gitbook/assets/image (1144).png" alt="" data-size="original">
{% endhint %}

Î£Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± Ï€ÏÎ¿Î²Î¿Î»Î® Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ ÎºÎ±Î¹ Î½Î± ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎµÎ¹ÎºÏŒÎ½Î± Android** Ï€Î¿Ï… Î¸Î± Ï„ÏÎ­Î¾ÎµÎ¹ Ï„Î¿ Ï„Î·Î»Î­Ï†Ï‰Î½Î¿:

<figure><img src="../../.gitbook/assets/image (1145).png" alt="" width="375"><figcaption></figcaption></figure>

ÎˆÏ„ÏƒÎ¹, ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï„Î·Î½ ÎºÎ±Î¹ Î±Î½ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ ÎºÎ±Ï„Î­Î²ÎµÎ¹, ÎºÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ ÏƒÏÎ¼Î²Î¿Î»Î¿ _**Download**_ Î´Î¯Ï€Î»Î± ÏƒÏ„Î¿ ÏŒÎ½Î¿Î¼Î± (**Ï„ÏÏÎ± Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ Î¼Î­Ï‡ÏÎ¹ Î½Î± ÎºÎ±Ï„Î­Î²ÎµÎ¹ Î· ÎµÎ¹ÎºÏŒÎ½Î±).**\
ÎœÏŒÎ»Î¹Ï‚ Î· ÎµÎ¹ÎºÏŒÎ½Î± ÎºÎ±Ï„Î­Î²ÎµÎ¹, Î±Ï€Î»Î¬ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ **`Next`** ÎºÎ±Î¹ **`Finish`**.

Î— ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î·Ï‡Î±Î½Î® Î¸Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¸ÎµÎ¯. Î¤ÏÏÎ± **ÎºÎ¬Î¸Îµ Ï†Î¿ÏÎ¬ Ï€Î¿Ï… Î±Ï€Î¿ÎºÏ„Î¬Ï„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿Î½ AVD manager, Î¸Î± ÎµÎ¯Î½Î±Î¹ Ï€Î±ÏÎ¿ÏÏƒÎ±**.

### Run Virtual Machine

Î“Î¹Î± Î½Î± **Ï„ÏÎ­Î¾ÎµÏ„Îµ** Ï„Î·Î½, Î±Ï€Î»Î¬ Ï€Î±Ï„Î®ÏƒÏ„Îµ Ï„Î¿ _**Start button**_.

![](<../../.gitbook/assets/image (518).png>)

## Command Line tool

Î ÏÏÏ„Î± Î±Ï€' ÏŒÎ»Î± Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± **Î±Ï€Î¿Ï†Î±ÏƒÎ¯ÏƒÎµÏ„Îµ Ï€Î¿Î¹Î¿ Ï„Î·Î»Î­Ï†Ï‰Î½Î¿ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ**, Î³Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î· Î»Î¯ÏƒÏ„Î± Ï„Ï‰Î½ Ï€Î¹Î¸Î±Î½ÏÎ½ Ï„Î·Î»ÎµÏ†ÏÎ½Ï‰Î½ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ:
```
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list device

d: 0 or "automotive_1024p_landscape"
Name: Automotive (1024p landscape)
OEM : Google
Tag : android-automotive-playstore
---------
id: 1 or "Galaxy Nexus"
Name: Galaxy Nexus
OEM : Google
---------
id: 2 or "desktop_large"
Name: Large Desktop
OEM : Google
Tag : android-desktop
---------
id: 3 or "desktop_medium"
Name: Medium Desktop
OEM : Google
Tag : android-desktop
---------
id: 4 or "Nexus 10"
Name: Nexus 10
OEM : Google
[...]
```
ÎœÏŒÎ»Î¹Ï‚ Î±Ï€Î¿Ï†Î±ÏƒÎ¯ÏƒÎµÏ„Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î± Ï„Î·Ï‚ ÏƒÏ…ÏƒÎºÎµÏ…Î®Ï‚ Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± **Î±Ï€Î¿Ï†Î±ÏƒÎ¯ÏƒÎµÏ„Îµ Ï€Î¿Î¹Î± ÎµÎ¹ÎºÏŒÎ½Î± Android Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ ÏƒÎµ Î±Ï…Ï„Î® Ï„Î· ÏƒÏ…ÏƒÎºÎµÏ…Î®.**\
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ `sdkmanager`:
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\sdkmanager.bat --list
```
ÎšÎ±Î¹ **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÏ„Îµ** Î±Ï…Ï„ÏŒ Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ (Î® ÏŒÎ»Î±) Î¼Îµ: 

{% code overflow="wrap" %}
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\sdkmanager.bat "platforms;android-28" "system-images;android-28;google_apis;x86_64"
```
{% endcode %}

Î‘Ï†Î¿Ï Î­Ï‡ÎµÏ„Îµ ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÎ¹ Ï„Î·Î½ ÎµÎ¹ÎºÏŒÎ½Î± Android Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎºÎ±Ï„ÎµÎ²Î±ÏƒÎ¼Î­Î½ÎµÏ‚ ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ Android** Î¼Îµ:
```
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list target
----------
id: 1 or "android-28"
Name: Android API 28
Type: Platform
API level: 28
Revision: 6
----------
id: 2 or "android-29"
Name: Android API 29
Type: Platform
API level: 29
Revision: 4
```
Î‘Ï…Ï„Î® Ï„Î· ÏƒÏ„Î¹Î³Î¼Î® Î­Ï‡ÎµÏ„Îµ Î±Ï€Î¿Ï†Î±ÏƒÎ¯ÏƒÎµÎ¹ Ï„Î· ÏƒÏ…ÏƒÎºÎµÏ…Î® Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ ÎºÎ±Î¹ Î­Ï‡ÎµÏ„Îµ ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÎ¹ Ï„Î·Î½ ÎµÎ¹ÎºÏŒÎ½Î± Android, Î¿Ï€ÏŒÏ„Îµ **Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Ï„Î· ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î·Ï‡Î±Î½Î® Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚**:

{% code overflow="wrap" %}
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat -v create avd -k "system-images;android-28;google_apis;x86_64" -n "AVD9" -d "Nexus 5X"
```
{% endcode %}

Î£Ï„Î·Î½ Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÎ½Ï„Î¿Î»Î® **Î´Î·Î¼Î¹Î¿ÏÏÎ³Î·ÏƒÎ± Î¼Î¹Î± VM Î¼Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±** "_AVD9_" Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î· ** ÏƒÏ…ÏƒÎºÎµÏ…Î®** "_Nexus 5X_" ÎºÎ±Î¹ Ï„Î·Î½ **ÎµÎ¹ÎºÏŒÎ½Î± Android** "_system-images;android-28;google\_apis;x86\_64_".\
Î¤ÏÏÎ± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ®ÏƒÎµÏ„Îµ Ï„Î¹Ï‚ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ­Ï‚ Î¼Î·Ï‡Î±Î½Î­Ï‚** Ï€Î¿Ï… Î­Ï‡ÎµÏ„Îµ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹ Î¼Îµ:
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list avd

Name: AVD9
Device: Nexus 5X (Google)
Path: C:\Users\cpolo\.android\avd\AVD9.avd
Target: Google APIs (Google Inc.)
Based on: Android API 28 Tag/ABI: google_apis/x86_64

The following Android Virtual Devices could not be loaded:
Name: Pixel_2_API_27
Path: C:\Users\cpolo\.android\avd\Pixel_2_API_27_1.avd
Error: Google pixel_2 no longer exists as a device
```
### Run Virtual Machine

ÎˆÏ‡Î¿Ï…Î¼Îµ Î®Î´Î· Î´ÎµÎ¹ Ï€ÏÏ‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Ï„Î¹Ï‚ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¼Î­Î½ÎµÏ‚ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ­Ï‚ Î¼Î·Ï‡Î±Î½Î­Ï‚, Î±Î»Î»Î¬ **Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± Ï„Î¹Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚**:
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -list-avds
AVD9
Pixel_2_API_27
```
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î±Ï€Î»Î¬ Î½Î± **ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î·Ï‡Î±Î½Î® Î­Ï‡ÎµÎ¹ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¸ÎµÎ¯** Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚: 

{% code overflow="wrap" %}
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "VirtualMachineName"
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "AVD9"
```
{% endcode %}

Î‰ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï€Î¹Î¿ Ï€ÏÎ¿Î·Î³Î¼Î­Î½ÎµÏ‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î¼Î¹Î± ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î·Ï‡Î±Î½Î® ÏŒÏ€Ï‰Ï‚:

{% code overflow="wrap" %}
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "AVD9" -http-proxy 192.168.1.12:8080 -writable-system
```
{% endcode %}

### Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚ ÎµÎ½Ï„Î¿Î»ÏÎ½

Î©ÏƒÏ„ÏŒÏƒÎ¿, Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ **Ï€Î¿Î»Î»Î­Ï‚ Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÎ­Ï‚ Ï‡ÏÎ®ÏƒÎ¹Î¼ÎµÏ‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚ ÎµÎ½Ï„Î¿Î»ÏÎ½** Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ Î¼Î¹Î± ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î·Ï‡Î±Î½Î®. Î Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î²ÏÎµÎ¯Ï„Îµ Î¼ÎµÏÎ¹ÎºÎ­Ï‚ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Ï…ÏƒÎµÏ‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î±Î»Î»Î¬ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ [**Î½Î± Î²ÏÎµÎ¯Ï„Îµ Î¼Î¹Î± Ï€Î»Î®ÏÎ· Î»Î¯ÏƒÏ„Î± ÎµÎ´Ï**](https://developer.android.com/studio/run/emulator-commandline)

**Î•ÎºÎºÎ¯Î½Î·ÏƒÎ·**

* `-snapshot name` : ÎÎµÎºÎ¹Î½Î®ÏƒÏ„Îµ Ï„Î¿ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿ VM
* `-snapshot-list -snapstorage ~/.android/avd/Nexus_5X_API_23.avd/snapshots-test.img` : Î›Î¯ÏƒÏ„Î± Î¼Îµ ÏŒÎ»Î± Ï„Î± ÎºÎ±Ï„Î±Î³ÎµÎ³ÏÎ±Î¼Î¼Î­Î½Î± ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î±

**Î”Î¯ÎºÏ„Ï…Î¿**

* `-dns-server 192.0.2.0, 192.0.2.255` : Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€Î¿Î´ÎµÎ¯Î¾ÎµÏ„Îµ Ï„Î¿Ï…Ï‚ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î­Ï‚ DNS Ï‡Ï‰ÏÎ¹ÏƒÎ¼Î­Î½Î¿Ï…Ï‚ Î¼Îµ ÎºÏŒÎ¼Î¼Î± ÏƒÏ„Î· VM.
* **`-http-proxy 192.168.1.12:8080`** : Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€Î¿Î´ÎµÎ¯Î¾ÎµÏ„Îµ Î­Î½Î±Î½ HTTP proxy Ï€ÏÎ¿Ï‚ Ï‡ÏÎ®ÏƒÎ· (Ï€Î¿Î»Ï Ï‡ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± Ï„Î·Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î® Ï„Î·Ï‚ ÎºÎ¯Î½Î·ÏƒÎ·Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î¿ Burp)
* `-port 5556` : ÎŸÏÎ¯ÏƒÏ„Îµ Ï„Î¿Î½ Î±ÏÎ¹Î¸Î¼ÏŒ Î¸ÏÏÎ±Ï‚ TCP Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± Ï„Î·Î½ ÎºÎ¿Î½ÏƒÏŒÎ»Î± ÎºÎ±Î¹ Ï„Î¿ adb.
* `-ports 5556,5559` : ÎŸÏÎ¯ÏƒÏ„Îµ Ï„Î¹Ï‚ Î¸ÏÏÎµÏ‚ TCP Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ Î³Î¹Î± Ï„Î·Î½ ÎºÎ¿Î½ÏƒÏŒÎ»Î± ÎºÎ±Î¹ Ï„Î¿ adb.
* **`-tcpdump /path/dumpfile.cap`** : ÎšÎ±Ï„Î±Î³ÏÎ¬ÏˆÏ„Îµ ÏŒÎ»Î· Ï„Î·Î½ ÎºÎ¯Î½Î·ÏƒÎ· ÏƒÎµ Î­Î½Î± Î±ÏÏ‡ÎµÎ¯Î¿

**Î£ÏÏƒÏ„Î·Î¼Î±**

* `-selinux {disabled|permissive}` : ÎŸÏÎ¯ÏƒÏ„Îµ Ï„Î¿ module Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚ Security-Enhanced Linux ÏƒÎµ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· ÎµÎ¯Ï„Îµ Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· ÎµÎ¯Ï„Îµ ÎµÏ€Î¹Ï„ÏÎµÏ€Ï„Î¹ÎºÎ® ÏƒÎµ Î­Î½Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒ ÏƒÏÏƒÏ„Î·Î¼Î± Linux.
* `-timezone Europe/Paris` : ÎŸÏÎ¯ÏƒÏ„Îµ Ï„Î· Î¶ÏÎ½Î· ÏÏÎ±Ï‚ Î³Î¹Î± Ï„Î· ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® ÏƒÏ…ÏƒÎºÎµÏ…Î®
* `-screen {touch(default)|multi-touch|o-touch}` : ÎŸÏÎ¯ÏƒÏ„Îµ Ï„Î· Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î¿Î¸ÏŒÎ½Î·Ï‚ Î±Ï†Î®Ï‚ Ï€Î¿Ï… Ï€ÏÎ¿ÏƒÎ¿Î¼Î¿Î¹ÏÎ½ÎµÏ„Î±Î¹.
* **`-writable-system`** : Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Î±Ï…Ï„Î® Ï„Î·Î½ ÎµÏ€Î¹Î»Î¿Î³Î® Î³Î¹Î± Î½Î± Î­Ï‡ÎµÏ„Îµ Î¼Î¹Î± ÎµÎ³Î³ÏÎ¬ÏˆÎ¹Î¼Î· ÎµÎ¹ÎºÏŒÎ½Î± ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î¬ÏÎºÎµÎ¹Î± Ï„Î·Ï‚ ÏƒÏ…Î½ÎµÎ´ÏÎ¯Î±Ï‚ Ï€ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·Ï‚ ÏƒÎ±Ï‚. Î˜Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ `adb root; adb remount`. Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï€Î¿Î»Ï Ï‡ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± Ï„Î·Î½ ÎµÎ³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· ÎµÎ½ÏŒÏ‚ Î½Î­Î¿Ï… Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Ï„Î¹ÎºÎ¿Ï ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î±.

## Rooting Î¼Î¹Î±Ï‚ ÏƒÏ…ÏƒÎºÎµÏ…Î®Ï‚ Play Store

Î‘Î½ ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎ±Ï„Îµ Î¼Î¹Î± ÏƒÏ…ÏƒÎºÎµÏ…Î® Î¼Îµ Play Store Î´ÎµÎ½ Î¸Î± Î¼Ï€Î¿ÏÎ­ÏƒÎµÏ„Îµ Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ root Î¬Î¼ÎµÏƒÎ±, ÎºÎ±Î¹ Î¸Î± Î»Î¬Î²ÎµÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Î¼Î®Î½Ï…Î¼Î± ÏƒÏ†Î¬Î»Î¼Î±Ï„Î¿Ï‚
```
$ adb root
adbd cannot run as root in production builds
```
Using [rootAVD](https://github.com/newbit1/rootAVD) with [Magisk](https://github.com/topjohnwu/Magisk) ÎºÎ±Ï„Î¬Ï†ÎµÏÎ± Î½Î± Ï„Î¿ ÎºÎ¬Î½Ï‰ root (Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Î³Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± [**Î±Ï…Ï„ÏŒ Ï„Î¿ Î²Î¯Î½Ï„ÎµÎ¿**](https://www.youtube.com/watch?v=Wk0ixxmkzAI) **Î®** [**Î±Ï…Ï„ÏŒ ÎµÎ´Ï**](https://www.youtube.com/watch?v=qQicUW0svB8)).

## Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Ï„Î¹ÎºÎ¿Ï Burp

Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î·Î½ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÏƒÎµÎ»Î¯Î´Î± Î³Î¹Î± Î½Î± Î¼Î¬Î¸ÎµÏ„Îµ Ï€ÏÏ‚ Î½Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÏ„Îµ Î­Î½Î± Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿ CA cert:

{% content-ref url="install-burp-certificate.md" %}
[install-burp-certificate.md](install-burp-certificate.md)
{% endcontent-ref %}

## Î©ÏÎ±Î¯ÎµÏ‚ Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ AVD

### Î›Î¬Î²ÎµÏ„Îµ Î¼Î¹Î± Î£Ï„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î· Î•Î¹ÎºÏŒÎ½Î±

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ **Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ GUI** Î³Î¹Î± Î½Î± Î»Î¬Î²ÎµÏ„Îµ Î¼Î¹Î± ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î· ÎµÎ¹ÎºÏŒÎ½Î± Ï„Î·Ï‚ VM Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÏƒÏ„Î¹Î³Î¼Î®:

![](<../../.gitbook/assets/image (234).png>)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
