# Hata AyÄ±klanabilir Bir UygulamanÄ±n SÃ¶mÃ¼rÃ¼lmesi

<details>

<summary><strong>AWS hackleme becerilerinizi sÄ±fÄ±rdan kahraman seviyesine yÃ¼kseltin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>ile</strong>!</summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **tanÄ±tmak** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **pull request** gÃ¶ndererek paylaÅŸÄ±n.

</details>

# **Root ve Hata AyÄ±klanabilir Kontrollerini Atlama**

Bu bÃ¶lÃ¼m, [**https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0**](https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0) adlÄ± yazÄ±dan bir Ã¶zet iÃ§ermektedir.

## Bir Android UygulamasÄ±nÄ± Hata AyÄ±klanabilir Hale Getirme ve Kontrolleri Atlama AdÄ±mlarÄ±

### **UygulamayÄ± Hata AyÄ±klanabilir Hale Getirme**

Ä°Ã§erik, https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0 adresindeki yazÄ±ya dayanmaktadÄ±r.

1. **APK'nÄ±n Geri Derlenmesi:**
- APK'nÄ±n geri derlenmesi iÃ§in APK-GUI aracÄ± kullanÄ±lÄ±r.
- _android-manifest_ dosyasÄ±na `android:debuggable=true` ekleyerek hata ayÄ±klama modunu etkinleÅŸtirin.
- DeÄŸiÅŸtirilmiÅŸ uygulamayÄ± yeniden derleyin, imzalayÄ±n ve zipalign yapÄ±n.

2. **DeÄŸiÅŸtirilmiÅŸ UygulamanÄ±n YÃ¼klenmesi:**
- `adb install <uygulama_adÄ±>` komutunu kullanÄ±n.

3. **Paket AdÄ±nÄ±n AlÄ±nmasÄ±:**
- ÃœÃ§Ã¼ncÃ¼ taraf uygulamalarÄ±n listesini almak iÃ§in `adb shell pm list packages â€“3` komutunu Ã§alÄ±ÅŸtÄ±rÄ±n ve paket adÄ±nÄ± bulun.

4. **UygulamanÄ±n Hata AyÄ±klama BaÄŸlantÄ±sÄ±nÄ± Beklemesi Ä°Ã§in AyarlanmasÄ±:**
- Komut: `adb shell am setup-debug-app â€“w <paket_adÄ±>`.
- **Not:** Bu komut, uygulamayÄ± baÅŸlatmadan Ã¶nce her seferinde Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ±dÄ±r ve hata ayÄ±klama beklemesi iÃ§in gereklidir.
- KalÄ±cÄ±lÄ±k iÃ§in `adb shell am setup-debug-app â€“w -â€“persistent <paket_adÄ±>` kullanÄ±n.
- TÃ¼m bayraklarÄ± kaldÄ±rmak iÃ§in `adb shell am clear-debug-app <paket_adÄ±>` kullanÄ±n.

5. **Android Studio'da Hata AyÄ±klamaya HazÄ±rlÄ±k:**
- Android Studio'da _File -> Open Profile or APK_ yolunu izleyin.
- DerlenmiÅŸ APK'yÄ± aÃ§Ä±n.

6. **Ana Java DosyalarÄ±nda Kesme NoktalarÄ± Ayarlama:**
- `MainActivity.java` (Ã¶zellikle `onCreate` yÃ¶nteminde), `b.java` ve `ContextWrapper.java` dosyalarÄ±na kesme noktalarÄ± yerleÅŸtirin.

### **Kontrolleri Atlama**

Uygulama, belirli noktalarda hata ayÄ±klanabilir olup olmadÄ±ÄŸÄ±nÄ± kontrol edecek ve kÃ¶klÃ¼ bir cihazÄ± gÃ¶steren ikili dosyalarÄ± kontrol edecektir. Hata ayÄ±klayÄ±cÄ±, uygulama bilgilerini deÄŸiÅŸtirmek, hata ayÄ±klanabilir biti kaldÄ±rmak ve bu kontrolleri atlatabilmek iÃ§in aranan ikili dosyalarÄ±n adlarÄ±nÄ± deÄŸiÅŸtirmek iÃ§in kullanÄ±labilir.

Hata ayÄ±klanabilirlik kontrolÃ¼ iÃ§in:

1. **Bayrak AyarlarÄ±nÄ± DeÄŸiÅŸtirme:**
- Hata ayÄ±klama konsolunun deÄŸiÅŸken bÃ¶lÃ¼mÃ¼nde, `this mLoadedAPK -> mApplicationInfo -> flags = 814267974` yolunu izleyin.
- **Not:** `flags = 814267974`'Ã¼n ikili temsili `11000011100111011110` olduÄŸunu gÃ¶sterir ve "Flag_debuggable" aktiftir.

![https://miro.medium.com/v2/resize:fit:1400/1*-ckiSbWGSoc1beuxxpKbow.png](https://miro.medium.com/v2/resize:fit:1400/1*-ckiSbWGSoc1beuxxpKbow.png)

Bu adÄ±mlar, uygulamanÄ±n hata ayÄ±klanabilir olmasÄ±nÄ± ve hata ayÄ±klama kullanarak belirli gÃ¼venlik kontrollerini atlatabilmesini saÄŸlar, bÃ¶ylece uygulamanÄ±n davranÄ±ÅŸÄ±nÄ± daha ayrÄ±ntÄ±lÄ± bir ÅŸekilde analiz etmek veya deÄŸiÅŸtirmek mÃ¼mkÃ¼n olur.

2. adÄ±mda, bayrak deÄŸerini 814267972 olarak deÄŸiÅŸtirmek gerekmektedir ve bu ikili olarak 110000101101000000100010100 ÅŸeklinde temsil edilir.

# **Bir Zafiyeti SÃ¶mÃ¼rme**

DÃ¼zenlenebilir bir uygulama kullanÄ±larak bir gÃ¶sterim yapÄ±ldÄ±. Uygulama bir dÃ¼ÄŸme ve bir metin gÃ¶rÃ¼ntÃ¼ler. BaÅŸlangÄ±Ã§ta, uygulama "Crack Me" olarak gÃ¶rÃ¼ntÃ¼lenir. AmaÃ§, kaynak kodu deÄŸiÅŸtirmeden Ã§alÄ±ÅŸma zamanÄ±nda mesajÄ± "Try Again" yerine "Hacked" olarak deÄŸiÅŸtirmektir.

## **Zafiyetin Kontrol Edilmesi**
- Uygulama, `apktool` kullanÄ±larak `AndroidManifest.xml` dosyasÄ±na eriÅŸmek iÃ§in geri derlendi.
- AndroidManifest.xml'de `android_debuggable="true"` varlÄ±ÄŸÄ±, uygulamanÄ±n hata ayÄ±klanabilir olduÄŸunu ve sÃ¶mÃ¼rÃ¼lebilir olduÄŸunu gÃ¶sterir.
- `apktool`'un yalnÄ±zca kodu deÄŸiÅŸtirmeden hata ayÄ±klanabilir durumunu kontrol etmek iÃ§in kullanÄ±ldÄ±ÄŸÄ±na dikkat edilmelidir.

## **Kurulumun HazÄ±rlanmasÄ±**
- Ä°ÅŸlem, bir emÃ¼latÃ¶rÃ¼n baÅŸlatÄ±lmasÄ±, zafiyetli uygulamanÄ±n yÃ¼klenmesi ve dinleyen Dalvik VM baÄŸlantÄ± noktalarÄ±nÄ± belirlemek iÃ§in `adb jdwp` kullanÄ±lmasÄ±yla gerÃ§ekleÅŸtirildi.
- JDWP (Java Debug Wire Protocol), bir VM'de Ã§alÄ±ÅŸan bir uygulamanÄ±n hata ayÄ±klanmasÄ±na olanak saÄŸlayan benzersiz bir baÄŸlantÄ± noktasÄ±nÄ± aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.
- Uzaktan hata ayÄ±klama iÃ§in port yÃ¶nlendirme gereklidir, ardÄ±ndan JDB'nin hedef uygulamaya baÄŸlanmasÄ± yapÄ±lÄ±r.

## **Ã‡alÄ±ÅŸma ZamanÄ±nda Kod Enjeksiyonu**
- SÃ¶mÃ¼rÃ¼, kesme noktalarÄ±nÄ±n ayarlanmasÄ± ve uygulama akÄ±ÅŸÄ±nÄ±n kontrol edilmesiyle gerÃ§ekleÅŸtirildi.
- `classes` ve `methods <class_name>` gibi komutlar kullanÄ±lar
