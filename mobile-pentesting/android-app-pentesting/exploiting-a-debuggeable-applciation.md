# ë””ë²„ê¹… ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•…ìš©í•˜ê¸°

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}

# **ë£¨íŠ¸ ë° ë””ë²„ê¹… ê°€ëŠ¥ì„± ê²€ì‚¬ ìš°íšŒí•˜ê¸°**

ì´ ê²Œì‹œë¬¼ì˜ ì´ ì„¹ì…˜ì€ [**https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0**](https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0)ì—ì„œ ìš”ì•½í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

## Android ì•±ì„ ë””ë²„ê¹… ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê³  ê²€ì‚¬ ìš°íšŒí•˜ê¸° ìœ„í•œ ë‹¨ê³„

### **ì•±ì„ ë””ë²„ê¹… ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê¸°**

ë‚´ìš©ì€ https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

1. **APK ë””ì»´íŒŒì¼:**
- APK ë””ì»´íŒŒì¼ì„ ìœ„í•´ APK-GUI ë„êµ¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- _android-manifest_ íŒŒì¼ì— `android:debuggable=true`ë¥¼ ì‚½ì…í•˜ì—¬ ë””ë²„ê¹… ëª¨ë“œë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.
- ìˆ˜ì •ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ê³  ì„œëª…í•œ í›„ zipaligní•©ë‹ˆë‹¤.

2. **ìˆ˜ì •ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì¹˜:**
- ëª…ë ¹ì–´: `adb install <application_name>`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

3. **íŒ¨í‚¤ì§€ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°:**
- `adb shell pm list packages â€“3`ì„ ì‹¤í–‰í•˜ì—¬ ì„œë“œíŒŒí‹° ì• í”Œë¦¬ì¼€ì´ì…˜ ëª©ë¡ì„ í™•ì¸í•˜ê³  íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì°¾ìŠµë‹ˆë‹¤.

4. **ì•±ì´ ë””ë²„ê±° ì—°ê²°ì„ ê¸°ë‹¤ë¦¬ë„ë¡ ì„¤ì •:**
- ëª…ë ¹ì–´: `adb shell am setup-debug-app â€“w <package_name>`ì…ë‹ˆë‹¤.
- **ì°¸ê³ :** ì´ ëª…ë ¹ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•˜ê¸° ì „ì— ë§¤ë²ˆ ì‹¤í–‰í•´ì•¼ ë””ë²„ê±°ë¥¼ ê¸°ë‹¤ë¦¬ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤.
- ì§€ì†ì„±ì„ ìœ„í•´ `adb shell am setup-debug-app â€“w -â€“persistent <package_name>`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ëª¨ë“  í”Œë˜ê·¸ë¥¼ ì œê±°í•˜ë ¤ë©´ `adb shell am clear-debug-app <package_name>`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

5. **Android Studioì—ì„œ ë””ë²„ê¹… ì¤€ë¹„:**
- Android Studioì—ì„œ _File -> Open Profile or APK_ë¡œ ì´ë™í•©ë‹ˆë‹¤.
- ë‹¤ì‹œ ì»´íŒŒì¼í•œ APKë¥¼ ì—½ë‹ˆë‹¤.

6. **ì£¼ìš” Java íŒŒì¼ì— ì¤‘ë‹¨ì  ì„¤ì •:**
- `MainActivity.java`(íŠ¹íˆ `onCreate` ë©”ì„œë“œ), `b.java`, `ContextWrapper.java`ì— ì¤‘ë‹¨ì ì„ ì„¤ì •í•©ë‹ˆë‹¤.

### **ê²€ì‚¬ ìš°íšŒí•˜ê¸°**

ì• í”Œë¦¬ì¼€ì´ì…˜ì€ íŠ¹ì • ì‹œì ì—ì„œ ë””ë²„ê¹… ê°€ëŠ¥ì„±ì„ í™•ì¸í•˜ê³  ë£¨íŒ…ëœ ì¥ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°”ì´ë„ˆë¦¬ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤. ë””ë²„ê±°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•± ì •ë³´ë¥¼ ìˆ˜ì •í•˜ê³ , ë””ë²„ê¹… ê°€ëŠ¥ ë¹„íŠ¸ë¥¼ í•´ì œí•˜ë©°, ê²€ìƒ‰ëœ ë°”ì´ë„ˆë¦¬ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ì—¬ ì´ëŸ¬í•œ ê²€ì‚¬ë¥¼ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë””ë²„ê¹… ê°€ëŠ¥ì„± ê²€ì‚¬ì— ëŒ€í•´:

1. **í”Œë˜ê·¸ ì„¤ì • ìˆ˜ì •:**
- ë””ë²„ê±° ì½˜ì†”ì˜ ë³€ìˆ˜ ì„¹ì…˜ì—ì„œ ë‹¤ìŒìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤: `this mLoadedAPK -> mApplicationInfo -> flags = 814267974`.
- **ì°¸ê³ :** `flags = 814267974`ì˜ ì´ì§„ í‘œí˜„ì€ `11000011100111011110`ìœ¼ë¡œ, "Flag_debuggable"ì´ í™œì„±í™”ë˜ì–´ ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

![https://miro.medium.com/v2/resize:fit:1400/1*-ckiSbWGSoc1beuxxpKbow.png](https://miro.medium.com/v2/resize:fit:1400/1*-ckiSbWGSoc1beuxxpKbow.png)

ì´ ë‹¨ê³„ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë””ë²„ê¹… ê°€ëŠ¥í•˜ë„ë¡ í•˜ê³ , íŠ¹ì • ë³´ì•ˆ ê²€ì‚¬ë¥¼ ë””ë²„ê±°ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš°íšŒí•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ì„ ë³´ë‹¤ ì‹¬ì¸µì ìœ¼ë¡œ ë¶„ì„í•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

2ë‹¨ê³„ì—ì„œëŠ” í”Œë˜ê·¸ ê°’ì„ 814267972ë¡œ ë³€ê²½í•˜ëŠ”ë°, ì´ëŠ” ì´ì§„ìˆ˜ë¡œ 110000101101000000100010100ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.

# **ì·¨ì•½ì  ì•…ìš©í•˜ê¸°**

ë²„íŠ¼ê³¼ í…ìŠ¤íŠ¸ë·°ê°€ í¬í•¨ëœ ì·¨ì•½í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì‹œì—°ì´ ì œê³µë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒì— ì• í”Œë¦¬ì¼€ì´ì…˜ì€ "Crack Me"ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ëª©í‘œëŠ” ì†ŒìŠ¤ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ëŸ°íƒ€ì„ì—ì„œ "Try Again" ë©”ì‹œì§€ë¥¼ "Hacked"ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

## **ì·¨ì•½ì  í™•ì¸**
- `apktool`ì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë””ì»´íŒŒì¼í•˜ì—¬ `AndroidManifest.xml` íŒŒì¼ì— ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.
- AndroidManifest.xmlì— `android_debuggable="true"`ê°€ ì¡´ì¬í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë””ë²„ê¹… ê°€ëŠ¥í•˜ê³  ì•…ìš©ë  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- `apktool`ì€ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ë””ë²„ê¹… ê°€ëŠ¥ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë°ë§Œ ì‚¬ìš©ëœë‹¤ëŠ” ì ì— ìœ ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

## **ì„¤ì • ì¤€ë¹„**
- í”„ë¡œì„¸ìŠ¤ëŠ” ì—ë®¬ë ˆì´í„°ë¥¼ ì‹œì‘í•˜ê³ , ì·¨ì•½í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì¹˜í•˜ë©°, `adb jdwp`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì‹  ëŒ€ê¸° ì¤‘ì¸ Dalvik VM í¬íŠ¸ë¥¼ ì‹ë³„í•˜ëŠ” ê²ƒì´ í¬í•¨ë˜ì—ˆìŠµë‹ˆë‹¤.
- JDWP(Java Debug Wire Protocol)ëŠ” VMì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë””ë²„ê¹…í•  ìˆ˜ ìˆë„ë¡ ê³ ìœ í•œ í¬íŠ¸ë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤.
- ì›ê²© ë””ë²„ê¹…ì„ ìœ„í•´ í¬íŠ¸ í¬ì›Œë”©ì´ í•„ìš”í–ˆìœ¼ë©°, ì´í›„ JDBë¥¼ ëŒ€ìƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì—°ê²°í–ˆìŠµë‹ˆë‹¤.

## **ëŸ°íƒ€ì„ì—ì„œ ì½”ë“œ ì£¼ì…**
- ì¤‘ë‹¨ì ì„ ì„¤ì •í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ íë¦„ì„ ì œì–´í•˜ì—¬ ì•…ìš©ì´ ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.
- `classes` ë° `methods <class_name>`ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ë¥¼ íŒŒì•…í–ˆìŠµë‹ˆë‹¤.
- `onClick` ë©”ì„œë“œì— ì¤‘ë‹¨ì ì„ ì„¤ì •í•˜ê³  ê·¸ ì‹¤í–‰ì„ ì œì–´í–ˆìŠµë‹ˆë‹¤.
- `locals`, `next`, `set` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ ë³€ìˆ˜ë¥¼ ê²€ì‚¬í•˜ê³  ìˆ˜ì •í–ˆìœ¼ë©°, íŠ¹íˆ "Try Again" ë©”ì‹œì§€ë¥¼ "Hacked"ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
- ìˆ˜ì •ëœ ì½”ë“œëŠ” `run` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¶œë ¥ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

ì´ ì˜ˆì‹œëŠ” ë””ë²„ê¹… ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ì„ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì¥ì¹˜ì— ëŒ€í•œ ì‰˜ ì ‘ê·¼ê³¼ ê°™ì€ ë” ë³µì¡í•œ ì•…ìš© ê°€ëŠ¥ì„±ì„ ê°•ì¡°í•©ë‹ˆë‹¤.

## ì°¸ê³ ë¬¸í—Œ
* [https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0](https://medium.com/@shubhamsonani/hacking-with-precision-bypass-techniques-via-debugger-in-android-apps-27fd562b2cc0)
* [https://resources.infosecinstitute.com/android-hacking-security-part-6-exploiting-debuggable-android-applications](https://resources.infosecinstitute.com/android-hacking-security-part-6-exploiting-debuggable-android-applications)

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
