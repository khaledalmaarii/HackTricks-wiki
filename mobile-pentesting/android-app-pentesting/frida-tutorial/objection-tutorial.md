# Objection Ã–ÄŸretici

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramana Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

<img src="../../../.gitbook/assets/i3.png" alt="" data-size="original">

**Hata Ã¶dÃ¼lÃ¼ ipucu**: **Intigriti'ye kaydolun**, hackerlar tarafÄ±ndan oluÅŸturulan bir premium **hata Ã¶dÃ¼lÃ¼ platformuna**! BugÃ¼n [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) adresinde bize katÄ±lÄ±n ve **$100,000'e kadar Ã¶dÃ¼ller kazanmaya baÅŸlayÄ±n**!

{% embed url="https://go.intigriti.com/hacktricks" %}

## **GiriÅŸ**

**objection - Ã‡alÄ±ÅŸma ZamanÄ± Mobil KeÅŸif**

[**Objection**](https://github.com/sensepost/objection), [Frida](https://www.frida.re) tarafÄ±ndan desteklenen bir Ã§alÄ±ÅŸma zamanÄ± mobil keÅŸif aracÄ±dÄ±r. AmacÄ±, mobil uygulamalarÄ± ve gÃ¼venlik durumlarÄ±nÄ± deÄŸerlendirmeye yardÄ±mcÄ± olmak iÃ§in jailbreak veya root gerektirmeyen bir mobil cihaz olmadan yapÄ±labilir.

**Not:** Bu bir jailbreak / root bypass deÄŸildir. `objection` kullanarak, karÅŸÄ±laÅŸtÄ±ÄŸÄ±nÄ±z geÃ§erli kum havuzunun uyguladÄ±ÄŸÄ± tÃ¼m kÄ±sÄ±tlamalara hala tabisiniz.

### Ã–zgeÃ§miÅŸ

**objection**'Ä±n amacÄ±, kullanÄ±cÄ±nÄ±n **Frida'nÄ±n sunduÄŸu ana eylemleri Ã§aÄŸÄ±rmasÄ±na izin vermek**tir. **Aksi takdirde**, test etmek istediÄŸi her uygulama iÃ§in **tek bir betik oluÅŸturmasÄ± gerekir**.

## Ã–ÄŸretici

Bu Ã¶ÄŸretici iÃ§in buradan indirebileceÄŸiniz APK'yÄ± kullanacaÄŸÄ±m:

{% file src="../../../.gitbook/assets/app-release.zip" %}

Veya [orijinal depodan](https://github.com/asvid/FridaApp) indirebilirsiniz (app-release.apk'yi indirin)

### Kurulum
```bash
pip3 install objection
```
### BaÄŸlantÄ±

Bir **normal ADB baÄŸlantÄ±sÄ±** oluÅŸturun ve cihazda **frida** sunucusunu **baÅŸlatÄ±n** (ve frida'nÄ±n istemci ve sunucuda Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± kontrol edin).

EÄŸer bir **rootlu cihaz** kullanÄ±yorsanÄ±z, test etmek istediÄŸiniz uygulamayÄ± _**--gadget**_ seÃ§eneÄŸi iÃ§inde belirtmek gereklidir. Bu durumda:
```bash
frida-ps -Uai
objection --gadget asvid.github.io.fridaapp explore
```
### Temel Eylemler

Bu Ã¶ÄŸreticide tÃ¼m obje komutlarÄ± listelenmeyecek, sadece daha kullanÄ±ÅŸlÄ± bulduÄŸum komutlar yer alacak.

#### Ortam

Parolalar veya dosya yollarÄ± gibi ilginÃ§ bilgiler ortam iÃ§inde bulunabilir.
```bash
env
```
#### Frida Bilgisi
```bash
frida
```
![](<../../../.gitbook/assets/image (1090).png>)

#### YÃ¼kleme/Ä°ndirme
```bash
file download <remote path> [<local path>]
file upload <local path> [<remote path>]
```
#### Frida betiÄŸi iÃ§e aktar
```bash
import <local path frida-script>
```
#### SSLPinning

#### SSLPinning
```bash
android sslpinning disable #Attempts to disable SSL Pinning on Android devices.
```
#### KÃ¶k tespiti
```bash
android root disable  #Attempts to disable root detection on Android devices.
android root simulate #Attempts to simulate a rooted Android environment.
```
#### Komutu YÃ¼rÃ¼t
```bash
android shell_exec whoami
```
#### Ekran GÃ¶rÃ¼ntÃ¼leri
```bash
android ui screenshot /tmp/screenshot
android ui FLAG_SECURE false  #This may enable you to take screenshots using the hardware keys
```
### Statik analiz dinamik hale getirildi

Bir uygulamada objection'Ä± kullanmadan Ã¶nce bu bÃ¶lÃ¼mde keÅŸfedilen tÃ¼m bilgileri bilmeliyiz, **statik analiz** sayesinde. Neyse ki, burada sadece sÄ±nÄ±flarÄ±n, metodlarÄ±n ve dÄ±ÅŸa aktarÄ±lan nesnelerin tam listesine sahip olacaÄŸÄ±nÄ±z iÃ§in **yeni bir ÅŸeyler gÃ¶rebilirsiniz**.

Bu aynÄ± zamanda uygulamanÄ±n bazÄ± okunabilir kaynak kodlarÄ±nÄ± **edinemiyorsanÄ±z** da faydalÄ±dÄ±r.

#### Aktiviteleri, alÄ±cÄ±larÄ± ve servisleri listele
```bash
android hooking list activities
```
![](<../../../.gitbook/assets/image (1013).png>)
```bash
android hooking list services
android hooking list receivers
```
Frida, bulunamazsa bir hata baÅŸlatacaktÄ±r

#### Mevcut etkinliÄŸi almak
```bash
android hooking get current_activity
```
#### SÄ±nÄ±flarÄ± ArayÄ±n

UygulamamÄ±zdaki sÄ±nÄ±flarÄ± aramaya baÅŸlayalÄ±m
```bash
android hooking search classes asvid.github.io.fridaapp
```
![](<../../../.gitbook/assets/image (504).png>)

#### Bir sÄ±nÄ±fÄ±n arama yÃ¶ntemleri

Åimdi _MainActivity:_ sÄ±nÄ±fÄ±nÄ±n iÃ§indeki yÃ¶ntemleri Ã§Ä±karalÄ±m:
```bash
android hooking search methods asvid.github.io.fridaapp MainActivity
```
![](<../../../.gitbook/assets/image (926).png>)

#### Bir sÄ±nÄ±fÄ±n bildirilen yÃ¶ntemlerini parametreleriyle birlikte listele

SÄ±nÄ±fÄ±n yÃ¶ntemlerinin hangi parametrelere ihtiyaÃ§ duyduÄŸunu bulalÄ±m:
```bash
android hooking list class_methods asvid.github.io.fridaapp.MainActivity
```
![](<../../../.gitbook/assets/image (296).png>)

#### SÄ±nÄ±flarÄ± Listele

AyrÄ±ca, mevcut uygulama iÃ§inde yÃ¼klenen tÃ¼m sÄ±nÄ±flarÄ± listeleyebilirsiniz:
```bash
android hooking list classes #List all loaded classes, As the target application gets usedmore, this command will return more classes.
```
Bu, bir sÄ±nÄ±fÄ±n yÃ¶ntemini **kancalamak ve yalnÄ±zca sÄ±nÄ±fÄ±n adÄ±nÄ± bildiÄŸinizde** oldukÃ§a yararlÄ±dÄ±r. Bu iÅŸlevi kullanarak sÄ±nÄ±fÄ±n sahibi modÃ¼lÃ¼ **aramak ve ardÄ±ndan yÃ¶ntemini kancalamak** mÃ¼mkÃ¼ndÃ¼r.

### Kolayca Kancalamak

#### Bir yÃ¶ntemi kancalamak (izlemek)

UygulamanÄ±n [kaynak kodundan](https://github.com/asvid/FridaApp/blob/master/app/src/main/java/asvid/github/io/fridaapp/MainActivity.kt) bildiÄŸimize gÃ¶re, _**MainActivity**_'den _**sum()**_ **fonksiyonu** her saniyede bir Ã§alÄ±ÅŸtÄ±rÄ±lÄ±yor. Her fonksiyon Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda tÃ¼m olasÄ± bilgileri (argÃ¼manlar, dÃ¶nÃ¼ÅŸ deÄŸeri ve geri izleme) **dÃ¶kme** deneyelim:
```bash
android hooking watch class_method asvid.github.io.fridaapp.MainActivity.sum --dump-args --dump-backtrace --dump-return
```
#### Bir sÄ±nÄ±fÄ±n tamamÄ±nÄ± kancalamak (izlemek)

AslÄ±nda MainActivity sÄ±nÄ±fÄ±nÄ±n tÃ¼m metodlarÄ±nÄ± gerÃ§ekten ilginÃ§ buluyorum, hepsini **kancalamaya** karar verelim. Dikkatli olun, bu bir uygulamayÄ± **Ã§Ã¶kerte**bilir.
```bash
android hooking watch class asvid.github.io.fridaapp.MainActivity --dump-args --dump-return
```
EÄŸer sÄ±nÄ±f kancalandÄ±ÄŸÄ±nda uygulamayla oynarsanÄ±z, **her iÅŸlevin ne zaman Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nÄ±**, **argÃ¼manlarÄ±nÄ±** ve **dÃ¶nÃ¼ÅŸ** deÄŸerini gÃ¶receksiniz.

![](<../../../.gitbook/assets/image (858).png>)

#### Bir iÅŸlevin boolean dÃ¶nÃ¼ÅŸ deÄŸerini deÄŸiÅŸtirme

Kaynak kodundan, _checkPin_ iÅŸlevinin bir _String_ alÄ±p bir _boolean_ dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nÃ¼ gÃ¶rebilirsiniz. Åimdi iÅŸlevi **her zaman true dÃ¶ndÃ¼recek ÅŸekilde** yapalÄ±m:

![](<../../../.gitbook/assets/image (880).png>)

Åimdi, PIN kodu iÃ§in metin kutusuna herhangi bir ÅŸey yazarsanÄ±z, her ÅŸeyin geÃ§erli olduÄŸunu gÃ¶receksiniz:

![](<../../../.gitbook/assets/image (225).png>)

### SÄ±nÄ±f Ã¶rnekleri

Belirli bir Java sÄ±nÄ±fÄ±nÄ±n **canlÄ± Ã¶rneklerini arayÄ±n ve yazdÄ±rÄ±n**, tam nitelikli bir sÄ±nÄ±f adÄ±yla belirtilir. Out, genellikle bir nesne iÃ§in Ã¶zellik deÄŸerlerini **iÃ§eren bir itirazÄ±n dize deÄŸerini almak iÃ§in yapÄ±lan bir giriÅŸimin sonucudur**.
```
android heap print_instances <class>
```
![](<../../../.gitbook/assets/image (1092).png>)

### Keystore/Intents

Keystore ve intents ile oynayabilirsiniz:
```bash
android keystore list
android intents launch_activity
android intent launch_service
```
### Bellek

#### DÃ¶kÃ¼m
```bash
memory dump all <local destination> #Dump all memory
memory dump from_base <base_address> <size_to_dump> <local_destination> #Dump a part
```
#### Liste
```bash
memory list modules
```
![](<../../../.gitbook/assets/image (283).png>)

Listede en altta frida'yÄ± gÃ¶rebilirsiniz:

![](<../../../.gitbook/assets/image (1094).png>)

Frida'nÄ±n neyi ihraÃ§ ettiÄŸini kontrol edelim:

![](<../../../.gitbook/assets/image (295).png>)

#### Arama/Yazma

Objection ile bellek iÃ§inde arama yapabilir ve yazabilirsiniz:
```bash
memory search "<pattern eg: 41 41 41 ?? 41>" (--string) (--offsets-only)
memory write "<address>" "<pattern eg: 41 41 41 41>" (--string)
```
### SQLite

SQLite veritabanlarÄ±yla etkileÅŸimde bulunmak iÃ§in `sqlite` komutunu kullanabilirsiniz.

### Exit
```bash
exit
```
## Objection'da Neleri Ã–zledim

* Hooking yÃ¶ntemleri bazen uygulamayÄ± Ã§Ã¶kertebilir (bu aynÄ± zamanda Frida'dan kaynaklanabilir).
* SÄ±nÄ±flarÄ±n Ã¶rneklerini kullanarak Ã¶rnek fonksiyonlarÄ± Ã§aÄŸÄ±ramazsÄ±nÄ±z. Ve yeni sÄ±nÄ±f Ã¶rnekleri oluÅŸturamaz ve bunlarÄ± kullanarak fonksiyonlarÄ± Ã§aÄŸÄ±ramazsÄ±nÄ±z.
* Uygulama tarafÄ±ndan kullanÄ±lan tÃ¼m ortak ÅŸifreleme yÃ¶ntemlerini kancalamak iÃ§in bir kÄ±sayol (sslpinnin iÃ§in olduÄŸu gibi) yoktur, ÅŸifrelenmiÅŸ metni, dÃ¼z metni, anahtarlarÄ±, IV'leri ve kullanÄ±lan algoritmalarÄ± gÃ¶rmek iÃ§in.

<img src="../../../.gitbook/assets/i3.png" alt="" data-size="original">

**Hata Ã¶dÃ¼lÃ¼ ipucu**: **Intigriti'ye kaydolun**, hackerlar tarafÄ±ndan oluÅŸturulan bir premium **hata Ã¶dÃ¼lÃ¼ platformu**! BugÃ¼n bize katÄ±lÄ±n [**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) ve **100.000 $'a kadar** Ã¶dÃ¼ller kazanmaya baÅŸlayÄ±n!

{% embed url="https://go.intigriti.com/hacktricks" %}

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI'na**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR'lar gÃ¶ndererek paylaÅŸÄ±n.

</details>
