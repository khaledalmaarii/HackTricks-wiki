# Google CTF 2018 - Oyun OynayalÄ±m mÄ±?

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) ile sÄ±fÄ±rdan kahramana kadar AWS hackleme Ã¶ÄŸrenin</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

APK'yÄ± buradan indirin:

APK'yÄ± [https://appetize.io/](https://appetize.io) (Ã¼cretsiz hesap) yÃ¼kleyeceÄŸim ve apk'nin nasÄ±l davrandÄ±ÄŸÄ±nÄ± gÃ¶receÄŸim:

![](<../../.gitbook/assets/image (421).png>)

BayraÄŸÄ± alabilmek iÃ§in 1000000 kez kazanmanÄ±z gerektiÄŸi gÃ¶rÃ¼nÃ¼yor.

[Pentesting Android](./) adÄ±mlarÄ±nÄ± takip ederek uygulamayÄ± decompile edebilir ve jadx kullanarak Java kodunu okuyabilirsiniz.

Java kodunu okuma:

![](<../../.gitbook/assets/image (495).png>)

BayraÄŸÄ± yazdÄ±racak olan fonksiyonun **m().** olduÄŸu gÃ¶rÃ¼nÃ¼yor.

## **Smali deÄŸiÅŸiklikler**

### **m() ilk kez Ã§aÄŸrÄ±lacak**

UygulamanÄ±n _this.o != 1000000_ deÄŸiÅŸkeni ise m() fonksiyonunu Ã§aÄŸÄ±rmasÄ±nÄ± saÄŸlayalÄ±m, bunun iÃ§in sadece koÅŸulu deÄŸiÅŸtirin:
```
if-ne v0, v9, :cond_2
```
# Google CTF 2018: Shall we play a game?

---

## Introduction

In this challenge, we are provided with an Android application named "Shall we play a game?". The goal is to find the flag by analyzing the app.

## Steps

1. **Decompile the APK**: Use tools like JADX or APKTool to decompile the APK file.
   
2. **Analyzing the source code**: Look for interesting code snippets, API endpoints, or hardcoded strings that might lead to the flag.

3. **Identify the vulnerability**: Check for common vulnerabilities like insecure storage, input validation issues, or insecure network communication.

4. **Exploit the vulnerability**: Once the vulnerability is identified, exploit it to extract the flag.

## Conclusion

By following these steps and carefully analyzing the Android application, we can successfully find and extract the flag.
```
if-eq v0, v9, :cond_2
```
![Ã–nce](<../../.gitbook/assets/image (383).png>)

![Sonra](<../../.gitbook/assets/image (838).png>)

[Pentest Android](./) adÄ±mlarÄ±nÄ± izleyerek APK'yÄ± yeniden derleyin ve imzalayÄ±n. ArdÄ±ndan, [https://appetize.io/](https://appetize.io) adresine yÃ¼kleyin ve ne olduÄŸunu gÃ¶relim:

![](<../../.gitbook/assets/image (128).png>)

BayraÄŸÄ±n tam olarak ÅŸifrelenmeden yazÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼nÃ¼yor. Muhtemelen m() iÅŸlevinin 1000000 kez Ã§aÄŸrÄ±lmasÄ± gerekiyor.

Bunu yapmanÄ±n **baÅŸka bir yolu**, talimatÄ± deÄŸiÅŸtirmemek ancak karÅŸÄ±laÅŸtÄ±rÄ±lan talimatlarÄ± deÄŸiÅŸtirmektir:

![](<../../.gitbook/assets/image (840).png>)

**BaÅŸka bir yol**, 1000000 ile karÅŸÄ±laÅŸtÄ±rmak yerine deÄŸeri 1 olarak ayarlamaktÄ±r, bÃ¶ylece this.o 1 ile karÅŸÄ±laÅŸtÄ±rÄ±lÄ±r:

![](<../../.gitbook/assets/image (629).png>)

DÃ¶rdÃ¼ncÃ¼ bir yol, v9'un (1000000) deÄŸerini v0 _(this.o)_ deÄŸerine taÅŸÄ±mak iÃ§in bir talimat eklemektir:

![](<../../.gitbook/assets/image (414).png>)

![](<../../.gitbook/assets/image (424).png>)

## Ã‡Ã¶zÃ¼m

UygulamanÄ±n ilk seferinde kazandÄ±ÄŸÄ±nÄ±zda dÃ¶ngÃ¼yÃ¼ 100000 kez Ã§alÄ±ÅŸtÄ±rmasÄ±nÄ± saÄŸlayÄ±n. Bunun iÃ§in sadece **:goto\_6** dÃ¶ngÃ¼sÃ¼nÃ¼ oluÅŸturmanÄ±z ve uygulamanÄ±n **`this.o`** deÄŸeri 100000 olmadÄ±ÄŸÄ±nda oraya **atlamasÄ±nÄ± saÄŸlamanÄ±z yeterlidir**:

![](<../../.gitbook/assets/image (1090).png>)

Bunu fiziksel bir cihazda yapmanÄ±z gerekmektedir Ã§Ã¼nkÃ¼ (nedenini bilmiyorum) bu emÃ¼le edilmiÅŸ bir cihazda Ã§alÄ±ÅŸmaz.

<details>

<summary><strong>SÄ±fÄ±rdan baÅŸlayarak AWS hacklemeyi</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
