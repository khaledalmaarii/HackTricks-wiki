<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

å‘ç°æœ€é‡è¦çš„æ¼æ´ï¼Œä»¥ä¾¿æ›´å¿«ä¿®å¤å®ƒä»¬ã€‚Intruderè·Ÿè¸ªæ‚¨çš„æ”»å‡»é¢ï¼Œè¿è¡Œä¸»åŠ¨å¨èƒæ‰«æï¼Œå‘ç°æ•´ä¸ªæŠ€æœ¯å †æ ˆä¸­çš„é—®é¢˜ï¼Œä»APIåˆ°Webåº”ç”¨ç¨‹åºå’Œäº‘ç³»ç»Ÿã€‚[**ç«‹å³å…è´¹è¯•ç”¨**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks)ã€‚

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

ä¸€äº›åº”ç”¨ç¨‹åºä¸å–œæ¬¢ç”¨æˆ·ä¸‹è½½çš„è¯ä¹¦ï¼Œå› æ­¤ä¸ºäº†æ£€æŸ¥æŸäº›åº”ç”¨ç¨‹åºçš„Webæµé‡ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¿…é¡»åç¼–è¯‘è¯¥åº”ç”¨ç¨‹åºå¹¶æ·»åŠ ä¸€äº›å†…å®¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘å®ƒã€‚

# è‡ªåŠ¨åŒ–

å·¥å…·[**https://github.com/shroudedcode/apk-mitm**](https://github.com/shroudedcode/apk-mitm)å°†**è‡ªåŠ¨**å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œå¿…è¦çš„æ›´æ”¹ä»¥å¼€å§‹æ•è·è¯·æ±‚ï¼Œå¹¶ä¸”è¿˜ä¼šç¦ç”¨è¯ä¹¦å›ºå®šï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

# æ‰‹åŠ¨

é¦–å…ˆæˆ‘ä»¬åç¼–è¯‘åº”ç”¨ç¨‹åºï¼š`apktool d *file-name*.apk`

![](../../.gitbook/assets/img9.png)

ç„¶åæˆ‘ä»¬è¿›å…¥**Manifest.xml**æ–‡ä»¶å¹¶æ»šåŠ¨åˆ°`<\application android>`æ ‡ç­¾ï¼Œå¦‚æœå°šæœªå­˜åœ¨ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä»¥ä¸‹è¡Œï¼š

`android:networkSecurityConfig="@xml/network_security_config`

æ·»åŠ ä¹‹å‰ï¼š

![](../../.gitbook/assets/img10.png)

æ·»åŠ ä¹‹åï¼š

![](../../.gitbook/assets/img11.png)

ç°åœ¨è¿›å…¥**res/xml**æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»º/ä¿®æ”¹ä¸€ä¸ªåä¸ºnetwork\_security\_config.xmlçš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
```markup
<network-security-config>
<base-config>
<trust-anchors>
<!-- Trust preinstalled CAs -->
<certificates src="system" />
<!-- Additionally trust user added CAs -->
<certificates src="user" />
</trust-anchors>
</base-config>
</network-security-config>
```
ç„¶åä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºæ‰€æœ‰ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°æ„å»ºapkï¼š`apktool b *folder-name/* -o *output-file.apk*`

![](../../.gitbook/assets/img12.png)

æœ€åï¼Œæ‚¨åªéœ€è¦**ç­¾ç½²æ–°åº”ç”¨ç¨‹åº**ã€‚[é˜…è¯»æ­¤é¡µé¢Smali - åç¼–è¯‘/\[ä¿®æ”¹\]/ç¼–è¯‘çš„éƒ¨åˆ†ä»¥äº†è§£å¦‚ä½•ç­¾ç½²å®ƒ](smali-changes.md#sing-the-new-apk).

<figure><img src="/.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

æ‰¾åˆ°æœ€é‡è¦çš„æ¼æ´ï¼Œä»¥ä¾¿æ›´å¿«ä¿®å¤å®ƒä»¬ã€‚Intruderè·Ÿè¸ªæ‚¨çš„æ”»å‡»é¢ï¼Œè¿è¡Œä¸»åŠ¨å¨èƒæ‰«æï¼Œå‘ç°æ•´ä¸ªæŠ€æœ¯å †æ ˆä¸­çš„é—®é¢˜ï¼Œä»APIåˆ°Webåº”ç”¨ç¨‹åºå’Œäº‘ç³»ç»Ÿã€‚[**ç«‹å³å…è´¹è¯•ç”¨**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks) ä»Šå¤©ã€‚

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}


<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
