{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

æœ‰äº›åº”ç”¨ç¨‹åºä¸å–œæ¬¢ç”¨æˆ·ä¸‹è½½çš„è¯ä¹¦ï¼Œå› æ­¤ä¸ºäº†æ£€æŸ¥æŸäº›åº”ç”¨çš„ç½‘ç»œæµé‡ï¼Œæˆ‘ä»¬å®é™…ä¸Šéœ€è¦åç¼–è¯‘åº”ç”¨ç¨‹åºï¼Œæ·»åŠ ä¸€äº›å†…å®¹å¹¶é‡æ–°ç¼–è¯‘å®ƒã€‚

# è‡ªåŠ¨

å·¥å…· [**https://github.com/shroudedcode/apk-mitm**](https://github.com/shroudedcode/apk-mitm) å°† **è‡ªåŠ¨** å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œå¿…è¦çš„æ›´æ”¹ï¼Œä»¥å¼€å§‹æ•è·è¯·æ±‚ï¼Œå¹¶ä¸”è¿˜å°†ç¦ç”¨è¯ä¹¦å›ºå®šï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

# æ‰‹åŠ¨

é¦–å…ˆæˆ‘ä»¬åç¼–è¯‘åº”ç”¨ï¼š`apktool d *file-name*.apk`

![](../../.gitbook/assets/img9.png)

ç„¶åæˆ‘ä»¬è¿›å…¥ **Manifest.xml** æ–‡ä»¶ï¼Œå‘ä¸‹æ»šåŠ¨åˆ° `<\application android>` æ ‡ç­¾ï¼Œå¦‚æœæ²¡æœ‰ä»¥ä¸‹è¡Œï¼Œæˆ‘ä»¬å°†æ·»åŠ å®ƒï¼š

`android:networkSecurityConfig="@xml/network_security_config`

æ·»åŠ å‰ï¼š

![](../../.gitbook/assets/img10.png)

æ·»åŠ åï¼š

![](../../.gitbook/assets/img11.png)

ç°åœ¨è¿›å…¥ **res/xml** æ–‡ä»¶å¤¹ï¼Œåˆ›å»º/ä¿®æ”¹ä¸€ä¸ªåä¸º network\_security\_config.xml çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
```markup
<network-security-config>
<base-config>
<trust-anchors>
<!-- Trust preinstalled CAs -->
<certificates src="system" />
<!-- Additionally trust user added CAs -->
<certificates src="user" />
</trust-anchors>
</base-config>
</network-security-config>
```
ç„¶åä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºæ‰€æœ‰ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡å»ºapkï¼š`apktool b *folder-name/* -o *output-file.apk*`

![](../../.gitbook/assets/img12.png)

æœ€åï¼Œæ‚¨åªéœ€**ç­¾ç½²æ–°åº”ç”¨ç¨‹åº**ã€‚[é˜…è¯»æ­¤é¡µé¢çš„Smali - åç¼–è¯‘/\[ä¿®æ”¹\]/ç¼–è¯‘éƒ¨åˆ†ä»¥äº†è§£å¦‚ä½•ç­¾ç½²å®ƒ](smali-changes.md#sing-the-new-apk)ã€‚

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µAWSé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricksåŸ¹è®­AWSçº¢é˜Ÿä¸“å®¶ï¼ˆARTEï¼‰**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µGCPé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricksåŸ¹è®­GCPçº¢é˜Ÿä¸“å®¶ï¼ˆGRTEï¼‰**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒHackTricks</summary>

* æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)æˆ–**åœ¨** **Twitter** ğŸ¦ **ä¸Šå…³æ³¨æˆ‘ä»¬** [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubåº“æäº¤PRåˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
