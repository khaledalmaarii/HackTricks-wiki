{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Techniques de **D√©-obfuscation Manuelle**

Dans le domaine de la **s√©curit√© des logiciels**, le processus de rendre le code obscur compr√©hensible, connu sous le nom de **d√©-obfuscation**, est crucial. Ce guide explore diverses strat√©gies de d√©-obfuscation, en se concentrant sur les techniques d'analyse statique et la reconnaissance des motifs d'obfuscation. De plus, il propose un exercice pour une application pratique et sugg√®re d'autres ressources pour ceux qui souhaitent explorer des sujets plus avanc√©s.

### **Strat√©gies de D√©-obfuscation Statique**

Lorsqu'il s'agit de **code obfusqu√©**, plusieurs strat√©gies peuvent √™tre employ√©es en fonction de la nature de l'obfuscation :

- **Bytecode DEX (Java)** : Une approche efficace consiste √† identifier les m√©thodes de d√©-obfuscation de l'application, puis √† reproduire ces m√©thodes dans un fichier Java. Ce fichier est ex√©cut√© pour inverser l'obfuscation sur les √©l√©ments cibl√©s.
- **Code Java et Natif** : Une autre m√©thode consiste √† traduire l'algorithme de d√©-obfuscation dans un langage de script comme Python. Cette strat√©gie souligne que l'objectif principal n'est pas de comprendre compl√®tement l'algorithme, mais de l'ex√©cuter efficacement.

### **Identification de l'Obfuscation**

Reconna√Ætre le code obfusqu√© est la premi√®re √©tape du processus de d√©-obfuscation. Les indicateurs cl√©s incluent :

- L'**absence ou le brouillage de cha√Ænes** en Java et Android, ce qui peut sugg√©rer une obfuscation de cha√Ænes.
- La **pr√©sence de fichiers binaires** dans le r√©pertoire des ressources ou des appels √† `DexClassLoader`, indiquant un d√©ballage de code et un chargement dynamique.
- L'utilisation de **biblioth√®ques natives accompagn√©es de fonctions JNI non identifiables**, indiquant une obfuscation potentielle des m√©thodes natives.

## **Analyse Dynamique dans la D√©-obfuscation**

En ex√©cutant le code dans un environnement contr√¥l√©, l'analyse dynamique **permet d'observer comment le code obfusqu√© se comporte en temps r√©el**. Cette m√©thode est particuli√®rement efficace pour d√©couvrir le fonctionnement interne de motifs d'obfuscation complexes con√ßus pour cacher la v√©ritable intention du code.

### **Applications de l'Analyse Dynamique**

- **D√©cryptage √† l'Ex√©cution** : De nombreuses techniques d'obfuscation impliquent le chiffrement de cha√Ænes ou de segments de code qui ne sont d√©chiffr√©s qu'√† l'ex√©cution. Gr√¢ce √† l'analyse dynamique, ces √©l√©ments chiffr√©s peuvent √™tre captur√©s au moment du d√©chiffrement, r√©v√©lant leur v√©ritable forme.
- **Identification des Techniques d'Obfuscation** : En surveillant le comportement de l'application, l'analyse dynamique peut aider √† identifier des techniques d'obfuscation sp√©cifiques utilis√©es, telles que la virtualisation de code, les packers ou la g√©n√©ration dynamique de code.
- **D√©couverte de Fonctionnalit√©s Cach√©es** : Le code obfusqu√© peut contenir des fonctionnalit√©s cach√©es qui ne sont pas apparentes par une analyse statique seule. L'analyse dynamique permet d'observer tous les chemins de code, y compris ceux ex√©cut√©s conditionnellement, pour d√©couvrir de telles fonctionnalit√©s cach√©es.

## R√©f√©rences et Lectures Compl√©mentaires
* [https://maddiestone.github.io/AndroidAppRE/obfuscation.html](https://maddiestone.github.io/AndroidAppRE/obfuscation.html)
* BlackHat USA 2018 : ‚ÄúD√©baller le D√©ballage : Ing√©nierie Inverse d'une Biblioth√®que Anti-Analyse Android‚Äù \[[vid√©o](https://www.youtube.com/watch?v=s0Tqi7fuOSU)]
* Cette pr√©sentation traite de l'ing√©nierie inverse d'une des biblioth√®ques natives anti-analyse les plus complexes que j'ai vues utilis√©es par une application Android. Elle couvre principalement les techniques d'obfuscation dans le code natif.
* REcon 2019 : ‚ÄúLe Chemin vers le Payload : √âdition Android‚Äù \[[vid√©o](https://recon.cx/media-archive/2019/Session.005.Maddie_Stone.The_path_to_the_payload_Android_Edition-J3ZnNl2GYjEfa.mp4)]
* Cette pr√©sentation discute d'une s√©rie de techniques d'obfuscation, uniquement dans le code Java, qu'un botnet Android utilisait pour cacher son comportement.
