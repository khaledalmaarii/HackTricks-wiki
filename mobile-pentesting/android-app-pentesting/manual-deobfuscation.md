{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Manual **De-obfuscation Techniques**

U oblasti **bezbednosti softvera**, proces pretvaranja zamagljenog koda u razumljiv, poznat kao **de-obfuscation**, je kljuÄan. Ovaj vodiÄ istraÅ¾uje razliÄite strategije za de-obfuscation, fokusirajuÄ‡i se na tehnike statiÄke analize i prepoznavanje obrazaca zamagljivanja. Pored toga, uvodi veÅ¾bu za praktiÄnu primenu i predlaÅ¾e dodatne resurse za one koji su zainteresovani za istraÅ¾ivanje naprednijih tema.

### **Strategies for Static De-obfuscation**

Kada se radi sa **obfuscated code**, moÅ¾e se primeniti nekoliko strategija u zavisnosti od prirode zamagljivanja:

- **DEX bytecode (Java)**: Jedan efikasan pristup ukljuÄuje identifikaciju metoda de-obfuscation aplikacije, a zatim repliciranje ovih metoda u Java datoteci. Ova datoteka se izvrÅ¡ava kako bi se obrnulo zamagljivanje na ciljnim elementima.
- **Java and Native Code**: Druga metoda je prevoÄ‘enje algoritma de-obfuscation u skriptni jezik poput Pythona. Ova strategija naglaÅ¡ava da primarni cilj nije potpuno razumevanje algoritma, veÄ‡ njegovo efikasno izvrÅ¡avanje.

### **Identifying Obfuscation**

Prepoznavanje zamagljenog koda je prvi korak u procesu de-obfuscation. KljuÄni indikatori ukljuÄuju:

- **odsustvo ili premeÅ¡tanje stringova** u Javi i Androidu, Å¡to moÅ¾e sugerisati zamagljivanje stringova.
- **prisutnost binarnih datoteka** u direktorijumu resursa ili pozivi na `DexClassLoader`, Å¡to ukazuje na raspakivanje koda i dinamiÄko uÄitavanje.
- KoriÅ¡Ä‡enje **native biblioteka zajedno sa neidentifikovanim JNI funkcijama**, Å¡to ukazuje na potencijalno zamagljivanje native metoda.

## **Dynamic Analysis in De-obfuscation**

IzvrÅ¡avanjem koda u kontrolisanom okruÅ¾enju, dinamiÄka analiza **omoguÄ‡ava posmatranje kako se zamagljeni kod ponaÅ¡a u realnom vremenu**. Ova metoda je posebno efikasna u otkrivanju unutraÅ¡njih mehanizama sloÅ¾enih obrazaca zamagljivanja koji su dizajnirani da sakriju pravu nameru koda.

### **Applications of Dynamic Analysis**

- **Runtime Decryption**: Mnoge tehnike zamagljivanja ukljuÄuju enkripciju stringova ili kodnih segmenata koji se dekriptuju samo u vreme izvrÅ¡avanja. Kroz dinamiÄku analizu, ovi enkriptovani elementi mogu se uhvatiti u trenutku dekripcije, otkrivajuÄ‡i njihov pravi oblik.
- **Identifying Obfuscation Techniques**: PraÄ‡enjem ponaÅ¡anja aplikacije, dinamiÄka analiza moÅ¾e pomoÄ‡i u identifikaciji specifiÄnih tehnika zamagljivanja koje se koriste, kao Å¡to su virtualizacija koda, pakovanje ili dinamiÄko generisanje koda.
- **Uncovering Hidden Functionality**: Zamagljeni kod moÅ¾e sadrÅ¾ati skrivene funkcionalnosti koje nisu oÄigledne samo kroz statiÄku analizu. DinamiÄka analiza omoguÄ‡ava posmatranje svih putanja koda, ukljuÄujuÄ‡i one koje se izvrÅ¡avaju uslovno, kako bi se otkrile takve skrivene funkcionalnosti.

## References and Further Reading
* [https://maddiestone.github.io/AndroidAppRE/obfuscation.html](https://maddiestone.github.io/AndroidAppRE/obfuscation.html)
* BlackHat USA 2018: â€œUnpacking the Packed Unpacker: Reverse Engineering an Android Anti-Analysis Libraryâ€ \[[video](https://www.youtube.com/watch?v=s0Tqi7fuOSU)]
* Ova prezentacija se bavi obrnuto inÅ¾enjeringom jedne od najkompleksnijih anti-analitiÄkih native biblioteka koje sam video da se koriste u Android aplikaciji. Pokriva uglavnom tehnike zamagljivanja u native kodu.
* REcon 2019: â€œThe Path to the Payload: Android Editionâ€ \[[video](https://recon.cx/media-archive/2019/Session.005.Maddie_Stone.The_path_to_the_payload_Android_Edition-J3ZnNl2GYjEfa.mp4)]
* Ova prezentacija diskutuje o nizu tehnika zamagljivanja, iskljuÄivo u Java kodu, koje je Android botnet koristio da sakrije svoje ponaÅ¡anje.


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
