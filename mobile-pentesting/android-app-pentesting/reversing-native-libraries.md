# Revertovanje nativnih biblioteka

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

**Za dalje informacije pogledajte: [https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html](https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html)**

Android aplikacije mogu koristiti nativne biblioteke, obiÄno napisane u C ili C++ jeziku, za zadatke koji zahtevaju visoku performansu. Kreatori malvera takoÄ‘e koriste ove biblioteke, jer je teÅ¾e reverterati ih nego DEX bajtkod. Ova sekcija naglaÅ¡ava veÅ¡tine reverteranja prilagoÄ‘ene Androidu, umesto uÄenja jezika asemblerskog programiranja. Verzije biblioteka za ARM i x86 su obezbeÄ‘ene radi kompatibilnosti.

### KljuÄne taÄke:
- **Nativne biblioteke u Android aplikacijama:**
- Koriste se za zadatke koji zahtevaju visoku performansu.
- Napisane su u C ili C++ jeziku, Å¡to oteÅ¾ava reverteranje.
- Pronalaze se u formatu `.so` (shared object), sliÄnom Linux binarnim fajlovima.
- Kreatori malvera preferiraju nativni kod kako bi oteÅ¾ali analizu.

- **Java Native Interface (JNI) i Android NDK:**
- JNI omoguÄ‡ava implementaciju Java metoda u nativnom kodu.
- NDK je Android-specifiÄan set alata za pisanje nativnog koda.
- JNI i NDK povezuju Java (ili Kotlin) kod sa nativnim bibliotekama.

- **UÄitavanje i izvrÅ¡avanje biblioteka:**
- Biblioteke se uÄitavaju u memoriju pomoÄ‡u `System.loadLibrary` ili `System.load` funkcija.
- JNI_OnLoad se izvrÅ¡ava prilikom uÄitavanja biblioteke.
- Java-deklarisane nativne metode se povezuju sa nativnim funkcijama, omoguÄ‡avajuÄ‡i izvrÅ¡avanje.

- **Povezivanje Java metoda sa nativnim funkcijama:**
- **DinamiÄko povezivanje:** Imena funkcija u nativnim bibliotekama odgovaraju odreÄ‘enom obrascu, omoguÄ‡avajuÄ‡i automatsko povezivanje.
- **StatiÄko povezivanje:** Koristi `RegisterNatives` za povezivanje, pruÅ¾ajuÄ‡i fleksibilnost u nazivima i strukturi funkcija.

- **Alati i tehnike za reverteranje:**
- Alati poput Ghidra-e i IDA Pro pomaÅ¾u u analizi nativnih biblioteka.
- `JNIEnv` je kljuÄan za razumevanje JNI funkcija i interakcija.
- VeÅ¾be su obezbeÄ‘ene radi veÅ¾banja uÄitavanja biblioteka, povezivanja metoda i identifikacije nativnih funkcija.

### Resursi:
- **UÄenje ARM asemblerskog jezika:**
- PreporuÄuje se za dublje razumevanje osnovne arhitekture.
- [Osnove ARM asemblerskog jezika](https://azeria-labs.com/writing-arm-assembly-part-1/) sa Azeria Labs-a se preporuÄuje.

- **JNI i NDK dokumentacija:**
- [Oracle-ova JNI specifikacija](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Android-ovi saveti za JNI](https://developer.android.com/training/articles/perf-jni)
- [PoÄetak rada sa NDK-om](https://developer.android.com/ndk/guides/)

- **Debagovanje nativnih biblioteka:**
- [Debagovanje Android nativnih biblioteka pomoÄ‡u JEB Decompiler-a](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
