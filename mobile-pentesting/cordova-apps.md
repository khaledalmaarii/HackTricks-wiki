# Cordova åº”ç”¨

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶ **ç½‘ç»œå®‰å…¨å…¬å¸** å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨ HackTricks ä¸­ **å®£ä¼ ä½ çš„å…¬å¸** å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦è·å¾— **PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬** å—ï¼Ÿè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ [**NFTs**](https://opensea.io/collection/the-peass-family) é›†åˆ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…åœ¨ **Twitter** ä¸Š **å…³æ³¨** æˆ‘ [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘** [**hacktricks ä»“åº“**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloud ä»“åº“**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

ä»æ–‡ç«  [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58) ä¸­è·å–çš„ä¿¡æ¯ã€‚

## åŸºæœ¬ä¿¡æ¯

Apache Cordova æ˜¯ä¸€ä¸ªæµè¡Œçš„æ¡†æ¶ï¼Œå…è®¸ä½ ä½¿ç”¨ JavaScriptã€HTML å’Œ CSS åˆ›å»ºæ··åˆåº”ç”¨ï¼ˆAndroid å’Œ iOSï¼‰ã€‚

Cordova çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯å®ƒ**æ²¡æœ‰é»˜è®¤çš„æ–¹æ³•æ¥ä¿æŠ¤**åº”ç”¨çš„**æºä»£ç **ï¼Œä¸åƒ React Nativeã€‚Cordova åº”ç”¨çš„æºä»£ç æ²¡æœ‰é»˜è®¤çš„ç¼–è¯‘æ–¹æ³•ï¼Œè¿™ä½¿å¾—ä»£ç ç¯¡æ”¹å˜å¾—å®¹æ˜“ã€‚Cordova åº”ç”¨ä½¿ç”¨ WebView æ¥æ¸²æŸ“åº”ç”¨ï¼Œä½¿ç”¨ HTML å’Œ JSï¼Œå³ä½¿å°†å…¶ç¼–è¯‘ä¸º APK æˆ– IPAï¼Œæºä»£ç ä»ç„¶å¯ä»¥è¢«å…¬å¼€è®¿é—®ï¼Œè€Œ React Native ä½¿ç”¨ JavaScript VM æ¥è¿è¡Œ JavaScript ä»£ç ã€‚

### å…‹éš† Cordova åº”ç”¨ <a href="#8f50" id="8f50"></a>

è¦åˆ›å»ºä¸€ä¸ª Cordova åº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… NodeJSã€‚é™¤äº† NodeJSï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å…¶ä»–ä¸€äº›ä¸œè¥¿æ¥å®Œæˆæ„å»ºè¿‡ç¨‹ï¼Œå¦‚ Android SDKã€Java JDK å’Œ Gradleã€‚ä½ å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building)è·å–è¦æ±‚çš„åˆ—è¡¨ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾åŸå§‹åº”ç”¨çš„åç§°æ˜¯ `Bank.apk`ï¼ŒåŒ…åæ˜¯ `com.android.bank`ã€‚

è§£å‹ `bank.apk` å¹¶æ‰“å¼€ `bank/assets/www` æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ Cordova åº”ç”¨çš„**å®Œæ•´æºä»£ç **ã€‚æ‰€æœ‰çš„ HTML å’Œ JS ä»£ç éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºåº”ç”¨çš„å…‹éš†ã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ `bank/res/xml/config.xml` ä¸­æ‰¾åˆ°åº”ç”¨çš„é…ç½®æ–‡ä»¶ã€‚

ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Cordova åº”ç”¨é¡¹ç›®ï¼š
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
ç°åœ¨æˆ‘ä»¬éœ€è¦å°†`bank/assets/www`ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤åˆ¶åˆ°`bank-new/www`ä¸­ã€‚

åœ¨å¤åˆ¶æºä»£ç æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ’é™¤ä¸€äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦‚`cordova_plugins.jsï¼Œcordova.jsï¼Œcordova-js-src/ï¼Œplugins/`ã€‚æˆ‘ä»¬å¯ä»¥å¤åˆ¶æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œä½†æ’é™¤ä¸Šè¿°æåˆ°çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚

åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„Cordovaé¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è¯´æ˜åº”ç”¨æ˜¯ç”¨äºAndroidè¿˜æ˜¯iOSã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨å…‹éš†Androidåº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶æ·»åŠ ä¸€ä¸ªAndroidå¹³å°ã€‚åœ¨Cordovaä¸­ï¼Œæˆ‘ä»¬æœ‰å¹³å°ç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½å…·æœ‰ä¸åŒçš„åŠŸèƒ½å’Œå¯¹Android APIæˆ–Androidç‰ˆæœ¬çš„æ”¯æŒã€‚

Android APIå’ŒCordova Androidå¹³å°ç‰ˆæœ¬æ˜¯ä¸åŒçš„ã€‚æ‚¨å¯ä»¥[æŸ¥çœ‹](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)å¹³å°ç‰ˆæœ¬çš„åˆ—è¡¨ä»¥åŠå®ƒä»¬å¯¹Android APIçš„æ”¯æŒã€‚

è¦æ·»åŠ Cordova Androidå¹³å°ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºåº”ç”¨ç¨‹åºæœ€åˆä½¿ç”¨çš„ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ç›¸åŒçš„æºä»£ç æ¥å…‹éš†åº”ç”¨ç¨‹åºã€‚æ‚¨å¯ä»¥æ‰“å¼€`cordova.js`æ–‡ä»¶å¹¶æœç´¢`PLATFORM_VERSION_BUILD_LABEL`ä»¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä½¿ç”¨çš„ç‰ˆæœ¬ã€‚

\

ç°åœ¨æˆ‘ä»¬å·²ç»æ·»åŠ äº†Androidå¹³å°æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ‰€æœ‰å¿…éœ€æ’ä»¶ã€‚åœ¨åŸå§‹åº”ç”¨ç¨‹åºçš„`bank/assets/www/cordova_plugins.js`ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ‰€æœ‰æ’ä»¶çš„åˆ—è¡¨ã€‚æˆ‘ä»¬éœ€è¦é€ä¸ªå®‰è£…è¿™äº›æ’ä»¶ã€‚åœ¨`cordova_plugins.js`æ–‡ä»¶ä¸­æœç´¢`module.exports.metadata`ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ’ä»¶åŠå…¶ç‰ˆæœ¬ã€‚

<figure><img src="https://miro.medium.com/v2/resize:fit:1124/1*Hap3DmxS6-1apNj5RfpC3g.png" alt="Cordova Plugins" height="570" width="562"><figcaption><p>Cordovaæ’ä»¶</p></figcaption></figure>

æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€ä¸ªå®‰è£…æ‰€æœ‰æ’ä»¶
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
{% hint style="warning" %}
å¦‚æœåœ¨npmä¸Šæ‰¾ä¸åˆ°æ’ä»¶ï¼Œè¯·åœ¨Githubä¸Šæœç´¢ï¼š
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
{% endhint %}

ç¼–è¯‘åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å·²ç»å®‰è£…äº†æ‰€æœ‰çš„è¦æ±‚ã€‚
```bash
cd bank-new
cordova requirements
```
ä¸€æ—¦æˆ‘ä»¬å‡†å¤‡å¥½æ‰€æœ‰çš„è®¾ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„å»ºapkæ–‡ä»¶ã€‚
```bash
cd bank-new
cordova build android â€” packageType=apk
```
ä¸Šè¿°çš„æ„å»ºå‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªå¯ç”¨è°ƒè¯•æ–¹æ³•çš„apkï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Google Chromeè°ƒè¯•åº”ç”¨ç¨‹åºã€‚åœ¨å®‰è£…apkä¹‹å‰ï¼Œè¯·ç¡®ä¿å¯¹apkè¿›è¡Œç­¾åã€‚å¦‚æœåº”ç”¨ç¨‹åºå…·æœ‰ä»£ç ç¯¡æ”¹æ£€æµ‹ï¼Œé™¤éæ²¡æœ‰è®¾ç½®ç‰¹å®šé…ç½®ï¼Œå¦åˆ™å°†è¢«ç»•è¿‡ã€‚

### è‡ªåŠ¨åŒ–å·¥å…·

[**MobSecco**](https://github.com/Anof-cyber/MobSecco)ï¼šä¸€ä¸ªè‡ªåŠ¨åŒ–å…‹éš†Androidåº”ç”¨ç¨‹åºçš„å®Œæ•´è¿‡ç¨‹çš„å·¥å…·ã€‚

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTs](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)æˆ–**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
