# Cordova Apps

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**Aby uzyskaÄ‡ wiÄ™cej szczegÃ³Å‚Ã³w, sprawdÅº [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**. Oto podsumowanie:

Apache Cordova jest uznawany za umoÅ¼liwiajÄ…cy rozwÃ³j **aplikacji hybrydowych** przy uÅ¼yciu **JavaScript, HTML i CSS**. UmoÅ¼liwia tworzenie aplikacji na Androida i iOS; jednak nie ma domyÅ›lnego mechanizmu zabezpieczajÄ…cego kod ÅºrÃ³dÅ‚owy aplikacji. W przeciwieÅ„stwie do React Native, Cordova nie kompiluje kodu ÅºrÃ³dÅ‚owego domyÅ›lnie, co moÅ¼e prowadziÄ‡ do podatnoÅ›ci na manipulacjÄ™ kodem. Cordova wykorzystuje WebView do renderowania aplikacji, co ujawnia kod HTML i JavaScript nawet po skompilowaniu do plikÃ³w APK lub IPA. React Native z kolei wykorzystuje VM JavaScript do wykonywania kodu JavaScript, oferujÄ…c lepszÄ… ochronÄ™ kodu ÅºrÃ³dÅ‚owego.

### Klonowanie aplikacji Cordova

Przed sklonowaniem aplikacji Cordova upewnij siÄ™, Å¼e NodeJS jest zainstalowany wraz z innymi wymaganiami, takimi jak Android SDK, Java JDK i Gradle. Oficjalna dokumentacja Cordova [dokumentacja](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) zawiera szczegÃ³Å‚owy przewodnik dotyczÄ…cy tych instalacji.

RozwaÅ¼ przykÅ‚ad aplikacji o nazwie `Bank.apk` z nazwÄ… pakietu `com.android.bank`. Aby uzyskaÄ‡ dostÄ™p do kodu ÅºrÃ³dÅ‚owego, rozpakuj `bank.apk` i przejdÅº do folderu `bank/assets/www`. Ten folder zawiera peÅ‚ny kod ÅºrÃ³dÅ‚owy aplikacji, w tym pliki HTML i JS. KonfiguracjÄ™ aplikacji moÅ¼na znaleÅºÄ‡ w `bank/res/xml/config.xml`.

Aby sklonowaÄ‡ aplikacjÄ™, wykonaj nastÄ™pujÄ…ce kroki:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
Skopiuj zawartoÅ›Ä‡ `bank/assets/www` do `bank-new/www`, z wyÅ‚Ä…czeniem `cordova_plugins.js`, `cordova.js`, `cordova-js-src/` oraz katalogu `plugins/`.

OkreÅ›l platformÄ™ (Android lub iOS) podczas tworzenia nowego projektu Cordova. Aby sklonowaÄ‡ aplikacjÄ™ na Androida, dodaj platformÄ™ Android. ZauwaÅ¼, Å¼e wersje platformy Cordova i poziomy API Androida sÄ… rÃ³Å¼ne. Zapoznaj siÄ™ z dokumentacjÄ… Cordova [documentation](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/) w celu uzyskania szczegÃ³Å‚owych informacji na temat wersji platformy i obsÅ‚ugiwanych API Androida.

Aby okreÅ›liÄ‡ odpowiedniÄ… wersjÄ™ platformy Cordova Android, sprawdÅº `PLATFORM_VERSION_BUILD_LABEL` w pliku `cordova.js` oryginalnej aplikacji.

Po skonfigurowaniu platformy zainstaluj wymagane wtyczki. Plik `bank/assets/www/cordova_plugins.js` oryginalnej aplikacji zawiera listÄ™ wszystkich wtyczek i ich wersji. Zainstaluj kaÅ¼dÄ… wtyczkÄ™ indywidualnie, jak pokazano poniÅ¼ej:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
JeÅ›li wtyczka nie jest dostÄ™pna na npm, moÅ¼na jÄ… pobraÄ‡ z GitHub:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
Upewnij siÄ™, Å¼e wszystkie wymagania wstÄ™pne sÄ… speÅ‚nione przed kompilacjÄ…:
```bash
cd bank-new
cordova requirements
```
Aby zbudowaÄ‡ APK, uÅ¼yj nastÄ™pujÄ…cego polecenia:
```bash
cd bank-new
cordova build android â€” packageType=apk
```
To polecenie generuje APK z wÅ‚Ä…czonÄ… opcjÄ… debugowania, co uÅ‚atwia debugowanie za pomocÄ… Google Chrome. Kluczowe jest podpisanie APK przed instalacjÄ…, szczegÃ³lnie jeÅ›li aplikacja zawiera mechanizmy wykrywania manipulacji kodem.

### NarzÄ™dzie Automatyzacji

Dla tych, ktÃ³rzy chcÄ… zautomatyzowaÄ‡ proces klonowania, **[MobSecco](https://github.com/Anof-cyber/MobSecco)** jest polecanym narzÄ™dziem. UÅ‚atwia klonowanie aplikacji na Androida, upraszczajÄ…c opisane powyÅ¼ej kroki.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
