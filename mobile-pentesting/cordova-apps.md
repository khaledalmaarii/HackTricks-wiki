# Cordova Apps

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**Pour plus de d√©tails, consultez [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**. Voici un r√©sum√© :

Apache Cordova est reconnu pour permettre le d√©veloppement d'**applications hybrides** utilisant **JavaScript, HTML et CSS**. Il permet la cr√©ation d'applications Android et iOS ; cependant, il manque d'un m√©canisme par d√©faut pour s√©curiser le code source de l'application. Contrairement √† React Native, Cordova ne compile pas le code source par d√©faut, ce qui peut entra√Æner des vuln√©rabilit√©s de falsification de code. Cordova utilise WebView pour rendre les applications, exposant le code HTML et JavaScript m√™me apr√®s avoir √©t√© compil√© en fichiers APK ou IPA. React Native, en revanche, utilise une VM JavaScript pour ex√©cuter le code JavaScript, offrant une meilleure protection du code source.

### Cloner une application Cordova

Avant de cloner une application Cordova, assurez-vous que NodeJS est install√© avec d'autres pr√©requis comme le SDK Android, Java JDK et Gradle. La [documentation officielle de Cordova](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) fournit un guide complet pour ces installations.

Consid√©rez un exemple d'application nomm√©e `Bank.apk` avec le nom de package `com.android.bank`. Pour acc√©der au code source, d√©compressez `bank.apk` et naviguez vers le dossier `bank/assets/www`. Ce dossier contient le code source complet de l'application, y compris les fichiers HTML et JS. La configuration de l'application se trouve dans `bank/res/xml/config.xml`.

Pour cloner l'application, suivez ces √©tapes :
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
Copiez le contenu de `bank/assets/www` vers `bank-new/www`, en excluant `cordova_plugins.js`, `cordova.js`, `cordova-js-src/` et le r√©pertoire `plugins/`.

Sp√©cifiez la plateforme (Android ou iOS) lors de la cr√©ation d'un nouveau projet Cordova. Pour cloner une application Android, ajoutez la plateforme Android. Notez que les versions de plateforme de Cordova et les niveaux d'API Android sont distincts. Consultez la [documentation](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/) de Cordova pour plus de d√©tails sur les versions de plateforme et les API Android prises en charge.

Pour d√©terminer la version appropri√©e de la plateforme Cordova Android, v√©rifiez le `PLATFORM_VERSION_BUILD_LABEL` dans le fichier `cordova.js` de l'application d'origine.

Apr√®s avoir configur√© la plateforme, installez les plugins requis. Le fichier `bank/assets/www/cordova_plugins.js` de l'application d'origine r√©pertorie tous les plugins et leurs versions. Installez chaque plugin individuellement comme indiqu√© ci-dessous :
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
Si un plugin n'est pas disponible sur npm, il peut √™tre obtenu depuis GitHub :
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
Assurez-vous que toutes les conditions pr√©alables sont remplies avant de compiler :
```bash
cd bank-new
cordova requirements
```
Pour construire l'APK, utilisez la commande suivante :
```bash
cd bank-new
cordova build android ‚Äî packageType=apk
```
Cette commande g√©n√®re un APK avec l'option de d√©bogage activ√©e, facilitant le d√©bogage via Google Chrome. Il est crucial de signer l'APK avant l'installation, surtout si l'application inclut des m√©canismes de d√©tection de falsification de code.

### Outil d'automatisation

Pour ceux qui cherchent √† automatiser le processus de clonage, **[MobSecco](https://github.com/Anof-cyber/MobSecco)** est un outil recommand√©. Il simplifie le clonage des applications Android, rendant plus faciles les √©tapes d√©crites ci-dessus.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
