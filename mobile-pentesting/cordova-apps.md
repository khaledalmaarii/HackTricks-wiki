# Cordova Apps

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

**æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**ã€‚è¿™æ˜¯ä¸€ä¸ªæ€»ç»“ï¼š

Apache Cordova è¢«è®¤å¯ä¸ºèƒ½å¤Ÿä½¿ç”¨ **JavaScriptã€HTML å’Œ CSS** å¼€å‘ **æ··åˆåº”ç”¨ç¨‹åº**ã€‚å®ƒå…è®¸åˆ›å»º Android å’Œ iOS åº”ç”¨ç¨‹åºï¼›ç„¶è€Œï¼Œå®ƒç¼ºä¹ä¿æŠ¤åº”ç”¨ç¨‹åºæºä»£ç çš„é»˜è®¤æœºåˆ¶ã€‚ä¸ React Native ç›¸æ¯”ï¼ŒCordova é»˜è®¤ä¸ç¼–è¯‘æºä»£ç ï¼Œè¿™å¯èƒ½å¯¼è‡´ä»£ç ç¯¡æ”¹æ¼æ´ã€‚Cordova ä½¿ç”¨ WebView æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œå³ä½¿åœ¨ç¼–è¯‘æˆ APK æˆ– IPA æ–‡ä»¶åï¼ŒHTML å’Œ JavaScript ä»£ç ä»ç„¶æš´éœ²ã€‚ç›¸åï¼ŒReact Native ä½¿ç”¨ JavaScript VM æ‰§è¡Œ JavaScript ä»£ç ï¼Œæä¾›æ›´å¥½çš„æºä»£ç ä¿æŠ¤ã€‚

### å…‹éš† Cordova åº”ç”¨ç¨‹åº

åœ¨å…‹éš† Cordova åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£… NodeJS ä»¥åŠ Android SDKã€Java JDK å’Œ Gradle ç­‰å…¶ä»–å…ˆå†³æ¡ä»¶ã€‚å®˜æ–¹ Cordova [æ–‡æ¡£](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) æä¾›äº†è¿™äº›å®‰è£…çš„å…¨é¢æŒ‡å—ã€‚

è€ƒè™‘ä¸€ä¸ªåä¸º `Bank.apk` çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œå…¶åŒ…åä¸º `com.android.bank`ã€‚è¦è®¿é—®æºä»£ç ï¼Œè¯·è§£å‹ `bank.apk` å¹¶å¯¼èˆªåˆ° `bank/assets/www` æ–‡ä»¶å¤¹ã€‚è¯¥æ–‡ä»¶å¤¹åŒ…å«åº”ç”¨ç¨‹åºçš„å®Œæ•´æºä»£ç ï¼ŒåŒ…æ‹¬ HTML å’Œ JS æ–‡ä»¶ã€‚åº”ç”¨ç¨‹åºçš„é…ç½®å¯ä»¥åœ¨ `bank/res/xml/config.xml` ä¸­æ‰¾åˆ°ã€‚

è¦å…‹éš†åº”ç”¨ç¨‹åºï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
å°† `bank/assets/www` çš„å†…å®¹å¤åˆ¶åˆ° `bank-new/www`ï¼Œæ’é™¤ `cordova_plugins.js`ã€`cordova.js`ã€`cordova-js-src/` å’Œ `plugins/` ç›®å½•ã€‚

åˆ›å»ºæ–°çš„ Cordova é¡¹ç›®æ—¶ï¼Œè¯·æŒ‡å®šå¹³å°ï¼ˆAndroid æˆ– iOSï¼‰ã€‚å¯¹äºå…‹éš† Android åº”ç”¨ï¼Œè¯·æ·»åŠ  Android å¹³å°ã€‚è¯·æ³¨æ„ï¼ŒCordova çš„å¹³å°ç‰ˆæœ¬å’Œ Android API çº§åˆ«æ˜¯ä¸åŒçš„ã€‚æœ‰å…³å¹³å°ç‰ˆæœ¬å’Œæ”¯æŒçš„ Android API çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Cordova [documentation](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)ã€‚

è¦ç¡®å®šé€‚å½“çš„ Cordova Android å¹³å°ç‰ˆæœ¬ï¼Œè¯·æ£€æŸ¥åŸå§‹åº”ç”¨ç¨‹åºçš„ `cordova.js` æ–‡ä»¶ä¸­çš„ `PLATFORM_VERSION_BUILD_LABEL`ã€‚

è®¾ç½®å¹³å°åï¼Œå®‰è£…æ‰€éœ€çš„æ’ä»¶ã€‚åŸå§‹åº”ç”¨ç¨‹åºçš„ `bank/assets/www/cordova_plugins.js` æ–‡ä»¶åˆ—å‡ºäº†æ‰€æœ‰æ’ä»¶åŠå…¶ç‰ˆæœ¬ã€‚é€ä¸ªå®‰è£…æ¯ä¸ªæ’ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
å¦‚æœæ’ä»¶åœ¨ npm ä¸Šä¸å¯ç”¨ï¼Œå¯ä»¥ä» GitHub è·å–ï¼š
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
ç¡®ä¿åœ¨ç¼–è¯‘ä¹‹å‰æ»¡è¶³æ‰€æœ‰å…ˆå†³æ¡ä»¶ï¼š
```bash
cd bank-new
cordova requirements
```
è¦æ„å»ºAPKï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
```bash
cd bank-new
cordova build android â€” packageType=apk
```
æ­¤å‘½ä»¤ç”Ÿæˆä¸€ä¸ªå¯ç”¨è°ƒè¯•é€‰é¡¹çš„APKï¼Œä¾¿äºé€šè¿‡Google Chromeè¿›è¡Œè°ƒè¯•ã€‚åœ¨å®‰è£…ä¹‹å‰ç­¾ç½²APKæ˜¯è‡³å…³é‡è¦çš„ï¼Œç‰¹åˆ«æ˜¯å½“åº”ç”¨ç¨‹åºåŒ…å«ä»£ç ç¯¡æ”¹æ£€æµ‹æœºåˆ¶æ—¶ã€‚

### è‡ªåŠ¨åŒ–å·¥å…·

å¯¹äºé‚£äº›å¸Œæœ›è‡ªåŠ¨åŒ–å…‹éš†è¿‡ç¨‹çš„äººï¼Œ**[MobSecco](https://github.com/Anof-cyber/MobSecco)** æ˜¯ä¸€ä¸ªæ¨èçš„å·¥å…·ã€‚å®ƒç®€åŒ–äº†Androidåº”ç”¨ç¨‹åºçš„å…‹éš†ï¼Œç®€åŒ–äº†ä¸Šè¿°æ­¥éª¤ã€‚

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µAWSé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µGCPé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒHackTricks</summary>

* æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)æˆ–**åœ¨** **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHubåº“æäº¤PRåˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
