# Aplicaciones Cordova

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**Para m√°s detalles, consulta [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**. Este es un resumen:

Apache Cordova es reconocido por permitir el desarrollo de **aplicaciones h√≠bridas** utilizando **JavaScript, HTML y CSS**. Permite la creaci√≥n de aplicaciones para Android e iOS; sin embargo, carece de un mecanismo predeterminado para asegurar el c√≥digo fuente de la aplicaci√≥n. A diferencia de React Native, Cordova no compila el c√≥digo fuente por defecto, lo que puede llevar a vulnerabilidades de manipulaci√≥n de c√≥digo. Cordova utiliza WebView para renderizar aplicaciones, exponiendo el c√≥digo HTML y JavaScript incluso despu√©s de ser compilado en archivos APK o IPA. React Native, en cambio, emplea una VM de JavaScript para ejecutar c√≥digo JavaScript, ofreciendo mejor protecci√≥n del c√≥digo fuente.

### Clonando una Aplicaci√≥n Cordova

Antes de clonar una aplicaci√≥n Cordova, aseg√∫rate de que NodeJS est√© instalado junto con otros requisitos previos como el SDK de Android, Java JDK y Gradle. La [documentaci√≥n](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) oficial de Cordova proporciona una gu√≠a completa para estas instalaciones.

Considera un ejemplo de aplicaci√≥n llamada `Bank.apk` con el nombre de paquete `com.android.bank`. Para acceder al c√≥digo fuente, descomprime `bank.apk` y navega a la carpeta `bank/assets/www`. Esta carpeta contiene el c√≥digo fuente completo de la aplicaci√≥n, incluidos los archivos HTML y JS. La configuraci√≥n de la aplicaci√≥n se puede encontrar en `bank/res/xml/config.xml`.

Para clonar la aplicaci√≥n, sigue estos pasos:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
Copia el contenido de `bank/assets/www` a `bank-new/www`, excluyendo `cordova_plugins.js`, `cordova.js`, `cordova-js-src/` y el directorio `plugins/`.

Especifica la plataforma (Android o iOS) al crear un nuevo proyecto de Cordova. Para clonar una aplicaci√≥n de Android, a√±ade la plataforma Android. Ten en cuenta que las versiones de plataforma de Cordova y los niveles de API de Android son distintos. Consulta la [documentaci√≥n](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/) de Cordova para obtener detalles sobre las versiones de plataforma y las API de Android compatibles.

Para determinar la versi√≥n de plataforma de Cordova Android adecuada, verifica el `PLATFORM_VERSION_BUILD_LABEL` en el archivo `cordova.js` de la aplicaci√≥n original.

Despu√©s de configurar la plataforma, instala los plugins requeridos. El archivo `bank/assets/www/cordova_plugins.js` de la aplicaci√≥n original enumera todos los plugins y sus versiones. Instala cada plugin individualmente como se muestra a continuaci√≥n:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
Si un plugin no est√° disponible en npm, se puede obtener de GitHub:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
Aseg√∫rate de que se cumplan todos los requisitos previos antes de compilar:
```bash
cd bank-new
cordova requirements
```
Para construir el APK, usa el siguiente comando:
```bash
cd bank-new
cordova build android ‚Äî packageType=apk
```
Este comando genera un APK con la opci√≥n de depuraci√≥n habilitada, facilitando la depuraci√≥n a trav√©s de Google Chrome. Es crucial firmar el APK antes de la instalaci√≥n, especialmente si la aplicaci√≥n incluye mecanismos de detecci√≥n de manipulaci√≥n de c√≥digo.

### Herramienta de Automatizaci√≥n

Para aquellos que buscan automatizar el proceso de clonaci√≥n, **[MobSecco](https://github.com/Anof-cyber/MobSecco)** es una herramienta recomendada. Simplifica la clonaci√≥n de aplicaciones de Android, facilitando los pasos descritos anteriormente.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
