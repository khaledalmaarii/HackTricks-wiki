# Cordova Apps

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**ìì„¸í•œ ë‚´ìš©ì€ [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)ë¥¼ í™•ì¸í•˜ì„¸ìš”. ìš”ì•½ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:**

Apache CordovaëŠ” **JavaScript, HTML, CSS**ë¥¼ ì‚¬ìš©í•˜ì—¬ **í•˜ì´ë¸Œë¦¬ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜** ê°œë°œì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. Android ë° iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆì§€ë§Œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ë©”ì»¤ë‹ˆì¦˜ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. React Nativeì™€ ë‹¬ë¦¬ CordovaëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì½”ë“œ ë³€ì¡° ì·¨ì•½ì ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CordovaëŠ” WebViewë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë Œë”ë§í•˜ë©°, APK ë˜ëŠ” IPA íŒŒì¼ë¡œ ì»´íŒŒì¼ëœ í›„ì—ë„ HTML ë° JavaScript ì½”ë“œë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤. ë°˜ë©´ React NativeëŠ” JavaScript ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ JavaScript VMì„ ì‚¬ìš©í•˜ì—¬ ë” ë‚˜ì€ ì†ŒìŠ¤ ì½”ë“œ ë³´í˜¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### Cordova ì• í”Œë¦¬ì¼€ì´ì…˜ ë³µì œí•˜ê¸°

Cordova ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³µì œí•˜ê¸° ì „ì— NodeJSì™€ Android SDK, Java JDK, Gradleê³¼ ê°™ì€ ê¸°íƒ€ í•„ìˆ˜ êµ¬ì„± ìš”ì†Œê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ê³µì‹ Cordova [ë¬¸ì„œ](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building)ëŠ” ì´ëŸ¬í•œ ì„¤ì¹˜ì— ëŒ€í•œ í¬ê´„ì ì¸ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

`com.android.bank` íŒ¨í‚¤ì§€ ì´ë¦„ì„ ê°€ì§„ `Bank.apk`ë¼ëŠ” ì˜ˆì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê³ ë ¤í•´ ë³´ì„¸ìš”. ì†ŒìŠ¤ ì½”ë“œì— ì ‘ê·¼í•˜ë ¤ë©´ `bank.apk`ë¥¼ ì••ì¶• í•´ì œí•˜ê³  `bank/assets/www` í´ë”ë¡œ ì´ë™í•©ë‹ˆë‹¤. ì´ í´ë”ì—ëŠ” HTML ë° JS íŒŒì¼ì„ í¬í•¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì„±ì€ `bank/res/xml/config.xml`ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³µì œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
`bank/assets/www`ì˜ ë‚´ìš©ì„ `bank-new/www`ë¡œ ë³µì‚¬í•˜ë˜, `cordova_plugins.js`, `cordova.js`, `cordova-js-src/`, ë° `plugins/` ë””ë ‰í† ë¦¬ëŠ” ì œì™¸í•©ë‹ˆë‹¤.

ìƒˆ Cordova í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ í”Œë«í¼(Android ë˜ëŠ” iOS)ì„ ì§€ì •í•©ë‹ˆë‹¤. Android ì•±ì„ ë³µì œí•  ê²½ìš° Android í”Œë«í¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. Cordovaì˜ í”Œë«í¼ ë²„ì „ê³¼ Android API ìˆ˜ì¤€ì€ ë‹¤ë¦…ë‹ˆë‹¤. í”Œë«í¼ ë²„ì „ ë° ì§€ì›ë˜ëŠ” Android APIì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ Cordova [documentation](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

ì ì ˆí•œ Cordova Android í”Œë«í¼ ë²„ì „ì„ í™•ì¸í•˜ë ¤ë©´ ì›ë˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ `cordova.js` íŒŒì¼ì—ì„œ `PLATFORM_VERSION_BUILD_LABEL`ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.

í”Œë«í¼ ì„¤ì • í›„, í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. ì›ë˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ `bank/assets/www/cordova_plugins.js` íŒŒì¼ì—ëŠ” ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ê³¼ í•´ë‹¹ ë²„ì „ì´ ë‚˜ì—´ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ê° í”ŒëŸ¬ê·¸ì¸ì„ ê°œë³„ì ìœ¼ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤:
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
npmì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” í”ŒëŸ¬ê·¸ì¸ì€ GitHubì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
ëª¨ë“  í•„ìˆ˜ ì¡°ê±´ì´ ì¶©ì¡±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œ í›„ ì»´íŒŒì¼í•˜ì‹­ì‹œì˜¤:
```bash
cd bank-new
cordova requirements
```
APKë¥¼ ë¹Œë“œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:
```bash
cd bank-new
cordova build android â€” packageType=apk
```
ì´ ëª…ë ¹ì€ ë””ë²„ê·¸ ì˜µì…˜ì´ í™œì„±í™”ëœ APKë¥¼ ìƒì„±í•˜ì—¬ Google Chromeì„ í†µí•œ ë””ë²„ê¹…ì„ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì½”ë“œ ë³€ì¡° ê°ì§€ ë©”ì»¤ë‹ˆì¦˜ì´ í¬í•¨ëœ ê²½ìš°, ì„¤ì¹˜ ì „ì— APKì— ì„œëª…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

### ìë™í™” ë„êµ¬

í´ë¡œë‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ë ¤ëŠ” ê²½ìš°, **[MobSecco](https://github.com/Anof-cyber/MobSecco)**ê°€ ì¶”ì²œ ë„êµ¬ì…ë‹ˆë‹¤. ì´ëŠ” Android ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í´ë¡œë‹ì„ ê°„ì†Œí™”í•˜ì—¬ ìœ„ì— ì„¤ëª…ëœ ë‹¨ê³„ë¥¼ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
