# Cordova åº”ç”¨

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live) ä¸Š**å…³æ³¨**æˆ‘ä»¬ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>

**æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58](https://infosecwriteups.com/recreating-cordova-mobile-apps-to-bypass-security-implementations-8845ff7bdc58)**ã€‚è¿™æ˜¯ä¸€ä¸ªæ‘˜è¦ï¼š

Apache Cordova ä»¥ä½¿ç”¨ **JavaScriptã€HTML å’Œ CSS** å¼€å‘ **æ··åˆåº”ç”¨** è€Œé—»åã€‚å®ƒå…è®¸åˆ›å»º Android å’Œ iOS åº”ç”¨ç¨‹åºï¼›ç„¶è€Œï¼Œå®ƒç¼ºä¹é»˜è®¤çš„æœºåˆ¶æ¥ä¿æŠ¤åº”ç”¨ç¨‹åºçš„æºä»£ç ã€‚ä¸ React Native ç›¸åï¼ŒCordova é»˜è®¤ä¸ç¼–è¯‘æºä»£ç ï¼Œè¿™å¯èƒ½å¯¼è‡´ä»£ç ç¯¡æ”¹æ¼æ´ã€‚Cordova ä½¿ç”¨ WebView æ¥æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œå³ä½¿ç¼–è¯‘ä¸º APK æˆ– IPA æ–‡ä»¶ï¼Œä»ä¼šæš´éœ² HTML å’Œ JavaScript ä»£ç ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒReact Native ä½¿ç”¨ JavaScript VM æ¥æ‰§è¡Œ JavaScript ä»£ç ï¼Œæä¾›æ›´å¥½çš„æºä»£ç ä¿æŠ¤ã€‚

### å…‹éš† Cordova åº”ç”¨

åœ¨å…‹éš† Cordova åº”ç”¨ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£… NodeJS ä»¥åŠå…¶ä»–å…ˆå†³æ¡ä»¶ï¼Œå¦‚ Android SDKã€Java JDK å’Œ Gradleã€‚å®˜æ–¹ Cordova [æ–‡æ¡£](https://cordova.apache.org/docs/en/11.x/guide/cli/#install-pre-requisites-for-building) æä¾›äº†è¿™äº›å®‰è£…çš„è¯¦ç»†æŒ‡å—ã€‚

å‡è®¾æœ‰ä¸€ä¸ªåä¸º `Bank.apk` çš„ç¤ºä¾‹åº”ç”¨ï¼ŒåŒ…åä¸º `com.android.bank`ã€‚è¦è®¿é—®æºä»£ç ï¼Œè¯·è§£å‹ `bank.apk` å¹¶å¯¼èˆªè‡³ `bank/assets/www` æ–‡ä»¶å¤¹ã€‚è¯¥æ–‡ä»¶å¤¹åŒ…å«åº”ç”¨ç¨‹åºçš„å®Œæ•´æºä»£ç ï¼ŒåŒ…æ‹¬ HTML å’Œ JS æ–‡ä»¶ã€‚åº”ç”¨ç¨‹åºçš„é…ç½®å¯ä»¥åœ¨ `bank/res/xml/config.xml` ä¸­æ‰¾åˆ°ã€‚

è¦å…‹éš†åº”ç”¨ç¨‹åºï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
```bash
npm install -g cordova@latest
cordova create bank-new com.android.bank Bank
cd bank-new
```
å°†`bank/assets/www`ç›®å½•ä¸­çš„å†…å®¹å¤åˆ¶åˆ°`bank-new/www`ç›®å½•ï¼Œä½†ä¸åŒ…æ‹¬`cordova_plugins.js`ã€`cordova.js`ã€`cordova-js-src/`ä»¥åŠ`plugins/`ç›®å½•ã€‚

åœ¨åˆ›å»ºæ–°çš„Cordovaé¡¹ç›®æ—¶ï¼Œéœ€è¦æŒ‡å®šå¹³å°ï¼ˆAndroidæˆ–iOSï¼‰ã€‚è¦å…‹éš†Androidåº”ç”¨ç¨‹åºï¼Œè¯·æ·»åŠ Androidå¹³å°ã€‚è¯·æ³¨æ„ï¼ŒCordovaçš„å¹³å°ç‰ˆæœ¬å’ŒAndroid APIçº§åˆ«æ˜¯ä¸åŒçš„ã€‚æœ‰å…³å¹³å°ç‰ˆæœ¬å’Œæ”¯æŒçš„Android APIçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒCordovaçš„[æ–‡æ¡£](https://cordova.apache.org/docs/en/11.x/guide/platforms/android/)ã€‚

è¦ç¡®å®šé€‚å½“çš„Cordova Androidå¹³å°ç‰ˆæœ¬ï¼Œè¯·æ£€æŸ¥åŸå§‹åº”ç”¨ç¨‹åºçš„`cordova.js`æ–‡ä»¶ä¸­çš„`PLATFORM_VERSION_BUILD_LABEL`ã€‚

è®¾ç½®å¹³å°åï¼Œå®‰è£…æ‰€éœ€çš„æ’ä»¶ã€‚åŸå§‹åº”ç”¨ç¨‹åºçš„`bank/assets/www/cordova_plugins.js`æ–‡ä»¶åˆ—å‡ºäº†æ‰€æœ‰æ’ä»¶åŠå…¶ç‰ˆæœ¬ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹é€ä¸ªå®‰è£…æ¯ä¸ªæ’ä»¶ï¼š
```bash
cd bank-new
cordova plugin add cordova-plugin-dialogs@2.0.1
```
å¦‚æœä¸€ä¸ªæ’ä»¶åœ¨ npm ä¸Šä¸å¯ç”¨ï¼Œå¯ä»¥ä» GitHub è·å–ï¼š
```bash
cd bank-new
cordova plugin add https://github.com/moderna/cordova-plugin-cache.git
```
ç¡®ä¿åœ¨ç¼–è¯‘ä¹‹å‰æ»¡è¶³æ‰€æœ‰å…ˆå†³æ¡ä»¶ï¼š
```bash
cd bank-new
cordova requirements
```
è¦æ„å»ºAPKï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
```bash
cd bank-new
cordova build android â€” packageType=apk
```
è¿™ä¸ªå‘½ä»¤ç”Ÿæˆä¸€ä¸ªå¯ç”¨è°ƒè¯•é€‰é¡¹çš„APKï¼Œé€šè¿‡Google Chromeæ–¹ä¾¿è°ƒè¯•ã€‚åœ¨å®‰è£…ä¹‹å‰ç­¾ç½²APKæ˜¯è‡³å…³é‡è¦çš„ï¼Œç‰¹åˆ«æ˜¯å¦‚æœåº”ç”¨ç¨‹åºåŒ…å«ä»£ç ç¯¡æ”¹æ£€æµ‹æœºåˆ¶ã€‚

### è‡ªåŠ¨åŒ–å·¥å…·

å¯¹äºé‚£äº›å¸Œæœ›è‡ªåŠ¨åŒ–å…‹éš†è¿‡ç¨‹çš„äººï¼Œ**[MobSecco](https://github.com/Anof-cyber/MobSecco)** æ˜¯ä¸€ä¸ªæ¨èçš„å·¥å…·ã€‚å®ƒç®€åŒ–äº†Androidåº”ç”¨ç¨‹åºçš„å…‹éš†è¿‡ç¨‹ï¼Œç®€åŒ–äº†ä¸Šè¿°æ­¥éª¤ã€‚

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
