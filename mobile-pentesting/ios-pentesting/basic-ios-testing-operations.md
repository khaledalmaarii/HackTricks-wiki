# åŸºæœ¬çš„iOSæµ‹è¯•æ“ä½œ

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTs](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## è·å–iOSè®¾å¤‡çš„UDID

{% hint style="info" %}
åœ¨æ‰§è¡Œè¿™äº›æ“ä½œä¹‹å‰ï¼Œ**é€šè¿‡USBå°†è®¾å¤‡è¿æ¥åˆ°è®¡ç®—æœº**å¹¶**è§£é”**è®¾å¤‡ã€‚
{% endhint %}

UDIDæ˜¯ä¸€ä¸ª40ä½çš„å”¯ä¸€å­—æ¯å’Œæ•°å­—åºåˆ—ï¼Œç”¨äºæ ‡è¯†iOSè®¾å¤‡ã€‚æ‚¨å¯ä»¥åœ¨macOS CatalinaåŠæ›´é«˜ç‰ˆæœ¬çš„**Finderåº”ç”¨ç¨‹åº**ä¸­æ‰¾åˆ°iOSè®¾å¤‡çš„UDIDï¼Œå› ä¸ºCatalinaä¸­ä¸å†æä¾›iTunesã€‚åªéœ€åœ¨Finderä¸­é€‰æ‹©è¿æ¥çš„iOSè®¾å¤‡ï¼Œç„¶å**å•å‡»iOSè®¾å¤‡åç§°ä¸‹çš„ä¿¡æ¯**ä»¥éå†å®ƒã€‚é™¤äº†UDIDï¼Œæ‚¨è¿˜å¯ä»¥æ‰¾åˆ°åºåˆ—å·ã€IMEIå’Œå…¶ä»–æœ‰ç”¨çš„ä¿¡æ¯ã€‚

![](<../../.gitbook/assets/image (471).png>)

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Catalinaä¹‹å‰çš„macOSç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥é€šè¿‡iTunesæ‰¾åˆ°æ‚¨çš„iOSè®¾å¤‡çš„[UDID](http://www.iclarified.com/52179/how-to-find-your-iphones-udid)ï¼Œé€‰æ‹©æ‚¨çš„è®¾å¤‡ï¼Œç„¶ååœ¨æ‘˜è¦é€‰é¡¹å¡ä¸­ç‚¹å‡»â€œåºåˆ—å·â€ã€‚ç‚¹å‡»åï¼Œæ‚¨å°†éå†iOSè®¾å¤‡çš„ä¸åŒå…ƒæ•°æ®ï¼ŒåŒ…æ‹¬å…¶UDIDã€‚

è¿˜å¯ä»¥åœ¨macOSä¸Šä½¿ç”¨å„ç§å‘½ä»¤è¡Œå·¥å…·è·å–è®¾å¤‡è¿æ¥çš„UDIDï¼š

* ä½¿ç”¨[I/O Registry Explorer](https://developer.apple.com/library/archive/documentation/DeviceDrivers/Conceptual/IOKitFundamentals/TheRegistry/TheRegistry.html)å·¥å…·`ioreg`ï¼š

```bash
$ ioreg -p IOUSB -l | grep "USB Serial"
|         "USB Serial Number" = "9e8ada44246cee813e2f8c1407520bf2f84849ec"
```
* ä½¿ç”¨[ideviceinstaller](https://github.com/libimobiledevice/ideviceinstaller)ï¼ˆä¹Ÿå¯åœ¨Linuxä¸Šä½¿ç”¨ï¼‰ï¼š

```bash
$ brew install ideviceinstaller
$ idevice_id -l
316f01bd160932d2bf2f95f1f142bc29b1c62dbc
```
* ä½¿ç”¨system\_profilerï¼š

```bash
$ system_profiler SPUSBDataType | sed -n -e '/iPad/,/Serial/p;/iPhone/,/Serial/p;/iPod/,/Serial/p' | grep "Serial Number:"
2019-09-08 10:18:03.920 system_profiler[13251:1050356] SPUSBDevice: IOCreatePlugInInterfaceForService failed 0xe00002be
Serial Number: 64655621de6ef5e56a874d63f1e1bdd14f7103b1
```
* ä½¿ç”¨instrumentsï¼š

```bash
$ instruments -s devices
```

## è®¿é—®è®¾å¤‡Shell

è¶Šç‹±è®¾å¤‡åï¼Œæ‚¨åº”è¯¥å®‰è£…äº†ä¸€äº›æ–°çš„åº”ç”¨ç¨‹åºç®¡ç†å™¨ï¼Œå¦‚**Cydia**ã€‚

### SSH

ä¸ºäº†å¯ç”¨å¯¹iOSè®¾å¤‡çš„SSHè®¿é—®ï¼Œæ‚¨å¯ä»¥å®‰è£…**OpenSSH** **åŒ…**ã€‚å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`ssh root@<device_ip_address>`è®¿é—®æ‚¨çš„è®¾å¤‡ï¼Œè¿™å°†ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•æ‚¨çš„è®¾å¤‡ï¼š
```bash
$ ssh root@192.168.197.234
root@192.168.197.234's password:
iPhone:~ root#
```
å½“é€šè¿‡SSHè®¿é—®æ‚¨çš„iOSè®¾å¤‡æ—¶ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹äº‹é¡¹ï¼š

* **é»˜è®¤ç”¨æˆ·æ˜¯`root`å’Œ`mobile`**ã€‚
* ä¸¤è€…çš„é»˜è®¤**å¯†ç **éƒ½æ˜¯**`alpine`**ã€‚

> è¯·è®°ä½ï¼Œè¦æ›´æ”¹`root`å’Œ`mobile`ç”¨æˆ·çš„é»˜è®¤å¯†ç ï¼Œå› ä¸ºåœ¨åŒä¸€ç½‘ç»œä¸Šçš„ä»»ä½•äººéƒ½å¯ä»¥æ‰¾åˆ°æ‚¨è®¾å¤‡çš„IPåœ°å€å¹¶ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„é»˜è®¤å¯†ç è¿æ¥ï¼Œè¿™å°†ä½¿ä»–ä»¬è·å¾—å¯¹æ‚¨è®¾å¤‡çš„rootè®¿é—®æƒé™ã€‚

### **é€šè¿‡USBè¿æ¥åˆ°è®¾å¤‡çš„SSH**

åœ¨çœŸå®çš„é»‘ç›’æµ‹è¯•ä¸­ï¼Œå¯é çš„Wi-Fiè¿æ¥å¯èƒ½ä¸å¯ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨usbmuxdé€šè¿‡USBè¿æ¥åˆ°è®¾å¤‡çš„SSHæœåŠ¡å™¨ã€‚

é€šè¿‡å®‰è£…å’Œå¯åŠ¨iproxyå°†macOSè¿æ¥åˆ°iOSè®¾å¤‡ï¼š
```bash
$ brew install libimobiledevice
$ iproxy 2222 22
waiting for connection
```
ä¸Šè¿°å‘½ä»¤å°†iOSè®¾å¤‡ä¸Šçš„ç«¯å£`22`æ˜ å°„åˆ°æœ¬åœ°ä¸»æœºä¸Šçš„ç«¯å£`2222`ã€‚å¦‚æœæ‚¨ä¸æƒ³æ¯æ¬¡éƒ½è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ¥é€šè¿‡USBè¿›è¡ŒSSHè¿æ¥ï¼Œæ‚¨è¿˜å¯ä»¥[ä½¿iproxyåœ¨åå°è‡ªåŠ¨è¿è¡Œ](https://iphonedevwiki.net/index.php/SSH\_Over\_USB)ã€‚

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼Œæ‚¨å¯ä»¥è¿æ¥åˆ°è®¾å¤‡ï¼š
```bash
$ ssh -p 2222 root@localhost
root@localhost's password:
iPhone:~ root#
```
> å…³äºiDeviceçš„USBçš„å°æç¤ºï¼šåœ¨iOSè®¾å¤‡ä¸Šï¼Œå¦‚æœå¤„äºé”å®šçŠ¶æ€è¶…è¿‡1å°æ—¶ï¼Œé™¤éå†æ¬¡è§£é”ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œæ•°æ®è¿æ¥ï¼Œè¿™æ˜¯ç”±iOS 11.4.1å¼•å…¥çš„USBå—é™æ¨¡å¼å¯¼è‡´çš„ã€‚

### è®¾å¤‡ä¸Šçš„Shellåº”ç”¨ç¨‹åº

é€šå¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨è®¾å¤‡ä¸Šçš„shellï¼ˆç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼‰å¯èƒ½æ¯”è¿œç¨‹shellæ›´åŠ ç¹çï¼Œä½†åœ¨è°ƒè¯•ç½‘ç»œé—®é¢˜æˆ–æ£€æŸ¥æŸäº›é…ç½®æ—¶ï¼Œå®ƒå¯èƒ½éå¸¸æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡Cydiaå®‰è£…[NewTerm 2](https://repo.chariz.io/package/ws.hbang.newterm2/)æ¥å®ç°æ­¤ç›®çš„ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå®ƒæ”¯æŒiOS 6.0è‡³12.1.2ï¼‰ã€‚

æ­¤å¤–ï¼Œæœ‰ä¸€äº›è¶Šç‹±å·¥å…·æ˜ç¡®ç¦ç”¨äº†ä¼ å…¥çš„SSHè¿æ¥ï¼Œå‡ºäºå®‰å…¨åŸå› ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ‹¥æœ‰ä¸€ä¸ªè®¾å¤‡ä¸Šçš„shellåº”ç”¨ç¨‹åºéå¸¸æ–¹ä¾¿ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒé¦–å…ˆé€šè¿‡åå‘shellä»è®¾å¤‡ä¸­SSHå‡ºå»ï¼Œç„¶åä»ä¸»æœºè®¡ç®—æœºè¿æ¥åˆ°å®ƒã€‚

é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥æ‰“å¼€ä¸€ä¸ªSSHåå‘shellï¼š`ssh -R <remote_port>:localhost:22 <username>@<host_computer_ip>`ã€‚

åœ¨è®¾å¤‡ä¸Šçš„shellåº”ç”¨ç¨‹åºä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¹¶åœ¨æç¤ºæ—¶è¾“å…¥ä¸»æœºè®¡ç®—æœºçš„`mstg`ç”¨æˆ·å¯†ç ï¼š
```bash
ssh -R 2222:localhost:22 mstg@192.168.197.235
```
åœ¨æ‚¨çš„ä¸»æœºè®¡ç®—æœºä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¹¶åœ¨è¦æ±‚æ—¶è¾“å…¥iOSè®¾å¤‡çš„`root`ç”¨æˆ·å¯†ç ï¼š
```bash
$ ssh -p 2222 root@localhost
```
### **å¿˜è®°å¯†ç **

å¦‚æœä½ å¿˜è®°äº†å¯†ç å¹¶æƒ³è¦å°†å…¶é‡ç½®ä¸ºé»˜è®¤çš„ **`alpine`**ï¼š

1. ä½¿ç”¨è®¾å¤‡ä¸Šçš„ç»ˆç«¯æˆ–ä½¿ç”¨è¯¸å¦‚ **Filza** æˆ– **iFile** çš„åº”ç”¨ç¨‹åºç¼–è¾‘ä½ çš„è¶Šç‹± iOS è®¾å¤‡ä¸Šçš„æ–‡ä»¶ `/private/etc/master.passwd`
2. æ‰¾åˆ°ä»¥ä¸‹è¡Œï¼š

```bash
root:xxxxxxxxx:0:0::0:0:System Administrator:/var/root:/bin/sh
mobile:xxxxxxxxx:501:501::0:0:Mobile User:/var/mobile:/bin/sh
```
3. å°† `xxxxxxxxx` æ›´æ”¹ä¸º `/smx7MYTQIi2M`ï¼ˆè¿™æ˜¯å¯†ç  `alpine` çš„å“ˆå¸Œå€¼ï¼‰
4. ä¿å­˜å¹¶é€€å‡º

## æ•°æ®ä¼ è¾“

### é€šè¿‡ SSH å’Œ SCP å¤åˆ¶åº”ç”¨æ•°æ®æ–‡ä»¶

ç°åœ¨æˆ‘ä»¬çŸ¥é“ï¼Œæˆ‘ä»¬çš„åº”ç”¨æ–‡ä»¶å­˜å‚¨åœ¨ Data ç›®å½•ä¸­ã€‚ä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ `tar` å°† Data ç›®å½•æ‰“åŒ…ï¼Œå¹¶ä½¿ç”¨ `scp` ä»è®¾å¤‡ä¸­æ‹‰å–å®ƒï¼š
```bash
iPhone:~ root# tar czvf /tmp/data.tgz /private/var/mobile/Containers/Data/Application/8C8E7EB0-BC9B-435B-8EF8-8F5560EB0693
iPhone:~ root# exit
$ scp -P 2222 root@localhost:/tmp/data.tgz .
```
### ä½¿ç”¨iFunbox

[**iFunbox**](https://www.i-funbox.com/en/page-download.html) æ˜¯ä¸€ä¸ªå›¾å½¢ç”¨æˆ·ç•Œé¢åº”ç”¨ç¨‹åºï¼Œå¯ç”¨äºå¤šç§ç”¨é€”ï¼ˆå…¶ä¸­åŒ…æ‹¬ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ï¼‰ã€‚\
å¦ä¸€ä¸ªç”¨äºæ­¤ç›®çš„çš„å›¾å½¢ç”¨æˆ·ç•Œé¢å·¥å…·æ˜¯ [**iExplorer**](https://macroplant.com/iexplorer)ã€‚

{% hint style="info" %}
ä»iOS 8.4ç‰ˆæœ¬å¼€å§‹ï¼Œè‹¹æœé™åˆ¶äº†ç¬¬ä¸‰æ–¹ç®¡ç†å™¨å¯¹åº”ç”¨ç¨‹åºæ²™ç›’çš„è®¿é—®æƒé™ï¼Œå› æ­¤å¦‚æœè®¾å¤‡æ²¡æœ‰è¶Šç‹±ï¼ŒåƒiFunboxå’ŒiExplorerè¿™æ ·çš„å·¥å…·å°†æ— æ³•æ˜¾ç¤º/æ£€ç´¢è®¾å¤‡ä¸Šå®‰è£…çš„åº”ç”¨ç¨‹åºçš„æ–‡ä»¶ã€‚
{% endhint %}

### ä½¿ç”¨Objection

å½“æ‚¨å¯åŠ¨objectionï¼ˆ`objection --gadget com.apple.mobilesafari explorer`ï¼‰æ—¶ï¼Œæ‚¨å°†åœ¨Bundleç›®å½•ä¸­æ‰¾åˆ°æç¤ºç¬¦ã€‚
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # pwd print
Current directory: /var/containers/Bundle/Application/DABF849D-493E-464C-B66B-B8B6C53A4E76/org.owasp.MSTG.app
```
ä½¿ç”¨`env`å‘½ä»¤è·å–åº”ç”¨ç¨‹åºçš„ç›®å½•ï¼Œå¹¶å¯¼èˆªåˆ°Documentsç›®å½•ã€‚
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # cd /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/Documents
/var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/Documents
```
ä½¿ç”¨å‘½ä»¤ `file download <æ–‡ä»¶å>` å¯ä»¥å°†æ–‡ä»¶ä»iOSè®¾å¤‡ä¸‹è½½åˆ°æ‚¨çš„ä¸»æœºè®¡ç®—æœºï¼Œå¹¶å¯ä»¥éšåè¿›è¡Œåˆ†æã€‚
```bash
org.owasp.MSTG on (iPhone: 10.3.3) [usb] # file download .com.apple.mobile_container_manager.metadata.plist
Downloading /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/.com.apple.mobile_container_manager.metadata.plist to .com.apple.mobile_container_manager.metadata.plist
Streaming file from device...
Writing bytes to destination...
Successfully downloaded /var/mobile/Containers/Data/Application/72C7AAFB-1D75-4FBA-9D83-D8B4A2D44133/.com.apple.mobile_container_manager.metadata.plist to .com.apple.mobile_container_manager.metadata.plist
```
æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`file upload <local_file_path>`å°†æ–‡ä»¶ä¸Šä¼ åˆ°iOSè®¾å¤‡ã€‚

## è·å–å’Œæå–åº”ç”¨ç¨‹åº

### ä»OTAåˆ†å‘é“¾æ¥è·å–IPAæ–‡ä»¶

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶ä¼šé€šè¿‡OTAåˆ†å‘å°†åº”ç”¨ç¨‹åºæä¾›ç»™æµ‹è¯•äººå‘˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†æ”¶åˆ°ä¸€ä¸ªitms-servicesé“¾æ¥ï¼Œä¾‹å¦‚ï¼š
```
itms-services://?action=download-manifest&url=https://s3-ap-southeast-1.amazonaws.com/test-uat/manifest.plist
```
æ‚¨å¯ä»¥ä½¿ç”¨[ITMSæœåŠ¡èµ„äº§ä¸‹è½½å™¨](https://www.npmjs.com/package/itms-services)å·¥å…·ä»OTAåˆ†å‘URLä¸‹è½½IPAæ–‡ä»¶ã€‚é€šè¿‡npmå®‰è£…å®ƒï¼š
```bash
$ npm install -g itms-services
```
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†IPAæ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°ï¼š
```bash
# itms-services -u "itms-services://?action=download-manifest&url=https://s3-ap-southeast-1.amazonaws.com/test-uat/manifest.plist" -o - > out.ipa
```
### è·å–åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶

1. **ä»IPAæ–‡ä»¶è·å–**ï¼š

å¦‚æœä½ æœ‰IPAæ–‡ä»¶ï¼ˆå¯èƒ½åŒ…å«å·²è§£å¯†çš„åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼Œè§£å‹ç¼©å®ƒå¹¶å‡†å¤‡å¥½å¼€å§‹ã€‚åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ä½äºä¸»è¦æ†ç»‘ç›®å½•ï¼ˆ.appï¼‰ä¸­ï¼Œä¾‹å¦‚`Payload/Telegram X.app/Telegram X`ã€‚æœ‰å…³å±æ€§åˆ—è¡¨æå–çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ä¸‹ä¸€å°èŠ‚ã€‚

> åœ¨macOSçš„Finderä¸­ï¼Œå¯ä»¥é€šè¿‡å³é”®å•å‡».appç›®å½•å¹¶é€‰æ‹©â€œæ˜¾ç¤ºåŒ…å†…å®¹â€æ¥æ‰“å¼€ã€‚åœ¨ç»ˆç«¯ä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨`cd`å‘½ä»¤è¿›å…¥ç›®å½•ã€‚

2. **ä»è¶Šç‹±è®¾å¤‡è·å–**ï¼š

å¦‚æœæ‚¨æ²¡æœ‰åŸå§‹çš„IPAæ–‡ä»¶ï¼Œåˆ™éœ€è¦ä¸€ä¸ªè¶Šç‹±è®¾å¤‡ï¼Œåœ¨è¯¥è®¾å¤‡ä¸Š**å®‰è£…è¯¥åº”ç”¨ç¨‹åº**ï¼ˆä¾‹å¦‚é€šè¿‡App Storeï¼‰ã€‚å®‰è£…å®Œæˆåï¼Œæ‚¨éœ€è¦**ä»å†…å­˜ä¸­æå–åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶é‡æ–°æ„å»ºIPAæ–‡ä»¶**ã€‚ç”±äºæ•°å­—ç‰ˆæƒç®¡ç†ï¼ˆDRMï¼‰çš„åŸå› ï¼Œåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶åœ¨å­˜å‚¨åœ¨iOSè®¾å¤‡ä¸Šæ—¶æ˜¯åŠ å¯†çš„ï¼Œå› æ­¤ä»…ä»…ä»æ†ç»‘åŒ…ä¸­æå–å®ƒï¼ˆæ— è®ºæ˜¯é€šè¿‡SSHè¿˜æ˜¯Objectionï¼‰æ˜¯ä¸è¶³ä»¥è¿›è¡Œé€†å‘å·¥ç¨‹çš„ï¼ˆè¯·é˜…è¯»ä¸‹ä¸€èŠ‚ï¼‰ã€‚

### è§£å¯†ï¼ˆæ‰‹åŠ¨ï¼‰

ä¸Androidåº”ç”¨ç¨‹åºä¸åŒï¼ŒiOSåº”ç”¨ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶**åªèƒ½è¢«åæ±‡ç¼–**ï¼Œè€Œä¸èƒ½è¢«åç¼–è¯‘ã€‚\
å½“åº”ç”¨ç¨‹åºæäº¤åˆ°åº”ç”¨å•†åº—æ—¶ï¼Œè‹¹æœé¦–å…ˆéªŒè¯åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œç„¶åä½¿ç”¨[**FairPlay**](https://developer.apple.com/streaming/fps/)å¯¹äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼Œç„¶åæ‰å°†å…¶å‘å¸ƒåˆ°åº”ç”¨å•†åº—ã€‚å› æ­¤ï¼Œä»åº”ç”¨å•†åº—ä¸‹è½½çš„äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯åŠ å¯†çš„ï¼Œè¿™å¢åŠ äº†é€†å‘å·¥ç¨‹çš„å¤æ‚æ€§ã€‚

ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œè¿˜æœ‰å…¶ä»–**ç¬¬ä¸‰æ–¹è½¯ä»¶å¯ä»¥ç”¨äºæ··æ·†**ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

ä¸ºäº†è¿è¡ŒåŠ å¯†çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè®¾å¤‡éœ€è¦åœ¨å†…å­˜ä¸­å¯¹å…¶è¿›è¡Œè§£å¯†ã€‚ç„¶åï¼Œå¯ä»¥ä»å†…å­˜ä¸­**è½¬å‚¨è§£å¯†åçš„äºŒè¿›åˆ¶æ–‡ä»¶**ã€‚

é¦–å…ˆï¼Œæ£€æŸ¥äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦ä½¿ç”¨äº†PIEï¼ˆä½ç½®æ— å…³ä»£ç ï¼‰æ ‡å¿—ï¼š
```bash
otool -Vh Original_App #Check the last word of the last line of this code
Home:
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC_64   X86_64        ALL  0x00     EXECUTE    47       6080   NOUNDEFS DYLDLINK TWOLEVEL PIE
```
å¦‚æœå·²ç»è®¾ç½®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è„šæœ¬[`change_macho_flags.py`](https://chromium.googlesource.com/chromium/src/+/49.0.2623.110/build/mac/change\_mach\_o\_flags.py)æ¥ä½¿ç”¨python2ç§»é™¤å®ƒï¼š
```bash
python change_mach_o_flags.py --no-pie Original_App
otool -Vh Hello_World
Hello_World:
Mach header
magic  cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags
MH_MAGIC      ARM         V7  0x00     EXECUTE    22       2356   NOUNDEFS DYLDLINK TWOLEVEL MH_NO_HEAP_EXECUTION
```
ç°åœ¨ï¼Œç”±äºæœªè®¾ç½®PIEæ ‡å¿—ï¼Œæ“ä½œç³»ç»Ÿå°†æ¯æ¬¡åœ¨**å›ºå®šçš„èµ·å§‹ä½ç½®**åŠ è½½ç¨‹åºã€‚ä¸ºäº†æ‰¾åˆ°è¿™ä¸ª**ä½ç½®**ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ï¼š
```bash
otool -l Original_App | grep -A 3 LC_SEGMENT | grep -A 1 __TEXT
segname __TEXT
vmaddr 0x00004000
```
ç„¶åï¼Œéœ€è¦æå–éœ€è¦è½¬å‚¨çš„å†…å­˜èŒƒå›´ï¼š
```bash
otool -l Original_App | grep -A 4 LC_ENCRYPTION_INFO
cmd LC_ENCRYPTION_INFO
cmdsize 20
cryptoff 16384
cryptsize 17416192
cryptid 0
```
**`cryptoff`**çš„å€¼è¡¨ç¤ºåŠ å¯†å†…å®¹çš„èµ·å§‹åœ°å€ï¼Œ**`cryptsize`**è¡¨ç¤ºåŠ å¯†å†…å®¹çš„å¤§å°ã€‚

å› æ­¤ï¼Œè¦è½¬å‚¨çš„`èµ·å§‹åœ°å€`å°†æ˜¯`vmaddr + cryptoff`ï¼Œè€Œ`ç»“æŸåœ°å€`å°†æ˜¯`èµ·å§‹åœ°å€ + cryptsize`\
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š`èµ·å§‹åœ°å€ = 0x4000 + 0x4000 = 0x8000`ï¼Œ`ç»“æŸåœ°å€ = 0x8000 + 0x109c000 = 0x10a4000`

æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œåªéœ€è¦åœ¨è¶Šç‹±è®¾å¤‡ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºï¼Œä½¿ç”¨gdbï¼ˆ`gdb -p <pid>`ï¼‰é™„åŠ åˆ°è¿›ç¨‹å¹¶è½¬å‚¨å†…å­˜å³å¯ï¼š
```bash
dump memory dump.bin 0x8000 0x10a4000
```
æ­å–œï¼ä½ å·²ç»è§£å¯†äº†dump.binä¸­çš„åŠ å¯†éƒ¨åˆ†ã€‚ç°åœ¨**å°†è¿™ä¸ªdumpä¼ è¾“åˆ°ä½ çš„ç”µè„‘ä¸Šï¼Œå¹¶ç”¨è§£å¯†åçš„å†…å®¹è¦†ç›–æ‰åŠ å¯†éƒ¨åˆ†**ï¼š
```bash
dd bs=1 seek=<starting_address> conv=notrunc if=dump.bin of=Original_App
```
è¿˜æœ‰ä¸€æ­¥è¦å®Œæˆã€‚åº”ç”¨ç¨‹åºåœ¨å…¶å…ƒæ•°æ®ä¸­ä»ç„¶**æŒ‡ç¤º**å®ƒæ˜¯**åŠ å¯†çš„**ï¼Œä½†å®é™…ä¸Š**å¹¶ä¸æ˜¯**ã€‚ç„¶åï¼Œå½“æ‰§è¡Œæ—¶ï¼Œè®¾å¤‡å°†å°è¯•è§£å¯†å·²ç»è§£å¯†çš„éƒ¨åˆ†ï¼Œä½†ä¼šå¤±è´¥ã€‚

ç„¶è€Œï¼Œä½ å¯ä»¥ä½¿ç”¨åƒ[MachOView](https://sourceforge.net/projects/machoview/)è¿™æ ·çš„å·¥å…·æ¥æ›´æ”¹è¿™äº›ä¿¡æ¯ã€‚åªéœ€æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å°†**cryptid**è®¾ç½®ä¸º0ï¼š

![](<../../.gitbook/assets/image (470).png>)

### è§£å¯†ï¼ˆè‡ªåŠ¨ï¼‰

#### frida-ios-dump

ä½ å¯ä»¥ä½¿ç”¨åƒ[frida-ios-dump](https://github.com/AloneMonkey/frida-ios-dump)è¿™æ ·çš„å·¥å…·æ¥**è‡ªåŠ¨å»é™¤åº”ç”¨ç¨‹åºçš„åŠ å¯†**ã€‚

é¦–å…ˆï¼Œç¡®ä¿åœ¨**Frida-ios-dump**çš„`dump.py`é…ç½®ä¸­ï¼Œå½“ä½¿ç”¨**iproxy**æ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºæœ¬åœ°ä¸»æœºå’Œç«¯å£2222ï¼Œæˆ–è€…è®¾ç½®ä¸ºè¦ä»ä¸­è½¬å‚¨äºŒè¿›åˆ¶æ–‡ä»¶çš„è®¾å¤‡çš„å®é™…IPåœ°å€å’Œç«¯å£ã€‚

ç°åœ¨ï¼Œä½ å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨è¯¥å·¥å…·æ¥**æšä¸¾å·²å®‰è£…çš„åº”ç”¨ç¨‹åº**ï¼š
```bash
$ python dump.py -l
PID  Name             Identifier
----  ---------------  -------------------------------------
860  Cydia            com.saurik.Cydia
1130  Settings         com.apple.Preferences
685  Mail             com.apple.mobilemail
834  Telegram         ph.telegra.Telegraph
-  Stocks           com.apple.stocks
...
```
ä½ å¯ä»¥**è½¬å‚¨**åˆ—å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¹‹ä¸€ï¼š
```bash
$ python3 dump.py -u "root" -p "<PASSWORD>" ph.telegra.Telegraph

Start the target app ph.telegra.Telegraph
Dumping Telegram to /var/folders/qw/gz47_8_n6xx1c_lwq7pq5k040000gn/T
[frida-ios-dump]: HockeySDK.framework has been loaded.
[frida-ios-dump]: Load Postbox.framework success.
[frida-ios-dump]: libswiftContacts.dylib has been dlopen.
...
start dump /private/var/containers/Bundle/Application/14002D30-B113-4FDF-BD25-1BF740383149/Telegram.app/Frameworks/libswiftsimd.dylib
libswiftsimd.dylib.fid: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 343k/343k [00:00<00:00, 1.54MB/s]
start dump /private/var/containers/Bundle/Application/14002D30-B113-4FDF-BD25-1BF740383149/Telegram.app/Frameworks/libswiftCoreData.dylib
libswiftCoreData.dylib.fid: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 82.5k/82.5k [00:00<00:00, 477kB/s]
5.m4a: 80.9MB [00:14, 5.85MB/s]
0.00B [00:00, ?B/s]Generating "Telegram.ipa"
```
å®Œæˆåï¼Œ`Telegram.ipa` æ–‡ä»¶å°†åœ¨å½“å‰ç›®å½•ä¸­åˆ›å»ºã€‚æ‚¨å¯ä»¥é€šè¿‡åˆ é™¤åº”ç”¨ç¨‹åºå¹¶é‡æ–°å®‰è£…å®ƒï¼ˆä¾‹å¦‚ä½¿ç”¨ [**ios-deploy**](https://github.com/ios-control/ios-deploy) `ios-deploy -b Telegram.ipa`ï¼‰æ¥éªŒè¯è½¬å‚¨çš„æˆåŠŸã€‚è¯·æ³¨æ„ï¼Œè¿™ä»…é€‚ç”¨äºè¶Šç‹±è®¾å¤‡ï¼Œå¦åˆ™ç­¾åå°†æ— æ•ˆã€‚

#### flexdecrypt

ä¸ºäº†ä»å·²å®‰è£…çš„åº”ç”¨ç¨‹åºä¸­**è·å–ipaæ–‡ä»¶**ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨å·¥å…· [**flexdecrypt**](https://github.com/JohnCoates/flexdecrypt) æˆ–è¯¥å·¥å…·çš„åŒ…è£…å™¨ [**flexdump**](https://gist.github.com/defparam/71d67ee738341559c35c684d659d40ac)**ã€‚**\
æ— è®ºå“ªç§æƒ…å†µï¼Œæ‚¨éƒ½éœ€è¦åœ¨è®¾å¤‡ä¸Š**å®‰è£…flexdecrypt**ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```markup
wget https://github.com/JohnCoates/flexdecrypt/releases/download/1.1/flexdecrypt.deb
dpkg -i flexdecrypt.deb
rm flexdecrypt.deb
```
ä¸ºäº†ä½¿ç”¨**flexdump**ï¼š
```bash
apt install zip unzip
wget https://gist.githubusercontent.com/defparam/71d67ee738341559c35c684d659d40ac/raw/30c7612262f1faf7871ba8e32fbe29c0f3ef9e27/flexdump -P /usr/local/bin; chmod +x /usr/local/bin/flexdump
flexdump list #List apps
flexdump dump Twitter.app #Create .ipa file from app
```
#### r2flutch

[**r2flutch**](https://github.com/as0ler/r2flutch) æ˜¯ä¸€ä¸ªä½¿ç”¨ **radare** å’Œ **frida** æ¥ **è§£å¯†** å’Œ **è½¬å‚¨ iOS åº”ç”¨ç¨‹åº** çš„å·¥å…·ã€‚

æ›´å¤šä¿¡æ¯è¯·å‚é˜… **github**ã€‚

## å®‰è£…åº”ç”¨ç¨‹åº

å½“æ‚¨åœ¨ä¸ä½¿ç”¨è‹¹æœçš„åº”ç”¨å•†åº—çš„æƒ…å†µä¸‹å®‰è£…åº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™è¢«ç§°ä¸º **ä¾§è½½**ã€‚æœ‰å¤šç§ä¾§è½½çš„æ–¹å¼ï¼Œä¸‹é¢å°†å¯¹å…¶è¿›è¡Œæè¿°ã€‚åœ¨ iOS è®¾å¤‡ä¸Šï¼Œå®é™…çš„å®‰è£…è¿‡ç¨‹ç”± **installd å®ˆæŠ¤è¿›ç¨‹** å¤„ç†ï¼Œè¯¥è¿›ç¨‹å°† **è§£å‹** å¹¶ **å®‰è£…** åº”ç”¨ç¨‹åºã€‚ä¸ºäº†é›†æˆåº”ç”¨ç¨‹åºæœåŠ¡æˆ–åœ¨ iOS è®¾å¤‡ä¸Šå®‰è£…åº”ç”¨ç¨‹åºï¼Œæ‰€æœ‰ **åº”ç”¨ç¨‹åºå¿…é¡»ä½¿ç”¨ç”± Apple é¢å‘çš„è¯ä¹¦è¿›è¡Œç­¾å**ã€‚è¿™æ„å‘³ç€åªæœ‰åœ¨æˆåŠŸè¿›è¡Œä»£ç ç­¾åéªŒè¯åï¼Œåº”ç”¨ç¨‹åºæ‰èƒ½å®‰è£…ã€‚ç„¶è€Œï¼Œåœ¨è¶Šç‹±æ‰‹æœºä¸Šï¼Œæ‚¨å¯ä»¥é€šè¿‡ [**AppSync**](http://repo.hackyouriphone.org/appsyncunified) æ¥ **ç»•è¿‡æ­¤å®‰å…¨åŠŸèƒ½**ï¼ŒAppSync æ˜¯ Cydia å•†åº—ä¸­æä¾›çš„ä¸€ä¸ªè½¯ä»¶åŒ…ã€‚å®ƒåŒ…å«äº†è®¸å¤šæœ‰ç”¨çš„åº”ç”¨ç¨‹åºï¼Œåˆ©ç”¨è¶Šç‹±æä¾›çš„ root æƒé™æ¥æ‰§è¡Œé«˜çº§åŠŸèƒ½ã€‚**AppSync æ˜¯ä¸€ä¸ªä¿®è¡¥ installd çš„æ’ä»¶**ï¼Œå…è®¸å®‰è£…ä¼ªç­¾åçš„ IPA åŒ…ã€‚

æœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥å°† IPA åŒ…å®‰è£…åˆ° iOS è®¾å¤‡ä¸Šï¼Œä¸‹é¢å°†è¯¦ç»†æè¿°è¿™äº›æ–¹æ³•ã€‚

> è¯·æ³¨æ„ï¼ŒiTunes åœ¨ macOS Catalina ä¸­ä¸å†å¯ç”¨ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯è¾ƒæ—§ç‰ˆæœ¬çš„ macOSï¼Œåˆ™ä»ç„¶å¯ä»¥ä½¿ç”¨ iTunesï¼Œä½†è‡ª iTunes 12.7 ä»¥æ¥ï¼Œæ— æ³•å®‰è£…åº”ç”¨ç¨‹åºã€‚

#### Cydia Impactor

[Cydia Impactor](http://www.cydiaimpactor.com) æœ€åˆæ˜¯ç”¨äºè¶Šç‹± iPhone çš„ï¼Œä½†å·²ç»è¢«é‡æ–°ç¼–å†™ä¸ºé€šè¿‡ä¾§è½½æ–¹å¼å¯¹ iOS è®¾å¤‡è¿›è¡Œ IPA åŒ…çš„ç­¾åå’Œå®‰è£…ï¼ˆç”šè‡³å¯ä»¥å¯¹ Android è®¾å¤‡è¿›è¡Œ APK æ–‡ä»¶çš„ç­¾åå’Œå®‰è£…ï¼‰ã€‚Cydia Impactor å¯åœ¨ Windowsã€macOS å’Œ Linux ä¸Šä½¿ç”¨ã€‚[yalujailbreak.net](https://yalujailbreak.net/how-to-use-cydia-impactor/) ä¸Šæä¾›äº†ä¸€ä»½é€æ­¥æŒ‡å—å’Œæ•…éšœæ’é™¤æ­¥éª¤ã€‚

#### libimobiledevice

åœ¨ Linux å’Œ macOS ä¸Šï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ [libimobiledevice](https://www.libimobiledevice.org)ï¼Œè¿™æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è½¯ä»¶åè®®åº“å’Œä¸€ç»„ç”¨äºä¸ iOS è®¾å¤‡è¿›è¡Œæœ¬åœ°é€šä¿¡çš„å·¥å…·ã€‚è¿™ä½¿æ‚¨å¯ä»¥é€šè¿‡ USB è¿æ¥æ‰§è¡Œ ideviceinstaller æ¥å®‰è£…åº”ç”¨ç¨‹åºã€‚è¿æ¥æ˜¯é€šè¿‡ USB å¤šè·¯å¤ç”¨å®ˆæŠ¤è¿›ç¨‹ [usbmuxd](https://www.theiphonewiki.com/wiki/Usbmux) å®ç°çš„ï¼Œå®ƒåœ¨ USB ä¸Šæä¾›äº†ä¸€ä¸ª TCP éš§é“ã€‚

libimobiledevice çš„è½¯ä»¶åŒ…å°†åœ¨æ‚¨çš„ Linux è½¯ä»¶åŒ…ç®¡ç†å™¨ä¸­æä¾›ã€‚åœ¨ macOS ä¸Šï¼Œæ‚¨å¯ä»¥é€šè¿‡ brew å®‰è£… libimobiledeviceã€‚
```bash
$ brew install libimobiledevice
$ brew install ideviceinstaller
```
å®‰è£…å®Œæˆåï¼Œæ‚¨å°†è·å¾—å‡ ä¸ªæ–°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¾‹å¦‚`ideviceinfo`ã€`ideviceinstaller`æˆ–`idevicedebug`ã€‚
```bash
# The following command will show detailed information about the iOS device connected via USB.
$ ideviceinfo
# The following command will install the IPA to your iOS device.
$ ideviceinstaller -i iGoat-Swift_v1.0-frida-codesigned.ipa
...
Install: Complete
# The following command will start the app in debug mode, by providing the bundle name. The bundle name can be found in the previous command after "Installing".
$ idevicedebug -d run OWASP.iGoat-Swift
```
#### ipainstaller

å¯ä»¥ä½¿ç”¨[ipainstaller](https://github.com/autopear/ipainstaller)å‘½ä»¤è¡Œç›´æ¥åœ¨iOSè®¾å¤‡ä¸Šå®‰è£…IPAæ–‡ä»¶ã€‚å°†æ–‡ä»¶é€šè¿‡scpç­‰æ–¹å¼å¤åˆ¶åˆ°è®¾å¤‡ä¸Šåï¼Œå¯ä»¥ä½¿ç”¨ipainstalleræ‰§è¡ŒIPAæ–‡ä»¶çš„æ–‡ä»¶åï¼š
```bash
$ ipainstaller App_name.ipa
```
#### ios-deploy

åœ¨ macOS ä¸Šï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ **ios-deploy** å·¥å…·é€šè¿‡å‘½ä»¤è¡Œå®‰è£… iOS åº”ç”¨ç¨‹åºã€‚æ‚¨éœ€è¦è§£å‹ç¼©æ‚¨çš„ IPA æ–‡ä»¶ï¼Œå› ä¸º ios-deploy ä½¿ç”¨åº”ç”¨ç¨‹åºåŒ…æ¥å®‰è£…åº”ç”¨ç¨‹åºã€‚
```bash
$ unzip Name.ipa
$ ios-deploy --bundle 'Payload/Name.app' -W -d -v
```
åœ¨iOSè®¾å¤‡ä¸Šå®‰è£…åº”ç”¨ç¨‹åºåï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ `-m`æ ‡å¿—æ¥ç›´æ¥å¯åŠ¨è°ƒè¯•ï¼Œè€Œæ— éœ€å†æ¬¡å®‰è£…åº”ç”¨ç¨‹åºã€‚
```bash
$ ios-deploy --bundle 'Payload/Name.app' -W -d -v -m
```
#### Xcode

ä¹Ÿå¯ä»¥ä½¿ç”¨Xcodeé›†æˆå¼€å‘ç¯å¢ƒæ¥å®‰è£…iOSåº”ç”¨ç¨‹åºï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. å¯åŠ¨Xcode
2. é€‰æ‹©**çª—å£/è®¾å¤‡å’Œæ¨¡æ‹Ÿå™¨**
3. é€‰æ‹©è¿æ¥çš„iOSè®¾å¤‡ï¼Œç„¶åç‚¹å‡»**å·²å®‰è£…çš„åº”ç”¨**ä¸­çš„**+**å·ã€‚

#### å…è®¸åœ¨éiPadè®¾å¤‡ä¸Šå®‰è£…åº”ç”¨ç¨‹åº

æœ‰æ—¶å€™æŸä¸ªåº”ç”¨ç¨‹åºå¯èƒ½è¦æ±‚åœ¨iPadè®¾å¤‡ä¸Šä½¿ç”¨ã€‚å¦‚æœä½ åªæœ‰iPhoneæˆ–iPod touchè®¾å¤‡ï¼Œä½ å¯ä»¥é€šè¿‡å°†**Info.plist**æ–‡ä»¶ä¸­çš„**UIDeviceFamily**å±æ€§çš„å€¼æ›´æ”¹ä¸º**1**æ¥å¼ºåˆ¶åº”ç”¨ç¨‹åºæ¥å—åœ¨è¿™äº›è®¾å¤‡ä¸Šå®‰è£…å’Œä½¿ç”¨ã€‚
```markup
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>

<key>UIDeviceFamily</key>
<array>
<integer>1</integer>
</array>

</dict>
</plist>
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ›´æ”¹æ­¤å€¼å°†ç ´åIPAæ–‡ä»¶çš„åŸå§‹ç­¾åï¼Œå› æ­¤æ‚¨éœ€è¦åœ¨æ›´æ–°åé‡æ–°ç­¾åIPAï¼Œä»¥ä¾¿åœ¨æœªç¦ç”¨ç­¾åéªŒè¯çš„è®¾å¤‡ä¸Šå®‰è£…å®ƒã€‚

å¦‚æœåº”ç”¨ç¨‹åºéœ€è¦ä¸ç°ä»£iPadç‰¹å®šçš„åŠŸèƒ½ï¼Œè€Œæ‚¨çš„iPhoneæˆ–iPodè¾ƒæ—§ï¼Œåˆ™æ­¤ç»•è¿‡å¯èƒ½æ— æ•ˆã€‚

å¯ä»¥åœ¨Appleå¼€å‘è€…æ–‡æ¡£ä¸­æ‰¾åˆ°å±æ€§[UIDeviceFamily](https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple\_ref/doc/uid/TP40009252-SW11)çš„å¯èƒ½å€¼ã€‚

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTæ”¶è—å“**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
