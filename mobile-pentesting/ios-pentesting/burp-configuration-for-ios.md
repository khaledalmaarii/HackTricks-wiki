# Konfiguracja Burp Suite dla iOS

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
UÅ¼yj [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks), aby Å‚atwo tworzyÄ‡ i **automatyzowaÄ‡ zadania** przy uÅ¼yciu najbardziej zaawansowanych narzÄ™dzi spoÅ‚ecznoÅ›ciowych na Å›wiecie.\
Otrzymaj dostÄ™p juÅ¼ dziÅ›:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Instalowanie certyfikatu Burp na urzÄ…dzeniach iOS

Aby analizowaÄ‡ bezpieczny ruch sieciowy i przypinaÄ‡ SSL na urzÄ…dzeniach iOS, moÅ¼na uÅ¼yÄ‡ Burp Suite za pomocÄ… **Burp Mobile Assistant** lub poprzez konfiguracjÄ™ rÄ™cznÄ…. PoniÅ¼ej znajduje siÄ™ podsumowana instrukcja dla obu metod:

### Automatyczna instalacja za pomocÄ… Burp Mobile Assistant
**Burp Mobile Assistant** upraszcza proces instalacji certyfikatu Burp, konfiguracji proxy i przypinania SSL. SzczegÃ³Å‚owe instrukcje moÅ¼na znaleÅºÄ‡ w [oficjalnej dokumentacji PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Kroki do rÄ™cznej instalacji
1. **Konfiguracja proxy:** Zacznij od ustawienia Burp jako proxy w ustawieniach Wi-Fi na iPhone'ie.
2. **Pobieranie certyfikatu:** PrzejdÅº do `http://burp` w przeglÄ…darce urzÄ…dzenia, aby pobraÄ‡ certyfikat.
3. **Instalacja certyfikatu:** Zainstaluj pobrany profil za pomocÄ… **Ustawienia** > **OgÃ³lne** > **VPN i zarzÄ…dzanie urzÄ…dzeniem**, a nastÄ™pnie wÅ‚Ä…cz zaufanie dla PortSwigger CA w **Ustawieniach zaufania certyfikatu**.

### Konfigurowanie proxy poÅ›redniczÄ…cego
Konfiguracja umoÅ¼liwia analizÄ™ ruchu miÄ™dzy urzÄ…dzeniem iOS a internetem za poÅ›rednictwem Burp, wymagajÄ…c sieci Wi-Fi obsÅ‚ugujÄ…cej ruch klient-klient. JeÅ›li nie jest dostÄ™pna, alternatywÄ… moÅ¼e byÄ‡ poÅ‚Ä…czenie USB za poÅ›rednictwem usbmuxd. Samouczki PortSwiggera zawierajÄ… szczegÃ³Å‚owe instrukcje dotyczÄ…ce [konfiguracji urzÄ…dzenia](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) i [instalacji certyfikatu](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Zaawansowana konfiguracja dla urzÄ…dzeÅ„ z jailbreakiem
Dla uÅ¼ytkownikÃ³w urzÄ…dzeÅ„ z jailbreakiem, SSH przez USB (za pomocÄ… **iproxy**) oferuje metodÄ™ przekierowania ruchu bezpoÅ›rednio przez Burp:

1. **NawiÄ…zywanie poÅ‚Ä…czenia SSH:** UÅ¼yj iproxy do przekierowania SSH na localhost, umoÅ¼liwiajÄ…c poÅ‚Ä…czenie z urzÄ…dzenia iOS do komputera uruchamiajÄ…cego Burp.
```bash
iproxy 2222 22
```
2. **Przekierowanie zdalnego portu:** PrzekaÅ¼ port 8080 urzÄ…dzenia iOS na localhost komputera, aby umoÅ¼liwiÄ‡ bezpoÅ›redni dostÄ™p do interfejsu Burp.
```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Konfiguracja globalnego ustawienia proxy:** Na koniec skonfiguruj ustawienia Wi-Fi urzÄ…dzenia iOS, aby korzystaÅ‚y z rÄ™cznego proxy, kierujÄ…c caÅ‚y ruch sieciowy przez Burp.


### PeÅ‚ne monitorowanie/szyfrowanie sieciowe

Monitorowanie ruchu urzÄ…dzenia innych niÅ¼ HTTP moÅ¼na efektywnie przeprowadziÄ‡ za pomocÄ… narzÄ™dzia **Wireshark**, ktÃ³re jest zdolne do przechwytywania wszystkich form ruchu danych. Dla urzÄ…dzeÅ„ iOS monitorowanie ruchu w czasie rzeczywistym jest uÅ‚atwione poprzez utworzenie zdalnego interfejsu wirtualnego, proces ten jest szczegÃ³Å‚owo opisany w [tym poÅ›cie na Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Przed rozpoczÄ™ciem instalacja **Wiresharka** na systemie macOS jest wymagana.

Procedura obejmuje kilka kluczowych krokÃ³w:

1. NawiÄ…zanie poÅ‚Ä…czenia miÄ™dzy urzÄ…dzeniem iOS a hostem macOS za pomocÄ… USB.
2. Ustalenie **UDID** urzÄ…dzenia iOS, co jest niezbÄ™dnym krokiem do monitorowania ruchu. MoÅ¼na to zrobiÄ‡, wykonujÄ…c polecenie w Terminalu macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Po zidentyfikowaniu UDID, naleÅ¼y otworzyÄ‡ **Wireshark** i wybraÄ‡ interfejs "rvi0" do przechwytywania danych.
4. Aby przeprowadziÄ‡ ukierunkowane monitorowanie, takie jak przechwytywanie ruchu HTTP zwiÄ…zane z okreÅ›lonym adresem IP, moÅ¼na uÅ¼yÄ‡ filtrÃ³w przechwytywania Wireshark:

## Instalacja certyfikatu Burp w symulatorze

* **Eksportuj certyfikat Burp**

W _Proxy_ --> _Opcje_ --> _Eksportuj certyfikat CA_ --> _Certyfikat w formacie DER_

![](<../../.gitbook/assets/image (459).png>)

* **PrzeciÄ…gnij i upuÅ›Ä‡** certyfikat do Å›rodowiska Emulatora
* **WewnÄ…trz emulatora** przejdÅº do _Ustawienia_ --> _OgÃ³lne_ --> _Profil_ --> _PortSwigger CA_ i **zweryfikuj certyfikat**
* **WewnÄ…trz emulatora** przejdÅº do _Ustawienia_ --> _OgÃ³lne_ --> _Informacje_ --> _Ustawienia zaufania certyfikatu_ i **wÅ‚Ä…cz PortSwigger CA**

![](<../../.gitbook/assets/image (460).png>)

**Gratulacje, pomyÅ›lnie skonfigurowaÅ‚eÅ› certyfikat Burp CA w symulatorze iOS**

{% hint style="info" %}
**Symulator iOS bÄ™dzie korzystaÅ‚ z konfiguracji proxy MacOS.**
{% endhint %}

### Konfiguracja proxy MacOS

Kroki do skonfigurowania Burp jako proxy:

* PrzejdÅº do _Preferencje systemowe_ --> _SieÄ‡_ --> _Zaawansowane_
* Na karcie _Proksy_ zaznacz _Proxy sieci Web (HTTP)_ i _Bezpieczne proxy sieci Web (HTTPS)_
* W obu opcjach skonfiguruj _127.0.0.1:8080_

![](<../../.gitbook/assets/image (461).png>)

* Kliknij _**OK**_ i nastÄ™pnie _**Zastosuj**_

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
UÅ¼yj [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks), aby Å‚atwo tworzyÄ‡ i **automatyzowaÄ‡ zadania** przy uÅ¼yciu najbardziej zaawansowanych narzÄ™dzi spoÅ‚ecznoÅ›ciowych na Å›wiecie.\
ZdobÄ…dÅº dostÄ™p juÅ¼ dziÅ›:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
