# Konfiguracja Burp Suite dla iOS

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
UÅ¼yj [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios), aby Å‚atwo budowaÄ‡ i **automatyzowaÄ‡ przepÅ‚ywy pracy** zasilane przez **najbardziej zaawansowane** narzÄ™dzia spoÅ‚ecznoÅ›ciowe na Å›wiecie.\
Uzyskaj dostÄ™p juÅ¼ dziÅ›:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## Instalacja certyfikatu Burp na urzÄ…dzeniach iOS

Aby przeprowadziÄ‡ analizÄ™ bezpiecznego ruchu internetowego i SSL pinning na urzÄ…dzeniach iOS, Burp Suite moÅ¼na wykorzystaÄ‡ zarÃ³wno za pomocÄ… **Burp Mobile Assistant**, jak i poprzez rÄ™cznÄ… konfiguracjÄ™. PoniÅ¼ej znajduje siÄ™ podsumowany przewodnik po obu metodach:

### Automatyczna instalacja z Burp Mobile Assistant

**Burp Mobile Assistant** upraszcza proces instalacji certyfikatu Burp, konfiguracji proxy i SSL Pinning. SzczegÃ³Å‚owe wskazÃ³wki moÅ¼na znaleÅºÄ‡ w [oficjalnej dokumentacji PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Kroki rÄ™cznej instalacji

1. **Konfiguracja proxy:** Rozpocznij od ustawienia Burp jako proxy w ustawieniach Wi-Fi iPhone'a.
2. **Pobieranie certyfikatu:** PrzejdÅº do `http://burp` w przeglÄ…darce swojego urzÄ…dzenia, aby pobraÄ‡ certyfikat.
3. **Instalacja certyfikatu:** Zainstaluj pobrany profil przez **Ustawienia** > **OgÃ³lne** > **VPN i zarzÄ…dzanie urzÄ…dzeniem**, a nastÄ™pnie wÅ‚Ä…cz zaufanie dla CA PortSwigger w **Ustawieniach zaufania certyfikatu**.

### Konfiguracja proxy przechwytujÄ…cego

Konfiguracja umoÅ¼liwia analizÄ™ ruchu miÄ™dzy urzÄ…dzeniem iOS a internetem przez Burp, wymagajÄ…c sieci Wi-Fi, ktÃ³ra obsÅ‚uguje ruch klient-klient. JeÅ›li nie jest dostÄ™pna, poÅ‚Ä…czenie USB przez usbmuxd moÅ¼e byÄ‡ alternatywÄ…. Samouczki PortSwigger zawierajÄ… szczegÃ³Å‚owe instrukcje dotyczÄ…ce [konfiguracji urzÄ…dzenia](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) i [instalacji certyfikatu](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Zaawansowana konfiguracja dla urzÄ…dzeÅ„ z jailbreakiem

Dla uÅ¼ytkownikÃ³w z urzÄ…dzeniami z jailbreakiem, SSH przez USB (za pomocÄ… **iproxy**) oferuje metodÄ™ do kierowania ruchu bezpoÅ›rednio przez Burp:

1.  **NawiÄ…zanie poÅ‚Ä…czenia SSH:** UÅ¼yj iproxy, aby przekierowaÄ‡ SSH do localhost, umoÅ¼liwiajÄ…c poÅ‚Ä…czenie z urzÄ…dzenia iOS do komputera uruchamiajÄ…cego Burp.

```bash
iproxy 2222 22
```
2.  **Przekierowanie portu zdalnego:** Przekieruj port 8080 urzÄ…dzenia iOS do localhost komputera, aby umoÅ¼liwiÄ‡ bezpoÅ›redni dostÄ™p do interfejsu Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Ustawienie globalnego proxy:** Na koniec skonfiguruj ustawienia Wi-Fi urzÄ…dzenia iOS, aby uÅ¼ywaÅ‚o rÄ™cznego proxy, kierujÄ…c caÅ‚y ruch internetowy przez Burp.

### PeÅ‚ne monitorowanie/sÅ‚uchanie sieci

Monitorowanie ruchu urzÄ…dzenia, ktÃ³ry nie jest HTTP, moÅ¼na efektywnie przeprowadziÄ‡ za pomocÄ… **Wireshark**, narzÄ™dzia zdolnego do przechwytywania wszystkich form ruchu danych. Dla urzÄ…dzeÅ„ iOS, monitorowanie ruchu w czasie rzeczywistym jest uÅ‚atwione poprzez stworzenie Zdalnego Wirtualnego Interfejsu, proces szczegÃ³Å‚owo opisany w [tym poÅ›cie na Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Przed rozpoczÄ™ciem, instalacja **Wireshark** na systemie macOS jest warunkiem wstÄ™pnym.

Procedura obejmuje kilka kluczowych krokÃ³w:

1. NawiÄ…Å¼ poÅ‚Ä…czenie miÄ™dzy urzÄ…dzeniem iOS a hostem macOS przez USB.
2. Ustal **UDID** urzÄ…dzenia iOS, co jest niezbÄ™dnym krokiem do monitorowania ruchu. MoÅ¼na to zrobiÄ‡, wykonujÄ…c polecenie w Terminalu macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Po zidentyfikowaniu UDID, **Wireshark** naleÅ¼y otworzyÄ‡ i wybraÄ‡ interfejs "rvi0" do przechwytywania danych.  
4. W celu monitorowania docelowego, takiego jak przechwytywanie ruchu HTTP zwiÄ…zanego z okreÅ›lonym adresem IP, moÅ¼na zastosowaÄ‡ filtry przechwytywania Wireshark:

## Instalacja certyfikatu Burp w symulatorze

* **Eksportuj certyfikat Burp**

W _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (534).png>)

* **PrzeciÄ…gnij i upuÅ›Ä‡** certyfikat wewnÄ…trz emulatora  
* **W emulatorze** przejdÅº do _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_ i **zweryfikuj certyfikat**  
* **W emulatorze** przejdÅº do _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_ i **wÅ‚Ä…cz PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**Gratulacje, pomyÅ›lnie skonfigurowano certyfikat Burp CA w symulatorze iOS**

{% hint style="info" %}
**Symulator iOS bÄ™dzie uÅ¼ywaÅ‚ konfiguracji proxy z MacOS.**
{% endhint %}

### Konfiguracja proxy w MacOS

Kroki do skonfigurowania Burp jako proxy:

* PrzejdÅº do _System Preferences_ --> _Network_ --> _Advanced_  
* W zakÅ‚adce _Proxies_ zaznacz _Web Proxy (HTTP)_ i _Secure Web Proxy (HTTPS)_  
* W obu opcjach skonfiguruj _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* Kliknij na _**Ok**_ a nastÄ™pnie na _**Apply**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
UÅ¼yj [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios), aby Å‚atwo budowaÄ‡ i **automatyzowaÄ‡ przepÅ‚ywy pracy** zasilane przez **najbardziej zaawansowane** narzÄ™dzia spoÅ‚ecznoÅ›ciowe na Å›wiecie.\
Uzyskaj dostÄ™p juÅ¼ dziÅ›:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!  
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**  
* **Dziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na GitHubie.

</details>
{% endhint %}
</details>
{% endhint %}
