# Configura√ß√£o do Burp Suite para iOS

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Suporte ao HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para o** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) para construir e **automatizar fluxos de trabalho** facilmente com as **ferramentas** comunit√°rias **mais avan√ßadas** do mundo.\
Acesse hoje:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## Instalando o Certificado Burp em Dispositivos iOS

Para an√°lise segura de tr√°fego web e SSL pinning em dispositivos iOS, o Burp Suite pode ser utilizado atrav√©s do **Burp Mobile Assistant** ou via configura√ß√£o manual. Abaixo est√° um guia resumido sobre ambos os m√©todos:

### Instala√ß√£o Automatizada com Burp Mobile Assistant

O **Burp Mobile Assistant** simplifica o processo de instala√ß√£o do Certificado Burp, configura√ß√£o do proxy e SSL Pinning. Orienta√ß√µes detalhadas podem ser encontradas na [documenta√ß√£o oficial da PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Passos de Instala√ß√£o Manual

1. **Configura√ß√£o do Proxy:** Comece configurando o Burp como proxy nas configura√ß√µes de Wi-Fi do iPhone.
2. **Download do Certificado:** Navegue at√© `http://burp` no navegador do seu dispositivo para baixar o certificado.
3. **Instala√ß√£o do Certificado:** Instale o perfil baixado via **Ajustes** > **Geral** > **VPN e Gerenciamento de Dispositivos**, em seguida, ative a confian√ßa para o CA da PortSwigger em **Configura√ß√µes de Confian√ßa do Certificado**.

### Configurando um Proxy de Intercepta√ß√£o

A configura√ß√£o permite a an√°lise de tr√°fego entre o dispositivo iOS e a internet atrav√©s do Burp, exigindo uma rede Wi-Fi que suporte tr√°fego cliente a cliente. Se n√£o estiver dispon√≠vel, uma conex√£o USB via usbmuxd pode servir como alternativa. Os tutoriais da PortSwigger fornecem instru√ß√µes detalhadas sobre [configura√ß√£o do dispositivo](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) e [instala√ß√£o do certificado](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Configura√ß√£o Avan√ßada para Dispositivos Jailbroken

Para usu√°rios com dispositivos jailbroken, SSH via USB (atrav√©s do **iproxy**) oferece um m√©todo para direcionar o tr√°fego diretamente pelo Burp:

1.  **Estabelecer Conex√£o SSH:** Use iproxy para encaminhar SSH para localhost, permitindo a conex√£o do dispositivo iOS ao computador que executa o Burp.

```bash
iproxy 2222 22
```
2.  **Encaminhamento de Porta Remota:** Encaminhe a porta 8080 do dispositivo iOS para o localhost do computador para permitir acesso direto √† interface do Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Configura√ß√£o de Proxy Global:** Por fim, configure as configura√ß√µes de Wi-Fi do dispositivo iOS para usar um proxy manual, direcionando todo o tr√°fego web atrav√©s do Burp.

### Monitoramento/Sniffing Completo da Rede

O monitoramento do tr√°fego de dispositivos n√£o-HTTP pode ser realizado de forma eficiente usando o **Wireshark**, uma ferramenta capaz de capturar todas as formas de tr√°fego de dados. Para dispositivos iOS, o monitoramento de tr√°fego em tempo real √© facilitado pela cria√ß√£o de uma Interface Virtual Remota, um processo detalhado [neste post do Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Antes de come√ßar, a instala√ß√£o do **Wireshark** em um sistema macOS √© um pr√©-requisito.

O procedimento envolve v√°rias etapas-chave:

1. Inicie uma conex√£o entre o dispositivo iOS e o host macOS via USB.
2. Determine o **UDID** do dispositivo iOS, um passo necess√°rio para o monitoramento de tr√°fego. Isso pode ser feito executando um comando no Terminal do macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Ap√≥s a identifica√ß√£o do UDID, **Wireshark** deve ser aberto e a interface "rvi0" selecionada para captura de dados.  
4. Para monitoramento direcionado, como capturar tr√°fego HTTP relacionado a um endere√ßo IP espec√≠fico, os Filtros de Captura do Wireshark podem ser utilizados:

## Instala√ß√£o do Certificado Burp no Simulador

* **Exportar Certificado Burp**

Em _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (534).png>)

* **Arraste e solte** o certificado dentro do Emulador  
* **Dentro do emulador**, v√° para _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_ e **verifique o certificado**  
* **Dentro do emulador**, v√° para _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_ e **ative o PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**Parab√©ns, voc√™ configurou com sucesso o Certificado CA do Burp no simulador iOS**

{% hint style="info" %}
**O simulador iOS usar√° as configura√ß√µes de proxy do MacOS.**
{% endhint %}

### Configura√ß√£o de Proxy do MacOS

Passos para configurar o Burp como proxy:

* V√° para _System Preferences_ --> _Network_ --> _Advanced_  
* Na aba _Proxies_, marque _Web Proxy (HTTP)_ e _Secure Web Proxy (HTTPS)_  
* Em ambas as op√ß√µes, configure _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* Clique em _**Ok**_ e depois em _**Apply**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) para construir e **automatizar fluxos de trabalho** facilmente, impulsionados pelas **ferramentas mais avan√ßadas** da comunidade.\
Acesse hoje:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!  
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**  
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
</details>
{% endhint %}
