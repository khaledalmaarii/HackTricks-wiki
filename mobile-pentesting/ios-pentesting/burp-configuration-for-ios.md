# iOS Burp Suite é…ç½®

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) è½»æ¾æ„å»ºå’Œ **è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œç”±ä¸–ç•Œä¸Š **æœ€å…ˆè¿›** çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚\
ä»Šå¤©å°±è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## åœ¨ iOS è®¾å¤‡ä¸Šå®‰è£… Burp è¯ä¹¦

ä¸ºäº†å¯¹ iOS è®¾å¤‡ä¸Šçš„å®‰å…¨ç½‘ç»œæµé‡è¿›è¡Œåˆ†æå’Œ SSL é’‰æ‰ï¼Œå¯ä»¥é€šè¿‡ **Burp Mobile Assistant** æˆ–æ‰‹åŠ¨é…ç½®æ¥ä½¿ç”¨ Burp Suiteã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§æ–¹æ³•çš„ç®€è¦æŒ‡å—ï¼š

### ä½¿ç”¨ Burp Mobile Assistant è‡ªåŠ¨å®‰è£…

**Burp Mobile Assistant** ç®€åŒ–äº† Burp è¯ä¹¦ã€ä»£ç†é…ç½®å’Œ SSL é’‰æ‰çš„å®‰è£…è¿‡ç¨‹ã€‚è¯¦ç»†æŒ‡å¯¼å¯ä»¥åœ¨ [PortSwigger çš„å®˜æ–¹æ–‡æ¡£](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing) ä¸­æ‰¾åˆ°ã€‚

### æ‰‹åŠ¨å®‰è£…æ­¥éª¤

1. **ä»£ç†é…ç½®ï¼š** é¦–å…ˆåœ¨ iPhone çš„ Wi-Fi è®¾ç½®ä¸­å°† Burp è®¾ç½®ä¸ºä»£ç†ã€‚
2. **è¯ä¹¦ä¸‹è½½ï¼š** åœ¨è®¾å¤‡çš„æµè§ˆå™¨ä¸­å¯¼èˆªåˆ° `http://burp` ä¸‹è½½è¯ä¹¦ã€‚
3. **è¯ä¹¦å®‰è£…ï¼š** é€šè¿‡ **è®¾ç½®** > **é€šç”¨** > **VPN ä¸è®¾å¤‡ç®¡ç†** å®‰è£…ä¸‹è½½çš„é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨ **è¯ä¹¦ä¿¡ä»»è®¾ç½®** ä¸­å¯ç”¨å¯¹ PortSwigger CA çš„ä¿¡ä»»ã€‚

### é…ç½®æ‹¦æˆªä»£ç†

è¯¥è®¾ç½®å…è®¸é€šè¿‡ Burp åˆ†æ iOS è®¾å¤‡ä¸äº’è”ç½‘ä¹‹é—´çš„æµé‡ï¼Œéœ€è¦æ”¯æŒå®¢æˆ·ç«¯åˆ°å®¢æˆ·ç«¯æµé‡çš„ Wi-Fi ç½‘ç»œã€‚å¦‚æœä¸å¯ç”¨ï¼Œå¯ä»¥é€šè¿‡ usbmuxd è¿›è¡Œ USB è¿æ¥ä½œä¸ºæ›¿ä»£ã€‚PortSwigger çš„æ•™ç¨‹æä¾›äº†å…³äº [è®¾å¤‡é…ç½®](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) å’Œ [è¯ä¹¦å®‰è£…](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device) çš„è¯¦ç»†è¯´æ˜ã€‚

### é’ˆå¯¹è¶Šç‹±è®¾å¤‡çš„é«˜çº§é…ç½®

å¯¹äºè¶Šç‹±è®¾å¤‡çš„ç”¨æˆ·ï¼ŒSSH é€šè¿‡ USBï¼ˆé€šè¿‡ **iproxy**ï¼‰æä¾›äº†ä¸€ç§ç›´æ¥é€šè¿‡ Burp è·¯ç”±æµé‡çš„æ–¹æ³•ï¼š

1. **å»ºç«‹ SSH è¿æ¥ï¼š** ä½¿ç”¨ iproxy å°† SSH è½¬å‘åˆ°æœ¬åœ°ä¸»æœºï¼Œå…è®¸ iOS è®¾å¤‡è¿æ¥åˆ°è¿è¡Œ Burp çš„è®¡ç®—æœºã€‚

```bash
iproxy 2222 22
```
2. **è¿œç¨‹ç«¯å£è½¬å‘ï¼š** å°† iOS è®¾å¤‡çš„ 8080 ç«¯å£è½¬å‘åˆ°è®¡ç®—æœºçš„æœ¬åœ°ä¸»æœºï¼Œä»¥ä¾¿ç›´æ¥è®¿é—® Burp çš„ç•Œé¢ã€‚

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **å…¨å±€ä»£ç†è®¾ç½®ï¼š** æœ€åï¼Œé…ç½® iOS è®¾å¤‡çš„ Wi-Fi è®¾ç½®ä»¥ä½¿ç”¨æ‰‹åŠ¨ä»£ç†ï¼Œå°†æ‰€æœ‰ç½‘ç»œæµé‡é€šè¿‡ Burpã€‚

### å®Œæ•´ç½‘ç»œç›‘æ§/å—…æ¢

å¯ä»¥ä½¿ç”¨ **Wireshark** æœ‰æ•ˆç›‘æ§é HTTP è®¾å¤‡æµé‡ï¼Œè¯¥å·¥å…·èƒ½å¤Ÿæ•è·æ‰€æœ‰å½¢å¼çš„æ•°æ®æµé‡ã€‚å¯¹äº iOS è®¾å¤‡ï¼Œé€šè¿‡åˆ›å»ºè¿œç¨‹è™šæ‹Ÿæ¥å£æ¥å®ç°å®æ—¶æµé‡ç›‘æ§ï¼Œå…·ä½“è¿‡ç¨‹è¯¦è§ [è¿™ç¯‡ Stack Overflow å¸–å­](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819)ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦åœ¨ macOS ç³»ç»Ÿä¸Šå®‰è£… **Wireshark**ã€‚

è¯¥è¿‡ç¨‹æ¶‰åŠå‡ ä¸ªå…³é”®æ­¥éª¤ï¼š

1. é€šè¿‡ USB åœ¨ iOS è®¾å¤‡å’Œ macOS ä¸»æœºä¹‹é—´å»ºç«‹è¿æ¥ã€‚
2. ç¡®å®š iOS è®¾å¤‡çš„ **UDID**ï¼Œè¿™æ˜¯æµé‡ç›‘æ§çš„å¿…è¦æ­¥éª¤ã€‚å¯ä»¥é€šè¿‡åœ¨ macOS ç»ˆç«¯ä¸­æ‰§è¡Œå‘½ä»¤æ¥å®Œæˆï¼š
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. åœ¨è¯†åˆ« UDID åï¼Œ**Wireshark** åº”è¯¥è¢«æ‰“å¼€ï¼Œå¹¶é€‰æ‹© "rvi0" æ¥å£è¿›è¡Œæ•°æ®æ•è·ã€‚
4. å¯¹äºæœ‰é’ˆå¯¹æ€§çš„ç›‘æ§ï¼Œä¾‹å¦‚æ•è·ä¸ç‰¹å®š IP åœ°å€ç›¸å…³çš„ HTTP æµé‡ï¼Œå¯ä»¥ä½¿ç”¨ Wireshark çš„æ•è·è¿‡æ»¤å™¨ï¼š

## åœ¨æ¨¡æ‹Ÿå™¨ä¸­å®‰è£… Burp è¯ä¹¦

* **å¯¼å‡º Burp è¯ä¹¦**

åœ¨ _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (534).png>)

* **æ‹–æ”¾**è¯ä¹¦åˆ°æ¨¡æ‹Ÿå™¨ä¸­
* **åœ¨æ¨¡æ‹Ÿå™¨ä¸­**è¿›å…¥ _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_ï¼Œå¹¶ **éªŒè¯è¯ä¹¦**
* **åœ¨æ¨¡æ‹Ÿå™¨ä¸­**è¿›å…¥ _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_ï¼Œå¹¶ **å¯ç”¨ PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**æ­å–œï¼Œæ‚¨å·²æˆåŠŸåœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­é…ç½® Burp CA è¯ä¹¦**

{% hint style="info" %}
**iOS æ¨¡æ‹Ÿå™¨å°†ä½¿ç”¨ MacOS çš„ä»£ç†é…ç½®ã€‚**
{% endhint %}

### MacOS ä»£ç†é…ç½®

é…ç½® Burp ä½œä¸ºä»£ç†çš„æ­¥éª¤ï¼š

* è¿›å…¥ _System Preferences_ --> _Network_ --> _Advanced_
* åœ¨ _Proxies_ æ ‡ç­¾ä¸­æ ‡è®° _Web Proxy (HTTP)_ å’Œ _Secure Web Proxy (HTTPS)_
* åœ¨è¿™ä¸¤ä¸ªé€‰é¡¹ä¸­é…ç½® _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* ç‚¹å‡» _**Ok**_ ç„¶ååœ¨ _**Apply**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) è½»æ¾æ„å»ºå’Œ **è‡ªåŠ¨åŒ–å·¥ä½œæµ**ï¼Œç”±ä¸–ç•Œä¸Š **æœ€å…ˆè¿›** çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚\
ä»Šå¤©å°±è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
</details>
{% endhint %}
