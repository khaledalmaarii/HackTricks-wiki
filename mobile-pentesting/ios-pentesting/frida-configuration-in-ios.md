# iOS Frida Configuration

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Installing Frida

**Î’Î®Î¼Î±Ï„Î± Î³Î¹Î± Î½Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿ Frida ÏƒÎµ ÏƒÏ…ÏƒÎºÎµÏ…Î® Î¼Îµ Jailbreak:**

1. Î‘Î½Î¿Î¯Î¾Ï„Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Cydia/Sileo.
2. ÎœÎµÏ„Î±Î²ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ Manage -> Sources -> Edit -> Add.
3. Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ "https://build.frida.re" Ï‰Ï‚ URL.
4. Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ ÏƒÏ„Î·Î½ Ï€ÏÏŒÏƒÏ†Î±Ï„Î± Ï€ÏÎ¿ÏƒÏ„Î¹Î¸Î­Î¼ÎµÎ½Î· Ï€Î·Î³Î® Frida.
5. Î•Î³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÏ„Îµ Ï„Î¿ Ï€Î±ÎºÎ­Ï„Î¿ Frida.

Î‘Î½ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Îµ **Corellium**, Î¸Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ Î½Î± ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î·Î½ Î­ÎºÎ´Î¿ÏƒÎ· Frida Î±Ï€ÏŒ [https://github.com/frida/frida/releases](https://github.com/frida/frida/releases) (`frida-gadget-[yourversion]-ios-universal.dylib.gz`) ÎºÎ±Î¹ Î½Î± Ï„Î·Î½ Î±Ï€Î¿ÏƒÏ…Î¼Ï€Î¹Î­ÏƒÎµÏ„Îµ ÎºÎ±Î¹ Î½Î± Ï„Î·Î½ Î±Î½Ï„Î¹Î³ÏÎ¬ÏˆÎµÏ„Îµ ÏƒÏ„Î·Î½ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± dylib Ï€Î¿Ï… Î¶Î·Ï„Î¬ÎµÎ¹ Ï„Î¿ Frida, Ï€.Ï‡.: `/Users/[youruser]/.cache/frida/gadget-ios.dylib`

Î‘Ï†Î¿Ï ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î±Î¸ÎµÎ¯, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ ÏƒÏ„Î¿Î½ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î® ÏƒÎ±Ï‚ Ï„Î·Î½ ÎµÎ½Ï„Î¿Î»Î® **`frida-ls-devices`** ÎºÎ±Î¹ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ ÏŒÏ„Î¹ Î· ÏƒÏ…ÏƒÎºÎµÏ…Î® ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ (Î¿ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ ÏƒÎ±Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î­Ï‡ÎµÎ¹ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ Î±Ï…Ï„Î®Î½).\
Î•ÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ **`frida-ps -Uia`** Î³Î¹Î± Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î¹Ï‚ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯ÎµÏ‚ Ï„Î¿Ï… Ï„Î·Î»ÎµÏ†ÏÎ½Î¿Ï….

## Frida Ï‡Ï‰ÏÎ¯Ï‚ Jailbroken ÏƒÏ…ÏƒÎºÎµÏ…Î® & Ï‡Ï‰ÏÎ¯Ï‚ patching Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚

Î”ÎµÎ¯Ï„Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ Î±Î½Î¬ÏÏ„Î·ÏƒÎ· Î¹ÏƒÏ„Î¿Î»Î¿Î³Î¯Î¿Ï… ÏƒÏ‡ÎµÏ„Î¹ÎºÎ¬ Î¼Îµ Ï„Î¿ Ï€ÏÏ‚ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ Frida ÏƒÎµ Î¼Î· jailbroken ÏƒÏ…ÏƒÎºÎµÏ…Î­Ï‚ Ï‡Ï‰ÏÎ¯Ï‚ patching Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚: [https://mrbypass.medium.com/unlocking-potential-exploring-frida-objection-on-non-jailbroken-devices-without-application-ed0367a84f07](https://mrbypass.medium.com/unlocking-potential-exploring-frida-objection-on-non-jailbroken-devices-without-application-ed0367a84f07)

## Frida Client Installation

Î•Î³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÏ„Îµ **frida tools**:
```bash
pip install frida-tools
pip install frida
```
ÎœÎµ Ï„Î¿Î½ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î® Frida ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î¿ ÎºÎ±Î¹ Ï„Î· ÏƒÏ…ÏƒÎºÎµÏ…Î® ÏƒÎµ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± ÎºÎ±Î¹ ÏƒÏ…Î½Î´ÎµÎ´ÎµÎ¼Î­Î½Î·, **Î­Î»ÎµÎ³Î¾Îµ** Î±Î½ Î¿ Ï€ÎµÎ»Î¬Ï„Î·Ï‚ ÎµÎ¯Î½Î±Î¹ **Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ‚**:
```bash
frida-ls-devices  # List devices
frida-ps -Uia     # Get running processes
```
## Frida Trace
```bash
# Functions
## Trace all functions with the word "log" in their name
frida-trace -U <program> -i "*log*"
frida-trace -U <program> -i "*log*" | swift demangle # Demangle names

# Objective-C
## Trace all methods of all classes
frida-trace -U <program> -m "*[* *]"

## Trace all methods with the word "authentication" from classes that start with "NE"
frida-trace -U <program> -m "*[NE* *authentication*]"

# Plug-In
## To hook a plugin that is momentarely executed prepare Frida indicating the ID of the Plugin binary
frida-trace -U -W <if-plugin-bin> -m '*[* *]'
```
### Î Î¬ÏÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎºÎ»Î¬ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î¼ÎµÎ¸ÏŒÎ´Î¿Ï…Ï‚

* Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·: Î‘Ï€Î»Î¬ ÎµÎºÏ„Î­Î»ÎµÏƒÎµ `frida -U <program>`

<figure><img src="../../.gitbook/assets/image (1159).png" alt=""><figcaption></figcaption></figure>

* Î Î¬ÏÎµ **ÏŒÎ»ÎµÏ‚** Ï„Î¹Ï‚ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ **ÎºÎ»Î¬ÏƒÎµÎ¹Ï‚** (Ï†Î¯Î»Ï„ÏÎ¿ ÎºÎ±Ï„Î¬ ÏƒÏ…Î¼Î²Î¿Î»Î¿ÏƒÎµÎ¹ÏÎ¬)

{% code title="/tmp/script.js" %}
```javascript
// frida -U <program> -l /tmp/script.js

var filterClass = "filterstring";

if (ObjC.available) {
for (var className in ObjC.classes) {
if (ObjC.classes.hasOwnProperty(className)) {
if (!filterClass || className.includes(filterClass)) {
console.log(className);
}
}
}
} else {
console.log("Objective-C runtime is not available.");
}
```
{% endcode %}

* Î Î¬ÏÎµ **ÏŒÎ»ÎµÏ‚** Ï„Î¹Ï‚ **Î¼ÎµÎ¸ÏŒÎ´Î¿Ï…Ï‚** Î¼Î¹Î±Ï‚ **ÎºÎ»Î¬ÏƒÎ·Ï‚** (Ï†Î¯Î»Ï„ÏÎ¿ Î¼Îµ Î²Î¬ÏƒÎ· Ï„Î· ÏƒÏ…Î¼Î²Î¿Î»Î¿ÏƒÎµÎ¹ÏÎ¬)

{% code title="/tmp/script.js" %}
```javascript
// frida -U <program> -l /tmp/script.js

var specificClass = "YourClassName";
var filterMethod = "filtermethod";

if (ObjC.available) {
if (ObjC.classes.hasOwnProperty(specificClass)) {
var methods = ObjC.classes[specificClass].$ownMethods;
for (var i = 0; i < methods.length; i++) {
if (!filterMethod || methods[i].includes(filterClass)) {
console.log(specificClass + ': ' + methods[i]);
}
}
} else {
console.log("Class not found.");
}
} else {
console.log("Objective-C runtime is not available.");
}
```
{% endcode %}

* **ÎšÎ±Î»Î­ÏƒÏ„Îµ Î¼Î¹Î± ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·**
```javascript
// Find the address of the function to call
const func_addr = Module.findExportByName("<Prog Name>", "<Func Name>");
// Declare the function to call
const func = new NativeFunction(
func_addr,
"void", ["pointer", "pointer", "pointer"], {
});

var arg0 = null;

// In this case to call this function we need to intercept a call to it to copy arg0
Interceptor.attach(wg_log_addr, {
onEnter: function(args) {
arg0 = new NativePointer(args[0]);
}
});

// Wait untill a call to the func occurs
while (! arg0) {
Thread.sleep(1);
console.log("waiting for ptr");
}


var arg1 = Memory.allocUtf8String('arg1');
var txt = Memory.allocUtf8String('Some text for arg2');
wg_log(arg0, arg1, txt);

console.log("loaded");
```
## Frida Fuzzing

### Frida Stalker

[Î‘Ï€ÏŒ Ï„Î·Î½ Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ·](https://frida.re/docs/stalker/): ÎŸ Stalker ÎµÎ¯Î½Î±Î¹ Î· **Î¼Î·Ï‡Î±Î½Î® Î¹Ï‡Î½Î·Î»Î¬Ï„Î·ÏƒÎ·Ï‚** Ï„Î¿Ï… Frida. Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Ï…Ï‚ Î½Î®Î¼Î±Ï„Î± Î½Î± **Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î¿ÏÎ½Ï„Î±Î¹**, **ÎºÎ±Ï„Î±Î³ÏÎ¬Ï†Î¿Î½Ï„Î±Ï‚** ÎºÎ¬Î¸Îµ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·, **ÎºÎ¬Î¸Îµ Î¼Ï€Î»Î¿Îº**, Î±ÎºÏŒÎ¼Î· ÎºÎ±Î¹ ÎºÎ¬Î¸Îµ ÎµÎ½Ï„Î¿Î»Î® Ï€Î¿Ï… ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹.

ÎˆÏ‡ÎµÏ„Îµ Î­Î½Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Ï€Î¿Ï… Ï…Î»Î¿Ï€Î¿Î¹ÎµÎ¯ Ï„Î¿Î½ Frida Stalker ÏƒÏ„Î¿ [https://github.com/poxyran/misc/blob/master/frida-stalker-example.py](https://github.com/poxyran/misc/blob/master/frida-stalker-example.py)

Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Î­Î½Î± Î¬Î»Î»Î¿ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î³Î¹Î± Î½Î± Ï€ÏÎ¿ÏƒÎ±ÏÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ Frida Stalker ÎºÎ¬Î¸Îµ Ï†Î¿ÏÎ¬ Ï€Î¿Ï… ÎºÎ±Î»ÎµÎ¯Ï„Î±Î¹ Î¼Î¹Î± ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·:
```javascript
console.log("loading");
const wg_log_addr = Module.findExportByName("<Program>", "<function_name>");
const wg_log = new NativeFunction(
wg_log_addr,
"void", ["pointer", "pointer", "pointer"], {
});

Interceptor.attach(wg_log_addr, {
onEnter: function(args) {
console.log(`logging the following message: ${args[2].readCString()}`);

Stalker.follow({
events: {
// only collect coverage for newly encountered blocks
compile: true,
},
onReceive: function (events) {
const bbs = Stalker.parse(events, {
stringify: false,
annotate: false
});
console.log("Stalker trace of write_msg_to_log: \n" + bbs.flat().map(DebugSymbol.fromAddress).join('\n'));
}
});
},
onLeave: function(retval) {
Stalker.unfollow();
Stalker.flush();  // this is important to get all events
}
});
```
{% hint style="danger" %}
Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Î½ Î±Ï€ÏŒ Î¬Ï€Î¿ÏˆÎ· Î±Ï€Î¿ÏƒÏ†Î±Î»Î¼Î¬Ï„Ï‰ÏƒÎ·Ï‚, Î±Î»Î»Î¬ Î³Î¹Î± fuzzing, Ï„Î¿ Î½Î± ÎµÎ¯ÏƒÏ„Îµ ÏƒÏ…Î½ÎµÏ‡ÏÏ‚ **`.follow()`** ÎºÎ±Î¹ **`.unfollow()`** ÎµÎ¯Î½Î±Î¹ Ï€Î¿Î»Ï Î±Î½Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÏŒ.
{% endhint %}

## [Fpicker](https://github.com/ttdennis/fpicker)

[**fpicker**](https://github.com/ttdennis/fpicker) ÎµÎ¯Î½Î±Î¹ Î¼Î¹Î± **ÏƒÎ¿Ï…Î¯Ï„Î± fuzzing Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Î· ÏƒÎµ Frida** Ï€Î¿Ï… Ï€ÏÎ¿ÏƒÏ†Î­ÏÎµÎ¹ Î¼Î¹Î± Ï€Î¿Î¹ÎºÎ¹Î»Î¯Î± Ï„ÏÏŒÏ€Ï‰Î½ fuzzing Î³Î¹Î± fuzzing ÎµÎ½Ï„ÏŒÏ‚ Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯Î±Ï‚, ÏŒÏ€Ï‰Ï‚ Î­Î½Î±Ï‚ Ï„ÏÏŒÏ€Î¿Ï‚ AFL++ Î® Î­Î½Î±Ï‚ Ï€Î±Î¸Î·Ï„Î¹ÎºÏŒÏ‚ Ï„ÏÏŒÏ€Î¿Ï‚ Î¹Ï‡Î½Î·Î»Î¬Ï„Î·ÏƒÎ·Ï‚. Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Ï€Î»Î±Ï„Ï†ÏŒÏÎ¼ÎµÏ‚ Ï€Î¿Ï… Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿ Frida.

* [**Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Ï„Î¿Ï… fpicker**](https://github.com/ttdennis/fpicker#requirements-and-installation) **& radamsa**
```bash
# Get fpicker
git clone https://github.com/ttdennis/fpicker
cd fpicker

# Get Frida core devkit and prepare fpicker
wget https://github.com/frida/frida/releases/download/16.1.4/frida-core-devkit-16.1.4-[yourOS]-[yourarchitecture].tar.xz
# e.g. https://github.com/frida/frida/releases/download/16.1.4/frida-core-devkit-16.1.4-macos-arm64.tar.xz
tar -xf ./*tar.xz
cp libfrida-core.a libfrida-core-[yourOS].a #libfrida-core-macos.a

# Install fpicker
make fpicker-[yourOS] # fpicker-macos
# This generates ./fpicker

# Install radamsa (fuzzer generator)
brew install radamsa
```
* **Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î¬ÏƒÏ„Îµ Ï„Î¿ FS:**
```bash
# From inside fpicker clone
mkdir -p examples/wg-log # Where the fuzzing script will be
mkdir -p examples/wg-log/out # For code coverage and crashes
mkdir -p examples/wg-log/in # For starting inputs

# Create at least 1 input for the fuzzer
echo Hello World > examples/wg-log/in/0
```
* **Fuzzer script** (`examples/wg-log/myfuzzer.js`):

{% code title="examples/wg-log/myfuzzer.js" %}
```javascript
// Import the fuzzer base class
import { Fuzzer } from "../../harness/fuzzer.js";

class WGLogFuzzer extends Fuzzer {

constructor() {
console.log("WGLogFuzzer constructor called")

// Get and declare the function we are going to fuzz
var wg_log_addr = Module.findExportByName("<Program name>", "<func name to fuzz>");
var wg_log_func = new NativeFunction(
wg_log_addr,
"void", ["pointer", "pointer", "pointer"], {
});

// Initialize the object
super("<Program nane>", wg_log_addr, wg_log_func);
this.wg_log_addr = wg_log_addr; // We cannot use "this" before calling "super"

console.log("WGLogFuzzer in the middle");

// Prepare the second argument to pass to the fuzz function
this.tag = Memory.allocUtf8String("arg2");

// Get the first argument we need to pass from a call to the functino we want to fuzz
var wg_log_global_ptr = null;
console.log(this.wg_log_addr);
Interceptor.attach(this.wg_log_addr, {
onEnter: function(args) {
console.log("Entering in the function to get the first argument");
wg_log_global_ptr = new NativePointer(args[0]);
}
});

while (! wg_log_global_ptr) {
Thread.sleep(1)
}
this.wg_log_global_ptr = wg_log_global_ptr;
console.log("WGLogFuzzer prepare ended")
}


// This function is called by the fuzzer with the first argument being a pointer into memory
// where the payload is stored and the second the length of the input.
fuzz(payload, len) {
// Get a pointer to payload being a valid C string (with a null byte at the end)
var payload_cstring = payload.readCString(len);
this.payload = Memory.allocUtf8String(payload_cstring);

// Debug and fuzz
this.debug_log(this.payload, len);
// Pass the 2 first arguments we know the function needs and finally the payload to fuzz
this.target_function(this.wg_log_global_ptr, this.tag, this.payload);
}
}

const f = new WGLogFuzzer();
rpc.exports.fuzzer = f;
```
{% endcode %}

* **Î£Ï…Î³ÎºÎµÎ½Ï„ÏÏÏƒÏ„Îµ** Ï„Î¿Î½ fuzzer:
```bash
# From inside fpicker clone
## Compile from "myfuzzer.js" to "harness.js"
frida-compile examples/wg-log/myfuzzer.js -o harness.js
```
* ÎšÎ±Î»Î­ÏƒÏ„Îµ Ï„Î¿Î½ fuzzer **`fpicker`** Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ **`radamsa`**:

{% code overflow="wrap" %}
```bash
# Indicate fpicker to fuzz a program with the harness.js script and which folders to use
fpicker -v --fuzzer-mode active -e attach -p <Program to fuzz> -D usb -o examples/wg-log/out/ -i examples/wg-log/in/ -f harness.js --standalone-mutator cmd --mutator-command "radamsa"
# You can find code coverage and crashes in examples/wg-log/out/
```
{% endcode %}

{% hint style="danger" %}
Î£Îµ Î±Ï…Ï„Î® Ï„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· **Î´ÎµÎ½ ÎµÏ€Î±Î½ÎµÎºÎºÎ¹Î½Î¿ÏÎ¼Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î® Î´ÎµÎ½ Î±Ï€Î¿ÎºÎ±Î¸Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï„Î·Î½ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·** Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ ÎºÎ¬Î¸Îµ payload. ÎˆÏ„ÏƒÎ¹, Î±Î½ Î· Frida Î²ÏÎµÎ¹ Î¼Î¹Î± **ÎºÎ±Ï„Î¬ÏÏÎµÏ…ÏƒÎ·**, Î¿Î¹ **ÎµÏ€ÏŒÎ¼ÎµÎ½ÎµÏ‚ ÎµÎ¹ÏƒÏŒÎ´Î¿Ï…Ï‚** Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ Î±Ï…Ï„ÏŒ Ï„Î¿ payload Î¼Ï€Î¿ÏÎµÎ¯ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± **ÎºÎ±Ï„Î±ÏÏÎµÏÏƒÎ¿Ï…Î½ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®** (ÎµÏ€ÎµÎ¹Î´Î® Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÎµÎ¯Î½Î±Î¹ ÏƒÎµ Î±ÏƒÏ„Î±Î¸Î® ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·) Î±ÎºÏŒÎ¼Î· ÎºÎ±Î¹ Î±Î½ Î· **ÎµÎ¯ÏƒÎ¿Î´Î¿Ï‚ Î´ÎµÎ½ Î¸Î± Î­Ï€ÏÎµÏ€Îµ Î½Î± ÎºÎ±Ï„Î±ÏÏÎµÏÏƒÎµÎ¹** Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®.

Î•Ï€Î¹Ï€Î»Î­Î¿Î½, Î· Frida Î¸Î± ÏƒÏ…Î½Î´ÎµÎ¸ÎµÎ¯ ÏƒÏ„Î± ÏƒÎ®Î¼Î±Ï„Î± ÎµÎ¾Î±Î¹ÏÎ­ÏƒÎµÏ‰Î½ Ï„Î¿Ï… iOS, Î¿Ï€ÏŒÏ„Îµ ÏŒÏ„Î±Î½ **Î· Frida Î²ÏÎµÎ¹ Î¼Î¹Î± ÎºÎ±Ï„Î¬ÏÏÎµÏ…ÏƒÎ·**, Ï€Î¹Î¸Î±Î½ÏÏ‚ **Î¿Î¹ Î±Î½Î±Ï†Î¿ÏÎ­Ï‚ ÎºÎ±Ï„Î¬ÏÏÎµÏ…ÏƒÎ·Ï‚ Ï„Î¿Ï… iOS Î´ÎµÎ½ Î¸Î± Ï€Î±ÏÎ±Ï‡Î¸Î¿ÏÎ½**.

Î“Î¹Î± Î½Î± Ï„Î¿ Î±Ï€Î¿Ï„ÏÎ­ÏˆÎ¿Ï…Î¼Îµ Î±Ï…Ï„ÏŒ, Î³Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±, Î¸Î± Î¼Ï€Î¿ÏÎ¿ÏÏƒÎ±Î¼Îµ Î½Î± ÎµÏ€Î±Î½ÎµÎºÎºÎ¹Î½Î®ÏƒÎ¿Ï…Î¼Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ ÎºÎ¬Î¸Îµ ÎºÎ±Ï„Î¬ÏÏÎµÏ…ÏƒÎ· Ï„Î·Ï‚ Frida.
{% endhint %}

### Logs & Crashes

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î·Î½ **ÎºÎ¿Î½ÏƒÏŒÎ»Î± macOS** Î® Ï„Î¿ **`log`** cli Î³Î¹Î± Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î± logs Ï„Î¿Ï… macOS.\
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î± logs Î±Ï€ÏŒ Ï„Î¿ iOS Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î¿ **`idevicesyslog`**.\
ÎŸÏÎ¹ÏƒÎ¼Î­Î½Î± logs Î¸Î± Ï€Î±ÏÎ±Î»ÎµÎ¯Ï€Î¿Ï…Î½ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Î½Ï„Î±Ï‚ **`<private>`**. Î“Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÏ„Îµ ÎºÎ¬Ï€Î¿Î¹Î¿ Ï€ÏÎ¿Ï†Î¯Î» Î±Ï€ÏŒ [https://developer.apple.com/bug-reporting/profiles-and-logs/](https://developer.apple.com/bug-reporting/profiles-and-logs/) Î³Î¹Î± Î½Î± ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¹Î´Î¹Ï‰Ï„Î¹ÎºÎ­Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚.

Î‘Î½ Î´ÎµÎ½ Î¾Î­ÏÎµÏ„Îµ Ï„Î¹ Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ:
```sh
vim /Library/Preferences/Logging/com.apple.system.logging.plist
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>Enable-Private-Data</key>
<true/>
</dict>
</plist>

killall -9 logd
```
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï„Î± ÏƒÏ†Î¬Î»Î¼Î±Ï„Î± ÏƒÏ„Î±:

* **iOS**
* Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ â†’ Î™Î´Î¹Ï‰Ï„Î¹ÎºÏŒÏ„Î·Ï„Î± â†’ Î‘Î½Î±Î»ÏÏƒÎµÎ¹Ï‚ & Î’ÎµÎ»Ï„Î¹ÏÏƒÎµÎ¹Ï‚ â†’ Î”ÎµÎ´Î¿Î¼Î­Î½Î± Î‘Î½Î±Î»ÏÏƒÎµÏ‰Î½
* `/private/var/mobile/Library/Logs/CrashReporter/`
* **macOS**:
* `/Library/Logs/DiagnosticReports/`
* `~/Library/Logs/DiagnosticReports`

{% hint style="warning" %}
Î¤Î¿ iOS Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ Î¼ÏŒÎ½Î¿ 25 ÏƒÏ†Î¬Î»Î¼Î±Ï„Î± Ï„Î·Ï‚ Î¯Î´Î¹Î±Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚, Î¿Ï€ÏŒÏ„Îµ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï„Î¿ ÎºÎ±Î¸Î±ÏÎ¯ÏƒÎµÏ„Îµ Î® Ï„Î¿ iOS Î¸Î± ÏƒÏ„Î±Î¼Î±Ï„Î®ÏƒÎµÎ¹ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ ÏƒÏ†Î¬Î»Î¼Î±Ï„Î±.
{% endhint %}

## Frida Android Tutorials

{% content-ref url="../android-app-pentesting/frida-tutorial/" %}
[frida-tutorial](../android-app-pentesting/frida-tutorial/)
{% endcontent-ref %}

## Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚

* [https://www.briskinfosec.com/blogs/blogsdetail/Getting-Started-with-Frida](https://www.briskinfosec.com/blogs/blogsdetail/Getting-Started-with-Frida)


{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
