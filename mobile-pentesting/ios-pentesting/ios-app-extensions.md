# iOS App Ekstenzije

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

App ekstenzije poboljÅ¡avaju funkcionalnost aplikacija omoguÄ‡avajuÄ‡i im da komuniciraju sa drugim aplikacijama ili sistemom, pruÅ¾ajuÄ‡i prilagoÄ‘ene funkcije ili sadrÅ¾aj. Ove ekstenzije ukljuÄuju:

- **PrilagoÄ‘ena tastatura**: Nudi jedinstvenu tastaturu u svim aplikacijama, zamenjujuÄ‡i podrazumevanu iOS tastaturu.
- **Deljenje**: OmoguÄ‡ava deljenje na druÅ¡tvenim mreÅ¾ama ili direktno sa drugima.
- **Danas (VidÅ¾eti)**: PruÅ¾a sadrÅ¾aj ili obavlja zadatke brzo iz Pregleda danas u Centru za obaveÅ¡tenja.

Kada korisnik koristi ove ekstenzije, kao Å¡to je deljenje teksta iz glavne aplikacije, ekstenzija obraÄ‘uje ovaj unos unutar svog konteksta, koristeÄ‡i deljene informacije za obavljanje svojih zadataka, kako je detaljno opisano u dokumentaciji Apple-a.

### **Bezbednosne razmatranja**

KljuÄni bezbednosni aspekti ukljuÄuju:

- Ekstenzije i aplikacije koje ih sadrÅ¾e komuniciraju putem meÄ‘uprocesne komunikacije, a ne direktno.
- **Danas vidÅ¾et** je jedinstven po tome Å¡to moÅ¾e zatraÅ¾iti da se njegova aplikacija otvori putem odreÄ‘ene metode.
- Deljen pristup podacima je dozvoljen unutar privatnog kontejnera, ali direktni pristup je ograniÄen.
- OdreÄ‘eni API-ji, ukljuÄujuÄ‡i HealthKit, su zabranjeni za aplikacione ekstenzije, koje takoÄ‘e ne mogu pokretati dugotrajne zadatke, pristupati kameri ili mikrofonu, osim za iMessage ekstenzije.

### StatiÄka analiza

#### **Identifikacija aplikacionih ekstenzija**

Da biste pronaÅ¡li aplikacione ekstenzije u izvornom kodu, pretraÅ¾ite `NSExtensionPointIdentifier` u Xcode-u ili pregledajte paket aplikacije za `.appex` fajlove koji ukazuju na ekstenzije. Bez izvornog koda, koristite grep ili SSH da biste pronaÅ¡li ove identifikatore unutar paketa aplikacije.

#### **PodrÅ¾ani tipovi podataka**

Proverite `Info.plist` fajl ekstenzije za `NSExtensionActivationRule` kako biste identifikovali podrÅ¾ane tipove podataka. Ova postavka osigurava da samo kompatibilni tipovi podataka pokreÄ‡u ekstenziju u glavnim aplikacijama.

#### **Deljenje podataka**

Deljenje podataka izmeÄ‘u aplikacije i njene ekstenzije zahteva deljeni kontejner, koji se podeÅ¡ava putem "App Groups" i pristupa se putem `NSUserDefaults`. Ovaj deljeni prostor je neophodan za pozadinske transfere pokrenute od strane ekstenzija.

#### **OgraniÄavanje ekstenzija**

Aplikacije mogu ograniÄiti odreÄ‘ene vrste ekstenzija, posebno prilagoÄ‘ene tastature, kako bi se osiguralo da rukovanje osetljivim podacima bude u skladu sa bezbednosnim protokolima.

### DinamiÄka analiza

DinamiÄka analiza ukljuÄuje:

- **Pregledanje deljenih stavki**: PoveÅ¾ite se sa `NSExtensionContext - inputItems` da biste videli podrÅ¾ane tipove podataka i poreklo.
- **Identifikacija ekstenzija**: Otkrijte koje ekstenzije obraÄ‘uju vaÅ¡e podatke posmatranjem internih mehanizama, poput `NSXPCConnection`.

Alati poput `frida-trace` mogu pomoÄ‡i u razumevanju osnovnih procesa, posebno za one koji su zainteresovani za tehniÄke detalje meÄ‘uprocesne komunikacije.

## Reference
* [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0072/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0072/)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
