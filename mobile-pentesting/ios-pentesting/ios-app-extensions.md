# iOS Uygulama UzantÄ±larÄ±

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

Uygulama uzantÄ±larÄ±, uygulamalarÄ±n diÄŸer uygulamalar veya sistemle etkileÅŸimde bulunarak Ã¶zel Ã¶zellikler veya iÃ§erik sunmasÄ±na olanak tanÄ±yarak iÅŸlevselliÄŸini artÄ±rÄ±r. Bu uzantÄ±lar ÅŸunlarÄ± iÃ§erir:

- **Ã–zel Klavye**: TÃ¼m uygulamalarda benzersiz bir klavye sunarak varsayÄ±lan iOS klavyesinin yerini alÄ±r.
- **PaylaÅŸ**: Sosyal aÄŸlara veya diÄŸerleriyle doÄŸrudan paylaÅŸÄ±m yapmayÄ± saÄŸlar.
- **BugÃ¼n (Widget'lar)**: Bildirim Merkezi'nin BugÃ¼n gÃ¶rÃ¼nÃ¼mÃ¼nden hÄ±zlÄ± bir ÅŸekilde iÃ§erik sunar veya gÃ¶revleri yerine getirir.

Bir kullanÄ±cÄ±, ana uygulamadan metin paylaÅŸmak gibi bu uzantÄ±larla etkileÅŸime girdiÄŸinde, uzantÄ± bu giriÅŸi kendi baÄŸlamÄ±nda iÅŸler ve gÃ¶revini yerine getirmek iÃ§in paylaÅŸÄ±lan bilgileri kullanÄ±r; bu, Apple'Ä±n belgelerinde ayrÄ±ntÄ±lÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r.

### **GÃ¼venlik HususlarÄ±**

Ana gÃ¼venlik unsurlarÄ± ÅŸunlardÄ±r:

- UzantÄ±lar ve iÃ§erdikleri uygulamalar, doÄŸrudan deÄŸil, sÃ¼reÃ§ler arasÄ± iletiÅŸim yoluyla iletiÅŸim kurar.
- **BugÃ¼n widget'Ä±**, uygulamasÄ±nÄ± belirli bir yÃ¶ntemle aÃ§masÄ±nÄ± isteyebilmesi aÃ§Ä±sÄ±ndan benzersizdir.
- PaylaÅŸÄ±lan veri eriÅŸimi, Ã¶zel bir konteyner iÃ§inde izinlidir, ancak doÄŸrudan eriÅŸim kÄ±sÄ±tlanmÄ±ÅŸtÄ±r.
- HealthKit dahil bazÄ± API'ler, uygulama uzantÄ±larÄ±na kapalÄ±dÄ±r; ayrÄ±ca, iMessage uzantÄ±larÄ± hariÃ§ uzun sÃ¼reli gÃ¶revler baÅŸlatamaz, kamera veya mikrofon eriÅŸimi yoktur.

### Statik Analiz

#### **Uygulama UzantÄ±larÄ±nÄ± Belirleme**

Kaynak kodunda uygulama uzantÄ±larÄ±nÄ± bulmak iÃ§in Xcode'da `NSExtensionPointIdentifier` aramasÄ± yapÄ±n veya uzantÄ±larÄ± gÃ¶steren `.appex` dosyalarÄ±nÄ± iÃ§eren uygulama paketini inceleyin. Kaynak kodu olmadan, bu tanÄ±mlayÄ±cÄ±larÄ± uygulama paketinde bulmak iÃ§in grep veya SSH kullanÄ±n.

#### **Desteklenen Veri TÃ¼rleri**

Desteklenen veri tÃ¼rlerini belirlemek iÃ§in bir uzantÄ±nÄ±n `Info.plist` dosyasÄ±nÄ± kontrol edin ve `NSExtensionActivationRule`'u inceleyin. Bu yapÄ±landÄ±rma, yalnÄ±zca uyumlu veri tÃ¼rlerinin ana uygulamalarda uzantÄ±yÄ± tetiklemesini saÄŸlar.

#### **Veri PaylaÅŸÄ±mÄ±**

Bir uygulama ile uzantÄ±sÄ± arasÄ±nda veri paylaÅŸÄ±mÄ±, "Uygulama GruplarÄ±" aracÄ±lÄ±ÄŸÄ±yla ayarlanan ve `NSUserDefaults` Ã¼zerinden eriÅŸilen paylaÅŸÄ±lan bir konteyner gerektirir. Bu paylaÅŸÄ±lan alan, uzantÄ±lar tarafÄ±ndan baÅŸlatÄ±lan arka plan transferleri iÃ§in gereklidir.

#### **UzantÄ±larÄ± KÄ±sÄ±tlama**

Uygulamalar, Ã¶zellikle Ã¶zel klavyeler gibi belirli uzantÄ± tÃ¼rlerini kÄ±sÄ±tlayabilir, bÃ¶ylece hassas veri iÅŸleme gÃ¼venlik protokolleriyle uyumlu hale gelir.

### Dinamik Analiz

Dinamik analiz ÅŸunlarÄ± iÃ§erir:

- **PaylaÅŸÄ±lan Ã–ÄŸeleri Ä°nceleme**: PaylaÅŸÄ±lan veri tÃ¼rlerini ve kÃ¶kenlerini gÃ¶rmek iÃ§in `NSExtensionContext - inputItems`'a baÄŸlanÄ±n.
- **UzantÄ±larÄ± Belirleme**: Verilerinizi iÅŸleyen uzantÄ±larÄ± keÅŸfetmek iÃ§in `NSXPCConnection` gibi iÃ§ mekanizmalarÄ± gÃ¶zlemleyin.

`frida-trace` gibi araÃ§lar, sÃ¼reÃ§ler arasÄ± iletiÅŸimin teknik detaylarÄ±na ilgi duyanlar iÃ§in temel sÃ¼reÃ§leri anlamaya yardÄ±mcÄ± olabilir.

## Referanslar
* [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0072/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0072/)

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
