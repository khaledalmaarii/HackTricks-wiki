<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

Kod i vi코e informacija na [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence).

## Serijalizacija objekata u iOS razvoju

U iOS-u, **serijalizacija objekata** podrazumeva pretvaranje objekata u format koji se mo쬰 lako skladi코titi ili preneti, a zatim njihovo rekonstruisanje iz ovog formata kada je potrebno. Dva glavna protokola, **`NSCoding`** i **`NSSecureCoding`**, olak코avaju ovaj proces za Objective-C ili `NSObject` podklase, omogu캖avaju캖i objektima da budu serijalizovani u **`NSData`**, format koji obuhvata bajtne bafera.

### Implementacija **`NSCoding`**
Da biste implementirali `NSCoding`, klasa mora naslediti od `NSObject` ili biti ozna캜ena kao `@objc`. Ovaj protokol zahteva implementaciju dve metode za kodiranje i dekodiranje instancnih promenljivih:
```swift
class CustomPoint: NSObject, NSCoding {
var x: Double = 0.0
var name: String = ""

func encode(with aCoder: NSCoder) {
aCoder.encode(x, forKey: "x")
aCoder.encode(name, forKey: "name")
}

required convenience init?(coder aDecoder: NSCoder) {
guard let name = aDecoder.decodeObject(forKey: "name") as? String else { return nil }
self.init(x: aDecoder.decodeDouble(forKey: "x"), name: name)
}
}
```
### **Pobolj코anje sigurnosti pomo캖u `NSSecureCoding`**
Da bi se umanjile ranjivosti u kojima napada캜i ubacuju podatke u ve캖 konstruisane objekte, **`NSSecureCoding`** nudi unapre캠eni protokol. Klase koje se pridr쬬vaju `NSSecureCoding` moraju verifikovati tip objekata tokom dekodiranja, osiguravaju캖i da se instanciraju samo o캜ekivani tipovi objekata. Me캠utim, va쬹o je napomenuti da iako `NSSecureCoding` pobolj코ava sigurnost tipova, ne 코ifruje podatke niti osigurava njihovu celovitost, 코to zahteva dodatne mere za za코titu osetljivih informacija:
```swift
static var supportsSecureCoding: Bool {
return true
}

let obj = decoder.decodeObject(of: MyClass.self, forKey: "myKey")
```
## Arhiviranje podataka pomo캖u `NSKeyedArchiver`
`NSKeyedArchiver` i njegov pandan, `NSKeyedUnarchiver`, omogu캖avaju enkodiranje objekata u datoteku i kasnije njihovo vra캖anje. Ovaj mehanizam je koristan za trajno 캜uvanje objekata:
```swift
NSKeyedArchiver.archiveRootObject(customPoint, toFile: "/path/to/archive")
let customPoint = NSKeyedUnarchiver.unarchiveObjectWithFile("/path/to/archive") as? CustomPoint
```
### Kori코캖enje `Codable` za pojednostavljenu serijalizaciju
Protokol `Codable` u Swift-u kombinuje `Decodable` i `Encodable`, olak코avaju캖i kodiranje i dekodiranje objekata poput `String`, `Int`, `Double`, itd., bez dodatnog napora:
```swift
struct CustomPointStruct: Codable {
var x: Double
var name: String
}
```
Ovaj pristup podr쬬va jednostavnu serijalizaciju u i iz lista svojstava i JSON-a, pobolj코avaju캖i obradu podataka u Swift aplikacijama.

## Alternative za enkodiranje JSON-a i XML-a
Pored podr코ke ugra캠ene u jezik, postoji nekoliko biblioteka tre캖ih strana koje nude mogu캖nosti enkodiranja/dekodiranja JSON-a i XML-a, pri 캜emu svaka ima svoje karakteristike performansi i sigurnosne razmatranja. Va쬹o je pa쬷jivo odabrati ove biblioteke, posebno kako bi se umanjile ranjivosti poput XXE (XML External Entities) napada konfiguracijom parsera radi spre캜avanja obrade spoljnih entiteta.

### Sigurnosna razmatranja
Prilikom serijalizacije podataka, posebno na datote캜ni sistem, va쬹o je biti oprezan u vezi potencijalnog uklju캜ivanja osetljivih informacija. Serijalizovani podaci, ako se presretnu ili nepravilno rukuju, mogu izlo쬴ti aplikacije rizicima poput neovla코캖enih radnji ili curenja podataka. Preporu캜uje se 코ifrovanje i potpisivanje serijalizovanih podataka radi pobolj코anja sigurnosti.


## Reference
* [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence)

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite videti **ogla코avanje va코e kompanije u HackTricks-u** ili **preuzeti HackTricks u PDF formatu**, proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
