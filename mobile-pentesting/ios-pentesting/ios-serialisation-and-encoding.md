{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** bizi takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

Kod ve daha fazla bilgi iÃ§in [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence).

## iOS GeliÅŸtirmede Nesne SerileÅŸtirmesi

iOS'ta, **nesne serileÅŸtirmesi**, nesneleri kolayca depolanabilir veya iletilebilir bir formata dÃ¶nÃ¼ÅŸtÃ¼rmeyi ve ardÄ±ndan ihtiyaÃ§ duyulduÄŸunda bu formattan yeniden inÅŸa etmeyi iÃ§erir. Ä°ki ana protokol, **`NSCoding`** ve **`NSSecureCoding`**, bu sÃ¼reci Objective-C veya `NSObject` alt sÄ±nÄ±flarÄ± iÃ§in kolaylaÅŸtÄ±rÄ±r ve nesnelerin **`NSData`** formatÄ±na serileÅŸtirilmesine olanak tanÄ±r; bu format, bayt tamponlarÄ±nÄ± sarar.

### **`NSCoding`** UygulamasÄ±
`NSCoding`'i uygulamak iÃ§in bir sÄ±nÄ±f `NSObject`'tan miras almalÄ± veya `@objc` olarak iÅŸaretlenmelidir. Bu protokol, Ã¶rnek deÄŸiÅŸkenlerini kodlamak ve kod Ã§Ã¶zmek iÃ§in iki yÃ¶ntemin uygulanmasÄ±nÄ± zorunlu kÄ±lar:
```swift
class CustomPoint: NSObject, NSCoding {
var x: Double = 0.0
var name: String = ""

func encode(with aCoder: NSCoder) {
aCoder.encode(x, forKey: "x")
aCoder.encode(name, forKey: "name")
}

required convenience init?(coder aDecoder: NSCoder) {
guard let name = aDecoder.decodeObject(forKey: "name") as? String else { return nil }
self.init(x: aDecoder.decodeDouble(forKey: "x"), name: name)
}
}
```
### **GÃ¼venliÄŸi `NSSecureCoding` ile ArtÄ±rma**
SaldÄ±rganlarÄ±n zaten oluÅŸturulmuÅŸ nesnelere veri enjekte etme aÃ§Ä±klarÄ±nÄ± azaltmak iÃ§in, **`NSSecureCoding`** geliÅŸtirilmiÅŸ bir protokol sunar. `NSSecureCoding`'e uyan sÄ±nÄ±flar, kod Ã§Ã¶zme sÄ±rasÄ±nda nesnelerin tÃ¼rÃ¼nÃ¼ doÄŸrulamalÄ±dÄ±r, bÃ¶ylece yalnÄ±zca beklenen nesne tÃ¼rlerinin oluÅŸturulmasÄ± saÄŸlanÄ±r. Ancak, `NSSecureCoding` tÃ¼r gÃ¼venliÄŸini artÄ±rsa da, veriyi ÅŸifrelemez veya bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ saÄŸlamaz; bu nedenle hassas bilgilerin korunmasÄ± iÃ§in ek Ã¶nlemler gereklidir:
```swift
static var supportsSecureCoding: Bool {
return true
}

let obj = decoder.decodeObject(of: MyClass.self, forKey: "myKey")
```
## Data Archiving with `NSKeyedArchiver`
`NSKeyedArchiver` ve onun karÅŸÄ±lÄ±ÄŸÄ± `NSKeyedUnarchiver`, nesneleri bir dosyaya kodlamayÄ± ve daha sonra geri almayÄ± saÄŸlar. Bu mekanizma, nesneleri kalÄ±cÄ± hale getirmek iÃ§in faydalÄ±dÄ±r:
```swift
NSKeyedArchiver.archiveRootObject(customPoint, toFile: "/path/to/archive")
let customPoint = NSKeyedUnarchiver.unarchiveObjectWithFile("/path/to/archive") as? CustomPoint
```
### Using `Codable` for Simplified Serialization
Swift'in `Codable` protokolÃ¼, `Decodable` ve `Encodable`'Ä± birleÅŸtirerek, `String`, `Int`, `Double` gibi nesnelerin kodlanmasÄ±nÄ± ve kod Ã§Ã¶zÃ¼mlemesini ekstra Ã§aba harcamadan kolaylaÅŸtÄ±rÄ±r:
```swift
struct CustomPointStruct: Codable {
var x: Double
var name: String
}
```
Bu yaklaÅŸÄ±m, Swift uygulamalarÄ±nda veri yÃ¶netimini geliÅŸtiren, Ã¶zellik listelerine ve JSON'a basit serileÅŸtirme desteÄŸi saÄŸlar.

## JSON ve XML Kodlama Alternatifleri
Yerel desteÄŸin Ã¶tesinde, birkaÃ§ Ã¼Ã§Ã¼ncÃ¼ taraf kÃ¼tÃ¼phane JSON ve XML kodlama/Ã§Ã¶zme yetenekleri sunar; her birinin kendi performans Ã¶zellikleri ve gÃ¼venlik dikkate almasÄ± vardÄ±r. Bu kÃ¼tÃ¼phanelerin dikkatlice seÃ§ilmesi, Ã¶zellikle dÄ±ÅŸ varlÄ±k iÅŸleme iÅŸlemlerini Ã¶nlemek iÃ§in ayrÄ±ÅŸtÄ±rÄ±cÄ±larÄ±n yapÄ±landÄ±rÄ±lmasÄ± yoluyla XXE (XML DÄ±ÅŸ VarlÄ±klar) saldÄ±rÄ±larÄ± gibi zayÄ±flÄ±klarÄ± azaltmak aÃ§Ä±sÄ±ndan Ã¶nemlidir.

### GÃ¼venlik Dikkate AlÄ±nmasÄ± Gerekenler
Veri serileÅŸtirirken, Ã¶zellikle dosya sistemine, hassas bilgilerin potansiyel olarak dahil edilmesi konusunda dikkatli olmak Ã¶nemlidir. SerileÅŸtirilmiÅŸ veriler, eÄŸer ele geÃ§irilirse veya yanlÄ±ÅŸ bir ÅŸekilde iÅŸlenirse, uygulamalarÄ± yetkisiz iÅŸlemler veya veri sÄ±zÄ±ntÄ±sÄ± gibi risklere maruz bÄ±rakabilir. GÃ¼venliÄŸi artÄ±rmak iÃ§in serileÅŸtirilmiÅŸ verilerin ÅŸifrelenmesi ve imzalanmasÄ± Ã¶nerilir.

## Referanslar
* [https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence](https://mas.owasp.org/MASTG/iOS/0x06h-Testing-Platform-Interaction/#object-persistence)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
