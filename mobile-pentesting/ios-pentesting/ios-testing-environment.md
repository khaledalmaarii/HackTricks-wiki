# iOS Test OrtamÄ±

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> ile!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nleri**](https://peass.creator-spring.com)'ni edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

## Apple GeliÅŸtirici ProgramÄ±

Bir **provisioning kimliÄŸi**, bir Apple geliÅŸtirici hesabÄ±yla iliÅŸkilendirilen genel ve Ã¶zel anahtarlarÄ±n bir koleksiyonudur. UygulamalarÄ± **imzalamak** iÃ§in **99$/yÄ±l** Ã¶deyerek **Apple GeliÅŸtirici ProgramÄ±'na** kaydolmanÄ±z gerekmektedir. Bu olmadan, kaynak kodundan uygulamalarÄ± fiziksel bir cihazda Ã§alÄ±ÅŸtÄ±ramazsÄ±nÄ±z. Bunun iÃ§in baÅŸka bir seÃ§enek ise **jailbreak yapÄ±lmÄ±ÅŸ bir cihazÄ± kullanmaktÄ±r**.

Xcode 7.2'den itibaren Apple, gerÃ§ek bir iPhone Ã¼zerinde uygulamanÄ±zÄ± yazÄ±p test etmenizi saÄŸlayan **Ã¼cretsiz bir iOS geliÅŸtirme provizyon profili oluÅŸturma seÃ§eneÄŸi** sunmaktadÄ±r. _Xcode_ --> _Tercihler_ --> _Hesaplar_ --> _+_ (Yeni Appli ID ekleyin) --> _OluÅŸturulan Apple ID'ye tÄ±klayÄ±n_ --> _SertifikalarÄ± YÃ¶net_ --> _+_ (Apple GeliÅŸtirme) --> _Tamam_\
\_\_ArdÄ±ndan, uygulamanÄ±zÄ± iPhone'da Ã§alÄ±ÅŸtÄ±rmak iÃ§in Ã¶nce **iPhonu bilgisayara gÃ¼venmesi gerekmektedir**. Daha sonra, uygulamayÄ± **Xcode'dan mobil cihazda Ã§alÄ±ÅŸtÄ±rmayÄ± deneyebilirsiniz**, ancak bir hata alacaksÄ±nÄ±z. Bu durumda _Ayarlar_ --> _Genel_ --> _Profiller ve Cihaz YÃ¶netimi_ --> GÃ¼venilir olmayan profili seÃ§in ve "**GÃ¼ven**"e tÄ±klayÄ±n.

**AynÄ± imzalama sertifikasÄ± ile imzalanan uygulamalar, anahtarlÄ±k Ã¶ÄŸeleri gibi kaynaklarÄ± gÃ¼venli bir ÅŸekilde paylaÅŸabilir**.

Provizyon profilleri, telefonun iÃ§inde **`/Library/MobileDevice/ProvisioningProfiles`** dizininde saklanÄ±r.

## **SimÃ¼latÃ¶r**

{% hint style="info" %}
Bir **simÃ¼latÃ¶rÃ¼n bir emÃ¼latÃ¶r olmadÄ±ÄŸÄ±nÄ±** unutmayÄ±n. SimÃ¼latÃ¶r, cihazÄ±n davranÄ±ÅŸÄ±nÄ± ve iÅŸlevlerini sadece taklit eder, gerÃ§ekten kullanmaz.
{% endhint %}

### **SimÃ¼latÃ¶r**

Bir simÃ¼latÃ¶rde pentest yapmanÄ±n, jailbreak yapÄ±lmÄ±ÅŸ bir cihazda yapmaktan **Ã§ok daha sÄ±nÄ±rlÄ±** olacaÄŸÄ±nÄ± bilmelisiniz.

Bir iOS uygulamasÄ±nÄ± oluÅŸturmak ve desteklemek iÃ§in gereken tÃ¼m araÃ§lar **yalnÄ±zca resmi olarak Mac OS'ta desteklenmektedir**.\
Apple'Ä±n iOS uygulamalarÄ±nÄ± oluÅŸturmak/hata ayÄ±klamak/enstrÃ¼mantasyon yapmak iÃ§in de facto aracÄ± **Xcode**'dur. DiÄŸer **simÃ¼latÃ¶rler** ve farklÄ± **SDK** **sÃ¼rÃ¼mleri** indirilerek uygulamanÄ±zÄ± **test etmek** iÃ§in gereken bileÅŸenler de indirilebilir.\
Xcode'u **resmi uygulama maÄŸazasÄ±ndan indirmeniz** ÅŸiddetle tavsiye edilir. DiÄŸer sÃ¼rÃ¼mler kÃ¶tÃ¼ amaÃ§lÄ± yazÄ±lÄ±mlar iÃ§erebilir.

SimÃ¼latÃ¶r dosyalarÄ± `/Users/<kullanÄ±cÄ±adÄ±>/Library/Developer/CoreSimulator/Devices` dizininde bulunabilir.

SimÃ¼latÃ¶rÃ¼ aÃ§mak iÃ§in Xcode'u Ã§alÄ±ÅŸtÄ±rÄ±n, ardÄ±ndan _Xcode sekmesi_ --> _GeliÅŸtirici AraÃ§larÄ±nÄ± AÃ§_ --> _SimÃ¼latÃ¶r_\
\_\_AÅŸaÄŸÄ±daki resimde "iPod touch \[...]" Ã¼zerine tÄ±klayarak test etmek iÃ§in baÅŸka bir cihaz seÃ§ebilirsiniz:

![](<../../.gitbook/assets/image (270).png>)

![](<../../.gitbook/assets/image (520).png>)
```bash
xcrun simctl list | grep Booted
iPhone 8 (BF5DA4F8-6BBE-4EA0-BA16-7E3AFD16C06C) (Booted)
```
## Test OrtamÄ±

UID'yi bildikten sonra, iÃ§inde yÃ¼klÃ¼ olan uygulamalar `/Users/<username>/Library/Developer/CoreSimulator/Devices/{UID}/data/Containers/Data/Application` dizininde bulunabilir.

Ancak ÅŸaÅŸÄ±rtÄ±cÄ± bir ÅŸekilde uygulamayÄ± burada bulamayacaksÄ±nÄ±z. UygulamanÄ±n paketini bulmak iÃ§in `/Users/<username>/Library/Developer/Xcode/DerivedData/{Application}/Build/Products/Debug-iphonesimulator/` dizinine eriÅŸmeniz gerekmektedir.

Ve bu klasÃ¶rde **uygulamanÄ±n paketini bulabilirsiniz.**

## EmÃ¼latÃ¶r

Corellium, yalnÄ±zca halka aÃ§Ä±k olarak mevcut olan iOS emÃ¼latÃ¶rÃ¼dÃ¼r. Bu, kullanÄ±cÄ± baÅŸÄ±na lisans modeline sahip olan bir kurumsal SaaS Ã§Ã¶zÃ¼mÃ¼dÃ¼r ve deneme lisansÄ± sunmamaktadÄ±r.

## Jailbreak

Apple, iPhone'da Ã§alÄ±ÅŸan kodun **Apple tarafÄ±ndan verilen bir sertifika ile imzalanmÄ±ÅŸ olmasÄ±nÄ±** kesinlikle gerektirir. **Jailbreak**, bu tÃ¼r kÄ±sÄ±tlamalarÄ± ve iÅŸletim sistemi tarafÄ±ndan yerleÅŸtirilen diÄŸer gÃ¼venlik kontrollerini **etkin bir ÅŸekilde atlatma iÅŸlemidir**. Bu nedenle, cihaz jailbreak yapÄ±ldÄ±ÄŸÄ±nda, yÃ¼klÃ¼ uygulamalarÄ± kontrol eden **bÃ¼tÃ¼nlÃ¼k kontrolÃ¼** yamalanÄ±r ve bu sayede **atlatÄ±lÄ±r**.

{% hint style="info" %}
Android'de olduÄŸu gibi, iOS'ta "GeliÅŸtirici Modu"na geÃ§emezsiniz** ve cihazda imzalanmamÄ±ÅŸ/gÃ¼venilmeyen kodlarÄ± Ã§alÄ±ÅŸtÄ±ramazsÄ±nÄ±z.
{% endhint %}

### Android Rootlama ve iOS Jailbreak KarÅŸÄ±laÅŸtÄ±rmasÄ±

SÄ±kÃ§a karÅŸÄ±laÅŸtÄ±rÄ±lan Android'de **rootlama** ve iOS'ta **jailbreak** temelde farklÄ± sÃ¼reÃ§lerdir. Android cihazlarÄ±nda **rootlama**, genellikle **`su` binary'sinin yÃ¼klenmesini** veya **sistemi rootlu Ã¶zel bir ROM ile deÄŸiÅŸtirmeyi** iÃ§erebilir ve bu, Ã¶nyÃ¼kleyicinin kilidini aÃ§Ä±lmÄ±ÅŸsa genellikle exploitlere ihtiyaÃ§ duymaz. **Ã–zel ROM'larÄ±n yÃ¼klenmesi**, Ã¶nyÃ¼kleyicinin kilidini aÃ§tÄ±ktan sonra cihazÄ±n iÅŸletim sistemini deÄŸiÅŸtirir ve bazen bir exploit gerektirebilir.

Buna karÅŸÄ±lÄ±k, iOS cihazlarÄ±, Ã¶nyÃ¼kleyicinin yalnÄ±zca Apple tarafÄ±ndan imzalanmÄ±ÅŸ gÃ¶rÃ¼ntÃ¼leri baÅŸlatmasÄ±na yÃ¶nelik kÄ±sÄ±tlamalar nedeniyle Ã¶zel ROM'lar yÃ¼kleyemez. **iOS jailbreak**, Apple'Ä±n kod imzalama korumalarÄ±nÄ± atlamayÄ± amaÃ§lar ve Apple'Ä±n sÃ¼rekli gÃ¼venlik iyileÅŸtirmeleri ile karmaÅŸÄ±k hale gelir.

### Jailbreak ZorluklarÄ±

iOS jailbreak'i, Apple'Ä±n hÄ±zlÄ± bir ÅŸekilde gÃ¼venlik aÃ§Ä±klarÄ±nÄ± yamalamasÄ± nedeniyle giderek zorlaÅŸmaktadÄ±r. iOS'un **eski sÃ¼rÃ¼mlerine geri dÃ¶nmek** yalnÄ±zca bir sÃ¼rÃ¼mÃ¼n yayÄ±nlanmasÄ±ndan kÄ±sa bir sÃ¼re sonra mÃ¼mkÃ¼ndÃ¼r, bu da jailbreak'in zamanla sÄ±nÄ±rlÄ± bir konu olmasÄ±nÄ± saÄŸlar. GÃ¼venlik testleri iÃ§in kullanÄ±lan cihazlar, tekrar jailbreak yapÄ±lmasÄ± garanti edilmedikÃ§e gÃ¼ncellenmemelidir.

iOS gÃ¼ncellemeleri, yalnÄ±zca Apple tarafÄ±ndan imzalanan yanÄ±tlar iÃ§in yÃ¼klemeye izin veren bir **zorluk-yantÄ±m mekanizmasÄ±** (SHSH blobs) ile kontrol edilir. Bu mekanizma, "imzalama penceresi" olarak bilinir ve OTA yazÄ±lÄ±m paketlerini depolamayÄ± ve daha sonra kullanmayÄ± sÄ±nÄ±rlar. [IPSW Ä°ndirme web sitesi](https://ipsw.me), mevcut imzalama pencerelerini kontrol etmek iÃ§in bir kaynaktÄ±r.

### Jailbreak Ã‡eÅŸitleri

* **BaÄŸlÄ± jailbreakler**, her yeniden baÅŸlatma iÃ§in bir bilgisayar baÄŸlantÄ±sÄ± gerektirir.
* **YarÄ±-baÄŸlÄ± jailbreakler**, bir bilgisayar olmadan jailbreak yapÄ±lmamÄ±ÅŸ modda baÅŸlatmaya izin verir.
* **YarÄ±-baÄŸlÄ± olmayan jailbreakler**, bir bilgisayar gerektirmeden manuel olarak tekrar jailbreak yapÄ±lmasÄ±nÄ± gerektirir.
* **BaÄŸlÄ± olmayan jailbreakler**, tekrar uygulama gerektirmeksizin kalÄ±cÄ± bir jailbreak Ã§Ã¶zÃ¼mÃ¼ sunar.

### Jailbreak AraÃ§larÄ± ve Kaynaklar

Jailbreak araÃ§larÄ±, iOS sÃ¼rÃ¼mÃ¼ne ve cihaza gÃ¶re deÄŸiÅŸir. [Can I Jailbreak?](https://canijailbreak.com), [The iPhone Wiki](https://www.theiphonewiki.com) ve [Reddit Jailbreak](https://www.reddit.com/r/jailbreak) gibi kaynaklar gÃ¼ncel bilgiler saÄŸlar. Ã–rnekler ÅŸunlarÄ± iÃ§erir:

* A7-A11 Ã§ip cihazlar iÃ§in [Checkra1n](https://checkra.in/).
* Checkm8 cihazlar (A8-A11) iÃ§in iOS 15.0-16.5'te [Palera1n](https://palera.in/).
* iOS sÃ¼rÃ¼mlerine kadar [Unc0ver](https://unc0ver.dev/).

CihazÄ±nÄ±zÄ± deÄŸiÅŸtirmek riskler iÃ§erir ve jailbreak yaparken dikkatli olunmalÄ±dÄ±r.

### Jailbreak'in FaydalarÄ± ve Riskleri

Jailbreak, **OS tarafÄ±ndan uygulanan kum havuzu sÄ±nÄ±rlamalarÄ±nÄ± kaldÄ±rarak** uygulamalarÄ±n tÃ¼m dosya sistemine eriÅŸmesine olanak tanÄ±r. Bu Ã¶zgÃ¼rlÃ¼k, onaylanmamÄ±ÅŸ uygulamalarÄ±n yÃ¼klenmesine ve daha fazla API'ya eriÅŸime olanak tanÄ±r. Ancak, dÃ¼zenli kullanÄ±cÄ±lar iÃ§in, potansiyel gÃ¼venlik riskleri ve cihaz kararsÄ±zlÄ±ÄŸÄ± nedeniyle jailbreak **tavsiye edilmez**.

### **Jailbreak SonrasÄ±**

{% content-ref url="basic-ios-testing-operations.md" %}
[basic-ios-testing-operations.md](basic-ios-testing-operations.md)
{% endcontent-ref %}

### **Jailbreak Tespiti**

**BazÄ± uygulamalar, mobil cihazÄ±n jailbreak yapÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± tespit etmeye Ã§alÄ±ÅŸacaktÄ±r ve bu durumda uygulama Ã§alÄ±ÅŸmayacaktÄ±r**

* Bir iOS cihazÄ± jailbreak yapÄ±ldÄ±ktan sonra genellikle **dosyalar ve klasÃ¶rler yÃ¼klenir**, bu durum cihazÄ±n jailbreak yapÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± belirlemek iÃ§in aranabilir.
* Jailbreak yapÄ±lmÄ±ÅŸ bir cihazda uygulamalar, kum havuzun dÄ±ÅŸÄ±nda yeni dosyalara **okuma/yazma eriÅŸimi** elde eder.
* BazÄ± **API** **Ã§aÄŸrÄ±larÄ± farklÄ± davranÄ±r**
* **OpenSSH** servisinin varlÄ±ÄŸÄ±
* `/bin/sh` Ã§aÄŸrÄ±sÄ± **0 yerine 1 dÃ¶ndÃ¼recektir**

Jailbreak tespitinin nasÄ±l yapÄ±lacaÄŸÄ± hakkÄ±nda **daha fazla bilgi** [**burada**](https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/jailbreak-detection-methods/)** bulunabilir.**

Bu tespitlerden kaÃ§Ä±nmak iÃ§in **objection'Ä±n** `ios jailbreak disable` kullanabilirsiniz.

## **Jailbreak Tespitini Atlatma**

* Bu tespitlerden kaÃ§Ä±nmak iÃ§in **objection'Ä±n** `ios jailbreak disable` kullanabilirsiniz.
* AyrÄ±ca **Liberty Lite** aracÄ±nÄ± da yÃ¼kleyebilirsiniz (https://ryleyangus.com/repo/). Repo eklenir eklenmez, uygulama 'Arama' sekmesinde gÃ¶rÃ¼nmelidir.

## Referanslar

* [https://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/](https://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/)

<details>

<summary><strong>SÄ±fÄ±rdan baÅŸlayarak AWS hacklemeyi</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR'lar gÃ¶ndererek paylaÅŸÄ±n.

</details>
