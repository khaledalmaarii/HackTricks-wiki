# iOS Test OrtamÄ±

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* Hacking hilelerinizi **HackTricks** ve **HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

## Apple Developer ProgramÄ±

Bir **provisioning kimliÄŸi**, bir Apple geliÅŸtirici hesabÄ±yla iliÅŸkilendirilen bir dizi genel ve Ã¶zel anahtardÄ±r. UygulamalarÄ± **imzalamak** iÃ§in **99$/yÄ±l** Ã¶deyerek **Apple Developer ProgramÄ±'na** kaydolmanÄ±z gerekmektedir. Bu olmadan, kaynak kodundan uygulamalarÄ± fiziksel bir cihazda Ã§alÄ±ÅŸtÄ±ramazsÄ±nÄ±z. Bunun iÃ§in baÅŸka bir seÃ§enek ise **jailbreak yapÄ±lmÄ±ÅŸ bir cihaz** kullanmaktÄ±r.

Xcode 7.2'den itibaren Apple, gerÃ§ek bir iPhone Ã¼zerinde uygulamanÄ±zÄ± yazÄ±p test etmenize izin veren **Ã¼cretsiz bir iOS geliÅŸtirme provisioning profili** oluÅŸturma seÃ§eneÄŸi sunmaktadÄ±r. _Xcode_ --> _Tercihler_ --> _Hesaplar_ --> _+_ (Yeni Appli ID ekleme) --> _OluÅŸturulan Apple KimliÄŸine tÄ±klayÄ±n_ --> _SertifikalarÄ± YÃ¶net_ --> _+_ (Apple GeliÅŸtirme) --> _Tamam_ adÄ±mlarÄ±nÄ± izleyin.\
\_\_Daha sonra, uygulamayÄ± iPhone'da Ã§alÄ±ÅŸtÄ±rmak iÃ§in Ã¶nce **iPhone'un bilgisayara gÃ¼venmesini belirtmeniz gerekmektedir**. ArdÄ±ndan, Xcode'dan mobil cihazda uygulamayÄ± Ã§alÄ±ÅŸtÄ±rmayÄ± deneyebilirsiniz, ancak bir hata alacaksÄ±nÄ±z. Bu durumda, _Ayarlar_ --> _Genel_ --> _Profiller ve Cihaz YÃ¶netimi_ --> GÃ¼venilmeyen profili seÃ§in ve "**GÃ¼ven**"e tÄ±klayÄ±n.

UnutmayÄ±n ki **aynÄ± imzalama sertifikasÄ±yla imzalanan uygulamalar, anahtar zinciri Ã¶ÄŸeleri gibi kaynaklarÄ± gÃ¼venli bir ÅŸekilde paylaÅŸabilir**.

Provisioning profilleri, telefonun iÃ§inde **`/Library/MobileDevice/ProvisioningProfiles`** dizininde saklanÄ±r.

## **SimÃ¼latÃ¶r**

{% hint style="info" %}
Bir **simÃ¼latÃ¶r, bir emÃ¼latÃ¶rle aynÄ± deÄŸildir**. SimÃ¼latÃ¶r, cihazÄ±n davranÄ±ÅŸÄ±nÄ± ve iÅŸlevlerini taklit eder, ancak bunlarÄ± gerÃ§ekten kullanmaz.
{% endhint %}

### **SimÃ¼latÃ¶r**

Bir simÃ¼latÃ¶r iÃ§inde bir pentest gerÃ§ekleÅŸtirmek, jailbreak yapÄ±lmÄ±ÅŸ bir cihazda yapmaktan **daha sÄ±nÄ±rlÄ± olacaktÄ±r**.

Bir iOS uygulamasÄ± oluÅŸturmak ve desteklemek iÃ§in gereken tÃ¼m araÃ§lar yalnÄ±zca resmi olarak Mac OS Ã¼zerinde desteklenmektedir.\
Apple'Ä±n iOS uygulamalarÄ± oluÅŸturmak/hata ayÄ±klamak/enstrÃ¼mantasyon yapmak iÃ§in de facto aracÄ± olan **Xcode**'dur. UygulamanÄ±zÄ± oluÅŸturmak ve test etmek iÃ§in gereken **simÃ¼latÃ¶rler** ve farklÄ± **SDK sÃ¼rÃ¼mleri** gibi diÄŸer bileÅŸenleri indirmek iÃ§in kullanÄ±labilir.\
Xcode'u **resmi uygulama maÄŸazasÄ±ndan** indirmeniz ÅŸiddetle tavsiye edilir. DiÄŸer sÃ¼rÃ¼mler zararlÄ± yazÄ±lÄ±m iÃ§erebilir.

SimÃ¼latÃ¶r dosyalarÄ± `/Users/<kullanÄ±cÄ± adÄ±>/Library/Developer/CoreSimulator/Devices` dizininde bulunabilir.

SimÃ¼latÃ¶rÃ¼ aÃ§mak iÃ§in Xcode'u Ã§alÄ±ÅŸtÄ±rÄ±n, ardÄ±ndan _Xcode sekmesine_ tÄ±klayÄ±n --> _GeliÅŸtirici AraÃ§larÄ±nÄ± AÃ§_ --> _SimÃ¼latÃ¶r_\
\_\_AÅŸaÄŸÄ±daki resimde "iPod touch \[...]" Ã¼zerine tÄ±klayarak test etmek iÃ§in baÅŸka bir cihaz seÃ§ebilirsiniz:

![](<../../.gitbook/assets/image (457).png>)

![](<../../.gitbook/assets/image (458).png>)

### SimÃ¼latÃ¶rdeki Uygulamalar

`/Users/<kullanÄ±cÄ± adÄ±>/Library/Developer/CoreSimulator/Devices` dizininde **yÃ¼klÃ¼ simÃ¼latÃ¶rleri** bulabilirsiniz. Bir emÃ¼latÃ¶r iÃ§inde oluÅŸturulan bir uygulamanÄ±n dosyalarÄ±na eriÅŸmek istiyorsanÄ±z, uygulamanÄ±n hangi emÃ¼latÃ¶re yÃ¼klendiÄŸini bilmek zor olabilir. DoÄŸru UID'yi bulmanÄ±n hÄ±zlÄ± bir yolu, uygulamayÄ± simÃ¼latÃ¶rde Ã§alÄ±ÅŸtÄ±rmak ve ÅŸu komutu Ã§alÄ±ÅŸtÄ±rmaktÄ±r:
```bash
xcrun simctl list | grep Booted
iPhone 8 (BF5DA4F8-6BBE-4EA0-BA16-7E3AFD16C06C) (Booted)
```
UID bilindiÄŸi takdirde, iÃ§inde yÃ¼klÃ¼ olan uygulamalar `/Users/<kullanÄ±cÄ±adÄ±>/Library/Developer/CoreSimulator/Devices/{UID}/data/Containers/Data/Application` dizininde bulunabilir.

Ancak ÅŸaÅŸÄ±rtÄ±cÄ± bir ÅŸekilde, uygulamayÄ± burada bulamayacaksÄ±nÄ±z. `/Users/<kullanÄ±cÄ±adÄ±>/Library/Developer/Xcode/DerivedData/{Uygulama}/Build/Products/Debug-iphonesimulator/` dizinine eriÅŸmeniz gerekmektedir.

Ve bu klasÃ¶rde **uygulamanÄ±n paketini bulabilirsiniz.**

## EmÃ¼latÃ¶r

Corellium, yalnÄ±zca halka aÃ§Ä±k olarak mevcut olan bir iOS emÃ¼latÃ¶rdÃ¼r. Bu, kullanÄ±cÄ± baÅŸÄ±na lisans modeline sahip bir kurumsal SaaS Ã§Ã¶zÃ¼mÃ¼dÃ¼r ve herhangi bir deneme lisansÄ± sunmamaktadÄ±r.

## Jailbreak

Apple, iPhone'da Ã§alÄ±ÅŸan kodun **Apple tarafÄ±ndan verilen bir sertifika ile imzalanmasÄ± gerektiÄŸini** kesinlikle talep etmektedir. **Jailbreak**, bu tÃ¼r kÄ±sÄ±tlamalarÄ± ve iÅŸletim sistemi tarafÄ±ndan yerleÅŸtirilen diÄŸer gÃ¼venlik kontrollerini aktif olarak **atlatma iÅŸlemidir**. Bu nedenle, cihaz jailbreak yapÄ±ldÄ±ÄŸÄ±nda, yÃ¼klÃ¼ olan uygulamalarÄ± kontrol eden **bÃ¼tÃ¼nlÃ¼k kontrolÃ¼** yamasÄ± uygulanarak **atlatÄ±lÄ±r**.

{% hint style="info" %}
Android'in aksine, iOS'ta "GeliÅŸtirici Modu"na geÃ§iÅŸ yapamazsÄ±nÄ±z** ve bu ÅŸekilde imzalanmamÄ±ÅŸ/gÃ¼venilmeyen kodu cihazda Ã§alÄ±ÅŸtÄ±ramazsÄ±nÄ±z.
{% endhint %}

### Android Rootlama vs. iOS Jailbreak

Genellikle karÅŸÄ±laÅŸtÄ±rÄ±lan Android'de **rootlama** ve iOS'ta **jailbreak** temel olarak farklÄ± iÅŸlemlerdir. Android cihazlarÄ±nda rootlama, **`su` ikilisinin yÃ¼klenmesini** veya **sistemin kÃ¶klendirilmiÅŸ Ã¶zel bir ROM ile deÄŸiÅŸtirilmesini** iÃ§erebilir ve bu, Ã¶nyÃ¼kleyici kilidi aÃ§Ä±ksa herhangi bir zafiyet gerektirmez. **Ã–zel ROM'lar yÃ¼klemek**, Ã¶nyÃ¼kleyici kilidi aÃ§Ä±ldÄ±ktan sonra cihazÄ±n iÅŸletim sistemini deÄŸiÅŸtirir ve bazen bir zafiyet gerektirebilir.

Buna karÅŸÄ±lÄ±k, iOS cihazlarÄ±, Ã¶nyÃ¼kleyicinin yalnÄ±zca Apple tarafÄ±ndan imzalanan gÃ¶rÃ¼ntÃ¼leri baÅŸlatabilmesi nedeniyle Ã¶zel ROM'lar yÃ¼kleyemez. **iOS jailbreak**, Apple'Ä±n kod imzalama korumalarÄ±nÄ± atlamayÄ± amaÃ§lar ve Apple'Ä±n sÃ¼rekli gÃ¼venlik geliÅŸtirmeleri nedeniyle karmaÅŸÄ±k bir sÃ¼reÃ§tir.

### Jailbreak ZorluklarÄ±

Apple, zafiyetleri hÄ±zlÄ± bir ÅŸekilde yamasÄ± nedeniyle iOS jailbreak yapmak giderek zorlaÅŸmaktadÄ±r. iOS'un eski sÃ¼rÃ¼mlerine **geri dÃ¶nme** sadece bir sÃ¼re iÃ§in mÃ¼mkÃ¼ndÃ¼r, bu nedenle jailbreak yapmak zamanla sÄ±nÄ±rlÄ± bir meseledir. GÃ¼venlik testi iÃ§in kullanÄ±lan cihazlar, tekrar jailbreak yapÄ±lmasÄ± garanti edilmediÄŸi sÃ¼rece gÃ¼ncellenmemelidir.

iOS gÃ¼ncellemeleri, Apple tarafÄ±ndan imzalanan yanÄ±tlarÄ±n yalnÄ±zca kurulumuna izin veren bir **zorluk-yanÄ±t mekanizmasÄ±** (SHSH blobs) ile kontrol edilir. Bu mekanizma, "imzalama penceresi" olarak bilinen, OTA firmware paketlerini depolama ve daha sonra kullanma yeteneÄŸini sÄ±nÄ±rlar. [IPSW Downloads](https://ipsw.me) web sitesi, mevcut imzalama pencerelerini kontrol etmek iÃ§in bir kaynaktÄ±r.

### Jailbreak Ã‡eÅŸitleri

- **Tethered jailbreakler**, her yeniden baÅŸlatma iÃ§in bir bilgisayar baÄŸlantÄ±sÄ± gerektirir.
- **Semi-tethered jailbreakler**, bir bilgisayar olmadan jailbreak yapÄ±lmamÄ±ÅŸ modda baÅŸlatmayÄ± saÄŸlar.
- **Semi-untethered jailbreakler**, bir bilgisayar gerektirmeden manuel olarak tekrar jailbreak yapmayÄ± gerektirir.
- **Untethered jailbreakler**, tekrar uygulama gerektirmeksizin kalÄ±cÄ± bir jailbreak Ã§Ã¶zÃ¼mÃ¼ sunar.

### Jailbreak AraÃ§larÄ± ve Kaynaklar

Jailbreak araÃ§larÄ±, iOS sÃ¼rÃ¼mÃ¼ne ve cihaza gÃ¶re deÄŸiÅŸir. [Can I Jailbreak?](https://canijailbreak.com), [The iPhone Wiki](https://www.theiphonewiki.com) ve [Reddit Jailbreak](https://www.reddit.com/r/jailbreak/) gibi kaynaklar gÃ¼ncel bilgiler saÄŸlar. Ã–rnekler ÅŸunlarÄ± iÃ§erir:

- A7-A11 Ã§ip cihazlar iÃ§in [Checkra1n](https://checkra.in/).
- Checkm8 cihazlar (A8-A11) iÃ§in iOS 15.0-16.5 arasÄ± iÃ§in [Palera1n](https://palera.in/).
- iOS 14.8'e kadar olan sÃ¼rÃ¼mler iÃ§in [Unc0ver](https://unc0ver.dev/).

CihazÄ±nÄ±zÄ± deÄŸiÅŸtirmek riskler taÅŸÄ±r ve jailbreak yapma iÅŸlemine dikkatle yaklaÅŸÄ±lmalÄ±dÄ±r.

### Jailbreakin AvantajlarÄ± ve Riskleri

Jailbreak, OS tarafÄ±ndan uygulanan kum havuzunu kaldÄ±rarak uygulamalarÄ±n tÃ¼m dosya sistemine eriÅŸmesine olanak tanÄ±r. Bu Ã¶zgÃ¼rlÃ¼k, onaylanmamÄ±ÅŸ uygulamalarÄ±n yÃ¼klenmesine ve daha fazla API'ye eriÅŸime olanak saÄŸlar. Bununla birlikte, dÃ¼zenli kullanÄ±cÄ±lar iÃ§in jailbreak, potansiyel gÃ¼venlik riskleri ve cihaz kararsÄ±zlÄ±ÄŸÄ± nedeniyle **tavsiye edilmez**.

### **Jailbreak YapÄ±ldÄ±ktan Sonra**

{% content-ref url="basic-ios-testing-operations.md" %}
[basic-ios-testing-operations.md](basic-ios-testing-operations.md)
{% endcontent-ref %}

### **Jailbreak Tespit Edilmesi**

**BirÃ§ok uygulama, mobil cihazÄ±n jailbreak yapÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± tespit etmeye Ã§alÄ±ÅŸÄ±r ve bu durumda uygulama Ã§alÄ±ÅŸmaz**

* iOS'ta jailbreak yapÄ±ldÄ±ktan sonra genellikle **dosya ve klasÃ¶rler yÃ¼klenir**, bu durum cihazÄ±n jailbreak yapÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± belirlemek iÃ§in aranabilir.
* Jailbreak yapÄ±lmÄ±ÅŸ bir cihazda uygulamalar, kum havuzu dÄ±ÅŸÄ±nda yeni dosyalara **okuma/yazma eriÅŸimi** elde eder.
* BazÄ± **API** **Ã§aÄŸrÄ±larÄ±** farklÄ± davranÄ±r.
* **OpenSSH** servisinin varlÄ±ÄŸÄ±
* `/bin/sh` Ã§aÄŸrÄ±sÄ±, 0 yerine 1 dÃ¶ndÃ¼recektir.

Jailbreak tespit etme hakkÄ±nda daha fazla bilgi iÃ§in [buraya](https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/jailbreak-detection-methods/) bakabilirsiniz.

Jailbreak tespitini **objection**'Ä±n `ios jailbreak disable` Ã¶zelliÄŸini kullanarak engellemeyi deneyebilirsiniz.

## **Jailbreak Tespitini Atlama**

* Jailbreak tespitini engellemek iÃ§in **objection**'Ä±n `ios jailbreak disable` Ã¶zelliÄŸini kullanmayÄ± deneyebilirsiniz.
* AyrÄ±ca **Liberty Lite** aracÄ±nÄ± da yÃ¼kleyebilirsiniz (https://ryleyangus.com/repo/). Repo eklendikten sonra, uygulama 'Arama' sekmesinde gÃ¶rÃ¼nmelidir.

## Referanslar
* [https://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/](https://mas.owasp.org/MASTG/iOS/0x06b-iOS-Security-Testing/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **tanÄ±tmak veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
