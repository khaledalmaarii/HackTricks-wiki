{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **Bize katÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **bizi** **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

iOS cihazlarda uygulamalar arasÄ±nda veri paylaÅŸÄ±mÄ±, iki ana kategoriye ayrÄ±lan [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) mekanizmasÄ± ile kolaylaÅŸtÄ±rÄ±lmaktadÄ±r:

- **Sistem genelinde genel yapÄ±ÅŸtÄ±rÄ±cÄ±**: Bu, **herhangi bir uygulama** ile veri paylaÅŸmak iÃ§in kullanÄ±lÄ±r ve cihaz yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda ve uygulama kaldÄ±rÄ±ldÄ±ÄŸÄ±nda verileri korumak iÃ§in tasarlanmÄ±ÅŸtÄ±r; bu Ã¶zellik iOS 10'dan beri mevcuttur.
- **Ã–zel / Ä°simlendirilmiÅŸ yapÄ±ÅŸtÄ±rÄ±cÄ±lar**: Bunlar, **bir uygulama iÃ§inde veya aynÄ± takÄ±m kimliÄŸini paylaÅŸan baÅŸka bir uygulama ile** veri paylaÅŸmak iÃ§in Ã¶zel olarak tasarlanmÄ±ÅŸtÄ±r ve oluÅŸturulduklarÄ± uygulama sÃ¼resinin Ã¶tesinde kalÄ±cÄ± olmalarÄ± amaÃ§lanmamÄ±ÅŸtÄ±r; bu, iOS 10 ile getirilen deÄŸiÅŸiklikleri takip eder.

**GÃ¼venlik hususlarÄ±**, yapÄ±ÅŸtÄ±rÄ±cÄ±larÄ±n kullanÄ±lmasÄ±nda Ã¶nemli bir rol oynamaktadÄ±r. Ã–rneÄŸin:
- KullanÄ±cÄ±larÄ±n **yapÄ±ÅŸtÄ±rÄ±cÄ±ya** eriÅŸim iÃ§in uygulama izinlerini yÃ¶netebileceÄŸi bir mekanizma yoktur.
- Yetkisiz arka plan izleme riskini azaltmak iÃ§in eriÅŸim, uygulama Ã¶n planda olduÄŸunda kÄ±sÄ±tlanmÄ±ÅŸtÄ±r (iOS 9'dan beri).
- Gizlilik endiÅŸeleri nedeniyle kalÄ±cÄ± isimlendirilmiÅŸ yapÄ±ÅŸtÄ±rÄ±cÄ±larÄ±n kullanÄ±mÄ±, paylaÅŸÄ±lan konteynerler lehine teÅŸvik edilmemektedir.
- iOS 10 ile tanÄ±tÄ±lan **Evrensel Panoya** Ã¶zelliÄŸi, iÃ§eriÄŸin genel yapÄ±ÅŸtÄ±rÄ±cÄ± aracÄ±lÄ±ÄŸÄ±yla cihazlar arasÄ±nda paylaÅŸÄ±lmasÄ±na olanak tanÄ±r ve geliÅŸtiricilerin veri sÃ¼resini ayarlayÄ±p otomatik iÃ§erik aktarÄ±mÄ±nÄ± devre dÄ±ÅŸÄ± bÄ±rakmalarÄ±na olanak tanÄ±r.

**Hassas bilgilerin** yanlÄ±ÅŸlÄ±kla genel yapÄ±ÅŸtÄ±rÄ±cÄ±da saklanmadÄ±ÄŸÄ±ndan emin olmak Ã§ok Ã¶nemlidir. AyrÄ±ca, uygulamalar, genel yapÄ±ÅŸtÄ±rÄ±cÄ± verilerinin istenmeyen eylemler iÃ§in kÃ¶tÃ¼ye kullanÄ±lmasÄ±nÄ± Ã¶nleyecek ÅŸekilde tasarlanmalÄ±dÄ±r ve geliÅŸtiricilerin hassas bilgilerin panoya kopyalanmasÄ±nÄ± Ã¶nlemek iÃ§in Ã¶nlemler almasÄ± teÅŸvik edilmektedir.

### Statik Analiz

Statik analiz iÃ§in, kaynak kodu veya ikili dosyada ÅŸunlarÄ± arayÄ±n:
- **systemwide general pasteboard** kullanÄ±mÄ±nÄ± belirlemek iÃ§in `generalPasteboard`.
- **Ã¶zel yapÄ±ÅŸtÄ±rÄ±cÄ±lar** oluÅŸturmak iÃ§in `pasteboardWithName:create:` ve `pasteboardWithUniqueName`. KalÄ±cÄ±lÄ±ÄŸÄ±n etkin olup olmadÄ±ÄŸÄ±nÄ± doÄŸrulayÄ±n, ancak bu artÄ±k Ã¶nerilmemektedir.

### Dinamik Analiz

Dinamik analiz, belirli yÃ¶ntemleri izlemek veya takip etmekle ilgilidir:
- Sistem genelindeki kullanÄ±mÄ± izlemek iÃ§in `generalPasteboard`'Ä± izleyin.
- Ã–zel uygulamalar iÃ§in `pasteboardWithName:create:` ve `pasteboardWithUniqueName`'Ä± takip edin.
- KalÄ±cÄ±lÄ±k ayarlarÄ±nÄ± kontrol etmek iÃ§in Ã¶nerilmeyen `setPersistent:` yÃ¶ntem Ã§aÄŸrÄ±larÄ±nÄ± gÃ¶zlemleyin.

Ä°zlenmesi gereken ana detaylar ÅŸunlardÄ±r:
- **YapÄ±ÅŸtÄ±rÄ±cÄ± adlarÄ±** ve **iÃ§erikler** (Ã¶rneÄŸin, dizeler, URL'ler, resimler kontrol edilerek).
- Mevcut **Ã¶ÄŸe sayÄ±sÄ±** ve **veri tÃ¼rleri**, standart ve Ã¶zel veri tÃ¼rÃ¼ kontrolleri kullanÄ±larak.
- `setItems:options:` yÃ¶ntemini inceleyerek **son kullanma ve yerel seÃ§enekler**.

Bir izleme aracÄ± kullanma Ã¶rneÄŸi, genel yapÄ±ÅŸtÄ±rÄ±cÄ±yÄ± her 5 saniyede bir deÄŸiÅŸiklikler iÃ§in sorgulayan ve yeni verileri Ã§Ä±ktÄ±layan **objection'Ä±n yapÄ±ÅŸtÄ±rÄ±cÄ± izleyicisidir**.

Ä°ÅŸte her 5 saniyede bir yapÄ±ÅŸtÄ±rÄ±cÄ±dan deÄŸiÅŸiklikleri okumak ve kaydetmek iÃ§in objection'Ä±n yaklaÅŸÄ±mÄ±ndan ilham alan basit bir JavaScript betiÄŸi Ã¶rneÄŸi:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## Referanslar

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
