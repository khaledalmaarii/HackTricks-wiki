<details>

<summary><strong>htARTE (HackTricks AWS Red Team ì „ë¬¸ê°€)ë¡œë¶€í„° ì œë¡œì—ì„œ ì˜ì›…ê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¶ë‹¤ë©´** [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [Discord ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [telegram ê·¸ë£¹](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ì„ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks** ë° **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

iOS ê¸°ê¸°ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°„ ë° ë‚´ì—ì„œ ë°ì´í„° ê³µìœ ëŠ” [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì´ë£¨ì–´ì§€ë©°, ì´ëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ì£¼ìš” ë²”ì£¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤:

- **ì‹œìŠ¤í…œ ì „ì—­ í´ë¦½ë³´ë“œ**: **ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°ì´í„°ë¥¼ ê³µìœ **í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, iOS 10ë¶€í„° ì œê³µë˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¥ì¹˜ ì¬ë¶€íŒ… ë° ì•± ì‚­ì œ í›„ì—ë„ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
- **ì‚¬ìš©ì ì§€ì • / ì´ë¦„ ì§€ì •ëœ í´ë¦½ë³´ë“œ**: **ì•± ë‚´ ë˜ëŠ” ë™ì¼í•œ íŒ€ IDë¥¼ ê³µìœ í•˜ëŠ” ë‹¤ë¥¸ ì•±ê³¼ ë°ì´í„°ë¥¼ ê³µìœ **í•˜ê¸° ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, iOS 10ì—ì„œ ì†Œê°œëœ ë³€ê²½ ì‚¬í•­ì— ë”°ë¼ ìƒì„±í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜ëª…ì„ ë„˜ì–´ì„œ ì§€ì†ë˜ì§€ ì•Šë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

**ë³´ì•ˆ ê³ ë ¤ ì‚¬í•­**ì€ í´ë¦½ë³´ë“œë¥¼ í™œìš©í•  ë•Œ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:
- ì‚¬ìš©ìê°€ **í´ë¦½ë³´ë“œì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ì•± ê¶Œí•œì„ ê´€ë¦¬í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜**ì´ ì—†ìŠµë‹ˆë‹¤.
- í´ë¦½ë³´ë“œì˜ ë¬´ë‹¨ ë°±ê·¸ë¼ìš´ë“œ ëª¨ë‹ˆí„°ë§ ìœ„í—˜ì„ ì™„í™”í•˜ê¸° ìœ„í•´, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í¬ê·¸ë¼ìš´ë“œì— ìˆì„ ë•Œë§Œ ì•¡ì„¸ìŠ¤ê°€ ì œí•œë©ë‹ˆë‹¤(iOS 9ë¶€í„°).
- ê°œì¸ ì •ë³´ ë³´í˜¸ ë¬¸ì œë¡œ ì¸í•´ ì§€ì†ì ì¸ ì´ë¦„ì´ ì§€ì •ëœ í´ë¦½ë³´ë“œ ì‚¬ìš©ì´ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- iOS 10ì—ì„œ ì†Œê°œëœ **Universal Clipboard** ê¸°ëŠ¥ì€ ê°œë°œìê°€ ë°ì´í„° ë§Œë£Œ ë° ìë™ ì½˜í…ì¸  ì „ì†¡ ë¹„í™œì„±í™”ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë¯¼ê°í•œ ì •ë³´ê°€ ì‹¤ìˆ˜ë¡œ ì €ì¥ë˜ì§€ ì•Šë„ë¡** ì‹œìŠ¤í…œ ì „ì—­ í´ë¦½ë³´ë“œì— ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‹œìŠ¤í…œ ì „ì—­ í´ë¦½ë³´ë“œ ë°ì´í„°ê°€ ì˜ë„í•˜ì§€ ì•Šì€ ì‘ì—…ì— ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ì•¼ í•˜ë©°, ê°œë°œìëŠ” ë¯¼ê°í•œ ì •ë³´ê°€ í´ë¦½ë³´ë“œë¡œ ë³µì‚¬ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì¡°ì¹˜ë¥¼ êµ¬í˜„í•  ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

### ì •ì  ë¶„ì„

ì •ì  ë¶„ì„ì„ ìœ„í•´ ì†ŒìŠ¤ ì½”ë“œ ë˜ëŠ” ì´ì§„ íŒŒì¼ì—ì„œ ë‹¤ìŒì„ ê²€ìƒ‰í•˜ì„¸ìš”:
- **ì‹œìŠ¤í…œ ì „ì—­ í´ë¦½ë³´ë“œ** ì‚¬ìš©ì„ ì‹ë³„í•˜ê¸° ìœ„í•´ `generalPasteboard`ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
- **ì‚¬ìš©ì ì§€ì • í´ë¦½ë³´ë“œ**ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ `pasteboardWithName:create:` ë° `pasteboardWithUniqueName`ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì§€ì†ì„±ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤(ì´ëŠ” íê¸°ëœ ê¸°ëŠ¥ì…ë‹ˆë‹¤).

### ë™ì  ë¶„ì„

ë™ì  ë¶„ì„ì€ íŠ¹ì • ë©”ì„œë“œë¥¼ í›„í‚¹í•˜ê±°ë‚˜ ì¶”ì í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:
- ì‹œìŠ¤í…œ ì „ì—­ ì‚¬ìš©ì„ ìœ„í•´ `generalPasteboard`ë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.
- ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ì„ ìœ„í•´ `pasteboardWithName:create:` ë° `pasteboardWithUniqueName`ì„ ì¶”ì í•©ë‹ˆë‹¤.
- ì§€ì†ì„± ì„¤ì •ì„ í™•ì¸í•˜ê¸° ìœ„í•´ íê¸°ëœ `setPersistent:` ë©”ì„œë“œ í˜¸ì¶œì„ ê´€ì°°í•©ë‹ˆë‹¤.

ëª¨ë‹ˆí„°ë§í•´ì•¼ í•  ì£¼ìš” ì„¸ë¶€ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- **í´ë¦½ë³´ë“œ ì´ë¦„** ë° **ì½˜í…ì¸ ** (ì˜ˆ: ë¬¸ìì—´, URL, ì´ë¯¸ì§€ í™•ì¸).
- í‘œì¤€ ë° ì‚¬ìš©ì ì§€ì • ë°ì´í„° ìœ í˜• í™•ì¸ì„ í™œìš©í•˜ì—¬ ì¡´ì¬í•˜ëŠ” **í•­ëª© ìˆ˜** ë° **ë°ì´í„° ìœ í˜•**.
- `setItems:options:` ë©”ì„œë“œë¥¼ ê²€ì‚¬í•˜ì—¬ **ë§Œë£Œ ë° ë¡œì»¬ ì „ìš© ì˜µì…˜** í™•ì¸.

**objectionì˜ í´ë¦½ë³´ë“œ ëª¨ë‹ˆí„°**ë¥¼ ì‚¬ìš©í•œ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì‚¬ìš© ì˜ˆëŠ” ì‹œìŠ¤í…œ ì „ì—­ í´ë¦½ë³´ë“œë¥¼ 5ì´ˆë§ˆë‹¤ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•˜ê³  ìƒˆ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë‹¤ìŒì€ objectionì˜ ë°©ë²•ì„ ì˜ê°ë°›ì€ ê°„ë‹¨í•œ JavaScript ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œë¡œ, 5ì´ˆë§ˆë‹¤ í´ë¦½ë³´ë“œì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ì½ê³  ê¸°ë¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## ì°¸ê³  ìë£Œ

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜** **PDF í˜•ì‹ì˜ HackTricksë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¶ë‹¤ë©´** [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ì €í¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f)ì´ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜** íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **HackTricks** ë° **HackTricks Cloud** ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
