<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmaya kadar AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**]'na gÃ¶z atÄ±n (https://github.com/sponsors/carlospolop)!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


iOS cihazlarÄ±nda ve uygulamalar arasÄ±nda veri paylaÅŸÄ±mÄ±, [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) mekanizmasÄ± aracÄ±lÄ±ÄŸÄ±yla saÄŸlanÄ±r ve bu mekanizma genellikle iki ana kategoriye ayrÄ±lÄ±r:

- **Sistem genel panosu**: Bu, verilerin **herhangi bir uygulama ile paylaÅŸÄ±lmasÄ±** iÃ§in kullanÄ±lÄ±r ve iOS 10'dan beri mevcut olan verilerin cihaz yeniden baÅŸlatmalarÄ± ve uygulama kaldÄ±rmalarÄ± boyunca kalÄ±cÄ± olmasÄ±nÄ± saÄŸlayan bir Ã¶zellik iÃ§erir.
- **Ã–zel / AdlandÄ±rÄ±lmÄ±ÅŸ panolar**: Bunlar, **bir uygulama iÃ§inde veya aynÄ± takÄ±m kimliÄŸini paylaÅŸan baÅŸka bir uygulama ile veri paylaÅŸÄ±mÄ±** iÃ§in Ã¶zeldir ve oluÅŸturan uygulama sÃ¼recinin yaÅŸam sÃ¼resini aÅŸmamak Ã¼zere tasarlanmÄ±ÅŸtÄ±r ve iOS 10'da yapÄ±lan deÄŸiÅŸiklikleri takip eder.

**GÃ¼venlik dÃ¼ÅŸÃ¼nceleri**, panolarÄ± kullanÄ±rken Ã¶nemli bir rol oynar. Ã–rneÄŸin:
- KullanÄ±cÄ±larÄ±n **panoya eriÅŸim izinlerini yÃ¶netmeleri** iÃ§in bir mekanizma bulunmamaktadÄ±r.
- Panonun izinsiz arka planda izlenmesi riskini azaltmak iÃ§in eriÅŸim, uygulama Ã¶nyÃ¼zdeyken kÄ±sÄ±tlanmÄ±ÅŸtÄ±r (iOS 9'dan beri).
- Gizlilik endiÅŸeleri nedeniyle kalÄ±cÄ± adlandÄ±rÄ±lmÄ±ÅŸ panolarÄ±n kullanÄ±mÄ± yerine paylaÅŸÄ±lan konteynerlerin tercih edilmesi Ã¶nerilir.
- iOS 10 ile tanÄ±tÄ±lan **Evrensel Pano** Ã¶zelliÄŸi, iÃ§eriÄŸin genel panoyoluyla cihazlar arasÄ±nda paylaÅŸÄ±lmasÄ±na izin verir ve geliÅŸtiricilerin veri sÃ¼resini ayarlamak ve otomatik iÃ§erik transferini devre dÄ±ÅŸÄ± bÄ±rakmak iÃ§in yÃ¶netilmesine olanak tanÄ±r.

**Hassas bilgilerin yanlÄ±ÅŸlÄ±kla depolanmamasÄ±nÄ±n** saÄŸlanmasÄ± Ã¶nemlidir. AyrÄ±ca, uygulamalarÄ±n genel panodaki verilerin yanlÄ±ÅŸ amaÃ§lar iÃ§in kullanÄ±lmasÄ±nÄ± Ã¶nlemek Ã¼zere tasarlanmasÄ± ve geliÅŸtiricilerin hassas bilgilerin panoya kopyalanmasÄ±nÄ± Ã¶nlemek iÃ§in Ã¶nlemler almasÄ± teÅŸvik edilir.

### Statik Analiz

Statik analiz iÃ§in kaynak kodu veya ikili dosyada arama yaparak:
- `generalPasteboard` kullanÄ±mÄ±nÄ± belirlemek iÃ§in **sistem genel panosunu** arayÄ±n.
- **Ã–zel panolarÄ± oluÅŸturmak iÃ§in** `pasteboardWithName:create:` ve `pasteboardWithUniqueName` arayÄ±n. KalÄ±cÄ±lÄ±ÄŸÄ±n etkin olup olmadÄ±ÄŸÄ±nÄ± doÄŸrulayÄ±n, ancak bu yÃ¶ntem artÄ±k kullanÄ±mdan kaldÄ±rÄ±lmÄ±ÅŸtÄ±r.

### Dinamik Analiz

Dinamik analiz, belirli yÃ¶ntemleri kancalama veya izleme iÅŸlemi iÃ§erir:
- Sistem genel kullanÄ±m iÃ§in `generalPasteboard`'u izleyin.
- Ã–zel uygulamalar iÃ§in `pasteboardWithName:create:` ve `pasteboardWithUniqueName`'yi izleyin.
- KalÄ±cÄ±lÄ±k ayarlarÄ±nÄ± kontrol etmek iÃ§in kullanÄ±lan artÄ±k kullanÄ±lmayan `setPersistent:` yÃ¶ntem Ã§aÄŸrÄ±larÄ±nÄ± izleyin.

Ä°zlenmesi gereken temel detaylar ÅŸunlardÄ±r:
- **Pano adlarÄ±** ve **iÃ§erikleri** (Ã¶rneÄŸin, dizeler, URL'ler, resimler kontrol edilir).
- Standart ve Ã¶zel veri tÃ¼rÃ¼ kontrollerini kullanarak mevcut olan **Ã¶ÄŸe sayÄ±sÄ±** ve **veri tÃ¼rleri**.
- `setItems:options:` yÃ¶ntemini inceleyerek **sÃ¼resi dolmuÅŸ ve yalnÄ±zca yerel seÃ§enekleri** kontrol edin.

Bir izleme aracÄ± kullanÄ±mÄ± Ã¶rneÄŸi **objection'Ä±n pano izleyicisi**dir, bu araÃ§ genelPanoyu her 5 saniyede bir deÄŸiÅŸiklikleri izler ve yeni verileri Ã§Ä±ktÄ±lar.

Ä°ÅŸte, obje'nin yaklaÅŸÄ±mÄ±ndan esinlenerek her 5 saniyede bir panodan deÄŸiÅŸiklikleri okuyan ve kaydeden basit bir JavaScript betiÄŸi Ã¶rneÄŸi:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## Referanslar

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


<details>

<summary><strong>SÄ±fÄ±rdan kahramana kadar AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'da takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
