<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks)ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

iOS ê¸°ê¸°ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°„ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë°ì´í„° ê³µìœ ëŠ” [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ë‹¤ìŒ ë‘ ê°€ì§€ ì£¼ìš” ë²”ì£¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤:

- **ì‹œìŠ¤í…œ ì „ì—­ ë¶™ì—¬ë„£ê¸° ë³´ë“œ**: ì´ëŠ” **ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜**ê³¼ ë°ì´í„°ë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, iOS 10ë¶€í„° ì œê³µë˜ëŠ” ì¥ì¹˜ ì¬ì‹œì‘ ë° ì•± ì œê±° í›„ì—ë„ ë°ì´í„°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
- **ì‚¬ìš©ì ì •ì˜ / ì´ë¦„ ì§€ì • ë¶™ì—¬ë„£ê¸° ë³´ë“œ**: ì´ëŠ” **ì•± ë‚´ ë˜ëŠ” ë™ì¼í•œ íŒ€ IDë¥¼ ê³µìœ í•˜ëŠ” ë‹¤ë¥¸ ì•±ê³¼ì˜ ë°ì´í„° ê³µìœ **ë¥¼ ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, iOS 10ì—ì„œ ë„ì…ëœ ë³€ê²½ ì‚¬í•­ì— ë”°ë¼ ìƒì„±í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜ëª…ì„ ë„˜ì–´ì„œ ìœ ì§€ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ë³´ì•ˆ ê³ ë ¤ ì‚¬í•­**ì€ ë¶™ì—¬ë„£ê¸° ë³´ë“œë¥¼ ì‚¬ìš©í•  ë•Œ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:
- ì‚¬ìš©ìê°€ **ë¶™ì—¬ë„£ê¸° ë³´ë“œì— ëŒ€í•œ ì•± ê¶Œí•œì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜**ì´ ì—†ìŠµë‹ˆë‹¤.
- ë¶™ì—¬ë„£ê¸° ë³´ë“œì˜ **ë°°ê²½ ëª¨ë‹ˆí„°ë§ì„ ë¬´ë‹¨ìœ¼ë¡œ ë°©ì§€**í•˜ê¸° ìœ„í•´ ì•¡ì„¸ìŠ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í¬ê·¸ë¼ìš´ë“œì— ìˆì„ ë•Œë¡œ ì œí•œë©ë‹ˆë‹¤ (iOS 9ë¶€í„°).
- ê°œì¸ ì •ë³´ ë³´í˜¸ ë¬¸ì œë¡œ ì¸í•´ **ì§€ì†ì ì¸ ì´ë¦„ ì§€ì • ë¶™ì—¬ë„£ê¸° ë³´ë“œì˜ ì‚¬ìš©ì€ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.
- iOS 10ì—ì„œ ë„ì…ëœ **Universal Clipboard** ê¸°ëŠ¥ì„ í†µí•´ ì¼ë°˜ ë¶™ì—¬ë„£ê¸° ë³´ë“œë¥¼ í†µí•´ ì¥ì¹˜ ê°„ì— ì½˜í…ì¸ ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìœ¼ë©°, ê°œë°œìëŠ” ë°ì´í„° ë§Œë£Œ ë° ìë™ ì½˜í…ì¸  ì „ì†¡ ë¹„í™œì„±í™”ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë¯¼ê°í•œ ì •ë³´ê°€ ì‹¤ìˆ˜ë¡œ ì €ì¥ë˜ì§€ ì•Šë„ë¡**í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì˜ë„í•˜ì§€ ì•Šì€ ì‘ì—…ì„ ìœ„í•´ ì „ì—­ ë¶™ì—¬ë„£ê¸° ë³´ë“œ ë°ì´í„°ì˜ ì˜¤ìš©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì–´ì•¼ í•˜ë©°, ê°œë°œìëŠ” ë¯¼ê°í•œ ì •ë³´ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì¡°ì¹˜ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### ì •ì  ë¶„ì„

ì •ì  ë¶„ì„ì„ ìœ„í•´ ì†ŒìŠ¤ ì½”ë“œ ë˜ëŠ” ì´ì§„ íŒŒì¼ì—ì„œ ë‹¤ìŒì„ ê²€ìƒ‰í•˜ì„¸ìš”:
- **systemwide general pasteboard**ì˜ ì‚¬ìš©ì„ ì‹ë³„í•˜ê¸° ìœ„í•´ `generalPasteboard`ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
- **ì‚¬ìš©ì ì •ì˜ ë¶™ì—¬ë„£ê¸° ë³´ë“œ**ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ `pasteboardWithName:create:` ë° `pasteboardWithUniqueName`ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” íê¸°ëœ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ë™ì  ë¶„ì„

ë™ì  ë¶„ì„ì€ íŠ¹ì • ë©”ì„œë“œë¥¼ í›„í‚¹í•˜ê±°ë‚˜ ì¶”ì í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:
- ì‹œìŠ¤í…œ ì „ì—­ ì‚¬ìš©ì„ ìœ„í•´ `generalPasteboard`ë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.
- ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ì„ ìœ„í•´ `pasteboardWithName:create:` ë° `pasteboardWithUniqueName`ì„ ì¶”ì í•©ë‹ˆë‹¤.
- ì§€ì†ì„± ì„¤ì •ì„ í™•ì¸í•˜ê¸° ìœ„í•´ íê¸°ëœ `setPersistent:` ë©”ì„œë“œ í˜¸ì¶œì„ ê´€ì°°í•©ë‹ˆë‹¤.

ëª¨ë‹ˆí„°ë§í•´ì•¼ í•  ì£¼ìš” ì„¸ë¶€ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- **ë¶™ì—¬ë„£ê¸° ë³´ë“œ ì´ë¦„** ë° **ì½˜í…ì¸ ** (ì˜ˆ: ë¬¸ìì—´, URL, ì´ë¯¸ì§€ í™•ì¸).
- ì¡´ì¬í•˜ëŠ” **í•­ëª© ìˆ˜** ë° **ë°ì´í„° ìœ í˜•**, í‘œì¤€ ë° ì‚¬ìš©ì ì •ì˜ ë°ì´í„° ìœ í˜• í™•ì¸ì„ í™œìš©í•©ë‹ˆë‹¤.
- `setItems:options:` ë©”ì„œë“œë¥¼ ê²€ì‚¬í•˜ì—¬ **ë§Œë£Œ ë° ë¡œì»¬ ì „ìš© ì˜µì…˜**ì„ í™•ì¸í•©ë‹ˆë‹¤.

objectionì˜ ë¶™ì—¬ë„£ê¸° ë³´ë“œ ëª¨ë‹ˆí„°ì™€ ê°™ì€ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì‚¬ìš© ì˜ˆëŠ” 5ì´ˆë§ˆë‹¤ generalPasteboardë¥¼ í´ë§í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì¶œë ¥í•©ë‹ˆë‹¤.

ë‹¤ìŒì€ objectionì˜ ì ‘ê·¼ ë°©ì‹ì—ì„œ ì˜ê°ì„ ë°›ì€ ê°„ë‹¨í•œ JavaScript ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œì…ë‹ˆë‹¤. 5ì´ˆë§ˆë‹¤ ë¶™ì—¬ë„£ê¸° ë³´ë“œì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ì½ê³  ë¡œê·¸ì— ê¸°ë¡í•©ë‹ˆë‹¤:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## ì°¸ê³  ìë£Œ

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ìì‹ ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
