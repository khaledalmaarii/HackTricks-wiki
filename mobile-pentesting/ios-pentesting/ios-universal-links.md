# iOS Universal Links


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


## –í—Å—Ç—É–ø

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å **–±–µ–∑—à–æ–≤–Ω–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç** –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—á–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –¥–æ–¥–∞—Ç–∫—É, –æ–±—Ö–æ–¥—è—á–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—É —á–µ—Ä–µ–∑ Safari. –¶—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —î **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏** —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö –Ω–µ –º–æ–∂—É—Ç—å –≤–∏–º–∞–≥–∞—Ç–∏ —ñ–Ω—à—ñ –¥–æ–¥–∞—Ç–∫–∏. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î—Ç—å—Å—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è–º —Ñ–∞–π–ª—É `apple-app-site-association` —É –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ –≤–µ–±—Å–∞–π—Ç—É, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—á–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–∏–π –∑–≤'—è–∑–æ–∫ –º—ñ–∂ –≤–µ–±—Å–∞–π—Ç–æ–º —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–º. –£ –≤–∏–ø–∞–¥–∫–∞—Ö, –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, Safari –≤—ñ–∑—å–º–µ –Ω–∞ —Å–µ–±–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ –≤–µ–±—Å—Ç–æ—Ä—ñ–Ω–∫—É, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∫—É.

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫—ñ–≤ –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–µ–Ω–Ω—è —Ñ–∞–π–ª `apple-app-site-association` —î –æ—Å–æ–±–ª–∏–≤–∏–º —ñ–Ω—Ç–µ—Ä–µ—Å–æ–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –º–æ–∂–µ —Ä–æ–∑–∫—Ä–∏—Ç–∏ **—á—É—Ç–ª–∏–≤—ñ —à–ª—è—Ö–∏**, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –≤–∫–ª—é—á–∞—é—á–∏ —Ç—ñ, —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è –Ω–µ –≤–∏–ø—É—â–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

### **–ê–Ω–∞–ª—ñ–∑ –ø—Ä–∞–≤ –Ω–∞ –∞—Å–æ—Ü—ñ–π–æ–≤–∞–Ω—ñ –¥–æ–º–µ–Ω–∏**

–†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –∞–∫—Ç–∏–≤—É—é—Ç—å —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—á–∏ **–ê—Å–æ—Ü—ñ–π–æ–≤–∞–Ω—ñ –¥–æ–º–µ–Ω–∏** —É –≤–∫–ª–∞–¥—Ü—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π Xcode –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—á–∏ —Ñ–∞–π–ª `.entitlements`. –ö–æ–∂–µ–Ω –¥–æ–º–µ–Ω –º–∞—î –ø—Ä–µ—Ñ—ñ–∫—Å `applinks:`. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Telegram –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```xml
<key>com.apple.developer.associated-domains</key>
<array>
<string>applinks:telegram.me</string>
<string>applinks:t.me</string>
</array>
```
–î–ª—è –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ [–∞—Ä—Ö—ñ–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ Apple](https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html#//apple_ref/doc/uid/TP40016308-CH12-SW2).

–Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–º –¥–æ–¥–∞—Ç–∫–æ–º, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –º–æ–∂–Ω–∞ –≤–∏—Ç—è–≥—Ç–∏, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ [—Ü—å–æ–º—É –ø–æ—Å—ñ–±–Ω–∏–∫—É](extracting-entitlements-from-compiled-application.md).

### **–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–∞–π–ª—É –∞—Å–æ—Ü—ñ–∞—Ü—ñ—ó —Å–∞–π—Ç—É Apple App**

–§–∞–π–ª `apple-app-site-association` —Å–ª—ñ–¥ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑ —Å–µ—Ä–≤–µ—Ä–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–æ–º–µ–Ω–∏, –∑–∞–∑–Ω–∞—á–µ–Ω—ñ –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø—É. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ HTTPS –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑–∞ –∞–¥—Ä–µ—Å–æ—é `https://<domain>/apple-app-site-association`. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Ç–∞–∫—ñ —è–∫ [Apple App Site Association (AASA) Validator](https://branch.io/resources/aasa-validator/), –º–æ–∂—É—Ç—å –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤ —Ü—å–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ.

### **–û–±—Ä–æ–±–∫–∞ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å —É –¥–æ–¥–∞—Ç–∫—É**

–î–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å. –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥, –Ω–∞ —è–∫–∏–π —Å–ª—ñ–¥ –∑–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É, —Ü–µ [`application:continueUserActivity:restorationHandler:`](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623072-application). –í–∞–∂–ª–∏–≤–æ, —â–æ–± —Å—Ö–µ–º–∞ URL, —â–æ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è, –±—É–ª–∞ HTTP –∞–±–æ HTTPS, –æ—Å–∫—ñ–ª—å–∫–∏ —ñ–Ω—à—ñ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è.

#### **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–µ—Ç–æ–¥—É –æ–±—Ä–æ–±–Ω–∏–∫–∞ –¥–∞–Ω–∏—Ö**

–ö–æ–ª–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫, –æ–±'—î–∫—Ç `NSUserActivity` –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫—É –∑ URL. –ü–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é —Ü—å–æ–≥–æ URL –≤–∞–∂–ª–∏–≤–æ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ —Ç–∞ –æ—á–∏—â–∞—Ç–∏ –π–æ–≥–æ, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ —Ä–∏–∑–∏–∫–∞–º –±–µ–∑–ø–µ–∫–∏. –û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –Ω–∞ Swift, —è–∫–∏–π –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ü–µ–π –ø—Ä–æ—Ü–µ—Å:
```swift
func application(_ application: UIApplication, continue userActivity: NSUserActivity,
restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void) -> Bool {
// Check for web browsing activity and valid URL
if userActivity.activityType == NSUserActivityTypeBrowsingWeb, let url = userActivity.webpageURL {
application.open(url, options: [:], completionHandler: nil)
}

return true
}
```
URLs —Å–ª—ñ–¥ —Ä–µ—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, –æ—Å–æ–±–ª–∏–≤–æ —è–∫—â–æ –≤–æ–Ω–∏ –º—ñ—Å—Ç—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —â–æ–± –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏—Å—è –≤—ñ–¥ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ–≥–æ —Å–ø—É—Ñ—ñ–Ω–≥—É –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö. API `NSURLComponents` –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è —Ü—ñ—î—ó –º–µ—Ç–∏, —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂—á–µ:
```swift
func application(_ application: UIApplication,
continue userActivity: NSUserActivity,
restorationHandler: @escaping ([Any]?) -> Void) -> Bool {
guard userActivity.activityType == NSUserActivityTypeBrowsingWeb,
let incomingURL = userActivity.webpageURL,
let components = NSURLComponents(url: incomingURL, resolvingAgainstBaseURL: true),
let path = components.path,
let params = components.queryItems else {
return false
}

if let albumName = params.first(where: { $0.name == "albumname" })?.value,
let photoIndex = params.first(where: { $0.name == "index" })?.value {
// Process the URL with album name and photo index

return true

} else {
// Handle invalid or missing parameters

return false
}
}
```
–ß–µ—Ä–µ–∑ **–¥–±–∞–π–ª–∏–≤—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é** —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏, —â–æ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø–æ–∫—Ä–∞—â—É—é—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ.

## –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
* [GetUniversal.link](https://getuniversal.link/): –î–æ–ø–æ–º–∞–≥–∞—î —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ç–∞ —Ñ–∞–π–ª–æ–º AASA. –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π –¥–æ–º–µ–Ω, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—É AASA, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É –ø–∞–Ω–µ–ª—å –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –ø–æ—Å–∏–ª–∞–Ω—å. –¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–∞–∫–æ–∂ –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∏–∑–Ω–∞—á–∏—Ç–∏, –∫–æ–ª–∏ Apple –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–∞–∑—É –ø—Ä–æ—ñ–Ω–¥–µ–∫—Å—É—î –≤–∞—à —Ñ–∞–π–ª AASA.

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0070/#static-analysis](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0070/#static-analysis)
* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
