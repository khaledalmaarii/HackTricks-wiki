# Xamarin UygulamalarÄ±

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramanla Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam vermek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

Bu, [https://www.appknox.com/security/xamarin-reverse-engineering-a-guide-for-penetration-testers](https://www.appknox.com/security/xamarin-reverse-engineering-a-guide-for-penetration-testers) blog yazÄ±sÄ±nÄ±n Ã¶zeti.

## **Temel Bilgiler**

Xamarin, .NET ve C# Ã§erÃ§evelerini kullanarak iOS, Android ve Windows iÃ§in uygulamalar oluÅŸturmak iÃ§in geliÅŸtiriciler iÃ§in tasarlanmÄ±ÅŸ **aÃ§Ä±k kaynaklÄ± bir platformdur**. Bu platform, modern uygulamalarÄ± verimli bir ÅŸekilde oluÅŸturmak iÃ§in birÃ§ok araÃ§ ve uzantÄ±ya eriÅŸim saÄŸlar.

### Xamarin'in Mimarisi

- **Android** iÃ§in, Xamarin, .NET baÄŸlantÄ±larÄ± aracÄ±lÄ±ÄŸÄ±yla Android ve Java ad alanlarÄ±nÄ± .NET baÄŸlamÄ±na entegre eder ve Android Runtime (ART) ile birlikte Mono yÃ¼rÃ¼tme ortamÄ±nda Ã§alÄ±ÅŸÄ±r. YÃ¶netilen Ã‡aÄŸrÄ±labilir SargÄ±lar (MCW) ve Android Ã‡aÄŸrÄ±labilir SargÄ±lar (ACW), Mono ve ART arasÄ±ndaki iletiÅŸimi kolaylaÅŸtÄ±rÄ±r ve her ikisi de Linux Ã§ekirdeÄŸi Ã¼zerine inÅŸa edilmiÅŸtir.
- **iOS** iÃ§in, uygulamalar Mono Ã§alÄ±ÅŸma zamanÄ± altÄ±nda Ã§alÄ±ÅŸÄ±r ve C# .NET kodunu ARM derlemesine dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in tam Ã–nce Derleme (AOT) derlemesini kullanÄ±r. Bu iÅŸlem, UNIX benzeri bir Ã§ekirdek Ã¼zerinde Objective-C Runtime ile birlikte Ã§alÄ±ÅŸÄ±r.

### .NET Runtime ve Mono Framework

**.NET Ã§erÃ§evesi**, uygulama geliÅŸtirme iÃ§in derlemeleri, sÄ±nÄ±flarÄ± ve ad alanlarÄ±nÄ± iÃ§erir ve kod yÃ¼rÃ¼tmesini yÃ¶neten .NET Runtime'Ä± sunar. Platform baÄŸÄ±msÄ±zlÄ±ÄŸÄ± ve geriye dÃ¶nÃ¼k uyumluluk sunar. **Mono Framework**, .NET Ã§erÃ§evesinin aÃ§Ä±k kaynaklÄ± bir sÃ¼rÃ¼mÃ¼ olup, 2005 yÄ±lÄ±nda .NET'i Linux'a geniÅŸletmek iÃ§in baÅŸlatÄ±lmÄ±ÅŸtÄ±r ve ÅŸu anda Microsoft tarafÄ±ndan desteklenmekte ve Xamarin tarafÄ±ndan yÃ¶netilmektedir.

### Xamarin UygulamalarÄ±nÄ±n Tersine MÃ¼hendisliÄŸi

#### Xamarin Derlemelerinin Dekompilasyonu

Dekompilasyon, derlenmiÅŸ kodu tekrar kaynak koduna dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r. Windows'ta, Visual Studio'daki ModÃ¼ller penceresi, dekompilasyon iÃ§in modÃ¼lleri tanÄ±mlayabilir, Ã¼Ã§Ã¼ncÃ¼ taraf koduna doÄŸrudan eriÅŸim saÄŸlayabilir ve analiz iÃ§in kaynak kodunu Ã§Ä±karabilir.

#### JIT ve AOT Derlemesi

- **Android**, Just-In-Time (JIT) ve Ahead-Of-Time (AOT) derlemesini destekler ve en iyi yÃ¼rÃ¼tme hÄ±zÄ± iÃ§in Hibrit AOT moduna sahiptir. Tam AOT, YÃ¶netici lisanslarÄ±na Ã¶zeldir.
- **iOS**, Apple'Ä±n dinamik kod yÃ¼rÃ¼tme Ã¼zerindeki kÄ±sÄ±tlamalarÄ± nedeniyle yalnÄ±zca AOT derlemesini kullanÄ±r.

### APK/IPA DosyalarÄ±ndan dll DosyalarÄ±nÄ± Ã‡Ä±karma

APK/IPA dosyalarÄ±ndaki derlemelere eriÅŸmek iÃ§in dosyayÄ± aÃ§Ä±n ve derlemeler dizinini keÅŸfedin. Android iÃ§in, [XamAsmUnZ](https://github.com/cihansol/XamAsmUnZ) ve [xamarin-decompress](https://github.com/NickstaDB/xamarin-decompress) gibi araÃ§lar dll dosyalarÄ±nÄ± sÄ±kÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸ halden Ã§Ã¶zebilir.
```bash
python3 xamarin-decompress.py -o /path/to/decompressed/apk
```
Android'deki derleme bloklarÄ± iÃ§in, [pyxamstore](https://github.com/jakev/pyxamstore) onlarÄ± aÃ§abilir.
```bash
pyxamstore unpack -d /path/to/decompressed/apk/assemblies/
```
iOS dll dosyalarÄ± deÅŸifre edilmek iÃ§in kolayca eriÅŸilebilir ve genellikle farklÄ± platformlar arasÄ±nda ortak bir temel paylaÅŸan uygulama kodunun Ã¶nemli bÃ¶lÃ¼mlerini ortaya Ã§Ä±karÄ±r.

### Dinamik Analiz

Dinamik analiz, SSL pinning kontrolÃ¼ yapmayÄ± ve Xamarin uygulamalarÄ±ndaki .NET ikili dosyasÄ±nÄ±n Ã§alÄ±ÅŸma zamanÄ± deÄŸiÅŸiklikleri iÃ§in [Fridax](https://github.com/NorthwaveSecurity/fridax) gibi araÃ§larÄ± kullanmayÄ± iÃ§erir. Frida betikleri, kÃ¶k tespitini veya SSL pinning'i atlamak iÃ§in kullanÄ±labilir ve analiz yeteneklerini artÄ±rÄ±r.

DiÄŸer ilginÃ§ Frida betikleri:

* [**xamarin-antiroot**](https://codeshare.frida.re/@Gand3lf/xamarin-antiroot/)
* [**xamarin-root-detect-bypass**](https://codeshare.frida.re/@nuschpl/xamarin-root-detect-bypass/)
* [**Frida-xamarin-unpin**](https://github.com/GoSecure/frida-xamarin-unpin)


## Daha fazla bilgi
* [https://www.appknox.com/security/xamarin-reverse-engineering-a-guide-for-penetration-testers](https://www.appknox.com/security/xamarin-reverse-engineering-a-guide-for-penetration-testers)
* [https://thecobraden.com/posts/unpacking\_xamarin\_assembly\_stores/](https://thecobraden.com/posts/unpacking\_xamarin\_assembly\_stores/)

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n veya** bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin.**
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n.**

</details>
