# 1080 - Testowanie penetracyjne Socks

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Podstawowe informacje

**SOCKS** to protokÃ³Å‚ uÅ¼ywany do transferu danych miÄ™dzy klientem a serwerem za poÅ›rednictwem proxy. PiÄ…ta wersja, **SOCKS5**, dodaje opcjonalnÄ… funkcjÄ™ uwierzytelniania, umoÅ¼liwiajÄ…cÄ… dostÄ™p tylko autoryzowanym uÅ¼ytkownikom do serwera. GÅ‚Ã³wnie obsÅ‚uguje proxy TCP i przekazywanie pakietÃ³w UDP, dziaÅ‚ajÄ…c na warstwie sesji (warstwa 5) modelu OSI.

**DomyÅ›lny port:** 1080

## Wyliczanie

### Sprawdzenie uwierzytelniania
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
#### UÅ¼ycie podstawowe

Brute Force (Atak siÅ‚owy)

##### Podstawowe uÅ¼ycie
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### Zaawansowane uÅ¼ycie

##### Socks Proxy

A Socks proxy is a protocol that allows a client to establish a connection through a firewall by using a proxy server. It can be used to bypass network restrictions and hide the client's IP address.

##### Proxy Socks

Proxy Socks to protokÃ³Å‚, ktÃ³ry umoÅ¼liwia klientowi nawiÄ…zanie poÅ‚Ä…czenia przez zaporÄ™ sieciowÄ… za pomocÄ… serwera proxy. MoÅ¼e byÄ‡ uÅ¼ywany do omijania ograniczeÅ„ sieciowych i ukrywania adresu IP klienta.

##### Socks Proxy Chains

Socks Proxy Chains is a technique that involves using multiple Socks proxies in a chain to further obfuscate the client's IP address and increase anonymity.

##### ÅaÅ„cuchy Proxy Socks

ÅaÅ„cuchy Proxy Socks to technika polegajÄ…ca na uÅ¼ywaniu wielu serwerÃ³w proxy Socks w Å‚aÅ„cuchu w celu dalszego zaciemnienia adresu IP klienta i zwiÄ™kszenia anonimowoÅ›ci.

##### Socks Over SSH

Socks Over SSH is a method of tunneling Socks traffic through an SSH connection. It provides an encrypted and secure way to use Socks proxies.

##### Socks przez SSH

Socks przez SSH to metoda tunelowania ruchu Socks przez poÅ‚Ä…czenie SSH. Zapewnia szyfrowany i bezpieczny sposÃ³b korzystania z serwerÃ³w proxy Socks.

##### Socks Over Tor

Socks Over Tor is a technique that involves routing Socks traffic through the Tor network. It adds an extra layer of anonymity and can be used to access websites on the dark web.

##### Socks przez Tor

Socks przez Tor to technika polegajÄ…ca na przekierowywaniu ruchu Socks przez sieÄ‡ Tor. Dodaje dodatkowÄ… warstwÄ™ anonimowoÅ›ci i moÅ¼e byÄ‡ uÅ¼ywana do dostÄ™pu do stron internetowych w dark webie.
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
#### Wynik
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## Tunelowanie i przekierowywanie portÃ³w

### Podstawowe uÅ¼ycie proxychains

Skonfiguruj proxychains do uÅ¼ycia proxy socks
```
nano /etc/proxychains4.conf
```
Edytuj na dole i dodaj swÃ³j proxy

```markdown
## Proxy

### Socks Proxy

A socks proxy is a protocol that allows a client to establish a connection through a firewall by using the SOCKS protocol. It can be used to bypass network restrictions and provide anonymity.

#### Types of Socks Proxy

There are two versions of the SOCKS protocol: SOCKS4 and SOCKS5.

##### SOCKS4

SOCKS4 is an older version of the protocol that only supports TCP connections. It does not support authentication and is less secure than SOCKS5.

##### SOCKS5

SOCKS5 is the latest version of the protocol and supports both TCP and UDP connections. It also supports various authentication methods, including username/password and GSSAPI. SOCKS5 is more secure and flexible than SOCKS4.

#### Setting Up a Socks Proxy

To set up a socks proxy, you can use tools like `Proxychains` or `ProxyCap`. These tools allow you to redirect your network traffic through a socks proxy server.

##### Proxychains

Proxychains is a tool that allows you to run any program through a socks proxy. It works by intercepting the network calls made by the program and redirecting them through the proxy server.

To use Proxychains, you need to configure the `proxychains.conf` file with the IP address and port of the socks proxy server. Once configured, you can run any program with the `proxychains` command to route its network traffic through the proxy.

Here is an example of how to use Proxychains to run `nmap` through a socks proxy:

```bash
proxychains nmap -sT -p 80 example.com
```

##### ProxyCap

ProxyCap is a commercial tool that allows you to redirect your network traffic through a socks proxy. It provides a user-friendly interface for configuring the proxy settings and supports both socks4 and socks5 protocols.

To use ProxyCap, you need to add a new proxy server and configure the proxy settings. Once configured, you can enable ProxyCap and all your network traffic will be routed through the socks proxy.

#### Proxy Leaks

When using a socks proxy, it is important to ensure that there are no proxy leaks. A proxy leak occurs when your network traffic bypasses the socks proxy and directly connects to the destination server.

To prevent proxy leaks, you can use tools like `Proxychains` or `ProxyCap` to force all network traffic through the socks proxy. Additionally, you can use tools like `Wireshark` to monitor your network traffic and detect any leaks.

### HTTP Proxy

An HTTP proxy is a protocol that allows a client to send HTTP requests through a proxy server. It can be used to bypass network restrictions and provide caching and filtering capabilities.

#### Setting Up an HTTP Proxy

To set up an HTTP proxy, you can use tools like `Burp Suite` or `OWASP ZAP`. These tools allow you to intercept and modify HTTP requests and responses.

##### Burp Suite

Burp Suite is a popular web application security testing tool that includes an HTTP proxy. It allows you to intercept and modify HTTP requests and responses, making it useful for testing and debugging web applications.

To use Burp Suite as an HTTP proxy, you need to configure your browser or application to use Burp Suite as the proxy server. Once configured, all your HTTP traffic will be intercepted by Burp Suite, allowing you to analyze and modify the requests and responses.

##### OWASP ZAP

OWASP ZAP (Zed Attack Proxy) is another web application security testing tool that includes an HTTP proxy. It provides similar functionality to Burp Suite and can be used for intercepting and modifying HTTP requests and responses.

To use OWASP ZAP as an HTTP proxy, you need to configure your browser or application to use OWASP ZAP as the proxy server. Once configured, all your HTTP traffic will be intercepted by OWASP ZAP, allowing you to analyze and modify the requests and responses.
```

## Proxy

### Proxy Socks

Proxy Socks to protokÃ³Å‚, ktÃ³ry umoÅ¼liwia klientowi nawiÄ…zanie poÅ‚Ä…czenia przez zaporÄ™ ogniowÄ… za pomocÄ… protokoÅ‚u SOCKS. MoÅ¼e byÄ‡ uÅ¼ywany do omijania ograniczeÅ„ sieciowych i zapewniania anonimowoÅ›ci.

#### Rodzaje Proxy Socks

IstniejÄ… dwie wersje protokoÅ‚u SOCKS: SOCKS4 i SOCKS5.

##### SOCKS4

SOCKS4 to starsza wersja protokoÅ‚u, ktÃ³ra obsÅ‚uguje tylko poÅ‚Ä…czenia TCP. Nie obsÅ‚uguje uwierzytelniania i jest mniej bezpieczna niÅ¼ SOCKS5.

##### SOCKS5

SOCKS5 to najnowsza wersja protokoÅ‚u, ktÃ³ra obsÅ‚uguje zarÃ³wno poÅ‚Ä…czenia TCP, jak i UDP. ObsÅ‚uguje rÃ³wnieÅ¼ rÃ³Å¼ne metody uwierzytelniania, w tym nazwa uÅ¼ytkownika/hasÅ‚o i GSSAPI. SOCKS5 jest bardziej bezpieczny i elastyczny niÅ¼ SOCKS4.

#### Konfiguracja Proxy Socks

Aby skonfigurowaÄ‡ proxy socks, moÅ¼na uÅ¼yÄ‡ narzÄ™dzi takich jak `Proxychains` lub `ProxyCap`. NarzÄ™dzia te umoÅ¼liwiajÄ… przekierowanie ruchu sieciowego przez serwer proxy socks.

##### Proxychains

Proxychains to narzÄ™dzie, ktÃ³re umoÅ¼liwia uruchomienie dowolnego programu przez proxy socks. DziaÅ‚a poprzez przechwytywanie wywoÅ‚aÅ„ sieciowych dokonywanych przez program i przekierowywanie ich przez serwer proxy.

Aby uÅ¼yÄ‡ Proxychains, naleÅ¼y skonfigurowaÄ‡ plik `proxychains.conf` z adresem IP i portem serwera proxy socks. Po skonfigurowaniu moÅ¼na uruchomiÄ‡ dowolny program za pomocÄ… polecenia `proxychains`, aby przekierowaÄ‡ jego ruch sieciowy przez proxy.

Oto przykÅ‚ad uÅ¼ycia Proxychains do uruchomienia `nmap` przez proxy socks:

```bash
proxychains nmap -sT -p 80 example.com
```

##### ProxyCap

ProxyCap to komercyjne narzÄ™dzie, ktÃ³re umoÅ¼liwia przekierowanie ruchu sieciowego przez proxy socks. Zapewnia przyjazny interfejs do konfigurowania ustawieÅ„ proxy i obsÅ‚uguje protokoÅ‚y socks4 i socks5.

Aby uÅ¼yÄ‡ ProxyCap, naleÅ¼y dodaÄ‡ nowy serwer proxy i skonfigurowaÄ‡ ustawienia proxy. Po skonfigurowaniu moÅ¼na wÅ‚Ä…czyÄ‡ ProxyCap, a caÅ‚y ruch sieciowy bÄ™dzie kierowany przez proxy socks.

#### Wycieki Proxy

Podczas korzystania z proxy socks waÅ¼ne jest, aby upewniÄ‡ siÄ™, Å¼e nie ma wyciekÃ³w proxy. Wyciek proxy wystÄ™puje, gdy ruch sieciowy omija proxy socks i bezpoÅ›rednio Å‚Ä…czy siÄ™ z serwerem docelowym.

Aby zapobiec wyciekom proxy, moÅ¼na uÅ¼yÄ‡ narzÄ™dzi takich jak `Proxychains` lub `ProxyCap`, aby wymusiÄ‡ przekierowanie caÅ‚ego ruchu sieciowego przez proxy socks. Dodatkowo moÅ¼na uÅ¼yÄ‡ narzÄ™dzi takich jak `Wireshark`, aby monitorowaÄ‡ ruch sieciowy i wykrywaÄ‡ wycieki.

### Proxy HTTP

Proxy HTTP to protokÃ³Å‚, ktÃ³ry umoÅ¼liwia klientowi wysyÅ‚anie Å¼Ä…daÅ„ HTTP przez serwer proxy. MoÅ¼e byÄ‡ uÅ¼ywany do omijania ograniczeÅ„ sieciowych oraz zapewniania moÅ¼liwoÅ›ci buforowania i filtrowania.

#### Konfiguracja Proxy HTTP

Aby skonfigurowaÄ‡ proxy HTTP, moÅ¼na uÅ¼yÄ‡ narzÄ™dzi takich jak `Burp Suite` lub `OWASP ZAP`. NarzÄ™dzia te umoÅ¼liwiajÄ… przechwytywanie i modyfikowanie Å¼Ä…daÅ„ i odpowiedzi HTTP.

##### Burp Suite

Burp Suite to popularne narzÄ™dzie do testowania bezpieczeÅ„stwa aplikacji internetowych, ktÃ³re zawiera proxy HTTP. UmoÅ¼liwia przechwytywanie i modyfikowanie Å¼Ä…daÅ„ i odpowiedzi HTTP, co czyni go przydatnym do testowania i debugowania aplikacji internetowych.

Aby uÅ¼yÄ‡ Burp Suite jako proxy HTTP, naleÅ¼y skonfigurowaÄ‡ przeglÄ…darkÄ™ lub aplikacjÄ™ do korzystania z Burp Suite jako serwera proxy. Po skonfigurowaniu caÅ‚y ruch HTTP bÄ™dzie przechwytywany przez Burp Suite, umoÅ¼liwiajÄ…c analizÄ™ i modyfikacjÄ™ Å¼Ä…daÅ„ i odpowiedzi.

##### OWASP ZAP

OWASP ZAP (Zed Attack Proxy) to kolejne narzÄ™dzie do testowania bezpieczeÅ„stwa aplikacji internetowych, ktÃ³re zawiera proxy HTTP. Zapewnia podobnÄ… funkcjonalnoÅ›Ä‡ jak Burp Suite i moÅ¼e byÄ‡ uÅ¼ywany do przechwytywania i modyfikowania Å¼Ä…daÅ„ i odpowiedzi HTTP.

Aby uÅ¼yÄ‡ OWASP ZAP jako proxy HTTP, naleÅ¼y skonfigurowaÄ‡ przeglÄ…darkÄ™ lub aplikacjÄ™ do korzystania z OWASP ZAP jako serwera proxy. Po skonfigurowaniu caÅ‚y ruch HTTP bÄ™dzie przechwytywany przez OWASP ZAP, umoÅ¼liwiajÄ…c analizÄ™ i modyfikacjÄ™ Å¼Ä…daÅ„ i odpowiedzi.
```
```
socks5 10.10.10.10 1080
```
Z uwierzytelnieniem
```
socks5 10.10.10.10 1080 username password
```
#### WiÄ™cej informacji: [Tunelowanie i przekierowywanie portÃ³w](../generic-methodologies-and-resources/tunneling-and-port-forwarding.md)

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia dla HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
