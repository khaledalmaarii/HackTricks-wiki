# 1080 - Socks Pentesting

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramanla Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## Temel Bilgiler

**SOCKS**, bir istemci ve sunucu arasÄ±nda veri transferi iÃ§in kullanÄ±lan bir protokoldÃ¼r. BeÅŸinci sÃ¼rÃ¼m olan **SOCKS5**, yalnÄ±zca yetkili kullanÄ±cÄ±larÄ±n sunucuya eriÅŸmesine izin veren isteÄŸe baÄŸlÄ± bir kimlik doÄŸrulama Ã¶zelliÄŸi ekler. Temel olarak TCP baÄŸlantÄ±larÄ±nÄ±n proxy'lenmesini ve UDP paketlerinin yÃ¶nlendirilmesini iÅŸler ve OSI modelinin oturum katmanÄ±nda (Katman 5) Ã§alÄ±ÅŸÄ±r.

**VarsayÄ±lan Port:** 1080

## NumaralandÄ±rma

### Kimlik DoÄŸrulama KontrolÃ¼
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
#### Temel kullanÄ±m

Brute Force saldÄ±rÄ±sÄ±, bir hedefin ÅŸifresini veya kimlik doÄŸrulama bilgilerini tahmin etmek iÃ§in sÃ¼rekli olarak farklÄ± kombinasyonlarÄ± denemek amacÄ±yla kullanÄ±lan bir yÃ¶ntemdir. Bu saldÄ±rÄ±, genellikle oturum aÃ§ma sayfalarÄ± veya kimlik doÄŸrulama mekanizmalarÄ± gibi hedefin gÃ¼venlik Ã¶nlemlerini aÅŸmak iÃ§in kullanÄ±lÄ±r.

Brute Force saldÄ±rÄ±sÄ±nÄ± gerÃ§ekleÅŸtirmek iÃ§in, bir saldÄ±rgan genellikle bir kullanÄ±cÄ± adÄ± ve ÅŸifre listesi kullanÄ±r. ArdÄ±ndan, bu listeyi hedef sistemdeki oturum aÃ§ma sayfasÄ±na veya kimlik doÄŸrulama mekanizmasÄ±na uygular. SaldÄ±rgan, doÄŸru kullanÄ±cÄ± adÄ± ve ÅŸifre kombinasyonunu bulana kadar farklÄ± kombinasyonlarÄ± denemeye devam eder.

Bu saldÄ±rÄ± yÃ¶ntemi, hedefin zayÄ±f veya tahmin edilebilir bir ÅŸifre kullanmasÄ± durumunda etkili olabilir. Ancak, gÃ¼Ã§lÃ¼ ÅŸifreleme algoritmalarÄ± ve gÃ¼venlik Ã¶nlemleri kullanÄ±ldÄ±ÄŸÄ±nda Brute Force saldÄ±rÄ±larÄ± daha zor hale gelir.
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### GeliÅŸmiÅŸ kullanÄ±m

In some cases, you may need to perform advanced tasks while using SOCKS proxies. Here are some techniques that can help you in such scenarios:

BazÄ± durumlarda, SOCKS proxy'leri kullanÄ±rken geliÅŸmiÅŸ gÃ¶revleri gerÃ§ekleÅŸtirmeniz gerekebilir. Ä°ÅŸte bÃ¶yle senaryolarda size yardÄ±mcÄ± olabilecek bazÄ± teknikler:

##### 1. Chaining SOCKS proxies

##### 1. SOCKS proxy zincirleme

You can chain multiple SOCKS proxies together to increase your anonymity and bypass certain restrictions. To do this, you need to configure each proxy to forward traffic to the next proxy in the chain. This can be done by specifying the next proxy's IP address and port in the configuration settings of each proxy.

AnonimliÄŸinizi artÄ±rmak ve belirli kÄ±sÄ±tlamalarÄ± aÅŸmak iÃ§in birden fazla SOCKS proxy'yi bir araya getirebilirsiniz. Bunun iÃ§in her bir proxy'i zincirdeki bir sonraki proxy'e trafiÄŸi iletmek Ã¼zere yapÄ±landÄ±rmanÄ±z gerekmektedir. Bu, her bir proxy'nin yapÄ±landÄ±rma ayarlarÄ±nda bir sonraki proxy'nin IP adresini ve portunu belirterek yapÄ±labilir.

##### 2. Using SOCKS proxies with other tools

##### 2. DiÄŸer araÃ§larla SOCKS proxy'lerini kullanma

You can use SOCKS proxies with other tools to enhance your capabilities during a penetration test. For example, you can use a SOCKS proxy with tools like Nmap or Burp Suite to scan or intercept network traffic. To do this, you need to configure the tool to use the SOCKS proxy by specifying its IP address and port.

Bir penetrasyon testi sÄ±rasÄ±nda yeteneklerinizi artÄ±rmak iÃ§in SOCKS proxy'leri diÄŸer araÃ§larla kullanabilirsiniz. Ã–rneÄŸin, Nmap veya Burp Suite gibi araÃ§larÄ± SOCKS proxy ile kullanarak aÄŸ trafiÄŸini taramak veya onu araya girmek iÃ§in kullanabilirsiniz. Bunun iÃ§in, aracÄ± SOCKS proxy'yi kullanacak ÅŸekilde yapÄ±landÄ±rmanÄ±z gerekmektedir. Bu, SOCKS proxy'nin IP adresini ve portunu belirterek yapÄ±labilir.

##### 3. Authenticating SOCKS proxies

##### 3. SOCKS proxy'lerini kimlik doÄŸrulama

Some SOCKS proxies support authentication to provide an additional layer of security. If you are using an authenticated SOCKS proxy, you need to provide the correct username and password in the proxy configuration settings. This ensures that only authorized users can access the proxy.

BazÄ± SOCKS proxy'leri, ek bir gÃ¼venlik katmanÄ± saÄŸlamak iÃ§in kimlik doÄŸrulamayÄ± destekler. EÄŸer kimlik doÄŸrulamalÄ± bir SOCKS proxy kullanÄ±yorsanÄ±z, proxy yapÄ±landÄ±rma ayarlarÄ±nda doÄŸru kullanÄ±cÄ± adÄ± ve ÅŸifreyi saÄŸlamanÄ±z gerekmektedir. Bu, yalnÄ±zca yetkili kullanÄ±cÄ±larÄ±n proxy'ye eriÅŸebileceÄŸini saÄŸlar.

By using these advanced techniques, you can maximize the benefits of SOCKS proxies and improve your penetration testing capabilities.

Bu geliÅŸmiÅŸ teknikleri kullanarak, SOCKS proxy'lerin faydalarÄ±nÄ± maksimize edebilir ve penetrasyon testi yeteneklerinizi geliÅŸtirebilirsiniz.
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
# Pentesting SOCKS

## Introduction

SOCKS (Socket Secure) is a protocol that allows a client to establish a connection through a proxy server. It is commonly used for bypassing network restrictions and anonymizing internet traffic. In this section, we will explore various techniques for pentesting SOCKS servers.

## Enumeration

### Version Detection

To determine the version of the SOCKS server, we can send a `SOCKS5` handshake request and analyze the response. The server will reply with its supported version and authentication methods.

```bash
$ nc -v <target_ip> <target_port>
> 05 01 00
< 05 00
```

If the server responds with `05 00`, it indicates that it supports `SOCKS5` without authentication.

### User Enumeration

To enumerate valid usernames on a SOCKS server, we can use the `USERAUTH` command. By sending a `USERAUTH` request with a specific username, we can determine if the username is valid or not.

```bash
$ nc -v <target_ip> <target_port>
> 05 01 00
< 05 00
> 01 03 61 64 6d 69 6e 00
< 01 00
```

In the above example, we send a `USERAUTH` request with the username `admin`. If the server responds with `01 00`, it means that the username is valid.

## Exploitation

### Proxy Chaining

Proxy chaining involves using multiple SOCKS servers in a chain to route traffic through different proxies. This technique can be used to bypass network restrictions and increase anonymity.

To set up proxy chaining, we need to configure each SOCKS server to forward traffic to the next server in the chain. This can be done by modifying the server's configuration file or using a proxy chaining tool.

### Traffic Analysis

By analyzing the traffic between the client and the SOCKS server, we can gain valuable information about the network infrastructure and potential vulnerabilities. Tools like Wireshark can be used to capture and analyze network traffic.

### Authentication Bypass

If the SOCKS server requires authentication, we can attempt to bypass it by exploiting vulnerabilities in the authentication mechanism. Common techniques include brute-forcing weak passwords, exploiting default credentials, or leveraging authentication bypass vulnerabilities.

## Conclusion

Pentesting SOCKS servers involves enumerating server versions, enumerating valid usernames, exploiting proxy chaining, analyzing network traffic, and bypassing authentication. By understanding these techniques, we can effectively assess the security of SOCKS servers and identify potential vulnerabilities.
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## TÃ¼nelleme ve Port YÃ¶nlendirme

### Temel proxychains kullanÄ±mÄ±

Proxy zincirini ayarlayarak socks proxy kullanÄ±n
```
nano /etc/proxychains4.conf
```
## SOCKS Proxy

A SOCKS proxy is a protocol that allows a client to establish a connection through a firewall to a server located on the other side of the firewall. It can be used to bypass network restrictions and access resources that are otherwise blocked.

### SOCKS Versions

There are several versions of the SOCKS protocol, with the most commonly used being SOCKS4 and SOCKS5.

#### SOCKS4

SOCKS4 is an older version of the protocol that only supports TCP connections. It does not support authentication, which means that anyone who can connect to the proxy can use it to access the internet.

#### SOCKS5

SOCKS5 is the latest version of the protocol and includes several improvements over SOCKS4. It supports both TCP and UDP connections and includes support for authentication. This means that the proxy can be configured to require a username and password before allowing connections.

### Setting Up a SOCKS Proxy

To set up a SOCKS proxy, you will need a server that supports the SOCKS protocol. There are several options available, including both free and paid services.

Once you have a server, you will need to configure your client to use the proxy. This can usually be done through the network settings or by using a proxy client.

### Using a SOCKS Proxy for Pentesting

A SOCKS proxy can be a useful tool for pentesting, as it allows you to route your traffic through a remote server. This can help to hide your identity and location, making it more difficult for defenders to detect and block your activities.

When using a SOCKS proxy for pentesting, it is important to ensure that the proxy is secure and trustworthy. Using an insecure or compromised proxy can expose your traffic to interception and manipulation.

### Conclusion

A SOCKS proxy is a powerful tool that can be used to bypass network restrictions and access resources that are otherwise blocked. It is important to use a secure and trustworthy proxy when using it for pentesting purposes.
```
socks5 10.10.10.10 1080
```
Kimlik doÄŸrulama ile
```
socks5 10.10.10.10 1080 username password
```
#### Daha fazla bilgi iÃ§in: [TÃ¼nel OluÅŸturma ve Port YÃ¶nlendirme](../generic-methodologies-and-resources/tunneling-and-port-forwarding.md)

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
