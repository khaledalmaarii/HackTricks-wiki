# 137,138,139 - NetBios íœí…ŒìŠ¤íŒ…

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

## NetBios ì´ë¦„ ì„œë¹„ìŠ¤

**NetBIOS ì´ë¦„ ì„œë¹„ìŠ¤**ëŠ” **ì´ë¦„ ë“±ë¡ ë° í•´ê²°**, **ë°ì´í„°ê·¸ë¨ ë¶„ë°°**, **ì„¸ì…˜ ì„œë¹„ìŠ¤**ì™€ ê°™ì€ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ì— ê´€ì—¬í•˜ë©°, ê° ì„œë¹„ìŠ¤ì— ëŒ€í•´ íŠ¹ì • í¬íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

[Wikidepiaì—ì„œ](https://en.wikipedia.org/wiki/NetBIOS_over_TCP/IP):

* ì´ë¦„ ë“±ë¡ ë° í•´ê²°ì„ ìœ„í•œ ì´ë¦„ ì„œë¹„ìŠ¤ (í¬íŠ¸: 137/udp ë° 137/tcp).
* ì—°ê²° ì—†ëŠ” í†µì‹ ì„ ìœ„í•œ ë°ì´í„°ê·¸ë¨ ë¶„ë°° ì„œë¹„ìŠ¤ (í¬íŠ¸: 138/udp).
* ì—°ê²° ì§€í–¥ì  í†µì‹ ì„ ìœ„í•œ ì„¸ì…˜ ì„œë¹„ìŠ¤ (í¬íŠ¸: 139/tcp).

### ì´ë¦„ ì„œë¹„ìŠ¤

NetBIOS ë„¤íŠ¸ì›Œí¬ì— ì°¸ì—¬í•˜ë ¤ë©´ ì¥ì¹˜ëŠ” ê³ ìœ í•œ ì´ë¦„ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” "Name Query" íŒ¨í‚·ì„ ë³´ë‚´ëŠ” **ë¸Œë¡œë“œìºìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤**ë¥¼ í†µí•´ ë‹¬ì„±ë©ë‹ˆë‹¤. ì´ì— ëŒ€í•œ ì´ì˜ê°€ ì—†ìœ¼ë©´ ì´ë¦„ì€ ì‚¬ìš© ê°€ëŠ¥í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤. ë˜ëŠ” **ì´ë¦„ ì„œë¹„ìŠ¤ ì„œë²„**ì— ì§ì ‘ ì¡°íšŒí•˜ì—¬ ì´ë¦„ì˜ ê°€ìš©ì„±ì„ í™•ì¸í•˜ê±°ë‚˜ IP ì£¼ì†Œë¡œ ì´ë¦„ì„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `nmblookup`, `nbtscan`, `nmap`ê³¼ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ NetBIOS ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•˜ê³  ì„œë²„ ì´ë¦„ê³¼ MAC ì£¼ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
PORT    STATE SERVICE    VERSION
137/udp open  netbios-ns Samba nmbd netbios-ns (workgroup: WORKGROUP)
```
NetBIOS ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•˜ë©´ ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” ì´ë¦„ê³¼ ì„œë²„ì˜ MAC ì£¼ì†Œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
nmblookup -A <IP>
nbtscan <IP>/30
sudo nmap -sU -sV -T4 --script nbstat.nse -p137 -Pn -n <IP>
```
### ë°ì´í„°ê·¸ë¨ ë¶„ë°° ì„œë¹„ìŠ¤

NetBIOS ë°ì´í„°ê·¸ë¨ì€ UDPë¥¼ í†µí•´ ì—°ê²° ì—†ëŠ” í†µì‹ ì„ ì§€ì›í•˜ë©°, ì§ì ‘ ë©”ì‹œì§• ë˜ëŠ” ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì´ë¦„ì— ëŒ€í•œ ë¸Œë¡œë“œìºìŠ¤íŒ…ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” **138/udp** í¬íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```bash
PORT    STATE         SERVICE     VERSION
138/udp open|filtered netbios-dgm
```
### ì„¸ì…˜ ì„œë¹„ìŠ¤

ì—°ê²° ì§€í–¥ì  ìƒí˜¸ì‘ìš©ì„ ìœ„í•´ **ì„¸ì…˜ ì„œë¹„ìŠ¤**ëŠ” **TCP** ì—°ê²°ì„ í†µí•´ ë‘ ì¥ì¹˜ ê°„ì˜ ëŒ€í™”ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤. ì„¸ì…˜ì€ "ì„¸ì…˜ ìš”ì²­" íŒ¨í‚·ìœ¼ë¡œ ì‹œì‘ë˜ë©° ì‘ë‹µì— ë”°ë¼ ìˆ˜ë¦½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” í° ë©”ì‹œì§€, ì˜¤ë¥˜ ê°ì§€ ë° ë³µêµ¬ë¥¼ ì§€ì›í•˜ë©°, TCPëŠ” íë¦„ ì œì–´ì™€ íŒ¨í‚· ì¬ì „ì†¡ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

ì„¸ì…˜ ë‚´ì—ì„œì˜ ë°ì´í„° ì „ì†¡ì€ **ì„¸ì…˜ ë©”ì‹œì§€ íŒ¨í‚·**ì„ í†µí•´ ì´ë£¨ì–´ì§€ë©°, ì„¸ì…˜ì€ TCP ì—°ê²°ì„ ë‹«ìŒìœ¼ë¡œì¨ ì¢…ë£Œë©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ëŠ” **NetBIOS** ê¸°ëŠ¥ì— í•„ìˆ˜ì ì´ë©°, ë„¤íŠ¸ì›Œí¬ ì „ì²´ì—ì„œ íš¨ìœ¨ì ì¸ í†µì‹ ê³¼ ìì› ê³µìœ ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. TCP ë° IP í”„ë¡œí† ì½œì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ê°ê°ì˜ [TCP Wikipedia](https://en.wikipedia.org/wiki/Transmission_Control_Protocol) ë° [IP Wikipedia](https://en.wikipedia.org/wiki/Internet_Protocol) í˜ì´ì§€ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.
```bash
PORT      STATE SERVICE      VERSION
139/tcp   open  netbios-ssn  Microsoft Windows netbios-ssn
```
**ë‹¤ìŒ í˜ì´ì§€ë¥¼ ì½ì–´ ì´ ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”:**

{% content-ref url="137-138-139-pentesting-netbios.md" %}
[137-138-139-pentesting-netbios.md](137-138-139-pentesting-netbios.md)
{% endcontent-ref %}

## HackTricks ìë™ ëª…ë ¹ì–´
```
Protocol_Name: Netbios    #Protocol Abbreviation if there is one.
Port_Number:  137,138,139     #Comma separated if there is more than one.
Protocol_Description: Netbios         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for NetBios
Note: |
Name service for name registration and resolution (ports: 137/udp and 137/tcp).
Datagram distribution service for connectionless communication (port: 138/udp).
Session service for connection-oriented communication (port: 139/tcp).

For a device to participate in a NetBIOS network, it must have a unique name. This is achieved through a broadcast process where a "Name Query" packet is sent. If no objections are received, the name is considered available. Alternatively, a Name Service server can be queried directly to check for name availability or to resolve a name to an IP address.

https://book.hacktricks.xyz/pentesting/137-138-139-pentesting-netbios

Entry_2:
Name: Find Names
Description: Three scans to find the names of the server
Command: nmblookup -A {IP} &&&& nbtscan {IP}/30 &&&& nmap -sU -sV -T4 --script nbstat.nse -p 137 -Pn -n {IP}
```
<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>
