```markdown
<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWSçº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>


# TNS Poison

å¦‚æœæ‚¨é‡åˆ°äº†æ›´æ–°ç‰ˆæœ¬çš„ç›‘å¬å™¨ï¼Œé™¤äº†æš´åŠ›ç ´è§£ä¹‹å¤–ï¼Œæ²¡æœ‰å¤ªå¤šçš„ä½™åœ°ã€‚ç„¶è€Œï¼Œæ‰€æœ‰ç‰ˆæœ¬ç›´åˆ°12cç‰ˆæœ¬éƒ½å®¹æ˜“å—åˆ°ä¸€ç§ç§°ä¸ºâ€˜TNS Poisonâ€™çš„æ”»å‡»ã€‚å°½ç®¡åæ¥çš„ç‰ˆæœ¬åªåœ¨æŸäº›ç‰¹æ®Šé…ç½®ä¸‹å®¹æ˜“å—åˆ°æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œä¿®å¤æ­¤æ¼æ´çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ç¦ç”¨ç›‘å¬å™¨çš„åŠ¨æ€é…ç½®ï¼Œè¿™åœ¨ä½¿ç”¨Oracle DataGuardã€PL/SQL Gatewayä¸APEXè¿æ¥ä»¥åŠæŸäº›ç‰ˆæœ¬çš„SAPæ—¶æ˜¯ä¸å¯èƒ½çš„ã€‚æ€»çš„æ¥è¯´ï¼Œé—®é¢˜åœ¨äºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç›‘å¬æœåŠ¡æ”¯æŒè¿œç¨‹é…ç½®ï¼Œå¹¶ä¸”å®ƒå…è®¸åŒ¿åè¿›è¡Œã€‚è¿™å°±æ˜¯æ¼æ´çš„æ ¸å¿ƒæ‰€åœ¨ã€‚

[![å›¾ 1. TNS Poison æ¼æ´](https://hackmag.com/wp-content/uploads/2015/04/poison.png)](https://hackmag.com/wp-content/uploads/2015/04/poison.png)

å›¾ 1. TNS Poison æ¼æ´

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹æ”»å‡»ç®—æ³• \(è§å›¾ 1\):

* å‘é€ä»¥ä¸‹TNSæŸ¥è¯¢ï¼šâ€˜CONNECT\_DATA=\(COMMAND=SERVICE\_REGISTER\_NSGR\)\)â€™ã€‚
* æ˜“å—æ”»å‡»çš„æœåŠ¡å™¨å°†å›åº”ï¼šâ€˜\(DESCRIPTION=\(TMP=\)\)â€™ã€‚è¿™å°†æ˜¯æ‰“è¿‡è¡¥ä¸çš„æœåŠ¡å™¨çš„å›ç­”ï¼šâ€˜\(ERROR\_STACK=\(ERROR=1194\)\)â€™ã€‚
* ç”Ÿæˆä¸€ä¸ªé…ç½®åŒ…ï¼ŒåŒ…å«æ–°ç›‘å¬å™¨çš„SIDå’ŒIPï¼ˆç”¨äºæœªæ¥çš„MITMï¼‰ã€‚å½“å‰SIDåç§°ä¸­çš„å­—ç¬¦æ•°é‡è‡³å…³é‡è¦ã€‚æ‚¨éœ€è¦çŸ¥é“å®ƒï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ ¼å¼æ­£ç¡®çš„åŒ…æ‰€ä¾èµ–çš„ã€‚
* æ¥ä¸‹æ¥ï¼Œå°†æ‰€æœ‰è¿™äº›å¥½ä¸œè¥¿å‘é€ç»™ç›‘å¬å™¨ã€‚
* å¦‚æœä¸€åˆ‡æ­£ç¡®ï¼Œé‚£ä¹ˆæ‰€æœ‰æ–°çš„è¿æ¥éƒ½å°†é€šè¿‡æ‚¨æ§åˆ¶çš„IPç”±ç›‘å¬å™¨è½¬å‘ã€‚

é‡è¦çš„æ˜¯ä¸è¦å¿˜è®°å¯ç”¨æŸ¥è¯¢ä»£ç†ï¼ˆå¦‚Linuxä¸­çš„IP\_forwardingï¼‰ï¼Œå¦åˆ™ï¼Œæ‚¨å°†å¾—åˆ°ä¸€ä¸ªç²—ç³™çš„DoSæ”»å‡»ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•´æ´çš„MITMæ”»å‡»ï¼Œå› ä¸ºæ–°å®¢æˆ·ç«¯å°†æ— æ³•è¿æ¥åˆ°æ•°æ®åº“ã€‚ç»“æœï¼Œæ”»å‡»è€…å¯ä»¥åœ¨å¦ä¸€ä¸ªç”¨æˆ·çš„ä¼šè¯ä¸­åµŒå…¥ä»–ä»¬è‡ªå·±çš„å‘½ä»¤ã€‚**æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹MSFæ¨¡å—æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å®¹æ˜“å—åˆ°æ”»å‡»ï¼šâ€˜auxiliary/scanner/oracle/tnspoison\_checkerâ€™ã€‚**

æœ¬é¡µå†…å®¹æ‘˜è‡ªæ­¤å¤„ï¼š[https://hackmag.com/uncategorized/looking-into-methods-to-penetrate-oracle-db/](https://hackmag.com/uncategorized/looking-into-methods-to-penetrate-oracle-db/)

**å¦ä¸€ç§æµ‹è¯•æ–¹å¼ï¼š**
```
```text
./odat.py tnspoison -s <IP> -p <PORT> -d <SID> --test-module
```
<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼Œé€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
