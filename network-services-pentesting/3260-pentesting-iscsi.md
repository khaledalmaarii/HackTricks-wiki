# 3260 - Pentesting ISCSI

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

From [Wikipedia](https://en.wikipedia.org/wiki/ISCSI):

> In computing, **iSCSI** is an acronym for **Internet Small Computer Systems Interface**, ‡§è‡§ï ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ï‡•â‡§≤ (IP)-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï‡§ø‡§Ç‡§ó ‡§Æ‡§æ‡§®‡§ï ‡§ú‡•ã ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π TCP/IP ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§™‡§∞ SCSI ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§≤‡•á ‡§ú‡§æ‡§ï‡§∞ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§°‡§ø‡§µ‡§æ‡§á‡§∏ ‡§§‡§ï ‡§¨‡•ç‡§≤‡•â‡§ï-‡§∏‡•ç‡§§‡§∞‡•Ä‡§Ø ‡§™‡§π‡•Å‡§Ç‡§ö ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ iSCSI ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§°‡•á‡§ü‡§æ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡§∞ ‡§ï‡•ã ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ú‡§®‡§ï ‡§¨‡§®‡§æ‡§®‡•á ‡§î‡§∞ ‡§≤‡§Ç‡§¨‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§™‡§∞ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï (LANs), ‡§µ‡§æ‡§á‡§° ‡§è‡§∞‡§ø‡§Ø‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï (WANs), ‡§Ø‡§æ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§™‡§∞ ‡§°‡•á‡§ü‡§æ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ø‡§π ‡§∏‡•ç‡§•‡§æ‡§®-‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§î‡§∞ ‡§™‡•Å‡§®‡§∞‡•ç‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø ‡§ï‡•ã ‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§
>
> ‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ï‡•â‡§≤ ‡§ï‡•ç‡§≤‡§æ‡§á‡§Ç‡§ü (‡§ú‡§ø‡§®‡•ç‡§π‡•á‡§Ç ‡§á‡§®‡§ø‡§∂‡§ø‡§è‡§ü‡§∞‡•ç‡§∏ ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à) ‡§ï‡•ã ‡§¶‡•Ç‡§∞‡§∏‡•ç‡§• ‡§∏‡§∞‡•ç‡§µ‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§°‡§ø‡§µ‡§æ‡§á‡§∏ (‡§ü‡§æ‡§∞‡§ó‡•á‡§ü‡•ç‡§∏) ‡§ï‡•ã SCSI ‡§ï‡§Æ‡§æ‡§Ç‡§° (CDBs) ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§è‡§ï ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§è‡§∞‡§ø‡§Ø‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï (SAN) ‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ï‡•â‡§≤ ‡§π‡•à, ‡§ú‡•ã ‡§∏‡§Ç‡§ó‡§†‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§ï‡•ã ‡§∏‡•ç‡§ü‡•ã‡§∞‡•á‡§ú ‡§è‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡•á‡§ï‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ú‡§¨‡§ï‡§ø ‡§ï‡•ç‡§≤‡§æ‡§á‡§Ç‡§ü (‡§ú‡•à‡§∏‡•á ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§î‡§∞ ‡§µ‡•á‡§¨ ‡§∏‡§∞‡•ç‡§µ‡§∞) ‡§ï‡•ã ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á SCSI ‡§°‡§ø‡§∏‡•ç‡§ï ‡§ï‡§æ ‡§≠‡•ç‡§∞‡§Æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§´‡§æ‡§á‡§¨‡§∞ ‡§ö‡•à‡§®‡§≤ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§™‡•ç‡§∞‡§§‡§ø‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§™‡§æ‡§∞‡§Ç‡§™‡§∞‡§ø‡§ï ‡§´‡§æ‡§á‡§¨‡§∞ ‡§ö‡•à‡§®‡§≤ ‡§ï‡•á ‡§µ‡§ø‡§™‡§∞‡•Ä‡§§, ‡§ú‡§ø‡§∏‡•á ‡§Ü‡§Æ‡§§‡•å‡§∞ ‡§™‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§ ‡§ï‡•á‡§¨‡§≤‡§ø‡§Ç‡§ó ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à, iSCSI ‡§ï‡•ã ‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§Ö‡§µ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§≤‡§Ç‡§¨‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§™‡§∞ ‡§ö‡§≤‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§

**Default port:** 3260
```
PORT     STATE SERVICE VERSION
3260/tcp open  iscsi?
```
## ‡§ó‡§£‡§®‡§æ
```
nmap -sV --script=iscsi-info -p 3260 192.168.xx.xx
```
‡§Ø‡§π ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§Ø‡§π ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§ï‡§∞‡•á‡§ó‡•Ä ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•Ä‡§ï‡§∞‡§£ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§

### [Brute force](../generic-methodologies-and-resources/brute-force.md#iscsi)

### [Mount ISCSI on Linux](https://www.synology.com/en-us/knowledgebase/DSM/tutorial/Virtualization/How\_to\_set\_up\_and\_use\_iSCSI\_target\_on\_Linux)

**Note:** ‡§Ü‡§™ ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§ú‡§¨ ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§§‡•ã ‡§µ‡•á ‡§è‡§ï ‡§Ö‡§≤‡§ó IP ‡§™‡§§‡•á ‡§ï‡•á ‡§§‡§π‡§§ ‡§∏‡•Ç‡§ö‡•Ä‡§¨‡§¶‡•ç‡§ß ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§§‡§¨ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡§¨ iSCSI ‡§∏‡•á‡§µ‡§æ NAT ‡§Ø‡§æ ‡§è‡§ï ‡§Ü‡§≠‡§æ‡§∏‡•Ä IP ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§ê‡§∏‡•á ‡§Æ‡§æ‡§Æ‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç, `iscsiadmin` ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡•á‡§ó‡§æ‡•§ ‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•ã ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§® ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à: ‡§è‡§ï ‡§Ü‡§™‡§ï‡•á ‡§ñ‡•ã‡§ú ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡§®‡§æ‡§è ‡§ó‡§è ‡§®‡•ã‡§° ‡§ï‡•á ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§Æ‡•á‡§Ç, ‡§î‡§∞ ‡§è‡§ï ‡§á‡§∏ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§Æ‡•á‡§Ç ‡§Æ‡•å‡§ú‡•Ç‡§¶ `default` ‡§´‡§º‡§æ‡§á‡§≤ ‡§Æ‡•á‡§Ç‡•§

‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™ 123.123.123.123 ‡§™‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü 3260 ‡§™‡§∞ ‡§è‡§ï iSCSI ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ iSCSI ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç 192.168.1.2 ‡§™‡§∞ ‡§π‡•à ‡§≤‡•á‡§ï‡§ø‡§® NAT ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§ isciadm _‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï_ ‡§™‡§§‡•á ‡§ï‡•ã _‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï_ ‡§™‡§§‡•á ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø ‡§™‡§Ç‡§ú‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡•á‡§ó‡§æ:
```
iscsiadm -m discovery -t sendtargets -p 123.123.123.123:3260
192.168.1.2:3260,1 iqn.1992-05.com.emc:fl1001433000190000-3-vnxe
[...]
```
‡§Ø‡§π ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§Ü‡§™‡§ï‡•á ‡§´‡§º‡§æ‡§á‡§≤ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§Æ‡•á‡§Ç ‡§á‡§∏ ‡§§‡§∞‡§π ‡§è‡§ï ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§¨‡§®‡§æ‡§è‡§ó‡§æ:
```
/etc/iscsi/nodes/iqn.1992-05.com.emc:fl1001433000190000-3-vnxe/192.168.1.2\,3260\,1/
```
‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü‡§∞‡•Ä ‡§ï‡•á ‡§≠‡•Ä‡§§‡§∞, ‡§è‡§ï ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§´‡§º‡§æ‡§á‡§≤ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§≤‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§π‡•à‡§Ç‡•§

1. `/etc/iscsi/nodes/iqn.1992-05.com.emc:fl1001433000190000-3-vnxe/192.168.1.2\,3260\,1/` ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§¶‡§≤‡§ï‡§∞ `/etc/iscsi/nodes/iqn.1992-05.com.emc:fl1001433000190000-3-vnxe/123.123.123.123\,3260\,1/` ‡§ï‡§∞‡•á‡§Ç‡•§
2. `/etc/iscsi/nodes/iqn.1992-05.com.emc:fl1001433000190000-3-vnxe/123.123.123.123\,3260\,1/default` ‡§ï‡•á ‡§≠‡•Ä‡§§‡§∞, `node.conn[0].address` ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó ‡§ï‡•ã 192.168.1.2 ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø 123.123.123.123 ‡§ï‡•Ä ‡§ì‡§∞ ‡§á‡§Ç‡§ó‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§¶‡§≤‡•á‡§Ç‡•§ ‡§Ø‡§π `sed -i 's/192.168.1.2/123.123.123.123/g' /etc/iscsi/nodes/iqn.1992-05.com.emc:fl1001433000190000-3-vnxe/123.123.123.123\,3260\,1/default` ‡§ú‡•à‡§∏‡•á ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§

‡§Ü‡§™ ‡§Ö‡§¨ ‡§≤‡§ø‡§Ç‡§ï ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§è ‡§ó‡§è ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§≤‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡•ã ‡§Æ‡§æ‡§â‡§Ç‡§ü ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§

### [Windows ‡§™‡§∞ ISCSI ‡§Æ‡§æ‡§â‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee338476\(v=ws.10\)?redirectedfrom=MSDN)

## **‡§Æ‡•à‡§®‡•Å‡§Ö‡§≤ ‡§è‡§®‡•ç‡§Ø‡•Ç‡§Æ‡§∞‡•á‡§∂‡§®**
```bash
sudo apt-get install open-iscsi
```
Example from [iscsiadm docs](https://ptestmethod.readthedocs.io/en/latest/LFF-IPS-P2-VulnerabilityAnalysis.html#iscsiadm):

‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§Ü‡§™‡§ï‡•ã **‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡•ã‡§Ç** ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§ï‡•ã IP ‡§ï‡•á ‡§™‡•Ä‡§õ‡•á **‡§ñ‡•ã‡§ú‡§®‡•á** ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à:
```bash
iscsiadm -m discovery -t sendtargets -p 123.123.123.123:3260
123.123.123.123:3260,1 iqn.1992-05.com.emc:fl1001433000190000-3-vnxe
[2a01:211:7b7:1223:211:32ff:fea9:fab9]:3260,1 iqn.2000-01.com.synology:asd3.Target-1.d0280fd382
[fe80::211:3232:fab9:1223]:3260,1 iqn.2000-01.com.synology:Oassdx.Target-1.d0280fd382
```
_‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç ‡§ï‡§ø ‡§Ø‡§π ‡§â‡§® **‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡•ã‡§Ç** ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è **‡§á‡§Ç‡§ü‡§∞‡§´‡•á‡§∏** ‡§ï‡§æ I**P ‡§î‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü** ‡§¶‡§ø‡§ñ‡§æ‡§è‡§ó‡§æ‡•§ ‡§Ø‡§π ‡§Ø‡§π‡§æ‡§Ç ‡§§‡§ï ‡§ï‡§ø **‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï IPs ‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§è ‡§ó‡§è IP ‡§∏‡•á ‡§Ö‡§≤‡§ó IPs** ‡§≠‡•Ä ‡§¶‡§ø‡§ñ‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§_

‡§´‡§ø‡§∞ ‡§Ü‡§™ **‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§ï‡•á ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§ø‡§§ ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á 2nd ‡§≠‡§æ‡§ó ‡§ï‡•ã ‡§™‡§ï‡§°‡§º‡§§‡•á ‡§π‡•à‡§Ç** (_iqn.1992-05.com.emc:fl1001433000190000-3-vnxe_ ‡§™‡§π‡§≤‡•á ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§∏‡•á) ‡§î‡§∞ **‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç**:
```bash
iscsiadm -m node --targetname="iqn.1992-05.com.emc:fl1001433000190000-3-vnxe" -p 123.123.123.123:3260 --login
Logging in to [iface: default, target: iqn.1992-05.com.emc:fl1001433000190000-3-vnxe, portal: 123.123.123.123,3260] (multiple)
Login to [iface: default, target: iqn.1992-05.com.emc:fl1001433000190000-3-vnxe, portal: 123.123.123.123,3260] successful.
```
‡§´‡§ø‡§∞, ‡§Ü‡§™ `‚Äìlogout` ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á **logout** ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
```bash
iscsiadm -m node --targetname="iqn.1992-05.com.emc:fl1001433000190000-3-vnxe" -p 123.123.123.123:3260 --logout
Logging out of session [sid: 6, target: iqn.1992-05.com.emc:fl1001433000190000-3-vnxe, portal: 123.123.123.123,3260]
Logout of [sid: 6, target: iqn.1992-05.com.emc:fl1001433000190000-3-vnxe, portal: 123.123.123.123,3260] successful.
```
‡§π‡§Æ ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç **‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä** ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§¨‡§∏ **‡§¨‡§ø‡§®‡§æ** ‡§ï‡§ø‡§∏‡•Ä `--login`/`--logout` ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§è‡•§
```bash
iscsiadm -m node --targetname="iqn.1992-05.com.emc:fl1001433000190000-3-vnxe" -p 123.123.123.123:3260
# BEGIN RECORD 2.0-873
node.name = iqn.1992-05.com.emc:fl1001433000190000-3-vnxe
node.tpgt = 1
node.startup = manual
node.leading_login = No
iface.hwaddress = <empty>
iface.ipaddress = <empty>
iface.iscsi_ifacename = default
iface.net_ifacename = <empty>
iface.transport_name = tcp
iface.initiatorname = <empty>
iface.bootproto = <empty>
iface.subnet_mask = <empty>
iface.gateway = <empty>
iface.ipv6_autocfg = <empty>
iface.linklocal_autocfg = <empty>
iface.router_autocfg = <empty>
iface.ipv6_linklocal = <empty>
iface.ipv6_router = <empty>
iface.state = <empty>
iface.vlan_id = 0
iface.vlan_priority = 0
iface.vlan_state = <empty>
iface.iface_num = 0
iface.mtu = 0
iface.port = 0
node.discovery_address = 192.168.xx.xx
node.discovery_port = 3260
node.discovery_type = send_targets
node.session.initial_cmdsn = 0
node.session.initial_login_retry_max = 8
node.session.xmit_thread_priority = -20
node.session.cmds_max = 128
node.session.queue_depth = 32
node.session.nr_sessions = 1
node.session.auth.authmethod = None
node.session.auth.username = <empty>
node.session.auth.password = <empty>
node.session.auth.username_in = <empty>
node.session.auth.password_in = <empty>
node.session.timeo.replacement_timeout = 120
node.session.err_timeo.abort_timeout = 15
node.session.err_timeo.lu_reset_timeout = 30
node.session.err_timeo.tgt_reset_timeout = 30
node.session.err_timeo.host_reset_timeout = 60
node.session.iscsi.FastAbort = Yes
node.session.iscsi.InitialR2T = No
node.session.iscsi.ImmediateData = Yes
node.session.iscsi.FirstBurstLength = 262144
node.session.iscsi.MaxBurstLength = 16776192
node.session.iscsi.DefaultTime2Retain = 0
node.session.iscsi.DefaultTime2Wait = 2
node.session.iscsi.MaxConnections = 1
node.session.iscsi.MaxOutstandingR2T = 1
node.session.iscsi.ERL = 0
node.conn[0].address = 192.168.xx.xx
node.conn[0].port = 3260
node.conn[0].startup = manual
node.conn[0].tcp.window_size = 524288
node.conn[0].tcp.type_of_service = 0
node.conn[0].timeo.logout_timeout = 15
node.conn[0].timeo.login_timeout = 15
node.conn[0].timeo.auth_timeout = 45
node.conn[0].timeo.noop_out_interval = 5
node.conn[0].timeo.noop_out_timeout = 5
node.conn[0].iscsi.MaxXmitDataSegmentLength = 0
node.conn[0].iscsi.MaxRecvDataSegmentLength = 262144
node.conn[0].iscsi.HeaderDigest = None
node.conn[0].iscsi.DataDigest = None
node.conn[0].iscsi.IFMarker = No
node.conn[0].iscsi.OFMarker = No
# END RECORD
```
**‡§¨‡•Å‡§®‡§ø‡§Ø‡§æ‡§¶‡•Ä ‡§∏‡§¨‡§®‡•á‡§ü ‡§è‡§®‡•ç‡§Ø‡•Ç‡§Æ‡§∞‡•á‡§∂‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à** [**iscsiadm**](https://github.com/bitvijays/Pentest-Scripts/tree/master/Vulnerability\_Analysis/isciadm)

## **Shodan**

* `port:3260 AuthMethod`

## **References**

* [https://bitvijays.github.io/LFF-IPS-P2-VulnerabilityAnalysis.html](https://bitvijays.github.io/LFF-IPS-P2-VulnerabilityAnalysis.html)
* [https://ptestmethod.readthedocs.io/en/latest/LFF-IPS-P2-VulnerabilityAnalysis.html#iscsiadm](https://ptestmethod.readthedocs.io/en/latest/LFF-IPS-P2-VulnerabilityAnalysis.html#iscsiadm)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
