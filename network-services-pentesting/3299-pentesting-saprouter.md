<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
```text
PORT     STATE SERVICE    VERSION
3299/tcp open  saprouter?
```
## Metasploit ile SAProuter SÄ±zma Testi Anlama

SAProuter, SAP sistemleri iÃ§in bir ters proxy olarak Ã§alÄ±ÅŸÄ±r ve genellikle internet ile iÃ§ SAP aÄŸlarÄ± arasÄ±ndaki eriÅŸimi kontrol etmek iÃ§in kullanÄ±lÄ±r. Organizasyonel gÃ¼venlik duvarlarÄ± aracÄ±lÄ±ÄŸÄ±yla TCP port 3299'a izin verilerek genellikle internete aÃ§Ä±k hale getirilir. Bu yapÄ±landÄ±rma, SAProuter'Ä±n yÃ¼ksek deÄŸerli iÃ§ aÄŸlara bir geÃ§it olarak hizmet edebileceÄŸi iÃ§in sÄ±zma testi iÃ§in Ã§ekici bir hedef haline gelir.

**Tarama ve Bilgi Toplama**

Ä°lk olarak, **sap_service_discovery** modÃ¼lÃ¼ kullanÄ±larak belirli bir IP Ã¼zerinde SAP router'Ä±n Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± tespit etmek iÃ§in bir tarama yapÄ±lÄ±r. Bu adÄ±m, bir SAP router'Ä±n varlÄ±ÄŸÄ±nÄ± ve aÃ§Ä±k portunu belirlemek iÃ§in Ã¶nemlidir.
```text
msf> use auxiliary/scanner/sap/sap_service_discovery
msf auxiliary(sap_service_discovery) > set RHOSTS 1.2.3.101
msf auxiliary(sap_service_discovery) > run
```
KeÅŸif yapÄ±ldÄ±ktan sonra, iÃ§ aÄŸ ayrÄ±ntÄ±larÄ±nÄ± ortaya Ã§Ä±karmak iÃ§in SAP yÃ¶nlendiricisinin yapÄ±landÄ±rmasÄ±yla ilgili daha fazla araÅŸtÄ±rma yapÄ±lÄ±r. Bunun iÃ§in **sap_router_info_request** modÃ¼lÃ¼ kullanÄ±lÄ±r.
```text
msf auxiliary(sap_router_info_request) > use auxiliary/scanner/sap/sap_router_info_request
msf auxiliary(sap_router_info_request) > set RHOSTS 1.2.3.101
msf auxiliary(sap_router_info_request) > run
```
**Dahili Hizmetleri SÄ±ralama**

Elde edilen dahili aÄŸ bilgileriyle, **sap_router_portscanner** modÃ¼lÃ¼ kullanÄ±larak SAProuter Ã¼zerinden dahili ana bilgisayarlarÄ± ve hizmetleri sorgulanÄ±r, bu da dahili aÄŸlar ve hizmet yapÄ±landÄ±rmalarÄ± hakkÄ±nda daha derin bir anlayÄ±ÅŸ saÄŸlar.
```text
msf auxiliary(sap_router_portscanner) > set INSTANCES 00-50
msf auxiliary(sap_router_portscanner) > set PORTS 32NN
```
Bu modÃ¼lÃ¼n, belirli SAP Ã¶rneklerini ve baÄŸlantÄ± noktalarÄ±nÄ± hedefleme esnekliÄŸi, ayrÄ±ntÄ±lÄ± iÃ§ aÄŸ keÅŸfi iÃ§in etkili bir araÃ§ yapar.

**GeliÅŸmiÅŸ NumaralandÄ±rma ve ACL Haritalama**

Daha ileri tarama, SAProuter Ã¼zerindeki EriÅŸim Kontrol Listelerinin (ACL'lerin) nasÄ±l yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ±nÄ± ortaya Ã§Ä±karabilir ve hangi baÄŸlantÄ±larÄ±n izin verildiÄŸini veya engellendiÄŸini detaylandÄ±rabilir. Bu bilgi, gÃ¼venlik politikalarÄ±nÄ± ve potansiyel gÃ¼venlik aÃ§Ä±klarÄ±nÄ± anlamak iÃ§in Ã¶nemlidir.
```text
msf auxiliary(sap_router_portscanner) > set MODE TCP
msf auxiliary(sap_router_portscanner) > set PORTS 80,32NN
```
**Ä°Ã§ HostlarÄ±n KÃ¶r NumaralandÄ±rÄ±lmasÄ±**

SAProuter'dan doÄŸrudan bilgi almanÄ±n sÄ±nÄ±rlÄ± olduÄŸu senaryolarda, kÃ¶r numaralandÄ±rma gibi teknikler uygulanabilir. Bu yaklaÅŸÄ±m, doÄŸrudan IP adresleri olmadan iÃ§ host adlarÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± tahmin etmeye ve doÄŸrulamaya Ã§alÄ±ÅŸarak potansiyel hedefleri ortaya Ã§Ä±karÄ±r.

**SÄ±zma Testi iÃ§in Bilgileri Kullanma**

AÄŸÄ±n haritalandÄ±rÄ±lmasÄ± ve eriÅŸilebilir hizmetlerin belirlenmesi sonrasÄ±nda, sÄ±zma testÃ§ileri, iÃ§ SAP hizmetlerinin daha fazla keÅŸfi ve sÃ¶mÃ¼rÃ¼sÃ¼ iÃ§in Metasploit'in proxy yeteneklerini SAProuter Ã¼zerinden kullanabilir.
```text
msf auxiliary(sap_hostctrl_getcomputersystem) > set Proxies sapni:1.2.3.101:3299
msf auxiliary(sap_hostctrl_getcomputersystem) > set RHOSTS 192.168.1.18
msf auxiliary(sap_hostctrl_getcomputersystem) > run
```
**SonuÃ§**

Bu yaklaÅŸÄ±m, gÃ¼venli SAProuter yapÄ±landÄ±rmalarÄ±nÄ±n Ã¶nemini vurgulamakta ve hedefe yÃ¶nelik penetrasyon testleri aracÄ±lÄ±ÄŸÄ±yla iÃ§ aÄŸlara eriÅŸim potansiyelini ortaya koymaktadÄ±r. SAP yÃ¶nlendiricilerini doÄŸru ÅŸekilde gÃ¼vence altÄ±na almak ve aÄŸ gÃ¼venliÄŸi mimarisindeki rolÃ¼nÃ¼ anlamak, yetkisiz eriÅŸime karÅŸÄ± korunmak iÃ§in Ã¶nemlidir.

Daha detaylÄ± bilgi iÃ§in Metasploit modÃ¼llerine ve kullanÄ±mlarÄ±na [Rapid7 veritabanÄ±nÄ±](http://www.rapid7.com/db) ziyaret edebilirsiniz.


## **Referanslar**

* [https://www.rapid7.com/blog/post/2014/01/09/piercing-saprouter-with-metasploit/](https://www.rapid7.com/blog/post/2014/01/09/piercing-saprouter-with-metasploit/)

## Shodan

* `port:3299 !HTTP Network packet too big`



<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
