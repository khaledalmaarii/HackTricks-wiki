<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)

- **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **é€šè¿‡å‘[hacktricks repo](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>


# åè®®ä¿¡æ¯

**BACnet**æ˜¯ä¸€ç§ç”¨äºå»ºç­‘è‡ªåŠ¨åŒ–å’Œæ§åˆ¶ï¼ˆBACï¼‰ç½‘ç»œçš„[é€šä¿¡åè®®](https://en.wikipedia.org/wiki/Communications_protocol)ï¼Œåˆ©ç”¨äº†[ASHRAE](https://en.wikipedia.org/wiki/ASHRAE)ã€[ANSI](https://en.wikipedia.org/wiki/ANSI)å’Œ[ISO](https://en.wikipedia.org/wiki/International_Organization_for_Standardization) 16484-5æ ‡å‡†[\[1\]](https://en.wikipedia.org/wiki/BACnet#cite_note-1)åè®®ã€‚

BACnetæ—¨åœ¨å…è®¸å»ºç­‘è‡ªåŠ¨åŒ–å’Œæ§åˆ¶ç³»ç»Ÿè¿›è¡Œé€šä¿¡ï¼Œç”¨äºåº”ç”¨ç¨‹åºï¼Œå¦‚ä¾›æš–ã€é€šé£å’Œç©ºè°ƒæ§åˆ¶ï¼ˆ[HVAC](https://en.wikipedia.org/wiki/HVAC)ï¼‰ã€ç…§æ˜æ§åˆ¶ã€é—¨ç¦æ§åˆ¶å’Œç«ç¾æ£€æµ‹ç³»ç»ŸåŠå…¶ç›¸å…³è®¾å¤‡ã€‚BACnetåè®®æä¾›äº†è®¡ç®—æœºåŒ–å»ºç­‘è‡ªåŠ¨åŒ–è®¾å¤‡äº¤æ¢ä¿¡æ¯çš„æœºåˆ¶ï¼Œæ— è®ºå®ƒä»¬æ‰§è¡Œçš„ç‰¹å®šå»ºç­‘æœåŠ¡æ˜¯ä»€ä¹ˆã€‚
æ¥è‡ª[Wikipedia](https://en.wikipedia.org/wiki/BACnet)

**é»˜è®¤ç«¯å£ï¼š** 47808
```text
PORT      STATE SERVICE
47808/udp open  BACNet -- Building Automation and Control NetworksEnumerate
```
# æšä¸¾

## æ‰‹åŠ¨æšä¸¾

UDP BACnet is a protocol used for building automation and control networks. It is commonly used in industrial and commercial buildings to control and monitor various devices such as HVAC systems, lighting, and security systems.

UDP BACnetæ˜¯ä¸€ç§ç”¨äºå»ºç­‘è‡ªåŠ¨åŒ–å’Œæ§åˆ¶ç½‘ç»œçš„åè®®ã€‚å®ƒé€šå¸¸ç”¨äºå·¥ä¸šå’Œå•†ä¸šå»ºç­‘ä¸­ï¼Œç”¨äºæ§åˆ¶å’Œç›‘æ§å„ç§è®¾å¤‡ï¼Œå¦‚æš–é€šç©ºè°ƒç³»ç»Ÿã€ç…§æ˜å’Œå®‰å…¨ç³»ç»Ÿã€‚

To enumerate UDP BACnet services, you can use tools like `nmap` or `bacnet-tool`. These tools can help you discover BACnet devices on the network and gather information about them.

è¦æšä¸¾UDP BACnetæœåŠ¡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`nmap`æˆ–`bacnet-tool`ç­‰å·¥å…·ã€‚è¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©æ‚¨å‘ç°ç½‘ç»œä¸Šçš„BACnetè®¾å¤‡å¹¶æ”¶é›†æœ‰å…³å®ƒä»¬çš„ä¿¡æ¯ã€‚

Here are some steps you can follow to manually enumerate UDP BACnet services:

ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥æŒ‰ç…§çš„ä¸€äº›æ­¥éª¤æ‰‹åŠ¨æšä¸¾UDP BACnetæœåŠ¡ï¼š

1. **Discover BACnet devices**: Use tools like `nmap` with the BACnet script or `bacnet-tool` to discover BACnet devices on the network. These tools can send BACnet discovery requests and receive responses from devices.

   **å‘ç°BACnetè®¾å¤‡**ï¼šä½¿ç”¨å¸¦æœ‰BACnetè„šæœ¬çš„å·¥å…·ï¼Œå¦‚`nmap`æˆ–`bacnet-tool`ï¼Œä»¥å‘ç°ç½‘ç»œä¸Šçš„BACnetè®¾å¤‡ã€‚è¿™äº›å·¥å…·å¯ä»¥å‘é€BACnetå‘ç°è¯·æ±‚å¹¶æ¥æ”¶è®¾å¤‡çš„å“åº”ã€‚

2. **Gather device information**: Once you have discovered BACnet devices, you can gather information about them using tools like `bacnet-tool`. This information may include device names, device types, object types, and object properties.

   **æ”¶é›†è®¾å¤‡ä¿¡æ¯**ï¼šä¸€æ—¦æ‚¨å‘ç°äº†BACnetè®¾å¤‡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`bacnet-tool`ç­‰å·¥å…·æ”¶é›†æœ‰å…³å®ƒä»¬çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯èƒ½åŒ…æ‹¬è®¾å¤‡åç§°ã€è®¾å¤‡ç±»å‹ã€å¯¹è±¡ç±»å‹å’Œå¯¹è±¡å±æ€§ã€‚

3. **Enumerate objects and properties**: With the gathered information, you can enumerate the objects and properties of the BACnet devices. This can help you understand the functionality and capabilities of the devices.

   **æšä¸¾å¯¹è±¡å’Œå±æ€§**ï¼šåˆ©ç”¨æ”¶é›†åˆ°çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æšä¸¾BACnetè®¾å¤‡çš„å¯¹è±¡å’Œå±æ€§ã€‚è¿™å¯ä»¥å¸®åŠ©æ‚¨äº†è§£è®¾å¤‡çš„åŠŸèƒ½å’Œèƒ½åŠ›ã€‚

4. **Exploit vulnerabilities**: If you find any vulnerabilities in the BACnet devices, you can exploit them to gain unauthorized access or control over the devices. However, it is important to note that exploiting vulnerabilities without proper authorization is illegal.

   **åˆ©ç”¨æ¼æ´**ï¼šå¦‚æœæ‚¨å‘ç°BACnetè®¾å¤‡ä¸­å­˜åœ¨æ¼æ´ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨è¿™äº›æ¼æ´æ¥è·å–æœªç»æˆæƒçš„è®¿é—®æˆ–å¯¹è®¾å¤‡çš„æ§åˆ¶ã€‚ç„¶è€Œï¼Œé‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œæœªç»é€‚å½“æˆæƒçš„åˆ©ç”¨æ¼æ´æ˜¯éæ³•çš„ã€‚

By following these steps, you can effectively enumerate UDP BACnet services and gather information about the devices on the network. This information can be useful for further analysis and potential exploitation.
```bash
pip3 install BAC0
import BAC0
bbmdIP = '<IP>:47808'
bbmdTTL = 900
bacnet = BAC0.connect(bbmdAddress=bbmdIP, bbmdTTL=bbmdTTL) #Connect
bacnet.vendorName.strValue
#I couldn't find how to obtain the same data as nmap with this library or any other
#talk me if you know how please
```
## è‡ªåŠ¨åŒ–

In the context of UDP BACnet, automatic refers to the process of automatically scanning and identifying BACnet devices on a network. This can be done using tools like BACnet discovery tools or network scanning tools.

åœ¨UDP BACnetçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè‡ªåŠ¨åŒ–æŒ‡çš„æ˜¯è‡ªåŠ¨æ‰«æå’Œè¯†åˆ«ç½‘ç»œä¸Šçš„BACnetè®¾å¤‡çš„è¿‡ç¨‹ã€‚å¯ä»¥ä½¿ç”¨BACnetå‘ç°å·¥å…·æˆ–ç½‘ç»œæ‰«æå·¥å…·æ¥å®Œæˆæ­¤æ“ä½œã€‚

## Scanning

æ‰«æ

Scanning is the process of actively probing a network to identify open ports, services, and devices. In the case of UDP BACnet, scanning involves sending BACnet discovery packets to the network and analyzing the responses to identify BACnet devices.

æ‰«ææ˜¯ä¸»åŠ¨æ¢æµ‹ç½‘ç»œä»¥è¯†åˆ«å¼€æ”¾ç«¯å£ã€æœåŠ¡å’Œè®¾å¤‡çš„è¿‡ç¨‹ã€‚åœ¨UDP BACnetçš„æƒ…å†µä¸‹ï¼Œæ‰«ææ¶‰åŠå‘ç½‘ç»œå‘é€BACnetå‘ç°æ•°æ®åŒ…ï¼Œå¹¶åˆ†æå“åº”ä»¥è¯†åˆ«BACnetè®¾å¤‡ã€‚

## Discovery

å‘ç°

Discovery refers to the process of identifying and gathering information about BACnet devices on a network. This can include information such as device type, IP address, MAC address, and supported services.

å‘ç°æ˜¯æŒ‡è¯†åˆ«å’Œæ”¶é›†ç½‘ç»œä¸Šçš„BACnetè®¾å¤‡ä¿¡æ¯çš„è¿‡ç¨‹ã€‚è¿™å¯ä»¥åŒ…æ‹¬è®¾å¤‡ç±»å‹ã€IPåœ°å€ã€MACåœ°å€å’Œæ”¯æŒçš„æœåŠ¡ç­‰ä¿¡æ¯ã€‚

## Enumeration

æšä¸¾

Enumeration is the process of systematically listing and identifying the resources and services available on a network. In the context of UDP BACnet, enumeration involves querying BACnet devices for information such as object types, properties, and values.

æšä¸¾æ˜¯ç³»ç»Ÿåœ°åˆ—å‡ºå’Œè¯†åˆ«ç½‘ç»œä¸Šå¯ç”¨èµ„æºå’ŒæœåŠ¡çš„è¿‡ç¨‹ã€‚åœ¨UDP BACnetçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæšä¸¾æ¶‰åŠæŸ¥è¯¢BACnetè®¾å¤‡ä»¥è·å–å¯¹è±¡ç±»å‹ã€å±æ€§å’Œå€¼ç­‰ä¿¡æ¯ã€‚

## Exploitation

åˆ©ç”¨

Exploitation refers to the process of taking advantage of vulnerabilities or weaknesses in a system or network to gain unauthorized access or control. In the case of UDP BACnet, exploitation may involve exploiting vulnerabilities in BACnet devices to gain unauthorized access or manipulate the devices.

åˆ©ç”¨æ˜¯æŒ‡åˆ©ç”¨ç³»ç»Ÿæˆ–ç½‘ç»œä¸­çš„æ¼æ´æˆ–å¼±ç‚¹æ¥è·å–æœªç»æˆæƒçš„è®¿é—®æˆ–æ§åˆ¶çš„è¿‡ç¨‹ã€‚åœ¨UDP BACnetçš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨å¯èƒ½æ¶‰åŠåˆ©ç”¨BACnetè®¾å¤‡ä¸­çš„æ¼æ´æ¥è·å–æœªç»æˆæƒçš„è®¿é—®æˆ–æ“çºµè®¾å¤‡ã€‚

## Mitigation

ç¼“è§£

Mitigation refers to the process of reducing or minimizing the impact of vulnerabilities or risks. In the context of UDP BACnet, mitigation measures may include patching or updating BACnet devices, implementing network segmentation, and enforcing strong access controls.

ç¼“è§£æ˜¯æŒ‡å‡å°‘æˆ–æœ€å°åŒ–æ¼æ´æˆ–é£é™©å½±å“çš„è¿‡ç¨‹ã€‚åœ¨UDP BACnetçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œç¼“è§£æªæ–½å¯èƒ½åŒ…æ‹¬ä¿®è¡¥æˆ–æ›´æ–°BACnetè®¾å¤‡ã€å®æ–½ç½‘ç»œåˆ†å‰²å’Œæ‰§è¡Œå¼ºåˆ¶è®¿é—®æ§åˆ¶ã€‚
```bash
nmap --script bacnet-info --script-args full=yes -sU -n -sV -p 47808 <IP>
```
è¿™ä¸ªè„šæœ¬ä¸ä¼šå°è¯•ä½œä¸ºå¤–éƒ¨è®¾å¤‡åŠ å…¥BACnetç½‘ç»œï¼Œå®ƒåªæ˜¯ç›´æ¥å‘å¯å¯»å€çš„IPè®¾å¤‡å‘é€BACnetè¯·æ±‚ã€‚

## Shodan

* `port:47808 instance`
* `"Instance ID" "Vendor Name"`



<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨HackTricksä¸­**å®£ä¼ ä½ çš„å…¬å¸**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–æœ€æ–°ç‰ˆæœ¬çš„PEASSæˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[NFTæ”¶è—å“](https://opensea.io/collection/the-peass-family)â€”â€”[**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)

- **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘[hacktricksä»“åº“](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloudä»“åº“](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
