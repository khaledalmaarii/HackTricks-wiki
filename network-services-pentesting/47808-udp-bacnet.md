<details>

<summary><strong>Naucz si hakowa AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel si swoimi sztuczkami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>


# Informacje o protokole

**BACnet** to **protok贸 komunikacyjny** dla sieci Automatyki i Kontroli Budynk贸w (BAC), kt贸ry wykorzystuje standardowy protok贸 **ASHRAE**, **ANSI** i **ISO 16484-5**. Umo偶liwia komunikacj midzy systemami automatyzacji i kontroli budynk贸w, umo偶liwiajc wymian informacji midzy systemami kontroli HVAC, owietlenia, kontroli dostpu i systemami wykrywania po偶aru. BACnet zapewnia interoperacyjno i umo偶liwia komunikacj zautomatyzowanych urzdze do automatyzacji budynk贸w, niezale偶nie od wiadczonych przez nie usug.

**Domylny port:** 47808
```text
PORT      STATE SERVICE
47808/udp open  BACNet -- Building Automation and Control NetworksEnumerate
```
# Wyliczanie

### Rczne wyliczanie

Rczne wyliczanie to proces identyfikowania i zbierania informacji o usugach UDP BACnet. Poni偶ej przedstawiono kilka metod, kt贸re mo偶na zastosowa podczas rcznego wyliczania.

#### Skanowanie port贸w

Skanowanie port贸w pozwala na identyfikacj otwartych port贸w UDP BACnet na docelowym systemie. Mo偶na to zrobi za pomoc narzdzi takich jak Nmap, kt贸re wysyaj zapytania do r贸偶nych port贸w i analizuj odpowiedzi.

```bash
nmap -sU -p 47808 <adres_IP_docelowego_systemu>
```

#### Analiza ruchu sieciowego

Analiza ruchu sieciowego pozwala na identyfikacj komunikacji UDP BACnet w sieci. Mo偶na to zrobi za pomoc narzdzi takich jak Wireshark, kt贸re przechwytuj i analizuj pakiety sieciowe.

#### Zapytania BACnet

Wysyanie zapyta BACnet pozwala na identyfikacj urzdze i usug BACnet w sieci. Mo偶na to zrobi za pomoc narzdzi takich jak BACnet Explorer, kt贸re pozwalaj na wysyanie zapyta i analizowanie odpowiedzi.

### Automatyczne wyliczanie

Automatyczne wyliczanie to proces wykorzystywania narzdzi i skrypt贸w do identyfikacji i zbierania informacji o usugach UDP BACnet. Poni偶ej przedstawiono kilka narzdzi, kt贸re mo偶na u偶y do automatycznego wyliczania.

#### BACnet Scanner

BACnet Scanner to narzdzie do skanowania i identyfikacji usug BACnet w sieci. Pozwala na wykrywanie urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
bacnetscan <adres_IP_docelowego_systemu>
```

#### BACnet Enumeration Tool

BACnet Enumeration Tool to narzdzie do automatycznego wyliczania usug BACnet. Pozwala na identyfikacj urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
bacenum <adres_IP_docelowego_systemu>
```

#### BACnet Discovery Tool

BACnet Discovery Tool to narzdzie do odkrywania usug BACnet w sieci. Pozwala na identyfikacj urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
bacdiscover <adres_IP_docelowego_systemu>
```

## Automatyzacja wyliczania

Automatyzacja wyliczania to proces wykorzystywania skrypt贸w i narzdzi do automatycznego identyfikowania i zbierania informacji o usugach UDP BACnet. Poni偶ej przedstawiono kilka skrypt贸w, kt贸re mo偶na u偶y do automatyzacji wyliczania.

### BACnet-enum

BACnet-enum to skrypt Pythona do automatycznego wyliczania usug BACnet. Pozwala na identyfikacj urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
python3 bacnet-enum.py <adres_IP_docelowego_systemu>
```

### BACnet-Scanner

BACnet-Scanner to skrypt Pythona do skanowania i identyfikacji usug BACnet w sieci. Pozwala na wykrywanie urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
python3 bacnet-scanner.py <adres_IP_docelowego_systemu>
```

### BACnet-Discovery

BACnet-Discovery to skrypt Pythona do odkrywania usug BACnet w sieci. Pozwala na identyfikacj urzdze BACnet, zbieranie informacji o usugach i analizowanie komunikacji.

```bash
python3 bacnet-discovery.py <adres_IP_docelowego_systemu>
```
```bash
pip3 install BAC0
import BAC0
bbmdIP = '<IP>:47808'
bbmdTTL = 900
bacnet = BAC0.connect(bbmdAddress=bbmdIP, bbmdTTL=bbmdTTL) #Connect
bacnet.vendorName.strValue
#I couldn't find how to obtain the same data as nmap with this library or any other
#talk me if you know how please
```
## Automatyczne

### Introduction

### Wprowadzenie

Automatic enumeration of BACnet devices can be done using the `bacnet_enum` script from the `bacnet-tools` package. This script sends a Who-Is request to the broadcast address and listens for responses from BACnet devices on the network.

Automatyczne wyliczanie urzdze BACnet mo偶na wykona za pomoc skryptu `bacnet_enum` z pakietu `bacnet-tools`. Skrypt ten wysya 偶danie Who-Is na adres rozgoszeniowy i nasuchuje odpowiedzi od urzdze BACnet w sieci.

### Usage

### U偶ycie

To use the `bacnet_enum` script, you need to provide the IP address of the target network interface. You can also specify the timeout value for waiting for responses.

Aby u偶y skryptu `bacnet_enum`, musisz poda adres IP interfejsu sieciowego docelowego. Mo偶esz r贸wnie偶 okreli warto czasu oczekiwania na odpowiedzi.

```plaintext
$ bacnet_enum -i <interface_ip> [-t <timeout>]
```

### Example

### Przykad

```plaintext
$ bacnet_enum -i 192.168.1.10 -t 5
```

This command will send a Who-Is request to the BACnet devices on the network interface with the IP address `192.168.1.10` and wait for responses for a maximum of 5 seconds.

To polecenie wysya 偶danie Who-Is do urzdze BACnet na interfejsie sieciowym o adresie IP `192.168.1.10` i oczekuje na odpowiedzi przez maksymalnie 5 sekund.

### Conclusion

### Podsumowanie

Automatically enumerating BACnet devices using the `bacnet_enum` script can help in identifying and discovering devices on a network. This can be useful for network administrators and security professionals during network assessments and penetration testing.

Automatyczne wyliczanie urzdze BACnet za pomoc skryptu `bacnet_enum` mo偶e pom贸c w identyfikacji i odkrywaniu urzdze w sieci. Mo偶e to by przydatne dla administrator贸w sieci i specjalist贸w ds. bezpieczestwa podczas oceny sieci i test贸w penetracyjnych.
```bash
nmap --script bacnet-info --script-args full=yes -sU -n -sV -p 47808 <IP>
```
Ten skrypt nie pr贸buje doczy do sieci BACnet jako urzdzenie obce, po prostu wysya bezporednio 偶dania BACnet do urzdzenia o adresie IP.

## Shodan

* `port:47808 instance`
* `"Instance ID" "Vendor Name"`



<details>

<summary><strong>Naucz si hakowa AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeli chcesz zobaczy swoj **firm reklamowan w HackTricks** lub **pobra HackTricks w formacie PDF**, sprawd藕 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Zdobd藕 [**oficjalne gad偶ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzin PEASS**](https://opensea.io/collection/the-peass-family), nasz kolekcj ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel si swoimi sztuczkami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>
