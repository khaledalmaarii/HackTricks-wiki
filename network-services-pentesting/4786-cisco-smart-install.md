# 4786 - Cisco Smart Install

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Czy pracujesz w **firmie zajmujÄ…cej siÄ™ cyberbezpieczeÅ„stwem**? Chcesz zobaczyÄ‡, jak Twoja **firma jest reklamowana na HackTricks**? lub chcesz mieÄ‡ dostÄ™p do **najnowszej wersji PEASS lub pobraÄ‡ HackTricks w formacie PDF**? SprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* **DoÅ‚Ä…cz do** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** mnie na **Twitterze** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**repozytorium hacktricks**](https://github.com/carlospolop/hacktricks) **i** [**repozytorium hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


## Podstawowe informacje

**Cisco Smart Install** to narzÄ™dzie firmy Cisco zaprojektowane do automatyzacji poczÄ…tkowej konfiguracji i Å‚adowania obrazu systemu operacyjnego dla nowego sprzÄ™tu Cisco. **DomyÅ›lnie Cisco Smart Install jest aktywny na sprzÄ™cie Cisco i uÅ¼ywa protokoÅ‚u warstwy transportowej, TCP, z numerem portu 4786.**

**DomyÅ›lny port:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **NarzÄ™dzie do Wykorzystania Smart Install**

**W 2018 roku znaleziono krytycznÄ… podatnoÅ›Ä‡, CVE-2018â€“0171, w tym protokole. Poziom zagroÅ¼enia wynosi 9.8 w skali CVSS.**

**Specjalnie spreparowany pakiet wysÅ‚any do portu TCP/4786, gdzie dziaÅ‚a Cisco Smart Install, wywoÅ‚uje przepeÅ‚nienie bufora, umoÅ¼liwiajÄ…c atakujÄ…cemu:**

* wymuszenie ponownego uruchomienia urzÄ…dzenia
* wywoÅ‚anie RCE
* kradzieÅ¼ konfiguracji sprzÄ™tu sieciowego.

**[**SIET**](https://github.com/frostbits-security/SIET) **(Smart Install Exploitation Tool)** zostaÅ‚ opracowany do wykorzystania tej podatnoÅ›ci, umoÅ¼liwia naduÅ¼ycie Cisco Smart Install. W tym artykule pokaÅ¼Ä™ Ci, jak moÅ¼esz odczytaÄ‡ prawidÅ‚owy plik konfiguracyjny sprzÄ™tu sieciowego. Konfiguracja eksfiltracji moÅ¼e byÄ‡ cenna dla pentestera, poniewaÅ¼ pozwoli dowiedzieÄ‡ siÄ™ o unikalnych cechach sieci. To uÅ‚atwi Å¼ycie i pozwoli znaleÅºÄ‡ nowe wektory ataku.

**UrzÄ…dzeniem docelowym bÄ™dzie "aktywny" przeÅ‚Ä…cznik Cisco Catalyst 2960. Wirtualne obrazy nie posiadajÄ… Cisco Smart Install, wiÄ™c moÅ¼na Ä‡wiczyÄ‡ tylko na rzeczywistym sprzÄ™cie.**

Adres docelowego przeÅ‚Ä…cznika to **10.10.100.10, a CSI jest aktywne.** ZaÅ‚aduj SIET i rozpocznij atak. **Argument -g** oznacza eksfiltracjÄ™ konfiguracji z urzÄ…dzenia, **argument -i** pozwala ustawiÄ‡ adres IP podatnego celu.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../.gitbook/assets/image (770).png" alt=""><figcaption></figcaption></figure>

Konfiguracja przeÅ‚Ä…cznika **10.10.100.10** znajdzie siÄ™ w folderze **tftp/**

<figure><img src="../.gitbook/assets/image (1113).png" alt=""><figcaption></figcaption></figure>


<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Czy pracujesz w **firmie zajmujÄ…cej siÄ™ cyberbezpieczeÅ„stwem**? Chcesz zobaczyÄ‡, jak Twoja **firma jest reklamowana w HackTricks**? lub chcesz mieÄ‡ dostÄ™p do **najnowszej wersji PEASS lub pobraÄ‡ HackTricks w formacie PDF**? SprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* **DoÅ‚Ä…cz do** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** mnie na **Twitterze** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**repozytorium hacktricks**](https://github.com/carlospolop/hacktricks) **i** [**repozytorium hacktricks-cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
