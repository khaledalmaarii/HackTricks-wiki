# 5353/UDP Multicast DNS (mDNS) ve DNS-SD

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## **Temel Bilgiler**

**Multicast DNS (mDNS)**, geleneksel bir DNS sunucusuna ihtiyaÃ§ duymadan yerel aÄŸlar iÃ§inde **DNS benzeri iÅŸlemler** gerÃ§ekleÅŸtirilmesini saÄŸlar. **UDP port 5353** Ã¼zerinde Ã§alÄ±ÅŸÄ±r ve cihazlarÄ±n birbirlerini ve hizmetlerini keÅŸfetmelerine olanak tanÄ±r; bu, Ã§eÅŸitli IoT cihazlarÄ±nda yaygÄ±n olarak gÃ¶rÃ¼lÃ¼r. **DNS Hizmet KeÅŸfi (DNS-SD)**, genellikle mDNS ile birlikte kullanÄ±lan, aÄŸda mevcut olan hizmetleri standart DNS sorgularÄ± aracÄ±lÄ±ÄŸÄ±yla tanÄ±mlamaya yardÄ±mcÄ± olur.
```
PORT     STATE SERVICE
5353/udp open  zeroconf
```
### **mDNS'Ä±n Ä°ÅŸleyiÅŸi**

Standart bir DNS sunucusunun olmadÄ±ÄŸÄ± ortamlarda, mDNS cihazlarÄ±n **.local** ile biten alan adlarÄ±nÄ± **224.0.0.251** (IPv4) veya **FF02::FB** (IPv6) Ã§oklu yayÄ±n adresini sorgulayarak Ã§Ã¶zmesine olanak tanÄ±r. mDNS'in Ã¶nemli yÃ¶nleri arasÄ±nda kayÄ±t geÃ§erliliÄŸini belirten bir **YaÅŸam SÃ¼resi (TTL)** deÄŸeri ve tekil ile Ã§oklu yayÄ±n sorgularÄ± arasÄ±nda ayrÄ±m yapan bir **QU bit** bulunur. GÃ¼venlik aÃ§Ä±sÄ±ndan, mDNS uygulamalarÄ±nÄ±n paketin kaynak adresinin yerel alt aÄŸ ile uyumlu olduÄŸunu doÄŸrulamasÄ± kritik Ã¶neme sahiptir.

### **DNS-SD'nin Ä°ÅŸleyiÅŸi**

DNS-SD, hizmet tÃ¼rlerini Ã¶rneklerine eÅŸleyen iÅŸaretÃ§i kayÄ±tlarÄ±nÄ± (PTR) sorgulayarak aÄŸ hizmetlerinin keÅŸfini kolaylaÅŸtÄ±rÄ±r. Hizmetler, **_\<Service>.\_tcp veya \_\<Service>.\_udp** desenini kullanarak **.local** alanÄ±nda tanÄ±mlanÄ±r ve bu, ilgili **SRV** ve **TXT kayÄ±tlarÄ±nÄ±n** keÅŸfine yol aÃ§ar; bu kayÄ±tlar ayrÄ±ntÄ±lÄ± hizmet bilgileri saÄŸlar.

### **AÄŸ KeÅŸfi**

#### **nmap KullanÄ±mÄ±**

mDNS hizmetleri iÃ§in yerel aÄŸÄ± taramak iÃ§in yararlÄ± bir komut:
```bash
nmap -Pn -sUC -p5353 [target IP address]
```
Bu komut, aÃ§Ä±k mDNS portlarÄ±nÄ± ve bunlar Ã¼zerinden duyurulan hizmetleri tanÄ±mlamaya yardÄ±mcÄ± olur.

#### **Pholus ile AÄŸ SayÄ±mÄ±**

mDNS isteklerini aktif olarak gÃ¶ndermek ve trafiÄŸi yakalamak iÃ§in **Pholus** aracÄ± aÅŸaÄŸÄ±daki gibi kullanÄ±labilir:
```bash
sudo python3 pholus3.py [network interface] -rq -stimeout 10
```
## SaldÄ±rÄ±lar

### **mDNS SorgulamalarÄ±nÄ± Ä°stismar Etme**

Bir saldÄ±rÄ± vektÃ¶rÃ¼, mDNS sorgularÄ±na sahte yanÄ±tlar gÃ¶ndererek, tÃ¼m potansiyel adlarÄ±n zaten kullanÄ±ldÄ±ÄŸÄ±nÄ± Ã¶ne sÃ¼rmekte ve bÃ¶ylece yeni cihazlarÄ±n benzersiz bir ad seÃ§mesini engellemektedir. Bu, ÅŸu ÅŸekilde gerÃ§ekleÅŸtirilebilir:
```bash
sudo python pholus.py [network interface] -afre -stimeout 1000
```
Bu teknik, yeni cihazlarÄ±n aÄŸda hizmetlerini kaydetmelerini etkili bir ÅŸekilde engeller.

**Ã–zetle**, mDNS ve DNS-SD'nin Ã§alÄ±ÅŸma prensiplerini anlamak, aÄŸ yÃ¶netimi ve gÃ¼venliÄŸi iÃ§in kritik Ã¶neme sahiptir. **nmap** ve **Pholus** gibi araÃ§lar, yerel aÄŸ hizmetleri hakkÄ±nda deÄŸerli bilgiler sunarken, potansiyel zayÄ±flÄ±klarÄ±n farkÄ±nda olmak, saldÄ±rÄ±lara karÅŸÄ± korunmaya yardÄ±mcÄ± olur.

### Spoofing/MitM

Bu hizmet Ã¼zerinden gerÃ§ekleÅŸtirebileceÄŸiniz en ilginÃ§ saldÄ±rÄ±, **istemci ile gerÃ§ek sunucu arasÄ±ndaki iletiÅŸimde bir MitM** gerÃ§ekleÅŸtirmektir. Hassas dosyalarÄ± (yazÄ±cÄ± ile iletiÅŸimi MitM yaparak) veya hatta kimlik bilgilerini (Windows kimlik doÄŸrulamasÄ±) elde etme ÅŸansÄ±nÄ±z olabilir.\
Daha fazla bilgi iÃ§in kontrol edin:

{% content-ref url="../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md" %}
[spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md](../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md)
{% endcontent-ref %}

## Referanslar

* [Practical IoT Hacking: The Definitive Guide to Attacking the Internet of Things](https://books.google.co.uk/books/about/Practical\_IoT\_Hacking.html?id=GbYEEAAAQBAJ\&redir\_esc=y)

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
