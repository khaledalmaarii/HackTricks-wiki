# 5353/UDP Multicast DNS (mDNS) ve DNS-SD

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramana Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## **Temel Bilgiler**

**Multicast DNS (mDNS)**, geleneksel bir DNS sunucusuna ihtiyaÃ§ duymadan yerel aÄŸlarda **DNS benzeri iÅŸlemleri** mÃ¼mkÃ¼n kÄ±lar. **UDP port 5353** Ã¼zerinde Ã§alÄ±ÅŸÄ±r ve cihazlarÄ±n birbirlerini ve hizmetlerini keÅŸfetmelerine olanak tanÄ±r, genellikle Ã§eÅŸitli IoT cihazlarÄ±nda gÃ¶rÃ¼lÃ¼r. **DNS Hizmet KeÅŸfi (DNS-SD)**, genellikle mDNS ile birlikte kullanÄ±lÄ±r ve aÄŸdaki mevcut hizmetleri standart DNS sorgularÄ± aracÄ±lÄ±ÄŸÄ±yla tanÄ±mlamaya yardÄ±mcÄ± olur.
```
PORT     STATE SERVICE
5353/udp open  zeroconf
```
### **mDNS'nin Ä°ÅŸleyiÅŸi**

Standart bir DNS sunucusu olmayan ortamlarda, mDNS cihazlarÄ±n **.local** ile biten alan adlarÄ±nÄ± sorgulayarak, Ã§oklu yayÄ±n adresi **224.0.0.251** (IPv4) veya **FF02::FB** (IPv6) Ã¼zerinden Ã§Ã¶zmesine olanak tanÄ±r. mDNS'nin Ã¶nemli yÃ¶nleri, kayÄ±t geÃ§erliliÄŸini belirten bir **Time-to-Live (TTL)** deÄŸeri ve unicast ve multicast sorgularÄ±nÄ± ayÄ±ran bir **QU bit** iÃ§ermesidir. GÃ¼venlik aÃ§Ä±sÄ±ndan, mDNS uygulamalarÄ±nÄ±n paketin kaynak adresinin yerel alt aÄŸla uyumlu olduÄŸunu doÄŸrulamasÄ± Ã¶nemlidir.

### **DNS-SD'nin Ä°ÅŸleyiÅŸi**

DNS-SD, hizmet tÃ¼rlerini Ã¶rneklerine eÅŸleyen iÅŸaretÃ§i kayÄ±tlarÄ±nÄ± (PTR) sorgulayarak aÄŸ hizmetlerinin keÅŸfini kolaylaÅŸtÄ±rÄ±r. Hizmetler, ayrÄ±ntÄ±lÄ± hizmet bilgilerini saÄŸlayan **SRV** ve **TXT kayÄ±tlarÄ±nÄ±** keÅŸfetmeye yol aÃ§an **_\<Hizmet>.\_tcp veya \_\<Hizmet>.\_udp** deseni iÃ§eren **.local** alanÄ±nda tanÄ±mlanÄ±r.

### **AÄŸ KeÅŸfi**

#### **nmap KullanÄ±mÄ±**

mDNS hizmetlerini tarayarak yerel aÄŸÄ± taramak iÃ§in kullanÄ±ÅŸlÄ± bir komut:
```bash
nmap -Pn -sUC -p5353 [target IP address]
```
Bu komut, aÃ§Ä±k mDNS baÄŸlantÄ± noktalarÄ±nÄ± ve Ã¼zerlerinde yayÄ±nlanan hizmetleri belirlemeye yardÄ±mcÄ± olur.

#### **Pholus ile AÄŸ NumaralandÄ±rma**

Mevcut mDNS isteklerini aktif olarak gÃ¶ndermek ve trafiÄŸi yakalamak iÃ§in **Pholus** aracÄ± aÅŸaÄŸÄ±daki gibi kullanÄ±labilir:
```bash
sudo python3 pholus3.py [network interface] -rq -stimeout 10
```
## SaldÄ±rÄ±lar

### **mDNS SondalamasÄ±nÄ± SÃ¶mÃ¼rme**

Bir saldÄ±rÄ± vektÃ¶rÃ¼, mDNS sondalamalarÄ±na sahte yanÄ±tlar gÃ¶ndererek, tÃ¼m potansiyel isimlerin zaten kullanÄ±mda olduÄŸunu Ã¶nererek yeni cihazlarÄ±n benzersiz bir isim seÃ§mesini engellemektir. Bu, ÅŸu ÅŸekilde gerÃ§ekleÅŸtirilebilir:
```bash
sudo python pholus.py [network interface] -afre -stimeout 1000
```
Bu teknik, yeni cihazlarÄ±n aÄŸdaki hizmetlerini kaydetmelerini etkili bir ÅŸekilde engeller.

**Ã–zetle**, mDNS ve DNS-SD'nin Ã§alÄ±ÅŸma prensiplerini anlamak, aÄŸ yÃ¶netimi ve gÃ¼venliÄŸi iÃ§in Ã¶nemlidir. **nmap** ve **Pholus** gibi araÃ§lar, yerel aÄŸ hizmetleri hakkÄ±nda deÄŸerli bilgiler sunarken, potansiyel zafiyetler konusunda farkÄ±ndalÄ±k, saldÄ±rÄ±lara karÅŸÄ± korunmada yardÄ±mcÄ± olur.


### Sahte Kimlik/Orta Adam SaldÄ±rÄ±sÄ±

Bu servis Ã¼zerinde gerÃ§ekleÅŸtirebileceÄŸiniz en ilginÃ§ saldÄ±rÄ±, **istemci ile gerÃ§ek sunucu arasÄ±ndaki iletiÅŸimde Orta Adam SaldÄ±rÄ±sÄ± (MitM)** yapmaktÄ±r. Bu sayede hassas dosyalara (yazÄ±cÄ± ile iletiÅŸimi Orta Adam SaldÄ±rÄ±sÄ± yaparak) veya hatta kimlik bilgilerine (Windows kimlik doÄŸrulamasÄ±) eriÅŸebilirsiniz.\
Daha fazla bilgi iÃ§in:

{% content-ref url="../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md" %}
[spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md](../generic-methodologies-and-resources/pentesting-network/spoofing-llmnr-nbt-ns-mdns-dns-and-wpad-and-relay-attacks.md)
{% endcontent-ref %}

## Referanslar

* [Practical IoT Hacking: The Definitive Guide to Attacking the Internet of Things](https://books.google.co.uk/books/about/Practical\_IoT\_Hacking.html?id=GbYEEAAAQBAJ\&redir\_esc=y)

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± yapmak veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
