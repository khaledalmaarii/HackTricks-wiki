# 554,8554 - RTSP Pentesting

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmaya kadar AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**]'na(https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

## Temel Bilgiler

[wikipedia](https://en.wikipedia.org/wiki/Real\_Time\_Streaming\_Protocol)'dan:

> **GerÃ§ek ZamanlÄ± AkÄ±ÅŸ ProtokolÃ¼** (**RTSP**), eÄŸlence ve iletiÅŸim sistemlerinde kullanÄ±lmak Ã¼zere tasarlanmÄ±ÅŸ bir aÄŸ kontrol protokolÃ¼dÃ¼r. Protokol, uÃ§ noktalar arasÄ±nda medya oturumlarÄ±nÄ± kurmak ve kontrol etmek iÃ§in kullanÄ±lÄ±r. Medya sunucularÄ±nÄ±n istemcileri, gerÃ§ek zamanlÄ± olarak sunucudan istemciye (Video On Demand) veya istemciden sunucuya (Ses KaydÄ±) medya akÄ±ÅŸÄ±nÄ± kontrol etmek iÃ§in oynat, kaydet ve duraklat gibi VHS tarzÄ± komutlar verir.
>
> AkÄ±ÅŸ verilerinin iletimi RTSP'nin bir gÃ¶revidir. Ã‡oÄŸu RTSP sunucusu, medya akÄ±ÅŸÄ± teslimatÄ± iÃ§in GerÃ§ek ZamanlÄ± TaÅŸÄ±ma ProtokolÃ¼ (RTP) ile GerÃ§ek ZamanlÄ± Kontrol ProtokolÃ¼ (RTCP) kullanÄ±r. Bununla birlikte, bazÄ± satÄ±cÄ±lar Ã¶zel taÅŸÄ±ma protokolleri uygular. Ã–rneÄŸin, RealNetworks'in RTSP sunucu yazÄ±lÄ±mÄ± ayrÄ±ca RealNetworks'in Ã¶zel Real Data Transport (RDT) protokolÃ¼nÃ¼ de kullanÄ±r.

**VarsayÄ±lan portlar:** 554,8554
```
PORT    STATE SERVICE
554/tcp open  rtsp
```
## Ana Detaylar

**RTSP**, medya akÄ±ÅŸÄ± iÃ§in Ã¶zel olarak tasarlanmÄ±ÅŸ olan HTTP'ye benzer bir protokoldÃ¼r. Basit bir spesifikasyonda tanÄ±mlanmÄ±ÅŸtÄ±r ve ÅŸurada bulunabilir:

[RTSP â€“ RFC2326](https://tools.ietf.org/html/rfc2326)

Cihazlar **kimlik doÄŸrulamasÄ±z** veya **kimlik doÄŸrulamalÄ±** eriÅŸime izin verebilir. Kontrol etmek iÃ§in bir "DESCRIBE" isteÄŸi gÃ¶nderilir. Temel bir Ã¶rnek aÅŸaÄŸÄ±da gÃ¶sterilmiÅŸtir:

`DESCRIBE rtsp://<ip>:<port> RTSP/1.0\r\nCSeq: 2\r`

DoÄŸru biÃ§imlendirme, tutarlÄ± bir yanÄ±t iÃ§in Ã§ift "\r\n" iÃ§ermelidir. "200 OK" yanÄ±tÄ± **kimlik doÄŸrulamasÄ±z eriÅŸimi** gÃ¶sterirken, "401 Unauthorized" kimlik doÄŸrulamasÄ± gerektiÄŸini belirtir ve **Temel** veya **Digest kimlik doÄŸrulamasÄ±nÄ±n** gerekip gerekmediÄŸini ortaya Ã§Ä±karÄ±r.

**Temel kimlik doÄŸrulamasÄ±** iÃ§in, kullanÄ±cÄ± adÄ±nÄ± ve ÅŸifreyi base64'e kodlarsÄ±nÄ±z ve isteÄŸe ÅŸunlarÄ± dahil edersiniz:

`DESCRIBE rtsp://<ip>:<port> RTSP/1.0\r\nCSeq: 2\r\nAuthorization: Basic YWRtaW46MTIzNA==\r`

Bu Ã¶rnek, kimlik bilgileri iÃ§in "admin" ve "1234" kullanmaktadÄ±r. Ä°ÅŸte bÃ¶yle bir istek gÃ¶ndermek iÃ§in bir **Python betiÄŸi**:
```python
import socket
req = "DESCRIBE rtsp://<ip>:<port> RTSP/1.0\r\nCSeq: 2\r\nAuthorization: Basic YWRtaW46MTIzNA==\r\n\r\n"
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect(("192.168.1.1", 554))
s.sendall(req)
data = s.recv(1024)
print(data)
```
**Temel kimlik doÄŸrulama** daha basit ve tercih edilir. **Ã–zet kimlik doÄŸrulama** ise "401 Yetkisiz" yanÄ±tÄ±nda saÄŸlanan kimlik doÄŸrulama ayrÄ±ntÄ±larÄ±nÄ±n dikkatli bir ÅŸekilde ele alÄ±nmasÄ±nÄ± gerektirir.

Bu genel bakÄ±ÅŸ, RTSP akÄ±ÅŸlarÄ±na eriÅŸim sÃ¼recini basitleÅŸtirir ve baÅŸlangÄ±Ã§ denemelerindeki basitlik ve pratiklik nedeniyle **Temel kimlik doÄŸrulamasÄ±na** odaklanÄ±r.

## NumaralandÄ±rma

GeÃ§erli yÃ¶ntemler ve URL'ler hakkÄ±nda bilgi edinelim ve iÃ§eriÄŸe eriÅŸmek iÃ§in gerekirse eriÅŸimi zorlamak iÃ§in eriÅŸim (gerekiyorsa) hakkÄ±nda bilgi edinelim.
```bash
nmap -sV --script "rtsp-*" -p <PORT> <IP>
```
### [Kaba Kuvvet](../generic-methodologies-and-resources/brute-force.md#rtsp)

### **DiÄŸer faydalÄ± programlar**

Kaba kuvvet saldÄ±rÄ±sÄ± iÃ§in: [https://github.com/Tek-Security-Group/rtsp\_authgrinder](https://github.com/Tek-Security-Group/rtsp\_authgrinder)

[**Cameradar**](https://github.com/Ullaakut/cameradar)

* EriÅŸilebilir hedeflerde aÃ§Ä±k RTSP ana bilgisayarlarÄ±nÄ± tespit et
* Genel bilgilerini al (ana bilgisayar adÄ±, port, kamera modeli, vb.)
* AkÄ±ÅŸ rotasÄ±nÄ± almak iÃ§in otomatik sÃ¶zlÃ¼k saldÄ±rÄ±larÄ± baÅŸlat (Ã¶rneÄŸin /live.sdp)
* KameralarÄ±n kullanÄ±cÄ± adÄ± ve ÅŸifresini almak iÃ§in otomatik sÃ¶zlÃ¼k saldÄ±rÄ±larÄ± baÅŸlat
* AkÄ±ÅŸlarÄ±n geÃ§erli olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek ve iÃ§eriklerinin hÄ±zlÄ± bir Ã¶nizlemesini almak iÃ§in onlardan kÃ¼Ã§Ã¼k resimler oluÅŸtur
* DoÄŸru bir ÅŸekilde kodlandÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in bir Gstreamer boru hattÄ± oluÅŸtur
* Cameradar'Ä±n alabileceÄŸi tÃ¼m bilgilerin Ã¶zetini yazdÄ±r

## Referanslar

* [https://en.wikipedia.org/wiki/Real\_Time\_Streaming\_Protocol](https://en.wikipedia.org/wiki/Real\_Time\_Streaming\_Protocol)
* [http://badguyfu.net/rtsp-brute-forcing-for-fun-and-naked-pictures/](http://badguyfu.net/rtsp-brute-forcing-for-fun-and-naked-pictures/)
* [https://github.com/Ullaakut/cameradar](https://github.com/Ullaakut/cameradar)

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **ğŸ’¬ [Discord grubuna](https://discord.gg/hRep4RUj7f) veya [telegram grubuna](https://t.me/peass) katÄ±lÄ±n veya** bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
