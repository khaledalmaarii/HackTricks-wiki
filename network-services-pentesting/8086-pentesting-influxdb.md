# 8086 - InfluxDB íœí…ŒìŠ¤íŒ…

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰** ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•í•˜ê³  ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°êµë¥¼ ê³µìœ í•˜ì„¸ìš”.

</details>

## ê¸°ë³¸ ì •ë³´

**InfluxDB**ëŠ” InfluxDataì—ì„œ ê°œë°œí•œ ì˜¤í”ˆ ì†ŒìŠ¤ **ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ (TSDB)**ì…ë‹ˆë‹¤. TSDBëŠ” íƒ€ì„ìŠ¤íƒ¬í”„-ê°’ ìŒìœ¼ë¡œ êµ¬ì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì œê³µí•˜ëŠ” ë° ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ ëª©ì ì˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¹„êµí•˜ì—¬ TSDBëŠ” ì‹œê³„ì—´ ë°ì´í„°ì…‹ì˜ **ì €ì¥ ê³µê°„**ê³¼ **ì„±ëŠ¥**ì—ì„œ ìƒë‹¹í•œ ê°œì„ ì„ ì œê³µí•©ë‹ˆë‹¤. íŠ¹í™”ëœ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë©°, ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì œê±°í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹í™”ëœ ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ë„ ì¿¼ë¦¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

**ê¸°ë³¸ í¬íŠ¸**: 8086
```
PORT     STATE SERVICE VERSION
8086/tcp open  http    InfluxDB http admin 1.7.5
```
## ì—´ê±°

íœí…ŒìŠ¤í„°ì˜ ê´€ì ì—ì„œ ì´ê²ƒì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì´ë¯€ë¡œ ëª¨ë“  ì •ë³´ë¥¼ ë¤í”„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë‘ëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì¸ì¦

InfluxDBëŠ” ì¸ì¦ì„ ìš”êµ¬í•  ìˆ˜ë„ ìˆê³  ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```bash
# Try unauthenticated
influx -host 'host name' -port 'port #'
> use _internal
```
ë§Œì•½ ì´ëŸ° ì˜¤ë¥˜ë¥¼ ë§Œë‚˜ê²Œ ëœë‹¤ë©´: `ERR: unable to parse authentication credentials`, ì´ëŠ” **ì¼ë¶€ ìê²© ì¦ëª…ì„ ê¸°ëŒ€í•˜ê³  ìˆë‹¤ëŠ” ê²ƒ**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
```
influx â€“username influx â€“password influx_pass
```
ì¸í”ŒëŸ­ìŠ¤ë””ë¹„ì—ëŠ” ì¸ì¦ ìš°íšŒë¥¼ í—ˆìš©í•˜ëŠ” ì·¨ì•½ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤: [**CVE-2019-20933**](https://github.com/LorenzoTullini/InfluxDB-Exploit-CVE-2019-20933)

### ìˆ˜ë™ ì—´ê±°

ì´ ì˜ˆì œì˜ ì •ë³´ëŠ” [**ì—¬ê¸°**](https://oznetnerd.com/2017/06/11/getting-know-influxdb/)ì—ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

#### ë°ì´í„°ë² ì´ìŠ¤ í‘œì‹œ

ë°œê²¬ëœ ë°ì´í„°ë² ì´ìŠ¤ëŠ” `telegraf`ì™€ `internal`ì…ë‹ˆë‹¤ (ì´ê²ƒì€ ì–´ë””ì—ì„œë‚˜ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).
```bash
> show databases
name: databases
name
----
telegraf
_internal
```
#### í…Œì´ë¸”/ì¸¡ì •ê°’ ë³´ê¸°

[**InfluxDB ë¬¸ì„œ**](https://docs.influxdata.com/influxdb/v1.2/introduction/getting_started/)ì— ë”°ë¥´ë©´ InfluxDBì˜ **ì¸¡ì •ê°’**ì€ SQL í…Œì´ë¸”ê³¼ ìœ ì‚¬í•˜ë‹¤ê³  ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ **ì¸¡ì •ê°’**ì˜ ëª…ëª…ë²•ì€ í•´ë‹¹ ì½˜í…ì¸ ì™€ ê´€ë ¨ì´ ìˆìœ¼ë©°, ê°ê°ì€ íŠ¹ì • ì—”í‹°í‹°ì— ëŒ€í•œ ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
```bash
> show measurements
name: measurements
name
----
cpu
disk
diskio
kernel
mem
processes
swap
system
```
#### ì»¬ëŸ¼/í•„ë“œ í‚¤ ë³´ê¸°

í•„ë“œ í‚¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ **ì»¬ëŸ¼**ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤.
```bash
> show field keys
name: cpu
fieldKey         fieldType
--------         ---------
usage_guest      float
usage_guest_nice float
usage_idle       float
usage_iowait     float

name: disk
fieldKey     fieldType
--------     ---------
free         integer
inodes_free  integer
inodes_total integer
inodes_used  integer

[ ... more keys ...]
```
#### í…Œì´ë¸” ë¤í”„

ë§ˆì§€ë§‰ìœ¼ë¡œ í…Œì´ë¸”ì„ ë¤í”„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
select * from cpu
name: cpu
time                cpu       host   usage_guest usage_guest_nice usage_idle        usage_iowait        usage_irq usage_nice usage_softirq        usage_steal usage_system        usage_user
----                ---       ----   ----------- ---------------- ----------        ------------        --------- ---------- -------------        ----------- ------------        ----------
1497018760000000000 cpu-total ubuntu 0           0                99.297893681046   0                   0         0          0                    0           0.35105315947842414 0.35105315947842414
1497018760000000000 cpu1      ubuntu 0           0                99.69909729188728 0                   0         0          0                    0           0.20060180541622202 0.10030090270811101
```
{% hint style="warning" %}
ì¸ì¦ ìš°íšŒ í…ŒìŠ¤íŠ¸ ì¤‘ì—ëŠ” í…Œì´ë¸” ì´ë¦„ì„ ì´ì¤‘ ë”°ì˜´í‘œë¡œ ë¬¶ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `select * from "cpu"`ì™€ ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.
{% endhint %}

### ìë™í™”ëœ ì¸ì¦
```bash
msf6 > use auxiliary/scanner/http/influxdb_enum
```
<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰** ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶• ë° ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
