# 53 - æ¸—é€æµ‹è¯• DNS

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆçš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–**å…³æ³¨**æˆ‘çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**å³æ—¶å¯ç”¨çš„æ¼æ´è¯„ä¼°å’Œæ¸—é€æµ‹è¯•è®¾ç½®**ã€‚ä»ä»»ä½•åœ°æ–¹è¿è¡Œå®Œæ•´çš„æ¸—é€æµ‹è¯•ï¼Œå…·æœ‰ä»ä¾¦å¯Ÿåˆ°æŠ¥å‘Šçš„ 20 å¤šç§å·¥å…·å’ŒåŠŸèƒ½ã€‚æˆ‘ä»¬ä¸å–ä»£æ¸—é€æµ‹è¯•äººå‘˜ - æˆ‘ä»¬å¼€å‘å®šåˆ¶å·¥å…·ã€æ£€æµ‹å’Œåˆ©ç”¨æ¨¡å—ï¼Œè®©ä»–ä»¬æœ‰æ›´å¤šæ—¶é—´æ·±å…¥æŒ–æ˜ã€å¼¹å‡º shell å¹¶äº«å—ä¹è¶£ã€‚

{% embed url="https://pentest-tools.com/" %}

## **åŸºæœ¬ä¿¡æ¯**

åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰æ˜¯äº’è”ç½‘çš„ç”µè¯ç°¿ã€‚äººä»¬é€šè¿‡åŸŸåï¼ˆå¦‚ nytimes.com æˆ– espn.comï¼‰åœ¨çº¿è®¿é—®ä¿¡æ¯ã€‚Web æµè§ˆå™¨é€šè¿‡ Internet åè®®ï¼ˆIPï¼‰åœ°å€è¿›è¡Œäº¤äº’ã€‚DNS å°†åŸŸåè½¬æ¢ä¸º[IP åœ°å€](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/)ï¼Œä»¥ä¾¿æµè§ˆå™¨å¯ä»¥åŠ è½½äº’è”ç½‘èµ„æºã€‚\
æ¥æºï¼š[è¿™é‡Œ](https://www.cloudflare.com/learning/dns/what-is-dns/)ã€‚

**é»˜è®¤ç«¯å£ï¼š** 53
```
PORT     STATE SERVICE  REASON
53/tcp   open  domain  Microsoft DNS 6.1.7601 (1DB15D39) (Windows Server 2008 R2 SP1)
5353/udp open  zeroconf udp-response
53/udp   open  domain  Microsoft DNS 6.1.7601 (1DB15D39) (Windows Server 2008 R2 SP1)
```
### ä¸åŒçš„DNSæœåŠ¡å™¨

- **DNSæ ¹æœåŠ¡å™¨**
- DNSæ ¹æœåŠ¡å™¨è´Ÿè´£é¡¶çº§åŸŸåï¼ˆTLDsï¼‰ï¼Œåªæœ‰åœ¨åç§°æœåŠ¡å™¨æœªå“åº”æ—¶æ‰ä¼šæŸ¥è¯¢è¿™äº›æœåŠ¡å™¨ï¼Œå®ƒä»¬ä½œä¸ºç”¨æˆ·å’Œäº’è”ç½‘å†…å®¹ä¹‹é—´çš„ä¸­å¤®æ¥å£ï¼Œå°†åŸŸåå’ŒIPåœ°å€è¿›è¡Œå…³è”ã€‚äº’è”ç½‘åç§°ä¸æ•°å­—åœ°å€åˆ†é…æœºæ„ï¼ˆICANNï¼‰åè°ƒè¿™äº›æœåŠ¡å™¨çš„è¿ä½œï¼Œå…¨çƒå…±æœ‰13ä¸ªè¿™æ ·çš„æœåŠ¡å™¨ã€‚

- **æƒå¨åç§°æœåŠ¡å™¨**
- æƒå¨åç§°æœåŠ¡å™¨æ§åˆ¶ç‰¹å®šåŒºåŸŸï¼Œä¸ºå…¶è´Ÿè´£èŒƒå›´å†…çš„æŸ¥è¯¢æä¾›ç»‘å®šç­”æ¡ˆã€‚å¦‚æœè¿™äº›æœåŠ¡å™¨æ— æ³•å“åº”æŸ¥è¯¢ï¼Œæ ¹åç§°æœåŠ¡å™¨å°†æ‰¿æ‹…è´£ä»»ã€‚

- **éæƒå¨åç§°æœåŠ¡å™¨**
- éæƒå¨åç§°æœåŠ¡å™¨ä¸æ§åˆ¶ç‰¹å®šDNSåŒºåŸŸçš„è´£ä»»ã€‚ç›¸åï¼Œå®ƒä»¬é€šè¿‡é€’å½’æˆ–è¿­ä»£æŸ¥è¯¢è·å–DNSåŒºåŸŸçš„ä¿¡æ¯ã€‚

- **ç¼“å­˜DNSæœåŠ¡å™¨**
- ç¼“å­˜DNSæœåŠ¡å™¨ä¼šå°†æ¥è‡ªå…¶ä»–åç§°æœåŠ¡å™¨çš„ä¿¡æ¯ç¼“å­˜ä¸€æ®µé¢„å®šçš„æ—¶é—´ï¼Œè¿™æ®µæ—¶é—´ç”±æƒå¨åç§°æœåŠ¡å™¨è®¾ç½®ã€‚

- **è½¬å‘æœåŠ¡å™¨**
- è½¬å‘æœåŠ¡å™¨çš„å”¯ä¸€åŠŸèƒ½æ˜¯å°†DNSæŸ¥è¯¢è½¬å‘åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ã€‚

- **è§£æå™¨**
- è§£æå™¨åœ¨è®¡ç®—æœºæˆ–è·¯ç”±å™¨ä¸Šæœ¬åœ°æ‰§è¡Œåç§°è§£æï¼Œä¸è¢«è§†ä¸ºæƒå¨DNSæœåŠ¡å™¨ã€‚


## æšä¸¾

### **æ¨ªå¹…æŠ“å–**

DNSæ²¡æœ‰å¯æŠ“å–çš„â€œæ¨ªå¹…â€ã€‚æœ€æ¥è¿‘çš„ç­‰æ•ˆæ“ä½œæ˜¯å¯¹`version.bind. CHAOS TXT`è¿›è¡Œé­”æœ¯æŸ¥è¯¢ï¼Œè¿™å°†åœ¨å¤§å¤šæ•°BINDåç§°æœåŠ¡å™¨ä¸Šèµ·ä½œç”¨ã€‚\
æ‚¨å¯ä»¥ä½¿ç”¨`dig`æ‰§è¡Œæ­¤æŸ¥è¯¢ï¼š
```bash
dig version.bind CHAOS TXT @DNS
```
å¦‚æœé‚£ä¸èµ·ä½œç”¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æŒ‡çº¹è¯†åˆ«æŠ€æœ¯æ¥ç¡®å®šè¿œç¨‹æœåŠ¡å™¨çš„ç‰ˆæœ¬--[`fpdns`](https://github.com/kirei/fpdns)å·¥å…·æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½†è¿˜æœ‰å…¶ä»–é€‰é¡¹ã€‚

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨**nmap**è„šæœ¬æ¥è·å–æ¨ªå¹…ï¼š
```
--script dns-nsid
```
### **ä»»ä½•è®°å½•**

**ANY** è®°å½•å°†è¦æ±‚ DNS æœåŠ¡å™¨è¿”å›å…¶æ„¿æ„æŠ«éœ²çš„æ‰€æœ‰å¯ç”¨æ¡ç›®ã€‚
```bash
dig any victim.com @<DNS_IP>
```
### åŒºåŸŸä¼ è¾“

è¯¥è¿‡ç¨‹ç®€ç§°ä¸º`å¼‚æ­¥å®Œå…¨ä¼ è¾“åŒºåŸŸ`ï¼ˆ`AXFR`ï¼‰ã€‚
```bash
dig axfr @<DNS_IP> #Try zone transfer without domain
dig axfr @<DNS_IP> <DOMAIN> #Try zone transfer guessing the domain
fierce --domain <DOMAIN> --dns-servers <DNS_IP> #Will try toperform a zone transfer against every authoritative name server and if this doesn'twork, will launch a dictionary attack
```
### æ›´å¤šä¿¡æ¯
```bash
dig ANY @<DNS_IP> <DOMAIN>     #Any information
dig A @<DNS_IP> <DOMAIN>       #Regular DNS request
dig AAAA @<DNS_IP> <DOMAIN>    #IPv6 DNS request
dig TXT @<DNS_IP> <DOMAIN>     #Information
dig MX @<DNS_IP> <DOMAIN>      #Emails related
dig NS @<DNS_IP> <DOMAIN>      #DNS that resolves that name
dig -x 192.168.0.2 @<DNS_IP>   #Reverse lookup
dig -x 2a00:1450:400c:c06::93 @<DNS_IP> #reverse IPv6 lookup

#Use [-p PORT]  or  -6 (to use ivp6 address of dns)
```
#### è‡ªåŠ¨åŒ–
```bash
for sub in $(cat <WORDLIST>);do dig $sub.<DOMAIN> @<DNS_IP> | grep -v ';\|SOA' | sed -r '/^\s*$/d' | grep $sub | tee -a subdomains.txt;done

dnsenum --dnsserver <DNS_IP> --enum -p 0 -s 0 -o subdomains.txt -f <WORDLIST> <DOMAIN>
```
#### ä½¿ç”¨ nslookup
```bash
nslookup
> SERVER <IP_DNS> #Select dns server
> 127.0.0.1 #Reverse lookup of 127.0.0.1, maybe...
> <IP_MACHINE> #Reverse lookup of a machine, maybe...
```
### æœ‰ç”¨çš„metasploitæ¨¡å—
```bash
auxiliary/gather/enum_dns #Perform enumeration actions
```
### æœ‰ç”¨çš„ nmap è„šæœ¬
```bash
#Perform enumeration actions
nmap -n --script "(default and *dns*) or fcrdns or dns-srv-enum or dns-random-txid or dns-random-srcport" <IP>
```
### DNS - åå‘ BF
```bash
dnsrecon -r 127.0.0.0/24 -n <IP_DNS>  #DNS reverse of all of the addresses
dnsrecon -r 127.0.1.0/24 -n <IP_DNS>  #DNS reverse of all of the addresses
dnsrecon -r <IP_DNS>/24 -n <IP_DNS>   #DNS reverse of all of the addresses
dnsrecon -d active.htb -a -n <IP_DNS> #Zone transfer
```
{% hint style="info" %}
å¦‚æœæ‚¨èƒ½æ‰¾åˆ°è§£æä¸ºå†…éƒ¨IPåœ°å€çš„å­åŸŸåï¼Œæ‚¨åº”è¯¥å°è¯•å¯¹è¯¥IPèŒƒå›´è¿›è¡Œåå‘DNS BFï¼Œå‘è¯¥åŸŸçš„NSsè¯·æ±‚ã€‚
{% endhint %}

å¦ä¸€ä¸ªæ‰§è¡Œæ­¤æ“ä½œçš„å·¥å…·ï¼š[https://github.com/amine7536/reverse-scan](https://github.com/amine7536/reverse-scan)

æ‚¨å¯ä»¥æŸ¥è¯¢åå‘IPèŒƒå›´è‡³[https://bgp.he.net/net/205.166.76.0/24#\_dns](https://bgp.he.net/net/205.166.76.0/24#\_dns)ï¼ˆæ­¤å·¥å…·åœ¨BGPæ–¹é¢ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼‰ã€‚

### DNS - å­åŸŸåBF
```bash
dnsenum --dnsserver <IP_DNS> --enum -p 0 -s 0 -o subdomains.txt -f subdomains-1000.txt <DOMAIN>
dnsrecon -D subdomains-1000.txt -d <DOMAIN> -n <IP_DNS>
dnscan -d <domain> -r -w subdomains-1000.txt #Bruteforce subdomains in recursive way, https://github.com/rbsec/dnscan
```
### Active Directory æœåŠ¡å™¨
```bash
dig -t _gc._tcp.lab.domain.com
dig -t _ldap._tcp.lab.domain.com
dig -t _kerberos._tcp.lab.domain.com
dig -t _kpasswd._tcp.lab.domain.com

nslookup -type=srv _kerberos._tcp.<CLIENT_DOMAIN>
nslookup -type=srv _kerberos._tcp.domain.com

nmap --script dns-srv-enum --script-args "dns-srv-enum.domain='domain.com'"
```
### DNSSec

### DNSSec
```bash
#Query paypal subdomains to ns3.isc-sns.info
nmap -sSU -p53 --script dns-nsec-enum --script-args dns-nsec-enum.domains=paypal.com ns3.isc-sns.info
```
### IPv6

ä½¿ç”¨"AAAA"è¯·æ±‚è¿›è¡Œæš´åŠ›ç ´è§£ï¼Œä»¥æ”¶é›†å­åŸŸçš„IPv6åœ°å€ã€‚
```bash
dnsdict6 -s -t <domain>
```
## Bruteforce reverse DNS in using IPv6 addresses

### IPv6 Address Enumeration

IPv6 addresses are 128 bits long, compared to the 32-bit IPv4 addresses. This makes brute-forcing IPv6 addresses significantly more challenging due to the increased address space. However, tools like `dnsrecon` and `dnsenum` can still be used to perform reverse DNS enumeration on IPv6 addresses.

### Bruteforcing Reverse DNS

To bruteforce reverse DNS for IPv6 addresses, you can use tools like `dnsrecon` with the `-r` flag to specify the reverse lookup mode. You can then provide a list of IPv6 addresses to the tool and let it bruteforce the reverse DNS records associated with those addresses.

### Example Command

```bash
dnsrecon -t rvl -r <IPv6_Address_List>
```

Replace `<IPv6_Address_List>` with the file containing the list of IPv6 addresses you want to bruteforce reverse DNS for.

By using tools like `dnsrecon` in reverse lookup mode, you can attempt to discover DNS records associated with IPv6 addresses through brute-forcing techniques.
```bash
dnsrevenum6 pri.authdns.ripe.net 2001:67c:2e8::/48 #Will use the dns pri.authdns.ripe.net
```
### DNSé€’å½’DDoS

å¦‚æœ**å¯ç”¨äº†DNSé€’å½’**ï¼Œæ”»å‡»è€…å¯ä»¥**ä¼ªé€ **UDPæ•°æ®åŒ…ä¸­çš„**æº**ï¼Œä»¥ä¾¿ä½¿**DNSå°†å“åº”å‘é€åˆ°å—å®³è€…æœåŠ¡å™¨**ã€‚æ”»å‡»è€…å¯ä»¥æ»¥ç”¨**ANY**æˆ–**DNSSEC**è®°å½•ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸å…·æœ‰æ›´å¤§çš„å“åº”ã€‚\
æ£€æŸ¥DNSæ˜¯å¦æ”¯æŒ**é€’å½’**çš„æ–¹æ³•æ˜¯æŸ¥è¯¢ä¸€ä¸ªåŸŸåï¼Œå¹¶æ£€æŸ¥å“åº”ä¸­æ˜¯å¦åŒ…å«**æ ‡å¿—"ra"**ï¼ˆ_é€’å½’å¯ç”¨_ï¼‰ï¼š
```bash
dig google.com A @<IP>
```
**ä¸å¯ç”¨**:

![](<../.gitbook/assets/image (275).png>)

**å¯ç”¨**:

![](<../.gitbook/assets/image (276).png>)

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**å³æ—¶æä¾›æ¼æ´è¯„ä¼°å’Œæ¸—é€æµ‹è¯•è®¾ç½®**ã€‚ä»ä»»ä½•åœ°æ–¹è¿è¡Œå®Œæ•´çš„æ¸—é€æµ‹è¯•ï¼Œæ‹¥æœ‰20å¤šç§å·¥å…·å’ŒåŠŸèƒ½ï¼Œä»ä¾¦å¯Ÿåˆ°æŠ¥å‘Šã€‚æˆ‘ä»¬ä¸å–ä»£æ¸—é€æµ‹è¯•äººå‘˜ - æˆ‘ä»¬å¼€å‘å®šåˆ¶å·¥å…·ã€æ£€æµ‹å’Œåˆ©ç”¨æ¨¡å—ï¼Œä¸ºä»–ä»¬èŠ‚çœæ—¶é—´æ·±å…¥æŒ–æ˜ã€å¼¹å‡ºshellå¹¶äº«å—ä¹è¶£ã€‚

{% embed url="https://pentest-tools.com/" %}

### å‘é€åˆ°ä¸å­˜åœ¨è´¦æˆ·çš„é‚®ä»¶

é€šè¿‡æ£€æŸ¥å‘é€åˆ°ç›®æ ‡åŸŸä¸­æ— æ•ˆåœ°å€çš„ç”µå­é‚®ä»¶æ‰€è§¦å‘çš„éæŠ•é€’é€šçŸ¥ï¼ˆNDNï¼‰ï¼Œé€šå¸¸ä¼šæŠ«éœ²æœ‰ä»·å€¼çš„å†…éƒ¨ç½‘ç»œè¯¦ç»†ä¿¡æ¯ã€‚

æä¾›çš„éæŠ•é€’æŠ¥å‘ŠåŒ…æ‹¬ä»¥ä¸‹ä¿¡æ¯ï¼š

- ç”ŸæˆæœåŠ¡å™¨è¢«è¯†åˆ«ä¸º `server.example.com`ã€‚
- è¿”å›äº†é’ˆå¯¹ `user@example.com` çš„é”™è¯¯ä»£ç  `#550 5.1.1 RESOLVER.ADR.RecipNotFound; not found` çš„å¤±è´¥é€šçŸ¥ã€‚
- åŸå§‹æ¶ˆæ¯å¤´ä¸­æŠ«éœ²äº†å†…éƒ¨IPåœ°å€å’Œä¸»æœºåã€‚
```markdown
The original message headers were modified for anonymity and now present randomized data:

Generating server: server.example.com

user@example.com
#550 5.1.1 RESOLVER.ADR.RecipNotFound; not found ##

Original message headers:

Received: from MAILSERVER01.domain.example.com (192.168.1.1) by
mailserver02.domain.example.com (192.168.2.2) with Microsoft SMTP Server (TLS)
id 14.3.174.1; Mon, 25 May 2015 14:52:22 -0700
Received: from filter.example.com (203.0.113.1) by
MAILSERVER01.domain.example.com (192.168.1.1) with Microsoft SMTP Server (TLS)
id 14.3.174.1; Mon, 25 May 2015 14:51:22 -0700
X-ASG-Debug-ID: 1432576343-0614671716190e0d0001-zOQ9WJ
Received: from gateway.domainhost.com (gateway.domainhost.com [198.51.100.37]) by
filter.example.com with ESMTP id xVNPkwaqGgdyH5Ag for user@example.com; Mon,
25 May 2015 14:52:13 -0700 (PDT)
X-Envelope-From: sender@anotherdomain.org
X-Apparent-Source-IP: 198.51.100.37
```
## é…ç½®æ–‡ä»¶
```
host.conf
/etc/resolv.conf
/etc/bind/named.conf
/etc/bind/named.conf.local
/etc/bind/named.conf.options
/etc/bind/named.conf.log
/etc/bind/*
```
åœ¨é…ç½®BindæœåŠ¡å™¨æ—¶çš„å±é™©è®¾ç½®ï¼š

| **é€‰é¡¹**           | **æè¿°**                                                                      |
| ----------------- | ------------------------------------------------------------------------------ |
| `allow-query`     | å®šä¹‰å…è®¸å‘DNSæœåŠ¡å™¨å‘é€è¯·æ±‚çš„ä¸»æœºã€‚                                           |
| `allow-recursion` | å®šä¹‰å…è®¸å‘DNSæœåŠ¡å™¨å‘é€é€’å½’è¯·æ±‚çš„ä¸»æœºã€‚                                       |
| `allow-transfer`  | å®šä¹‰å…è®¸ä»DNSæœåŠ¡å™¨æ¥æ”¶åŒºåŸŸä¼ è¾“çš„ä¸»æœºã€‚                                       |
| `zone-statistics` | æ”¶é›†åŒºåŸŸçš„ç»Ÿè®¡æ•°æ®ã€‚                                                          |

## å‚è€ƒèµ„æ–™
* [https://www.myrasecurity.com/en/knowledge-hub/dns/](https://www.myrasecurity.com/en/knowledge-hub/dns/)
* ä¹¦ç±ï¼š**Network Security Assessment 3rd edition**

## HackTricksè‡ªåŠ¨å‘½ä»¤
```
Protocol_Name: DNS    #Protocol Abbreviation if there is one.
Port_Number:  53     #Comma separated if there is more than one.
Protocol_Description: Domain Name Service        #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for DNS
Note: |
#These are the commands I run every time I see an open DNS port

dnsrecon -r 127.0.0.0/24 -n {IP} -d {Domain_Name}
dnsrecon -r 127.0.1.0/24 -n {IP} -d {Domain_Name}
dnsrecon -r {Network}{CIDR} -n {IP} -d {Domain_Name}
dig axfr @{IP}
dig axfr {Domain_Name} @{IP}
nslookup
SERVER {IP}
127.0.0.1
{IP}
Domain_Name
exit

https://book.hacktricks.xyz/pentesting/pentesting-dns

Entry_2:
Name: Banner Grab
Description: Grab DNS Banner
Command: dig version.bind CHAOS TXT @DNS

Entry_3:
Name: Nmap Vuln Scan
Description: Scan for Vulnerabilities with Nmap
Command: nmap -n --script "(default and *dns*) or fcrdns or dns-srv-enum or dns-random-txid or dns-random-srcport" {IP}

Entry_4:
Name: Zone Transfer
Description: Three attempts at forcing a zone transfer
Command: dig axfr @{IP} && dix axfr @{IP} {Domain_Name} && fierce --dns-servers {IP} --domain {Domain_Name}


Entry_5:
Name: Active Directory
Description: Eunuerate a DC via DNS
Command: dig -t _gc._{Domain_Name} && dig -t _ldap._{Domain_Name} && dig -t _kerberos._{Domain_Name} && dig -t _kpasswd._{Domain_Name} && nmap --script dns-srv-enum --script-args "dns-srv-enum.domain={Domain_Name}"

Entry_6:
Name: consolesless mfs enumeration
Description: DNS enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/dns/dns_amp; set RHOSTS {IP}; set RPORT 53; run; exit' && msfconsole -q -x 'use auxiliary/gather/enum_dns; set RHOSTS {IP}; set RPORT 53; run; exit'
```
<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**ç«‹å³æä¾›çš„æ¼æ´è¯„ä¼°å’Œæ¸—é€æµ‹è¯•è®¾ç½®**ã€‚ä½¿ç”¨20å¤šç§å·¥å…·å’ŒåŠŸèƒ½ä»ä¾¦å¯Ÿåˆ°æŠ¥å‘Šè¿è¡Œå®Œæ•´çš„æ¸—é€æµ‹è¯•ã€‚æˆ‘ä»¬ä¸å–ä»£æ¸—é€æµ‹è¯•äººå‘˜ - æˆ‘ä»¬å¼€å‘å®šåˆ¶å·¥å…·ã€æ£€æµ‹å’Œåˆ©ç”¨æ¨¡å—ï¼Œè®©ä»–ä»¬æœ‰æ›´å¤šæ—¶é—´æ·±å…¥æŒ–æ˜ã€å¼¹å‡ºshellå¹¶äº«å—ä¹è¶£ã€‚

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºè‹±é›„</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
