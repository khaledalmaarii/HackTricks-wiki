# 53 - DNSæ¸—é€æµ‹è¯•

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“â€”â€”[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ–è€… [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

<figure><img src="../.gitbook/assets/image (1) (1) (2) (4).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conferenceæ˜¯ä¸€åœºå›½é™…ç½‘ç»œå®‰å…¨æ´»åŠ¨**](https://www.dragonjarcon.org/)ï¼Œå·²ç»ä¸¾åŠäº†åå¤šå¹´ï¼Œå°†äº2023å¹´9æœˆ7æ—¥è‡³8æ—¥åœ¨å“¥ä¼¦æ¯”äºšæ³¢å“¥å¤§ä¸¾è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªå†…å®¹ä¸°å¯Œçš„æŠ€æœ¯æ´»åŠ¨ï¼Œå±•ç¤ºäº†å¸å¼•å…¨çƒé»‘å®¢å’Œç ”ç©¶äººå‘˜çš„æœ€æ–°ç ”ç©¶æˆæœã€‚\
ç«‹å³åœ¨ä»¥ä¸‹é“¾æ¥æ³¨å†Œï¼Œä¸è¦é”™è¿‡è¿™ä¸ªé‡è¦çš„ä¼šè®®ï¼:

{% embed url="https://www.dragonjarcon.org/" %}

## **åŸºæœ¬ä¿¡æ¯**

åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰æ˜¯äº’è”ç½‘çš„ç”µè¯ç°¿ã€‚äººä»¬é€šè¿‡åŸŸåè®¿é—®åœ¨çº¿ä¿¡æ¯ï¼Œä¾‹å¦‚nytimes.comæˆ–espn.comã€‚Webæµè§ˆå™¨é€šè¿‡Internetåè®®ï¼ˆIPï¼‰åœ°å€è¿›è¡Œäº¤äº’ã€‚DNSå°†åŸŸåè½¬æ¢ä¸º[IPåœ°å€](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/)ï¼Œä»¥ä¾¿æµè§ˆå™¨å¯ä»¥åŠ è½½äº’è”ç½‘èµ„æºã€‚\
æ¥æºï¼š[è¿™é‡Œ](https://www.cloudflare.com/learning/dns/what-is-dns/)ã€‚

**é»˜è®¤ç«¯å£ï¼š** 53
```
PORT     STATE SERVICE  REASON
53/tcp   open  domain  Microsoft DNS 6.1.7601 (1DB15D39) (Windows Server 2008 R2 SP1)
5353/udp open  zeroconf udp-response
53/udp   open  domain  Microsoft DNS 6.1.7601 (1DB15D39) (Windows Server 2008 R2 SP1)
```
### ä¸åŒçš„DNSæœåŠ¡å™¨

æ¥è‡ª[https://academy.hackthebox.com/module/112/section/1069](https://academy.hackthebox.com/module/112/section/1069)çš„ä¿¡æ¯

| **æœåŠ¡å™¨ç±»å‹**                 | **æè¿°**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `DNSæ ¹æœåŠ¡å™¨`                 | DNSçš„æ ¹æœåŠ¡å™¨è´Ÿè´£é¡¶çº§åŸŸåï¼ˆTLDï¼‰ã€‚ä½œä¸ºæœ€åçš„å®ä¾‹ï¼Œåªæœ‰åœ¨åç§°æœåŠ¡å™¨ä¸å“åº”æ—¶æ‰ä¼šè¯·æ±‚å®ƒä»¬ã€‚å› æ­¤ï¼Œæ ¹æœåŠ¡å™¨æ˜¯ç”¨æˆ·å’Œäº’è”ç½‘ä¸Šå†…å®¹ä¹‹é—´çš„ä¸­å¤®æ¥å£ï¼Œå› ä¸ºå®ƒé“¾æ¥åŸŸåå’ŒIPåœ°å€ã€‚[äº’è”ç½‘åç§°ä¸æ•°å­—åœ°å€åˆ†é…æœºæ„](https://www.icann.org/)ï¼ˆ`ICANN`ï¼‰åè°ƒæ ¹åç§°æœåŠ¡å™¨çš„å·¥ä½œã€‚å…¨çƒå…±æœ‰`13`ä¸ªè¿™æ ·çš„æ ¹æœåŠ¡å™¨ã€‚ |
| `æƒå¨åç§°æœåŠ¡å™¨`             | æƒå¨åç§°æœåŠ¡å™¨å¯¹ç‰¹å®šåŒºåŸŸæ‹¥æœ‰æˆæƒã€‚å®ƒä»¬åªå›ç­”æ¥è‡ªå…¶è´£ä»»åŒºåŸŸçš„æŸ¥è¯¢ï¼Œå¹¶ä¸”å®ƒä»¬çš„ä¿¡æ¯æ˜¯å…·æœ‰çº¦æŸåŠ›çš„ã€‚å¦‚æœæƒå¨åç§°æœåŠ¡å™¨æ— æ³•å›ç­”å®¢æˆ·ç«¯çš„æŸ¥è¯¢ï¼Œåˆ™æ ¹åç§°æœåŠ¡å™¨æ¥ç®¡è¯¥æŸ¥è¯¢ã€‚                                                                                                                                                                                                                                                                                    |
| `éæƒå¨åç§°æœåŠ¡å™¨`         | éæƒå¨åç§°æœåŠ¡å™¨ä¸è´Ÿè´£ç‰¹å®šçš„DNSåŒºåŸŸã€‚ç›¸åï¼Œå®ƒä»¬è‡ªå·±æ”¶é›†ç‰¹å®šDNSåŒºåŸŸçš„ä¿¡æ¯ï¼Œè¿™æ˜¯é€šè¿‡é€’å½’æˆ–è¿­ä»£çš„DNSæŸ¥è¯¢æ¥å®Œæˆçš„ã€‚                                                                                                                                                                                                                                                                                                                                                                      |
| `ç¼“å­˜DNSæœåŠ¡å™¨`             | ç¼“å­˜DNSæœåŠ¡å™¨åœ¨æŒ‡å®šçš„æ—¶é—´æ®µå†…ç¼“å­˜æ¥è‡ªå…¶ä»–åç§°æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚è¿™ä¸ªå­˜å‚¨çš„æŒç»­æ—¶é—´ç”±æƒå¨åç§°æœåŠ¡å™¨ç¡®å®šã€‚                                                                                                                                                                                                                                                                                                                                                                                |
| `è½¬å‘æœåŠ¡å™¨`                 | è½¬å‘æœåŠ¡å™¨åªæ‰§è¡Œä¸€ä¸ªåŠŸèƒ½ï¼šå°†DNSæŸ¥è¯¢è½¬å‘åˆ°å¦ä¸€ä¸ªDNSæœåŠ¡å™¨ã€‚                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `è§£æå™¨`                     | è§£æå™¨ä¸æ˜¯æƒå¨DNSæœåŠ¡å™¨ï¼Œè€Œæ˜¯åœ¨è®¡ç®—æœºæˆ–è·¯ç”±å™¨ä¸­æœ¬åœ°æ‰§è¡Œåç§°è§£æã€‚                                                                                                                                                                                                                                                                                                                                                                                                                     |

## æšä¸¾

### **æ¨ªå¹…æŠ“å–**

DNSæ²¡æœ‰å¯æŠ“å–çš„â€œæ¨ªå¹…â€ã€‚æœ€æ¥è¿‘çš„ç­‰æ•ˆç‰©æ˜¯å¯¹å¤§å¤šæ•°BINDåç§°æœåŠ¡å™¨æœ‰æ•ˆçš„`version.bind. CHAOS TXT`çš„é­”æœ¯æŸ¥è¯¢ã€‚\
æ‚¨å¯ä»¥ä½¿ç”¨`dig`æ‰§è¡Œæ­¤æŸ¥è¯¢ï¼š
```bash
dig version.bind CHAOS TXT @DNS
```
å¦‚æœè¿™ä¸èµ·ä½œç”¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æŒ‡çº¹è¯†åˆ«æŠ€æœ¯æ¥ç¡®å®šè¿œç¨‹æœåŠ¡å™¨çš„ç‰ˆæœ¬ - [`fpdns`](https://github.com/kirei/fpdns) å·¥å…·æ˜¯å…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼Œä½†è¿˜æœ‰å…¶ä»–é€‰é¡¹ã€‚

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ **nmap** è„šæœ¬æ¥è·å–æ¨ªå¹…ï¼š
```
--script dns-nsid
```
### **ä»»æ„è®°å½•**

è®°å½•**ANY**å°†è¦æ±‚DNSæœåŠ¡å™¨**è¿”å›**æ‰€æœ‰å¯ç”¨çš„**æ¡ç›®**ï¼Œå®ƒæ„¿æ„**æŠ«éœ²**çš„ã€‚
```bash
dig any victim.com @<DNS_IP>
```
### **åŒºåŸŸä¼ è¾“**

è¿™ä¸ªè¿‡ç¨‹è¢«ç¼©å†™ä¸º`å¼‚æ­¥å®Œå…¨ä¼ è¾“åŒºåŸŸ` (`AXFR`)ã€‚
```bash
dig axfr @<DNS_IP> #Try zone transfer without domain
dig axfr @<DNS_IP> <DOMAIN> #Try zone transfer guessing the domain
fierce --domain <DOMAIN> --dns-servers <DNS_IP> #Will try toperform a zone transfer against every authoritative name server and if this doesn'twork, will launch a dictionary attack
```
### æ›´å¤šä¿¡æ¯
```bash
dig ANY @<DNS_IP> <DOMAIN>     #Any information
dig A @<DNS_IP> <DOMAIN>       #Regular DNS request
dig AAAA @<DNS_IP> <DOMAIN>    #IPv6 DNS request
dig TXT @<DNS_IP> <DOMAIN>     #Information
dig MX @<DNS_IP> <DOMAIN>      #Emails related
dig NS @<DNS_IP> <DOMAIN>      #DNS that resolves that name
dig -x 192.168.0.2 @<DNS_IP>   #Reverse lookup
dig -x 2a00:1450:400c:c06::93 @<DNS_IP> #reverse IPv6 lookup

#Use [-p PORT]  or  -6 (to use ivp6 address of dns)
```
#### ä½¿ç”¨ nslookup

The `nslookup` command is a commonly used tool for querying DNS servers to obtain information about domain names and IP addresses. It can be used to perform various tasks during the DNS reconnaissance phase of a penetration test.

To use `nslookup`, open a command prompt and type `nslookup` followed by the domain name or IP address you want to query. By default, `nslookup` will display the IP address of the queried domain name and the corresponding domain name of the queried IP address.

Here are some examples of how to use `nslookup`:

- To query the IP address of a domain name:
```
nslookup example.com
```

- To query the domain name of an IP address:
```
nslookup 192.168.0.1
```

- To query a specific DNS server:
```
nslookup example.com 8.8.8.8
```

- To perform a reverse DNS lookup:
```
nslookup -type=PTR 192.168.0.1
```

- To enable debugging mode:
```
nslookup -debug example.com
```

- To exit `nslookup`:
```
exit
```

`nslookup` is a versatile tool that can provide valuable information during the reconnaissance phase of a penetration test. It is important to understand how to use it effectively to gather the necessary information about the target network.
```bash
nslookup
> SERVER <IP_DNS> #Select dns server
> 127.0.0.1 #Reverse lookup of 127.0.0.1, maybe...
> <IP_MACHINE> #Reverse lookup of a machine, maybe...
```
### æœ‰ç”¨çš„Metasploitæ¨¡å—

Metasploitæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ¸—é€æµ‹è¯•å·¥å…·ï¼Œæä¾›äº†è®¸å¤šæœ‰ç”¨çš„æ¨¡å—ï¼Œç”¨äºæ‰§è¡Œå„ç§ç½‘ç»œæœåŠ¡çš„æ¸—é€æµ‹è¯•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„Metasploitæ¨¡å—ï¼š

- `auxiliary/scanner/dns/dns_enum`ï¼šç”¨äºæ‰§è¡ŒDNSæšä¸¾ï¼Œè·å–ç›®æ ‡åŸŸåçš„ç›¸å…³ä¿¡æ¯ã€‚
- `auxiliary/scanner/dns/dns_reverser`ï¼šç”¨äºæ‰§è¡ŒDNSåå‘æŸ¥è¯¢ï¼Œè·å–ç›®æ ‡IPåœ°å€çš„ç›¸å…³ä¿¡æ¯ã€‚
- `auxiliary/scanner/dns/dns_bruteforce`ï¼šç”¨äºæ‰§è¡ŒDNSæš´åŠ›ç ´è§£ï¼Œå°è¯•çŒœæµ‹ç›®æ ‡åŸŸåçš„å­åŸŸåã€‚
- `auxiliary/scanner/dns/dns_cache_snoop`ï¼šç”¨äºæ‰§è¡ŒDNSç¼“å­˜çª¥è§†ï¼Œè·å–ç›®æ ‡DNSæœåŠ¡å™¨çš„ç¼“å­˜è®°å½•ã€‚
- `auxiliary/scanner/dns/dns_transfer`ï¼šç”¨äºæ‰§è¡ŒDNSä¼ è¾“ï¼Œå°è¯•è·å–ç›®æ ‡åŸŸåçš„åŒºåŸŸä¼ è¾“è®°å½•ã€‚

è¿™äº›æ¨¡å—å¯ä»¥å¸®åŠ©æ¸—é€æµ‹è¯•äººå‘˜å‘ç°ç›®æ ‡ç½‘ç»œä¸­å­˜åœ¨çš„DNSç›¸å…³æ¼æ´ï¼Œå¹¶åˆ©ç”¨è¿™äº›æ¼æ´è¿›è¡Œè¿›ä¸€æ­¥çš„æ¸—é€æ”»å‡»ã€‚
```bash
auxiliary/gather/enum_dns #Perform enumeration actions
```
### æœ‰ç”¨çš„nmapè„šæœ¬

Nmapæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œæ‰«æå·¥å…·ï¼Œå®ƒæä¾›äº†è®¸å¤šæœ‰ç”¨çš„è„šæœ¬ï¼Œç”¨äºæ‰§è¡Œå„ç§ç½‘ç»œæœåŠ¡çš„æ¸—é€æµ‹è¯•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„nmapè„šæœ¬ï¼š

- **dns-brute.nse**ï¼šç”¨äºæ‰§è¡ŒDNSæš´åŠ›ç ´è§£ï¼Œå°è¯•çŒœæµ‹ç›®æ ‡åŸŸåçš„å­åŸŸåã€‚
- **dns-cache-snoop.nse**ï¼šç”¨äºæ£€æŸ¥ç›®æ ‡DNSæœåŠ¡å™¨çš„ç¼“å­˜ï¼Œä»¥æŸ¥æ‰¾å¯èƒ½çš„ä¿¡æ¯æ³„æ¼ã€‚
- **dns-zone-transfer.nse**ï¼šç”¨äºæ‰§è¡ŒDNSåŒºåŸŸä¼ è¾“ï¼Œè·å–ç›®æ ‡åŸŸåçš„å®Œæ•´DNSè®°å½•ã€‚
- **dns-blacklist.nse**ï¼šç”¨äºæ£€æŸ¥ç›®æ ‡åŸŸåæ˜¯å¦åœ¨å…¬å…±DNSé»‘åå•ä¸­ã€‚
- **dns-reverse-query.nse**ï¼šç”¨äºæ‰§è¡Œåå‘DNSæŸ¥è¯¢ï¼ŒæŸ¥æ‰¾ç›®æ ‡IPåœ°å€çš„åŸŸåã€‚
- **dns-service-discovery.nse**ï¼šç”¨äºå‘ç°ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œçš„DNSæœåŠ¡ç±»å‹ã€‚

è¿™äº›è„šæœ¬å¯ä»¥å¸®åŠ©æ¸—é€æµ‹è¯•äººå‘˜å‘ç°ç›®æ ‡ç½‘ç»œä¸­çš„æ½œåœ¨æ¼æ´å’Œå®‰å…¨é—®é¢˜ã€‚åœ¨ä½¿ç”¨è¿™äº›è„šæœ¬æ—¶ï¼Œè¯·ç¡®ä¿éµå®ˆæ³•å¾‹å’Œé“å¾·è§„èŒƒï¼Œå¹¶è·å¾—é€‚å½“çš„æˆæƒã€‚
```bash
#Perform enumeration actions
nmap -n --script "(default and *dns*) or fcrdns or dns-srv-enum or dns-random-txid or dns-random-srcport" <IP>
```
### DNS - åå‘æš´åŠ›ç ´è§£

Reverse BFï¼ˆåå‘æš´åŠ›ç ´è§£ï¼‰æ˜¯ä¸€ç§ç”¨äºå‘ç°DNSæœåŠ¡å™¨ä¸Šçš„éšè—è®°å½•çš„æŠ€æœ¯ã€‚å®ƒåˆ©ç”¨äº†DNSæœåŠ¡å™¨çš„é”™è¯¯å“åº”æ¥æ¨æ–­å‡ºå­˜åœ¨çš„è®°å½•ã€‚

#### åŸç†

1. é€‰æ‹©ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚`example.com`ã€‚
2. æšä¸¾å¯èƒ½å­˜åœ¨çš„å­åŸŸåï¼Œä¾‹å¦‚`a.example.com`ï¼Œ`b.example.com`ï¼Œ`c.example.com`ç­‰ã€‚
3. å‘DNSæœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥å­åŸŸåçš„è®°å½•ã€‚
4. å¦‚æœDNSæœåŠ¡å™¨è¿”å›NXDOMAINï¼ˆåŸŸåä¸å­˜åœ¨ï¼‰é”™è¯¯ï¼Œåˆ™å¯ä»¥æ¨æ–­å‡ºè¯¥å­åŸŸåä¸å­˜åœ¨ã€‚
5. å¦‚æœDNSæœåŠ¡å™¨è¿”å›å…¶ä»–ç±»å‹çš„é”™è¯¯ï¼Œä¾‹å¦‚SERVFAILï¼ˆæœåŠ¡å™¨æ•…éšœï¼‰æˆ–REFUSEDï¼ˆæ‹’ç»æŸ¥è¯¢ï¼‰ï¼Œåˆ™å¯ä»¥æ¨æ–­å‡ºè¯¥å­åŸŸåå­˜åœ¨ä½†è¢«éšè—ã€‚

#### å®æ–½æ­¥éª¤

1. ä½¿ç”¨å·¥å…·ï¼Œä¾‹å¦‚`dnsrecon`æˆ–`fierce`ï¼Œæ¥è‡ªåŠ¨åŒ–æ‰§è¡Œåå‘æš´åŠ›ç ´è§£ã€‚
2. é…ç½®å·¥å…·ä»¥ä½¿ç”¨å­—å…¸æ–‡ä»¶æ¥ç”Ÿæˆå¯èƒ½çš„å­åŸŸåã€‚
3. å‘ç›®æ ‡DNSæœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œå¹¶åˆ†æå“åº”ä»¥ç¡®å®šå­åŸŸåçš„å­˜åœ¨ä¸å¦ã€‚
4. æ ¹æ®ç»“æœï¼Œè¿›ä¸€æ­¥æ¢æµ‹å­˜åœ¨çš„å­åŸŸåï¼Œä»¥è·å–æ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚

#### é˜²å¾¡æªæ–½

ä¸ºäº†é˜²æ­¢åå‘æš´åŠ›ç ´è§£æ”»å‡»ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š

1. é…ç½®DNSæœåŠ¡å™¨ä»¥é™åˆ¶é”™è¯¯å“åº”çš„ä¿¡æ¯æ³„éœ²ã€‚
2. ä½¿ç”¨éšæœºå­åŸŸåæ¥éšè—çœŸå®çš„è®°å½•ã€‚
3. ç›‘æ§DNSæœåŠ¡å™¨çš„æ—¥å¿—ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°å¼‚å¸¸æ´»åŠ¨ã€‚
4. å®šæœŸæ›´æ–°DNSæœåŠ¡å™¨çš„è½¯ä»¶å’Œè¡¥ä¸ï¼Œä»¥ä¿®å¤å·²çŸ¥çš„æ¼æ´ã€‚

#### ç›¸å…³å·¥å…·

- `dnsrecon`ï¼šç”¨äºæ‰§è¡ŒDNSæšä¸¾å’Œä¿¡æ¯æ”¶é›†çš„å·¥å…·ã€‚
- `fierce`ï¼šç”¨äºæ‰§è¡ŒDNSæšä¸¾å’Œä¿¡æ¯æ”¶é›†çš„å·¥å…·ã€‚

#### å‚è€ƒé“¾æ¥

- [DNS Enumeration Techniques](https://www.hackingarticles.in/comprehensive-guide-on-dns-enumeration/)
- [DNS Reconnaissance](https://resources.infosecinstitute.com/topic/dns-reconnaissance/)
```bash
dnsrecon -r 127.0.0.0/24 -n <IP_DNS>  #DNS reverse of all of the addresses
dnsrecon -r 127.0.1.0/24 -n <IP_DNS>  #DNS reverse of all of the addresses
dnsrecon -r <IP_DNS>/24 -n <IP_DNS>   #DNS reverse of all of the addresses
dnsrecon -d active.htb -a -n <IP_DNS> #Zone transfer
```
{% hint style="info" %}
å¦‚æœæ‚¨èƒ½æ‰¾åˆ°è§£æä¸ºå†…éƒ¨IPåœ°å€çš„å­åŸŸåï¼Œåº”å°è¯•å¯¹è¯¥IPèŒƒå›´çš„NSæ‰§è¡Œåå‘DNS BFã€‚
{% endhint %}

å¦ä¸€ä¸ªå·¥å…·å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼š[https://github.com/amine7536/reverse-scan](https://github.com/amine7536/reverse-scan)

æ‚¨å¯ä»¥æŸ¥è¯¢åå‘IPèŒƒå›´åˆ°[https://bgp.he.net/net/205.166.76.0/24#\_dns](https://bgp.he.net/net/205.166.76.0/24#\_dns)ï¼ˆæ­¤å·¥å…·åœ¨BGPæ–¹é¢ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼‰ã€‚

### DNS - å­åŸŸåBF
```bash
dnsenum --dnsserver <IP_DNS> --enum -p 0 -s 0 -o subdomains.txt -f subdomains-1000.txt <DOMAIN>
dnsrecon -D subdomains-1000.txt -d <DOMAIN> -n <IP_DNS>
dnscan -d <domain> -r -w subdomains-1000.txt #Bruteforce subdomains in recursive way, https://github.com/rbsec/dnscan
```
### Active Directory æœåŠ¡å™¨

Active Directoryï¼ˆADï¼‰æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„ç›®å½•æœåŠ¡ï¼Œç”¨äºåœ¨ç½‘ç»œä¸­ç®¡ç†å’Œç»„ç»‡ç”¨æˆ·ã€è®¡ç®—æœºå’Œå…¶ä»–ç½‘ç»œèµ„æºã€‚åœ¨æ¸—é€æµ‹è¯•ä¸­ï¼Œæ”»å‡»è€…ç»å¸¸é’ˆå¯¹Active DirectoryæœåŠ¡å™¨è¿›è¡Œæ”»å‡»ï¼Œä»¥è·å–æ•æ„Ÿä¿¡æ¯æˆ–è·å–å¯¹ç½‘ç»œçš„å®Œå…¨æ§åˆ¶ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„Active DirectoryæœåŠ¡å™¨æ¸—é€æµ‹è¯•æŠ€æœ¯ï¼š

#### 1. ç”¨æˆ·æšä¸¾

æ”»å‡»è€…å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ¥æšä¸¾Active Directoryä¸­çš„ç”¨æˆ·ã€‚è¿™äº›æŠ€æœ¯åŒ…æ‹¬ï¼š

- ç”¨æˆ·åæšä¸¾ï¼šé€šè¿‡å°è¯•ä¸åŒçš„ç”¨æˆ·åå’Œå¯†ç ç»„åˆï¼Œæ”»å‡»è€…å¯ä»¥ç¡®å®šå“ªäº›ç”¨æˆ·å­˜åœ¨äºActive Directoryä¸­ã€‚
- ç”¨æˆ·åçŒœæµ‹ï¼šæ”»å‡»è€…å¯ä»¥ä½¿ç”¨å¸¸è§çš„ç”¨æˆ·ååˆ—è¡¨æ¥çŒœæµ‹Active Directoryä¸­çš„ç”¨æˆ·ã€‚
- ç”¨æˆ·åæ”¶é›†ï¼šæ”»å‡»è€…å¯ä»¥é€šè¿‡ç¤¾äº¤å·¥ç¨‹ã€ç½‘ç»œçˆ¬è™«æˆ–å…¶ä»–æŠ€æœ¯æ¥æ”¶é›†Active Directoryä¸­çš„ç”¨æˆ·åã€‚

#### 2. å¯†ç æ”»å‡»

ä¸€æ—¦æ”»å‡»è€…è·å¾—äº†Active Directoryä¸­çš„æœ‰æ•ˆç”¨æˆ·åï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ¥è¿›è¡Œå¯†ç æ”»å‡»ï¼š

- å­—å…¸æ”»å‡»ï¼šæ”»å‡»è€…ä½¿ç”¨é¢„å…ˆå‡†å¤‡å¥½çš„å¯†ç å­—å…¸æ¥å°è¯•çŒœæµ‹ç”¨æˆ·çš„å¯†ç ã€‚
- æš´åŠ›æ”»å‡»ï¼šæ”»å‡»è€…å°è¯•ä½¿ç”¨æ‰€æœ‰å¯èƒ½çš„å¯†ç ç»„åˆæ¥çŒœæµ‹ç”¨æˆ·çš„å¯†ç ã€‚
- å“ˆå¸Œæ”»å‡»ï¼šæ”»å‡»è€…è·å–Active Directoryä¸­å­˜å‚¨çš„å¯†ç å“ˆå¸Œï¼Œå¹¶ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼ˆå¦‚å½©è™¹è¡¨ï¼‰æ¥ç ´è§£è¿™äº›å“ˆå¸Œã€‚

#### 3. ææƒæ”»å‡»

ä¸€æ—¦æ”»å‡»è€…æˆåŠŸç™»å½•åˆ°Active DirectoryæœåŠ¡å™¨ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ¥æå‡æƒé™ï¼š

- æ¨ªå‘ç§»åŠ¨ï¼šæ”»å‡»è€…å¯ä»¥åœ¨Active Directoryä¸­ç§»åŠ¨ï¼Œä»¥è·å–å¯¹å…¶ä»–è®¡ç®—æœºå’Œèµ„æºçš„è®¿é—®æƒé™ã€‚
- ææƒæ¼æ´åˆ©ç”¨ï¼šæ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ“ä½œç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºä¸­çš„æ¼æ´æ¥æå‡å…¶åœ¨Active Directoryä¸­çš„æƒé™ã€‚
- å¯†ç é‡ç½®ï¼šæ”»å‡»è€…å¯ä»¥é€šè¿‡é‡ç½®å…¶ä»–ç”¨æˆ·çš„å¯†ç æ¥è·å–æ›´é«˜çš„æƒé™ã€‚

#### 4. æ•°æ®æ³„éœ²

æ”»å‡»è€…å¯ä»¥åˆ©ç”¨Active DirectoryæœåŠ¡å™¨ä¸­çš„æ¼æ´æˆ–å¼±ç‚¹æ¥è·å–æ•æ„Ÿä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯èƒ½åŒ…æ‹¬ç”¨æˆ·å‡­æ®ã€æ•æ„Ÿæ–‡ä»¶æˆ–å…¶ä»–é‡è¦æ•°æ®ã€‚

#### 5. æŒä¹…æ€§

æ”»å‡»è€…å¯ä»¥åœ¨Active DirectoryæœåŠ¡å™¨ä¸Šè®¾ç½®åé—¨æˆ–å…¶ä»–æŒä¹…æ€§æœºåˆ¶ï¼Œä»¥ç¡®ä¿ä»–ä»¬åœ¨æœªæ¥èƒ½å¤Ÿè®¿é—®è¯¥æœåŠ¡å™¨ã€‚

#### 6. æ¸…é™¤ç—•è¿¹

æ”»å‡»è€…å¯ä»¥å°è¯•æ¸…é™¤åœ¨Active DirectoryæœåŠ¡å™¨ä¸Šç•™ä¸‹çš„ä»»ä½•ç—•è¿¹ï¼Œä»¥éšè—ä»–ä»¬çš„æ´»åŠ¨å¹¶é˜²æ­¢è¢«æ£€æµ‹åˆ°ã€‚

åœ¨æ¸—é€æµ‹è¯•ä¸­ï¼Œäº†è§£è¿™äº›Active DirectoryæœåŠ¡å™¨æ¸—é€æµ‹è¯•æŠ€æœ¯æ˜¯éå¸¸é‡è¦çš„ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¯„ä¼°å’ŒåŠ å¼ºç½‘ç»œçš„å®‰å…¨æ€§ã€‚
```
dig -t _gc._tcp.lab.domain.com
dig -t _ldap._tcp.lab.domain.com
dig -t _kerberos._tcp.lab.domain.com
dig -t _kpasswd._tcp.lab.domain.com
nmap --script dns-srv-enum --script-args "dns-srv-enum.domain='domain.com'"
```
### DNSSec

DNSSecï¼ˆDomain Name System Security Extensionsï¼‰æ˜¯ä¸€ç§ç”¨äºå¢å¼ºDNSå®‰å…¨æ€§çš„æ‰©å±•åè®®ã€‚å®ƒçš„ç›®æ ‡æ˜¯é˜²æ­¢DNSæ•°æ®è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ï¼Œä»¥ç¡®ä¿ç”¨æˆ·è®¿é—®çš„ç½‘ç«™æ˜¯çœŸå®å¯ä¿¡çš„ã€‚

DNSSecé€šè¿‡æ•°å­—ç­¾åå’Œå…¬é’¥åŠ å¯†æŠ€æœ¯æ¥å®ç°æ•°æ®çš„å®Œæ•´æ€§å’Œèº«ä»½éªŒè¯ã€‚å®ƒä½¿ç”¨å…¬é’¥åŠ å¯†ç®—æ³•å¯¹DNSæ•°æ®è¿›è¡Œç­¾åï¼Œå¹¶å°†ç­¾åå­˜å‚¨åœ¨DNSæœåŠ¡å™¨ä¸Šã€‚å½“å®¢æˆ·ç«¯è¯·æ±‚DNSæ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç­¾åä¸€å¹¶è¿”å›ã€‚å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨DNSæœåŠ¡å™¨çš„å…¬é’¥æ¥éªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚

DNSSecçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š

1. DNSæœåŠ¡å™¨ä½¿ç”¨ç§é’¥å¯¹DNSæ•°æ®è¿›è¡Œç­¾åï¼Œå¹¶å°†ç­¾åå­˜å‚¨åœ¨DNSè®°å½•ä¸­ã€‚
2. å®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨å‘é€DNSè¯·æ±‚ã€‚
3. DNSæœåŠ¡å™¨è¿”å›DNSå“åº”ï¼Œå…¶ä¸­åŒ…å«äº†ç­¾åã€‚
4. å®¢æˆ·ç«¯ä½¿ç”¨DNSæœåŠ¡å™¨çš„å…¬é’¥æ¥éªŒè¯ç­¾åçš„æœ‰æ•ˆæ€§ã€‚
5. å¦‚æœç­¾åæœ‰æ•ˆï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¿¡ä»»è¿”å›çš„DNSæ•°æ®ã€‚

DNSSecçš„ä¼˜åŠ¿åœ¨äºå®ƒæä¾›äº†ä¸€ç§å¯é çš„æœºåˆ¶æ¥é˜²æ­¢DNSæ•°æ®è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ã€‚å®ƒå¯ä»¥é˜²æ­¢DNSç¼“å­˜æŠ•æ¯’æ”»å‡»ã€ä¸­é—´äººæ”»å‡»å’ŒDNSæ¬ºéª—ç­‰å¸¸è§çš„DNSå®‰å…¨å¨èƒã€‚

ç„¶è€Œï¼ŒDNSSecå¹¶ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒéœ€è¦å¹¿æ³›çš„æ”¯æŒå’Œéƒ¨ç½²æ‰èƒ½å‘æŒ¥æœ€å¤§çš„æ•ˆæœã€‚æ­¤å¤–ï¼ŒDNSSecå¹¶ä¸èƒ½è§£å†³æ‰€æœ‰çš„DNSå®‰å…¨é—®é¢˜ï¼Œå¦‚DDoSæ”»å‡»å’ŒDNSéšç§é—®é¢˜ã€‚

æ€»ç»“ä¸€ä¸‹ï¼ŒDNSSecæ˜¯ä¸€ç§ç”¨äºå¢å¼ºDNSå®‰å…¨æ€§çš„æ‰©å±•åè®®ï¼Œé€šè¿‡æ•°å­—ç­¾åå’Œå…¬é’¥åŠ å¯†æŠ€æœ¯æ¥ä¿è¯DNSæ•°æ®çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚å®ƒå¯ä»¥æœ‰æ•ˆé˜²æ­¢DNSæ•°æ®è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ï¼Œä½†éœ€è¦å¹¿æ³›çš„æ”¯æŒå’Œéƒ¨ç½²æ‰èƒ½å‘æŒ¥æœ€å¤§çš„æ•ˆæœã€‚
```bash
#Query paypal subdomains to ns3.isc-sns.info
nmap -sSU -p53 --script dns-nsec-enum --script-args dns-nsec-enum.domains=paypal.com ns3.isc-sns.info
```
### IPv6

ä½¿ç”¨"AAAA"è¯·æ±‚è¿›è¡Œæš´åŠ›ç ´è§£ï¼Œä»¥æ”¶é›†å­åŸŸåçš„IPv6åœ°å€ã€‚
```bash
dnsdict6 -s -t <domain>
```
## Bruteforce reverse DNS in using IPv6 addresses

To perform a reverse DNS bruteforce attack using IPv6 addresses, you can follow these steps:

1. Generate a list of possible IPv6 addresses: Start by creating a list of potential IPv6 addresses that you want to test. You can use tools like `ipv6gen` or `fcrackzip` to generate a list of addresses based on a given pattern or range.

2. Resolve the reverse DNS for each address: Use a DNS resolver tool like `dig` or `nslookup` to query the reverse DNS for each IPv6 address in your list. This will help you determine if a valid reverse DNS record exists for each address.

3. Analyze the results: Analyze the responses from the DNS resolver tool to identify any patterns or potential vulnerabilities. Look for addresses that have no reverse DNS record or have generic names like "host" or "localhost". These could indicate misconfigurations or potential targets for further investigation.

4. Exploit the findings: Once you have identified potential targets, you can further investigate them for potential vulnerabilities or misconfigurations. This could include performing additional reconnaissance, scanning for open ports, or attempting to exploit known vulnerabilities.

It's important to note that reverse DNS bruteforce attacks should only be performed on systems that you have explicit permission to test. Unauthorized access or exploitation of systems is illegal and unethical. Always ensure you have proper authorization and follow ethical guidelines when conducting any security testing.
```bash
dnsrevenum6 pri.authdns.ripe.net 2001:67c:2e8::/48 #Will use the dns pri.authdns.ripe.net
```
### DNSé€’å½’DDoS

å¦‚æœ**å¯ç”¨äº†DNSé€’å½’**ï¼Œæ”»å‡»è€…å¯ä»¥**ä¼ªé€ **UDPæ•°æ®åŒ…çš„**æºåœ°å€**ï¼Œä»¥ä¾¿ä½¿**DNSå°†å“åº”å‘é€åˆ°å—å®³è€…æœåŠ¡å™¨**ã€‚æ”»å‡»è€…å¯ä»¥æ»¥ç”¨**ANY**æˆ–**DNSSEC**è®°å½•ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸å…·æœ‰æ›´å¤§çš„å“åº”ã€‚\
æ£€æŸ¥DNSæ˜¯å¦æ”¯æŒ**é€’å½’**çš„æ–¹æ³•æ˜¯æŸ¥è¯¢ä¸€ä¸ªåŸŸåï¼Œå¹¶**æ£€æŸ¥**å“åº”ä¸­æ˜¯å¦å­˜åœ¨**"ra"æ ‡å¿—**ï¼ˆ_é€’å½’å¯ç”¨_ï¼‰ï¼š
```bash
dig google.com A @<IP>
```
**ä¸å¯ç”¨**ï¼š

![](<../.gitbook/assets/image (275).png>)

**å¯ç”¨**ï¼š

![](<../.gitbook/assets/image (276).png>)

<figure><img src="../.gitbook/assets/image (1) (1) (2) (4).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conferenceæ˜¯ä¸€åœºå›½é™…ç½‘ç»œå®‰å…¨æ´»åŠ¨**](https://www.dragonjarcon.org/)ï¼Œå·²ç»ä¸¾åŠäº†åå¤šå¹´ï¼Œå°†äº2023å¹´9æœˆ7æ—¥è‡³8æ—¥åœ¨å“¥ä¼¦æ¯”äºšæ³¢å“¥å¤§ä¸¾è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªå†…å®¹ä¸°å¯Œçš„æŠ€æœ¯æ´»åŠ¨ï¼Œå±•ç¤ºäº†æœ€æ–°çš„è¥¿ç­ç‰™è¯­ç ”ç©¶æˆæœï¼Œå¸å¼•äº†æ¥è‡ªä¸–ç•Œå„åœ°çš„é»‘å®¢å’Œç ”ç©¶äººå‘˜ã€‚\
ç«‹å³åœ¨ä»¥ä¸‹é“¾æ¥æ³¨å†Œï¼Œä¸è¦é”™è¿‡è¿™ä¸ªé‡è¦çš„ä¼šè®®ï¼:

{% embed url="https://www.dragonjarcon.org/" %}

### å‘é€é‚®ä»¶åˆ°ä¸å­˜åœ¨çš„è´¦æˆ·

æ¥è‡ªä¹¦ç±ï¼šã€Šç½‘ç»œå®‰å…¨è¯„ä¼°ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰ã€‹

åªéœ€å‘ç›®æ ‡åŸŸå‘é€ä¸€å°é‚®ä»¶åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„åœ°å€ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡_ä¸å¯æŠ•é€’é€šçŸ¥_ï¼ˆNDNï¼‰æ­ç¤ºæœ‰ç”¨çš„å†…éƒ¨ç½‘ç»œä¿¡æ¯ã€‚
```
Generating server: noa.nintendo.com

blah@nintendo.com
#550 5.1.1 RESOLVER.ADR.RecipNotFound; not found ##

Original message headers:

Received: from ONERDEDGE02.one.nintendo.com (10.13.20.35) by
onerdexch08.one.nintendo.com (10.13.30.39) with Microsoft SMTP Server (TLS)
id 14.3.174.1; Sat, 26 Apr 2014 16:52:22 -0700
Received: from barracuda.noa.nintendo.com (205.166.76.35) by
ONERDEDGE02.one.nintendo.com (10.13.20.35) with Microsoft SMTP Server (TLS)
id 14.3.174.1; Sat, 26 Apr 2014 16:51:22 -0700
X-ASG-Debug-ID: 1398556333-0614671716199b0d0001-zOQ9WJ
Received: from gateway05.websitewelcome.com (gateway05.websitewelcome.com  [69.93.154.37]) by
barracuda.noa.nintendo.com with ESMTP id xVNPkwaqGgdyH5Ag for <blah@nintendo.com>; Sat,
26 Apr 2014 16:52:13 -0700 (PDT)
X-Barracuda-Envelope-From: chris@example.org
X-Barracuda-Apparent-Source-IP: 69.93.154.37
```
ä»¥ä¸‹æ˜¯æ­¤è®°å½•ä¸­æœ‰ç”¨çš„æ•°æ®ï¼š

* å†…éƒ¨ä¸»æœºåã€IPåœ°å€å’Œå­åŸŸå¸ƒå±€
* é‚®ä»¶æœåŠ¡å™¨æ­£åœ¨è¿è¡ŒMicrosoft Exchange Server 2010 SP3
* ä½¿ç”¨Barracuda Networksè®¾å¤‡è¿›è¡Œå†…å®¹è¿‡æ»¤

## é…ç½®æ–‡ä»¶
```
host.conf
/etc/resolv.conf
/etc/bind/named.conf
/etc/bind/named.conf.local
/etc/bind/named.conf.options
/etc/bind/named.conf.log
/etc/bind/*
```
é…ç½®BindæœåŠ¡å™¨æ—¶çš„å±é™©è®¾ç½®ï¼š

| **é€‰é¡¹**           | **æè¿°**                                                                 |
| ----------------- | ----------------------------------------------------------------------- |
| `allow-query`     | å®šä¹‰å…è®¸å‘DNSæœåŠ¡å™¨å‘é€è¯·æ±‚çš„ä¸»æœºã€‚                                      |
| `allow-recursion` | å®šä¹‰å…è®¸å‘DNSæœåŠ¡å™¨å‘é€é€’å½’è¯·æ±‚çš„ä¸»æœºã€‚                                  |
| `allow-transfer`  | å®šä¹‰å…è®¸ä»DNSæœåŠ¡å™¨æ¥æ”¶åŒºåŸŸä¼ è¾“çš„ä¸»æœºã€‚                                  |
| `zone-statistics` | æ”¶é›†åŒºåŸŸçš„ç»Ÿè®¡æ•°æ®ã€‚                                                     |

## HackTricksè‡ªåŠ¨å‘½ä»¤
```
Protocol_Name: DNS    #Protocol Abbreviation if there is one.
Port_Number:  53     #Comma separated if there is more than one.
Protocol_Description: Domain Name Service        #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for DNS
Note: |
#These are the commands I run every time I see an open DNS port

dnsrecon -r 127.0.0.0/24 -n {IP} -d {Domain_Name}
dnsrecon -r 127.0.1.0/24 -n {IP} -d {Domain_Name}
dnsrecon -r {Network}{CIDR} -n {IP} -d {Domain_Name}
dig axfr @{IP}
dig axfr {Domain_Name} @{IP}
nslookup
SERVER {IP}
127.0.0.1
{IP}
Domain_Name
exit

https://book.hacktricks.xyz/pentesting/pentesting-dns

Entry_2:
Name: Banner Grab
Description: Grab DNS Banner
Command: dig version.bind CHAOS TXT @DNS

Entry_3:
Name: Nmap Vuln Scan
Description: Scan for Vulnerabilities with Nmap
Command: nmap -n --script "(default and *dns*) or fcrdns or dns-srv-enum or dns-random-txid or dns-random-srcport" {IP}

Entry_4:
Name: Zone Transfer
Description: Three attempts at forcing a zone transfer
Command: dig axfr @{IP} && dix axfr @{IP} {Domain_Name} && fierce --dns-servers {IP} --domain {Domain_Name}


Entry_5:
Name: Active Directory
Description: Eunuerate a DC via DNS
Command: dig -t _gc._{Domain_Name} && dig -t _ldap._{Domain_Name} && dig -t _kerberos._{Domain_Name} && dig -t _kpasswd._{Domain_Name} && nmap --script dns-srv-enum --script-args "dns-srv-enum.domain={Domain_Name}"

Entry_6:
Name: consolesless mfs enumeration
Description: DNS enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/dns/dns_amp; set RHOSTS {IP}; set RPORT 53; run; exit' && msfconsole -q -x 'use auxiliary/gather/enum_dns; set RHOSTS {IP}; set RPORT 53; run; exit'
```
<figure><img src="../.gitbook/assets/image (1) (1) (2) (4).png" alt=""><figcaption></figcaption></figure>

[**DragonJAR Security Conferenceæ˜¯ä¸€åœºå›½é™…ç½‘ç»œå®‰å…¨æ´»åŠ¨**](https://www.dragonjarcon.org/)ï¼Œå°†äº2023å¹´9æœˆ7æ—¥è‡³8æ—¥åœ¨å“¥ä¼¦æ¯”äºšæ³¢å“¥å¤§ä¸¾è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªå†…å®¹ä¸°å¯Œçš„æŠ€æœ¯æ´»åŠ¨ï¼Œå±•ç¤ºäº†æœ€æ–°çš„è¥¿ç­ç‰™è¯­ç ”ç©¶æˆæœï¼Œå¸å¼•äº†æ¥è‡ªä¸–ç•Œå„åœ°çš„é»‘å®¢å’Œç ”ç©¶äººå‘˜ã€‚\
ç«‹å³åœ¨ä»¥ä¸‹é“¾æ¥æ³¨å†Œï¼Œä¸è¦é”™è¿‡è¿™ä¸ªé‡è¦çš„ä¼šè®®ï¼:

{% embed url="https://www.dragonjarcon.org/" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ YouTube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨HackTricksä¸­**å®£ä¼ ä½ çš„å…¬å¸**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å¾—[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **é€šè¿‡å‘**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **å’Œ**[**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
