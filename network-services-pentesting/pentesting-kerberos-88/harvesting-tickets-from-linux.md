<details>

<summary><strong>é›¶åŸºç¡€å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ç›´è‡³æˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç° [**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„ [**NFT é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>


åœ¨ Linux ä¸Šï¼Œ**ç¥¨æ®å­˜å‚¨åœ¨å‡­è¯ç¼“å­˜æˆ– ccaches ä¸­**ã€‚æœ‰ 3 ç§ä¸»è¦ç±»å‹ï¼ŒæŒ‡ç¤º**å¯ä»¥åœ¨å“ªé‡Œæ‰¾åˆ°ç¥¨æ®ï¼š**

* **æ–‡ä»¶**ï¼Œé»˜è®¤ä½äº **/tmp** ç›®å½•ä¸‹ï¼Œå½¢å¼ä¸º **krb5cc\_%{uid}**ã€‚
* **å†…æ ¸å¯†é’¥ç¯**ï¼ŒLinux å†…æ ¸ä¸­æä¾›çš„ç”¨äºå­˜å‚¨å¯†é’¥çš„ç‰¹æ®Šç©ºé—´ã€‚
* **è¿›ç¨‹å†…å­˜**ï¼Œå½“åªæœ‰ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä½¿ç”¨ç¥¨æ®æ—¶ä½¿ç”¨ã€‚

è¦éªŒè¯ç‰¹å®šæœºå™¨ä¸­ä½¿ç”¨çš„å­˜å‚¨ç±»å‹ï¼Œå¿…é¡»åœ¨ **/etc/krb5.conf** æ–‡ä»¶ä¸­æ£€æŸ¥å˜é‡ _**default\_ccache\_name**_ï¼Œè¯¥æ–‡ä»¶é»˜è®¤å¯¹ä»»ä½•ç”¨æˆ·éƒ½æœ‰è¯»æƒé™ã€‚å¦‚æœç¼ºå°‘æ­¤å‚æ•°ï¼Œå…¶é»˜è®¤å€¼ä¸º _FILE:/tmp/krb5cc\_%{uid}_ã€‚

ä¸ºäº†ä»å…¶ä»–ä¸¤ä¸ªæ¥æºï¼ˆå¯†é’¥ç¯å’Œè¿›ç¨‹ï¼‰æå–**ç¥¨æ®**ï¼Œ2017 å¹´å‘å¸ƒçš„ä¸€ç¯‡å¾ˆå¥½çš„è®ºæ–‡ [**Kerberos Credential Thievery (GNU/Linux)**](https://www.delaat.net/rp/2016-2017/p97/report.pdf)ï¼Œè§£é‡Šäº†ä»å®ƒä»¬ä¸­æ¢å¤ç¥¨æ®çš„æ–¹æ³•ã€‚

### å¯†é’¥ç¯ - æ¥è‡ªè®ºæ–‡

> **Linux å†…æ ¸**å…·æœ‰ä¸€ä¸ªç§°ä¸º**å¯†é’¥ç¯**çš„åŠŸèƒ½ã€‚è¿™æ˜¯ä¸€ä¸ªä½äºå†…æ ¸å†…çš„**å†…å­˜åŒºåŸŸ**ï¼Œç”¨äº**ç®¡ç†å’Œä¿ç•™å¯†é’¥**ã€‚
>
> **keyctl ç³»ç»Ÿè°ƒç”¨**åœ¨å†…æ ¸ç‰ˆæœ¬ 2.6.10 ä¸­å¼•å…¥ã€‚è¿™ä¸º**ç”¨æˆ·ç©ºé—´åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ª API**ï¼Œå¯ä»¥ç”¨æ¥ä¸å†…æ ¸å¯†é’¥ç¯äº¤äº’ã€‚

> æ­£åœ¨ä½¿ç”¨çš„**å¯†é’¥ç¯çš„åç§°**å¯ä»¥ä»**Kerberos é…ç½®æ–‡ä»¶ /etc/krb5.conf**ä¸­è§£æå‡ºæ¥ï¼Œè¯¥æ–‡ä»¶é»˜è®¤å¯¹ä»»ä½•äººéƒ½å¯ç”¨äº†è¯»æƒé™ï¼ˆå…«è¿›åˆ¶ 644ï¼‰ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥**æœç´¢åŒ…å«ç¥¨æ®**çš„å¯†é’¥ç¯å¹¶æå–ç¥¨æ®ã€‚åœ¨ç¬¬ A.2 èŠ‚ä¸­å¯ä»¥çœ‹åˆ°å®ç°æ­¤åŠŸèƒ½çš„æ¦‚å¿µéªŒè¯è„šæœ¬ **(hercules.sh)**ã€‚åœ¨å¯†é’¥ç¯ä¸­ï¼Œccache ä»¥ç»„ä»¶å½¢å¼å­˜å‚¨ã€‚å¦‚å›¾ 2 æ‰€ç¤ºï¼Œæ–‡ä»¶ ccache ç”± 3 ä¸ªä¸åŒçš„ç»„ä»¶ç»„æˆï¼šå¤´éƒ¨ã€é»˜è®¤ä¸»ä½“å’Œä¸€ç³»åˆ—å‡­è¯ã€‚**å¯†é’¥ç¯ä¿å­˜é»˜è®¤ä¸»ä½“å’Œå‡­è¯**ã€‚æ­¤è„šæœ¬å°†è¿™äº›ç»„ä»¶è½¬å‚¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ç„¶åä½¿ç”¨**æ”»å‡»è€…åˆæˆçš„å¤´éƒ¨**ï¼Œè¿™äº›éƒ¨åˆ†æŒ‰æ­£ç¡®çš„é¡ºåºç»„åˆèµ·æ¥ï¼Œ**é‡å»ºæ–‡ä»¶ ccache**ã€‚ç„¶åå¯ä»¥å°†é‡å»ºçš„æ–‡ä»¶ä¼ é€åˆ°æ”»å‡»è€…çš„æœºå™¨ä¸Šï¼Œç„¶åç”¨æ¥å†’å…… Kerberos ç”¨æˆ·ã€‚åœ¨ç¬¬ A.3 èŠ‚ä¸­å¯ä»¥çœ‹åˆ°ç”Ÿæˆæœ‰æ•ˆ ccache å¤´éƒ¨çš„ç®€å•ç¨‹åºã€‚

åŸºäºè®ºæ–‡ä¸­çš„ **heracles.sh è„šæœ¬**ï¼Œä½ å¯ä»¥ä½¿ç”¨çš„ä¸€ä¸ª C å·¥å…·ï¼ˆç”±å®Œæ•´å¸–å­çš„ä½œè€…åˆ›å»ºï¼‰æ˜¯ [**tickey**](https://github.com/TarlogicSecurity/tickey)**ï¼Œå®ƒå¯ä»¥ä»å¯†é’¥ç¯ä¸­æå–ç¥¨æ®ï¼š**
```
/tmp/tickey -i
```
**ä»¥ä¸‹ä¿¡æ¯æ‘˜è‡ªï¼š** [**https://www.tarlogic.com/en/blog/how-to-attack-kerberos/**](https://www.tarlogic.com/en/blog/how-to-attack-kerberos/)


<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
