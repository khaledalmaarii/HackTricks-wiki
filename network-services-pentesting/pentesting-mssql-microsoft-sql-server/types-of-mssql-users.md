# MSSQLãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¨®é¡

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}

è¡¨ã¯[**docs**](https://learn.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-database-principals-transact-sql?view=sql-server-ver16)ã‹ã‚‰å–å¾—ã—ã¾ã—ãŸã€‚

| åˆ—å                                      | ãƒ‡ãƒ¼ã‚¿å‹           | èª¬æ˜                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ---------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **name**                                 | **sysname**       | ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®åå‰ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã§ä¸€æ„ã€‚                                                                                                                                                                                                                                                                                                                                                                                                         |
| **principal\_id**                        | **int**           | ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®IDã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã§ä¸€æ„ã€‚                                                                                                                                                                                                                                                                                                                                                                                                           |
| **type**                                 | **char(1)**       | <p>ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®ã‚¿ã‚¤ãƒ—ï¼š<br><br>A = ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ãƒ¼ãƒ«<br><br>C = è¨¼æ˜æ›¸ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼<br><br>E = Azure Active Directoryã‹ã‚‰ã®å¤–éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼<br><br>G = Windowsã‚°ãƒ«ãƒ¼ãƒ—<br><br>K = éå¯¾ç§°ã‚­ãƒ¼ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼<br><br>R = ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«<br><br>S = SQLãƒ¦ãƒ¼ã‚¶ãƒ¼<br><br>U = Windowsãƒ¦ãƒ¼ã‚¶ãƒ¼<br><br>X = Azure Active Directoryã‚°ãƒ«ãƒ¼ãƒ—ã¾ãŸã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã®å¤–éƒ¨ã‚°ãƒ«ãƒ¼ãƒ—</p>                                                                                  |
| **type\_desc**                           | **nvarchar(60)**  | <p>ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‚¿ã‚¤ãƒ—ã®èª¬æ˜ã€‚<br><br>APPLICATION_ROLE<br><br>CERTIFICATE_MAPPED_USER<br><br>EXTERNAL_USER<br><br>WINDOWS_GROUP<br><br>ASYMMETRIC_KEY_MAPPED_USER<br><br>DATABASE_ROLE<br><br>SQL_USER<br><br>WINDOWS_USER<br><br>EXTERNAL_GROUPS</p>                                                                                                                                                                                               |
| **default\_schema\_name**                | **sysname**       | SQLåãŒã‚¹ã‚­ãƒ¼ãƒã‚’æŒ‡å®šã—ãªã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã‚‹åå‰ã€‚Sã€Uã€ã¾ãŸã¯Aã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã«ã¯NULLã€‚                                                                                                                                                                                                                                                                                                                                                   |
| **create\_date**                         | **datetime**      | ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ãŒä½œæˆã•ã‚ŒãŸæ™‚åˆ»ã€‚                                                                                                                                                                                                                                                                                                                                                                                                               |
| **modify\_date**                         | **datetime**      | ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ãŒæœ€å¾Œã«å¤‰æ›´ã•ã‚ŒãŸæ™‚åˆ»ã€‚                                                                                                                                                                                                                                                                                                                                                                                                         |
| **owning\_principal\_id**                | **int**           | ã“ã®ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‚’æ‰€æœ‰ã™ã‚‹ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®IDã€‚ã™ã¹ã¦ã®å›ºå®šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§**dbo**ã«ã‚ˆã£ã¦æ‰€æœ‰ã•ã‚Œã‚‹ã€‚                                                                                                                                                                                                                                                                                                                                                |
| **sid**                                  | **varbinary(85)** | ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®SIDï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­˜åˆ¥å­ï¼‰ã€‚SYSãŠã‚ˆã³INFORMATION SCHEMASã«ã¯NULLã€‚                                                                                                                                                                                                                                                                                                                                                                      |
| **is\_fixed\_role**                      | **bit**           | 1ã®å ´åˆã€ã“ã®è¡Œã¯å›ºå®šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«ã®1ã¤ã®ã‚¨ãƒ³ãƒˆãƒªã‚’è¡¨ã™ï¼šdb\_ownerã€db\_accessadminã€db\_datareaderã€db\_datawriterã€db\_ddladminã€db\_securityadminã€db\_backupoperatorã€db\_denydatareaderã€db\_denydatawriterã€‚                                                                                                                                                                                                                       |
| **authentication\_type**                 | **int**           | <p><strong>é©ç”¨å¯¾è±¡</strong>: SQL Server 2012 (11.x)ä»¥é™ã€‚<br><br>èªè¨¼ã‚¿ã‚¤ãƒ—ã‚’ç¤ºã™ã€‚ä»¥ä¸‹ã¯å¯èƒ½ãªå€¤ã¨ãã®èª¬æ˜ã€‚<br><br>0 : èªè¨¼ãªã—<br>1 : ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èªè¨¼<br>2 : ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼<br>3 : Windowsèªè¨¼<br>4 : Azure Active Directoryèªè¨¼</p>                                                                                                        |
| **authentication\_type\_desc**           | **nvarchar(60)**  | <p><strong>é©ç”¨å¯¾è±¡</strong>: SQL Server 2012 (11.x)ä»¥é™ã€‚<br><br>èªè¨¼ã‚¿ã‚¤ãƒ—ã®èª¬æ˜ã€‚ä»¥ä¸‹ã¯å¯èƒ½ãªå€¤ã¨ãã®èª¬æ˜ã€‚<br><br><code>NONE</code> : èªè¨¼ãªã—<br><code>INSTANCE</code> : ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èªè¨¼<br><code>DATABASE</code> : ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼<br><code>WINDOWS</code> : Windowsèªè¨¼<br><code>EXTERNAL</code>: Azure Active Directoryèªè¨¼</p> |
| **default\_language\_name**              | **sysname**       | <p><strong>é©ç”¨å¯¾è±¡</strong>: SQL Server 2012 (11.x)ä»¥é™ã€‚<br><br>ã“ã®ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªã‚’ç¤ºã™ã€‚</p>                                                                                                                                                                                                                                                                                                                        |
| **default\_language\_lcid**              | **int**           | <p><strong>é©ç”¨å¯¾è±¡</strong>: SQL Server 2012 (11.x)ä»¥é™ã€‚<br><br>ã“ã®ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆLCIDã‚’ç¤ºã™ã€‚</p>                                                                                                                                                                                                                                                                                                                            |
| **allow\_encrypted\_value\_modifications** | **bit**           | <p><strong>é©ç”¨å¯¾è±¡</strong>: SQL Server 2016 (13.x)ä»¥é™ã€SQL Databaseã€‚<br><br>ã‚µãƒ¼ãƒãƒ¼ã§ã®æš—å·åŒ–ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒã‚§ãƒƒã‚¯ã‚’æŠ‘åˆ¶ã—ã€Always Encryptedã‚’ä½¿ç”¨ã—ã¦æš—å·åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–“ã§å¾©å·åŒ–ã›ãšã«ãƒãƒ«ã‚¯ã‚³ãƒ”ãƒ¼ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯OFFã§ã™ã€‚</p>                                                                                                                     |

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
