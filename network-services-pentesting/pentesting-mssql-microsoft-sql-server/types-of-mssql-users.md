# MSSQL ç”¨æˆ·ç±»å‹

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

è¡¨æ ¼å–è‡ª [**docs**](https://learn.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-database-principals-transact-sql?view=sql-server-ver16)ã€‚

| åˆ—å                                      | æ•°æ®ç±»å‹         | æè¿°                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ---------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **name**                                 | **sysname**       | ä¸»ä½“çš„åç§°ï¼Œåœ¨æ•°æ®åº“ä¸­æ˜¯å”¯ä¸€çš„ã€‚                                                                                                                                                                                                                                                                                                                                                                                                         |
| **principal\_id**                        | **int**           | ä¸»ä½“çš„ IDï¼Œåœ¨æ•°æ®åº“ä¸­æ˜¯å”¯ä¸€çš„ã€‚                                                                                                                                                                                                                                                                                                                                                                                                           |
| **type**                                 | **char(1)**       | <p>ä¸»ä½“ç±»å‹ï¼š<br><br>A = åº”ç”¨ç¨‹åºè§’è‰²<br><br>C = æ˜ å°„åˆ°è¯ä¹¦çš„ç”¨æˆ·<br><br>E = æ¥è‡ª Azure Active Directory çš„å¤–éƒ¨ç”¨æˆ·<br><br>G = Windows ç»„<br><br>K = æ˜ å°„åˆ°éå¯¹ç§°å¯†é’¥çš„ç”¨æˆ·<br><br>R = æ•°æ®åº“è§’è‰²<br><br>S = SQL ç”¨æˆ·<br><br>U = Windows ç”¨æˆ·<br><br>X = æ¥è‡ª Azure Active Directory ç»„æˆ–åº”ç”¨ç¨‹åºçš„å¤–éƒ¨ç»„</p>                                                                                  |
| **type\_desc**                           | **nvarchar(60)**  | <p>ä¸»ä½“ç±»å‹çš„æè¿°ã€‚<br><br>APPLICATION_ROLE<br><br>CERTIFICATE_MAPPED_USER<br><br>EXTERNAL_USER<br><br>WINDOWS_GROUP<br><br>ASYMMETRIC_KEY_MAPPED_USER<br><br>DATABASE_ROLE<br><br>SQL_USER<br><br>WINDOWS_USER<br><br>EXTERNAL_GROUPS</p>                                                                                                                                                                                               |
| **default\_schema\_name**                | **sysname**       | å½“ SQL åç§°æœªæŒ‡å®šæ¶æ„æ—¶ä½¿ç”¨çš„åç§°ã€‚å¯¹äºç±»å‹ä¸º Sã€U æˆ– A çš„ä¸»ä½“ä¸º Nullã€‚                                                                                                                                                                                                                                                                                                                                                   |
| **create\_date**                         | **datetime**      | åˆ›å»ºä¸»ä½“çš„æ—¶é—´ã€‚                                                                                                                                                                                                                                                                                                                                                                                                               |
| **modify\_date**                         | **datetime**      | æœ€åä¿®æ”¹ä¸»ä½“çš„æ—¶é—´ã€‚                                                                                                                                                                                                                                                                                                                                                                                                         |
| **owning\_principal\_id**                | **int**           | æ‹¥æœ‰æ­¤ä¸»ä½“çš„ä¸»ä½“çš„ IDã€‚æ‰€æœ‰å›ºå®šæ•°æ®åº“è§’è‰²é»˜è®¤ç”± **dbo** æ‹¥æœ‰ã€‚                                                                                                                                                                                                                                                                                                                                                |
| **sid**                                  | **varbinary(85)** | ä¸»ä½“çš„ SIDï¼ˆå®‰å…¨æ ‡è¯†ç¬¦ï¼‰ã€‚SYS å’Œ INFORMATION SCHEMAS çš„å€¼ä¸º NULLã€‚                                                                                                                                                                                                                                                                                                                                                                      |
| **is\_fixed\_role**                      | **bit**           | å¦‚æœä¸º 1ï¼Œåˆ™æ­¤è¡Œè¡¨ç¤ºä¸€ä¸ªå›ºå®šæ•°æ®åº“è§’è‰²çš„æ¡ç›®ï¼šdb\_ownerã€db\_accessadminã€db\_datareaderã€db\_datawriterã€db\_ddladminã€db\_securityadminã€db\_backupoperatorã€db\_denydatareaderã€db\_denydatawriterã€‚                                                                                                                                                                                                                       |
| **authentication\_type**                 | **int**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x) åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºèº«ä»½éªŒè¯ç±»å‹ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„å€¼åŠå…¶æè¿°ã€‚<br><br>0 : æ— èº«ä»½éªŒè¯<br>1 : å®ä¾‹èº«ä»½éªŒè¯<br>2 : æ•°æ®åº“èº«ä»½éªŒè¯<br>3 : Windows èº«ä»½éªŒè¯<br>4 : Azure Active Directory èº«ä»½éªŒè¯</p>                                                                                                        |
| **authentication\_type\_desc**           | **nvarchar(60)**  | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x) åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>èº«ä»½éªŒè¯ç±»å‹çš„æè¿°ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„å€¼åŠå…¶æè¿°ã€‚<br><br><code>NONE</code> : æ— èº«ä»½éªŒè¯<br><code>INSTANCE</code> : å®ä¾‹èº«ä»½éªŒè¯<br><code>DATABASE</code> : æ•°æ®åº“èº«ä»½éªŒè¯<br><code>WINDOWS</code> : Windows èº«ä»½éªŒè¯<br><code>EXTERNAL</code>: Azure Active Directory èº«ä»½éªŒè¯</p> |
| **default\_language\_name**              | **sysname**       | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x) åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºæ­¤ä¸»ä½“çš„é»˜è®¤è¯­è¨€ã€‚</p>                                                                                                                                                                                                                                                                                                                        |
| **default\_language\_lcid**              | **int**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x) åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºæ­¤ä¸»ä½“çš„é»˜è®¤ LCIDã€‚</p>                                                                                                                                                                                                                                                                                                                            |
| **allow\_encrypted\_value\_modifications** | **bit**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2016 (13.x) åŠæ›´é«˜ç‰ˆæœ¬ï¼ŒSQL æ•°æ®åº“ã€‚<br><br>åœ¨æ‰¹é‡å¤åˆ¶æ“ä½œä¸­æŠ‘åˆ¶æœåŠ¡å™¨ä¸Šçš„åŠ å¯†å…ƒæ•°æ®æ£€æŸ¥ã€‚è¿™ä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨è¡¨æˆ–æ•°æ®åº“ä¹‹é—´æ‰¹é‡å¤åˆ¶ä½¿ç”¨ Always Encrypted åŠ å¯†çš„æ•°æ®ï¼Œè€Œæ— éœ€è§£å¯†æ•°æ®ã€‚é»˜è®¤å€¼ä¸º OFFã€‚</p>                                                                                                                     |

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
