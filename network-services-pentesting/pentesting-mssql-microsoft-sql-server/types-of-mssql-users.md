# MSSQLç”¨æˆ·ç±»å‹

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶NFTæ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegramç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘[hacktricks repo](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>

ä»[**æ–‡æ¡£**](https://learn.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-database-principals-transact-sql?view=sql-server-ver16)ä¸­è·å–çš„è¡¨æ ¼ã€‚

| åˆ—å                                      | æ•°æ®ç±»å‹           | æè¿°                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------------------------- | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **name**                                 | **sysname**       | æ•°æ®åº“ä¸­å”¯ä¸€çš„ä¸»ä½“åç§°ã€‚                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **principal\_id**                        | **int**           | æ•°æ®åº“ä¸­å”¯ä¸€çš„ä¸»ä½“IDã€‚                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **type**                                 | **char(1)**       | <p>ä¸»ä½“ç±»å‹ï¼š<br><br>A = åº”ç”¨ç¨‹åºè§’è‰²<br><br>C = æ˜ å°„åˆ°è¯ä¹¦çš„ç”¨æˆ·<br><br>E = æ¥è‡ªAzure Active Directoryçš„å¤–éƒ¨ç”¨æˆ·<br><br>G = Windowsç»„<br><br>K = æ˜ å°„åˆ°éå¯¹ç§°å¯†é’¥çš„ç”¨æˆ·<br><br>R = æ•°æ®åº“è§’è‰²<br><br>S = SQLç”¨æˆ·<br><br>U = Windowsç”¨æˆ·<br><br>X = æ¥è‡ªAzure Active Directoryç»„æˆ–åº”ç”¨ç¨‹åºçš„å¤–éƒ¨ç»„</p>                                                                                   |
| **type\_desc**                           | **nvarchar(60)**  | <p>ä¸»ä½“ç±»å‹çš„æè¿°ã€‚<br><br>APPLICATION_ROLE<br><br>CERTIFICATE_MAPPED_USER<br><br>EXTERNAL_USER<br><br>WINDOWS_GROUP<br><br>ASYMMETRIC_KEY_MAPPED_USER<br><br>DATABASE_ROLE<br><br>SQL_USER<br><br>WINDOWS_USER<br><br>EXTERNAL_GROUPS</p>                                                                                                                                                                                               |
| **default\_schema\_name**                | **sysname**       | å½“SQLåç§°æœªæŒ‡å®šæ¨¡å¼æ—¶ä½¿ç”¨çš„åç§°ã€‚å¯¹äºä¸æ˜¯ç±»å‹Sã€Uæˆ–Açš„ä¸»ä½“ï¼Œä¸ºç©ºã€‚                                                                                                                                                                                                                                                                                                                                                                                     |
| **create\_date**                         | **datetime**      | åˆ›å»ºä¸»ä½“çš„æ—¶é—´ã€‚                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **modify\_date**                         | **datetime**      | ä¸Šæ¬¡ä¿®æ”¹ä¸»ä½“çš„æ—¶é—´ã€‚                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **owning\_principal\_id**                | **int**           | æ‹¥æœ‰æ­¤ä¸»ä½“çš„ä¸»ä½“çš„IDã€‚æ‰€æœ‰å›ºå®šæ•°æ®åº“è§’è‰²é»˜è®¤ç”±**dbo**æ‹¥æœ‰ã€‚                                                                                                                                                                                                                                                                                                                                                                                          |
| **sid**                                  | **varbinary(85)** | ä¸»ä½“çš„SIDï¼ˆå®‰å…¨æ ‡è¯†ç¬¦ï¼‰ã€‚SYSå’ŒINFORMATION SCHEMASçš„å€¼ä¸ºç©ºã€‚                                                                                                                                                                                                                                                                                                                                                                                        |
| **is\_fixed\_role**                      | **bit**           | å¦‚æœä¸º1ï¼Œåˆ™æ­¤è¡Œè¡¨ç¤ºå›ºå®šæ•°æ®åº“è§’è‰²ä¹‹ä¸€çš„æ¡ç›®ï¼šdb\_ownerã€db\_accessadminã€db\_datareaderã€db\_datawriterã€db\_ddladminã€db\_securityadminã€db\_backupoperatorã€db\_denydatareaderã€db\_denydatawriterã€‚                                                                                                                                                                                                                                           |
| **authentication\_type**                 | **int**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x)åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºèº«ä»½éªŒè¯ç±»å‹ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„å€¼åŠå…¶æè¿°ã€‚<br><br>0ï¼šæ— èº«ä»½éªŒè¯<br>1ï¼šå®ä¾‹èº«ä»½éªŒè¯<br>2ï¼šæ•°æ®åº“èº«ä»½éªŒè¯<br>3ï¼šWindowsèº«ä»½éªŒè¯<br>4ï¼šAzure Active Directoryèº«ä»½éªŒè¯</p>                                                                                                                                                                                                 |
| **authentication\_type\_desc**           | **nvarchar(60)**  | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x)åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>èº«ä»½éªŒè¯ç±»å‹çš„æè¿°ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„å€¼åŠå…¶æè¿°ã€‚<br><br><code>NONE</code>ï¼šæ— èº«ä»½éªŒè¯<br><code>INSTANCE</code>ï¼šå®ä¾‹èº«ä»½éªŒè¯<br><code>DATABASE</code>ï¼šæ•°æ®åº“èº«ä»½éªŒè¯<br><code>WINDOWS</code>ï¼šWindowsèº«ä»½éªŒè¯<br><code>EXTERNAL</code>ï¼šAzure Active Directoryèº«ä»½éªŒè¯</p> |
| **default\_language\_name**              | **sysname**       | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x)åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºæ­¤ä¸»ä½“çš„é»˜è®¤è¯­è¨€ã€‚</p>                                                                                                                                                                                                                                                                                                                                                   |
| **default\_language\_lcid**              | **int**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2012 (11.x)åŠæ›´é«˜ç‰ˆæœ¬ã€‚<br><br>è¡¨ç¤ºæ­¤ä¸»ä½“çš„é»˜è®¤LCIDã€‚</p>                                                                                                                                                                                                                                                                                                                                                   |
| **allow\_encrypted\_value\_modifications** | **bit**           | <p><strong>é€‚ç”¨äº</strong>ï¼šSQL Server 2016 (13.x)åŠæ›´é«˜ç‰ˆæœ¬ï¼ŒSQL Databaseã€‚<br><br>åœ¨æ‰¹é‡å¤åˆ¶æ“ä½œä¸­ï¼ŒæŠ‘åˆ¶æœåŠ¡å™¨ä¸Šçš„åŠ å¯†å…ƒæ•°æ®æ£€æŸ¥ã€‚è¿™ä½¿ç”¨æˆ·å¯ä»¥åœ¨è¡¨æ ¼æˆ–æ•°æ®åº“ä¹‹é—´æ‰¹é‡å¤åˆ¶ä½¿ç”¨Always EncryptedåŠ å¯†çš„æ•°æ®ï¼Œè€Œæ— éœ€è§£å¯†æ•°æ®ã€‚é»˜è®¤å€¼ä¸ºOFFã€‚</p>                                                                                                                                                                                     |

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* å‘ç°[**The PEASS Family**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘åœ¨**Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **é€šè¿‡å‘[hacktricks ä»“åº“](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloud ä»“åº“](https://github.com/carlospolop/hacktricks-cloud)æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
