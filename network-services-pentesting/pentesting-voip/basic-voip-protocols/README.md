# Temel VoIP Protokolleri

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong> ile Ã¶ÄŸrenin!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi **HackTricks'te reklam vermek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u takip edin.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

## Sinyal Protokolleri

### SIP (Session Initiation Protocol)

Bu, endÃ¼stri standardÄ±dÄ±r, daha fazla bilgi iÃ§in kontrol edin:

{% content-ref url="sip-session-initiation-protocol.md" %}
[sip-session-initiation-protocol.md](sip-session-initiation-protocol.md)
{% endcontent-ref %}

### MGCP (Media Gateway Control Protocol)

MGCP (Media Gateway Control Protocol), RFC 3435'te belirtilen bir **sinyal** ve **arama kontrol protokolÃ¼dÃ¼r**. Merkezi bir mimaride Ã§alÄ±ÅŸÄ±r ve Ã¼Ã§ ana bileÅŸenden oluÅŸur:

1. **Ã‡aÄŸrÄ± YÃ¶nlendirici veya Medya AÄŸ GeÃ§idi Denetleyicisi (MGC)**: MGCP mimarisindeki ana aÄŸ geÃ§idi, **medya aÄŸ geÃ§itlerini yÃ¶netmek ve kontrol etmekten sorumludur**. Ã‡aÄŸrÄ± kurulumu, deÄŸiÅŸtirme ve sonlandÄ±rma iÅŸlemlerini yÃ¶netir. MGC, MGCP protokolÃ¼nÃ¼ kullanarak medya aÄŸ geÃ§itleriyle iletiÅŸim kurar.
2. **Medya AÄŸ GeÃ§itleri (MG) veya KÃ¶le AÄŸ GeÃ§itleri**: Bu cihazlar, geleneksel devre anahtarlÄ± telefonculuk ve paket anahtarlÄ± IP aÄŸlarÄ± gibi farklÄ± aÄŸlar arasÄ±nda dijital medya akÄ±ÅŸlarÄ±nÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r. MGC tarafÄ±ndan yÃ¶netilir ve ondan alÄ±nan komutlarÄ± uygular. Medya aÄŸ geÃ§itleri, transkodlama, paketleme ve yankÄ± iptali gibi iÅŸlevleri iÃ§erebilir.
3. **Sinyal AÄŸ GeÃ§itleri (SG)**: Bu aÄŸ geÃ§itleri, farklÄ± aÄŸlar arasÄ±nda sinyal iletiÅŸimini dÃ¶nÃ¼ÅŸtÃ¼rmekten sorumludur ve geleneksel telefon sistemleri (Ã¶rneÄŸin, SS7) ile IP tabanlÄ± aÄŸlar (Ã¶rneÄŸin, SIP veya H.323) arasÄ±nda sorunsuz iletiÅŸimi saÄŸlar. Sinyal aÄŸ geÃ§itleri, uyumluluk ve Ã§aÄŸrÄ± kontrol bilgilerinin farklÄ± aÄŸlar arasÄ±nda doÄŸru iletilmesini saÄŸlamak iÃ§in Ã¶nemlidir.

Ã–zetlemek gerekirse, MGCP, Ã§aÄŸrÄ± kontrol mantÄ±ÄŸÄ±nÄ± Ã§aÄŸrÄ± yÃ¶nlendiricide merkezileÅŸtirir, bu da medya ve sinyal aÄŸ geÃ§itlerinin yÃ¶netimini basitleÅŸtirir ve telekomÃ¼nikasyon aÄŸlarÄ±nda daha iyi Ã¶lÃ§eklenebilirlik, gÃ¼venilirlik ve verimlilik saÄŸlar.

### SCCP (Skinny Client Control Protocol)

Skinny Client Control Protocol (SCCP), Cisco Systems'a ait bir **Ã¶zel sinyal ve Ã§aÄŸrÄ± kontrol protokolÃ¼dÃ¼r**. Ã–ncelikle Cisco Unified Communications Manager (eski adÄ±yla CallManager) ile Cisco IP telefonlarÄ± veya diÄŸer Cisco ses ve video uÃ§ noktalarÄ± arasÄ±ndaki iletiÅŸim iÃ§in **kullanÄ±lÄ±r**.

SCCP, Ã§aÄŸrÄ± kontrol sunucusu ile uÃ§ nokta cihazlarÄ± arasÄ±ndaki iletiÅŸimi basitleÅŸtiren hafif bir protokoldÃ¼r. "Skinny" olarak adlandÄ±rÄ±lmasÄ±nÄ±n nedeni, minimal tasarÄ±mÄ± ve diÄŸer VoIP protokolleri (Ã¶rneÄŸin H.323 veya SIP) ile karÅŸÄ±laÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda daha az bant geniÅŸliÄŸi gereksinimleriyle dikkat Ã§ekmesidir.

SCCP tabanlÄ± bir sistemin temel bileÅŸenleri ÅŸunlardÄ±r:

1. **Ã‡aÄŸrÄ± Kontrol Sunucusu**: Genellikle Cisco Unified Communications Manager olan bu sunucu, Ã§aÄŸrÄ± kurulumu, deÄŸiÅŸtirme ve sonlandÄ±rma iÅŸlemlerini yÃ¶netir, ayrÄ±ca Ã§aÄŸrÄ± yÃ¶nlendirme, Ã§aÄŸrÄ± aktarma ve Ã§aÄŸrÄ± tutma gibi diÄŸer telefon Ã¶zelliklerini de iÃ§erir.
2. **SCCP UÃ§ NoktalarÄ±**: Bunlar, SCCP'yi kullanarak Ã§aÄŸrÄ± kontrol sunucusuyla iletiÅŸim kuran IP telefonlarÄ±, video konferans birimleri veya diÄŸer Cisco ses ve video uÃ§ noktalarÄ± gibi cihazlardÄ±r. UÃ§ noktalar, sunucuya kaydolur, sinyal iletilerini gÃ¶nderir ve alÄ±r ve Ã§aÄŸrÄ± iÅŸleme iÃ§in Ã§aÄŸrÄ± kontrol sunucusu tarafÄ±ndan verilen talimatlarÄ± takip eder.
3. **AÄŸ GeÃ§itleri**: Ses aÄŸ geÃ§itleri veya medya aÄŸ geÃ§itleri gibi bu cihazlar, geleneksel devre anahtarlÄ± telefonculuk ve paket anahtarlÄ± IP aÄŸlarÄ± gibi farklÄ± aÄŸlar arasÄ±nda medya akÄ±ÅŸlarÄ±nÄ± dÃ¶nÃ¼ÅŸtÃ¼rmekten sorumludur. Transkodlama veya yankÄ± iptali gibi ek iÅŸlevleri de iÃ§erebilir.

SCCP, Cisco Ã§aÄŸrÄ± kontrol sunucularÄ± ile uÃ§ nokta cihazlarÄ± arasÄ±nda basit ve verimli bir iletiÅŸim yÃ¶ntemi sunar. Bununla birlikte, SCCP'nin **Ã¶zel bir protokol** olmasÄ±, non-Cisco sistemlerle uyumluluÄŸu sÄ±nÄ±rlayabilir. Bu durumlarda, SIP gibi diÄŸer standart VoIP protokolleri daha uygun olabilir.

### H.323

H.323, IP tabanlÄ± aÄŸlar gibi paket anahtarlÄ± aÄŸlar Ã¼zerinde ses, video ve veri konferansÄ± da dahil olmak Ã¼zere multimedya iletiÅŸimi iÃ§in bir **protokol paketi**dir. UluslararasÄ± TelekomÃ¼nikasyon BirliÄŸi (ITU-T) tarafÄ±ndan geliÅŸtirilmiÅŸtir ve multimedya iletiÅŸim oturumlarÄ±nÄ± yÃ¶netmek iÃ§in kapsamlÄ± bir Ã§erÃ§eve sunar.

H.323 paketinin bazÄ± temel bileÅŸenleri ÅŸunlarÄ± iÃ§erir:

1. **UÃ§ Noktalar**: IP telefonlar, video konferans sistemleri veya yazÄ±lÄ±m uygulamalarÄ± gibi H.323'Ã¼ destekleyen uÃ§ nokta cihazlarÄ±dÄ±r ve multimedya iletiÅŸim oturumlarÄ±na katÄ±labilirler.
2. **AÄŸ GeÃ§itleri**: Bu cihazlar, geleneksel devre anahtarlÄ± telefonculuk ve paket anahtarlÄ± IP aÄŸlarÄ± gibi farklÄ± aÄŸlar arasÄ±nda medya akÄ±ÅŸlarÄ±nÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r ve H.323 ile diÄŸer iletiÅŸim sistemleri arasÄ±nda uyumluluk saÄŸlar. Transkodlama veya yankÄ± iptali gibi ek iÅŸlevleri de iÃ§erebilir.
3. **Ã‡aÄŸrÄ± YÃ¶nlendiriciler**: H.323 aÄŸÄ±nda Ã§aÄŸrÄ± kontrolÃ¼ ve yÃ¶netim hizmetleri saÄŸlayan bu isteÄŸe baÄŸlÄ± bileÅŸenlerdir. Adres Ã§evirme, bant geniÅŸliÄŸi yÃ¶netimi ve kabul kontrolÃ¼ gibi iÅŸlevleri gerÃ§ekleÅŸtirir ve aÄŸ kaynaklarÄ±nÄ± yÃ¶netmeye ve optimize etmeye yardÄ±mcÄ± olur.
4. **Ã‡ok N
## Ä°letim ve TaÅŸÄ±ma Protokolleri

### SDP (Session Description Protocol)

SDP (Session Description Protocol), IP aÄŸlarÄ± Ã¼zerinde ses, video veya veri konferansÄ± gibi multimedya oturumlarÄ±nÄ±n Ã¶zelliklerini tanÄ±mlamak iÃ§in kullanÄ±lan **metin tabanlÄ± bir formattÄ±r**. Ä°nternet MÃ¼hendislik GÃ¶rev GÃ¼cÃ¼ (IETF) tarafÄ±ndan geliÅŸtirilmiÅŸ olup **RFC 4566**'da tanÄ±mlanmÄ±ÅŸtÄ±r. SDP, gerÃ§ek medya iletimini veya oturum kurulumunu yÃ¶netmez, ancak diÄŸer sinyal protokolleriyle birlikte, Ã¶rneÄŸin **SIP (Session Initiation Protocol)** ile birlikte kullanÄ±larak medya akÄ±ÅŸlarÄ± ve Ã¶zellikleri hakkÄ±nda bilgi alÄ±ÅŸveriÅŸi ve mÃ¼zakere iÃ§in kullanÄ±lÄ±r.

SDP'nin bazÄ± temel unsurlarÄ± ÅŸunlardÄ±r:

1. **Oturum Bilgisi**: SDP, oturum adÄ±, oturum aÃ§Ä±klamasÄ±, baÅŸlangÄ±Ã§ zamanÄ± ve bitiÅŸ zamanÄ± gibi bir multimedya oturumunun ayrÄ±ntÄ±larÄ±nÄ± tanÄ±mlar.
2. **Medya AkÄ±ÅŸlarÄ±**: SDP, medya tÃ¼rÃ¼ (ses, video veya metin), taÅŸÄ±ma protokolÃ¼ (Ã¶rneÄŸin RTP veya SRTP) ve medya formatÄ± (Ã¶rneÄŸin codec bilgisi) gibi medya akÄ±ÅŸlarÄ±nÄ±n Ã¶zelliklerini tanÄ±mlar.
3. **BaÄŸlantÄ± Bilgisi**: SDP, medyanÄ±n gÃ¶nderileceÄŸi veya alÄ±nacaÄŸÄ± aÄŸ adresi (IP adresi) ve port numarasÄ± hakkÄ±nda bilgi saÄŸlar.
4. **Ã–znitelikler**: SDP, oturum veya medya akÄ±ÅŸÄ± hakkÄ±nda ek, isteÄŸe baÄŸlÄ± bilgiler saÄŸlamak iÃ§in Ã¶znitelik kullanÄ±mÄ±nÄ± destekler. Ã–znitelikler, ÅŸifreleme anahtarlarÄ±, bant geniÅŸliÄŸi gereksinimleri veya medya kontrol mekanizmalarÄ± gibi Ã§eÅŸitli Ã¶zellikleri belirtmek iÃ§in kullanÄ±labilir.

SDP genellikle aÅŸaÄŸÄ±daki sÃ¼reÃ§te kullanÄ±lÄ±r:

1. BaÅŸlatan taraf, Ã¶nerilen multimedya oturumunun SDP aÃ§Ä±klamasÄ±nÄ±, medya akÄ±ÅŸlarÄ±nÄ±n ayrÄ±ntÄ±larÄ± ve Ã¶zellikleriyle birlikte oluÅŸturur.
2. SDP aÃ§Ä±klamasÄ± genellikle SIP veya RTSP gibi bir sinyal protokolÃ¼ mesajÄ±nÄ±n iÃ§ine gÃ¶nderilir ve alÄ±cÄ± tarafa iletilir.
3. AlÄ±cÄ± taraf, SDP aÃ§Ä±klamasÄ±nÄ± iÅŸler ve yeteneklerine baÄŸlÄ± olarak Ã¶nerilen oturumu kabul edebilir, reddedebilir veya deÄŸiÅŸtirebilir.
4. Son SDP aÃ§Ä±klamasÄ±, mÃ¼zakere sÃ¼recini tamamlayan sinyal protokolÃ¼ mesajÄ±nÄ±n bir parÃ§asÄ± olarak baÅŸlatan tarafa geri gÃ¶nderilir.

SDP'nin basitliÄŸi ve esnekliÄŸi, IP aÄŸlarÄ± Ã¼zerinde gerÃ§ek zamanlÄ± multimedya oturumlarÄ±nÄ±n tanÄ±mlanmasÄ±nda yaygÄ±n olarak kabul edilen bir standart olmasÄ±nÄ± saÄŸlar ve iletiÅŸim sistemlerinde gerÃ§ek zamanlÄ± multimedya oturumlarÄ±nÄ±n kurulmasÄ± ve yÃ¶netilmesinde Ã¶nemli bir rol oynar.

### RTP / RTCP / SRTP / ZRTP

1. **RTP (Real-time Transport Protocol)**: RTP, IP aÄŸlarÄ± Ã¼zerinde ses ve video verileri veya diÄŸer gerÃ§ek zamanlÄ± medyanÄ±n iletimi iÃ§in tasarlanmÄ±ÅŸ bir aÄŸ protokolÃ¼dÃ¼r. IETF tarafÄ±ndan geliÅŸtirilmiÅŸ olup **RFC 3550**'de tanÄ±mlanmÄ±ÅŸtÄ±r. RTP, genellikle SIP ve H.323 gibi sinyal protokolleriyle birlikte kullanÄ±larak multimedya iletiÅŸimini mÃ¼mkÃ¼n kÄ±lar. RTP, medya akÄ±ÅŸlarÄ±nÄ±n **senkronizasyonu**, **sÄ±ralama** ve **zaman damgalama** mekanizmalarÄ± saÄŸlayarak, akÄ±cÄ± ve zamanÄ±nda medya oynatÄ±mÄ±nÄ± saÄŸlamaya yardÄ±mcÄ± olur.
2. **RTCP (Real-time Transport Control Protocol)**: RTCP, RTP'nin bir eÅŸlik eden protokolÃ¼ olup, medya akÄ±ÅŸlarÄ±nÄ±n kalitesini izlemek ve iletim hakkÄ±nda geri bildirim saÄŸlamak iÃ§in kullanÄ±lÄ±r. RTP ile aynÄ± **RFC 3550**'de tanÄ±mlanan RTCP, bir RTP oturumundaki katÄ±lÄ±mcÄ±lar arasÄ±nda **periyodik olarak kontrol paketleri alÄ±ÅŸveriÅŸi yapar**. Paket kaybÄ±, jitter ve gidiÅŸ-dÃ¶nÃ¼ÅŸ sÃ¼resi gibi bilgileri paylaÅŸarak, aÄŸ koÅŸullarÄ±nÄ± teÅŸhis etmeye ve buna uyum saÄŸlamaya yardÄ±mcÄ± olur, genel medya kalitesini iyileÅŸtirir.
3. **SRTP (Secure Real-time Transport Protocol)**: SRTP, RTP'nin bir uzantÄ±sÄ± olup, hassas ses ve video verilerinin gÃ¼venli iletimini saÄŸlamak iÃ§in **ÅŸifreleme**, **mesaj doÄŸrulama** ve **yeniden oynatma korumasÄ±** saÄŸlar. **RFC 3711**'de tanÄ±mlanan SRTP, ÅŸifreleme iÃ§in AES gibi kriptografik algoritmalarÄ± ve mesaj doÄŸrulama iÃ§in HMAC-SHA1'i kullanÄ±r. SRTP genellikle SIP Ã¼zerinden TLS ile gÃ¼venli sinyal protokolleriyle birlikte kullanÄ±larak, multimedya iletiÅŸiminde uÃ§tan uca gÃ¼venlik saÄŸlar.
4. **ZRTP (Zimmermann Real-time Transport Protocol)**: ZRTP, RTP medya akÄ±ÅŸlarÄ± iÃ§in **uÃ§tan uca ÅŸifreleme** saÄŸlayan bir kriptografik anahtar anlaÅŸma protokolÃ¼dÃ¼r. PGP'nin yaratÄ±cÄ±sÄ± Phil Zimmermann tarafÄ±ndan geliÅŸtirilen ZRTP, **RFC 6189**'da tanÄ±mlanmÄ±ÅŸtÄ±r. Anahtar deÄŸiÅŸimi iÃ§in sinyal protokollerine dayanan SRTP'nin aksine, ZRTP, sinyal protokolÃ¼nden baÄŸÄ±msÄ±z olarak Ã§alÄ±ÅŸacak ÅŸekilde tasarlanmÄ±ÅŸtÄ±r. Ä°letiÅŸim kuran taraflar arasÄ±nda Ã¶nceden gÃ¼ven veya bir genel anahtar altyapÄ±sÄ± (PKI) gerektirmeksizin, Diffie-Hellman anahtar deÄŸiÅŸimi kullanarak ortak bir sÄ±r oluÅŸturur. ZRTP, man-in-the-middle saldÄ±rÄ±larÄ±na karÅŸÄ± koruma saÄŸlamak iÃ§in **KÄ±sa Kimlik DoÄŸrulama Dizeleri (SAS)** gibi Ã¶zellikler de iÃ§erir.

Bu protokoller, IP aÄŸlarÄ± Ã¼zerinde **gerÃ§ek zamanlÄ± multimedya iletiÅŸiminin iletilmesi ve gÃ¼venliÄŸinin saÄŸlanmasÄ±nda** Ã¶nemli roller oynar. RTP ve RTCP gerÃ§ek medya iletimini ve kalite izlemeyi yÃ¶netirken, SRTP ve ZRTP, iletilen medyanÄ±n dinlenme, deÄŸiÅŸtirme ve yeniden oynatma saldÄ±rÄ±larÄ±na karÅŸÄ± korunmasÄ±nÄ± saÄŸlar.
