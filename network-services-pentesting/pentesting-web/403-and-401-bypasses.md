# 403 & 401 ìš°íšŒ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ **ì œë¡œë¶€í„° ì˜ì›…ê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°**!</summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ ê´‘ê³ ë¥¼ HackTricksì—ì„œ ë³´ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ì…í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [Discord ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [í…”ë ˆê·¸ë¨ ê·¸ë£¹](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks** ë° **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

<figure><img src="../../.gitbook/assets/image (14) (1).png" alt=""><figcaption></figcaption></figure>

**ì·¨ì•½ì  í‰ê°€ ë° ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì •**. 20ê°œ ì´ìƒì˜ ë„êµ¬ ë° ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì–´ë””ì„œë“  ì „ì²´ íœí…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ë³´ê³ ì„œ ì‘ì„±ê¹Œì§€ í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” íœí…ŒìŠ¤í„°ë¥¼ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ - ëŒ€ì‹  ì»¤ìŠ¤í…€ ë„êµ¬, íƒì§€ ë° ê³µê²© ëª¨ë“ˆì„ ê°œë°œí•˜ì—¬ ê¹Šì´ íŒŒê³ ë“¤ê³  ì‰˜ì„ ì—´ê³  ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì‹œê°„ì„ ì œê³µí•©ë‹ˆë‹¤.

{% embed url="https://pentest-tools.com/" %}

## HTTP ë™ì‚¬/ë©”ì„œë“œ í¼ì§•

íŒŒì¼ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ **ë‹¤ë¥¸ ë™ì‚¬**ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”: `GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH, INVENTED, HACK`

* ì‘ë‹µ í—¤ë”ë¥¼ í™•ì¸í•˜ê³  ì–´ë–¤ ì •ë³´ê°€ ì œê³µë˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, `Content-Length: 55`ì™€ í•¨ê»˜ **HEAD**ì— ëŒ€í•œ **200 ì‘ë‹µ**ì€ **HEAD ë™ì‚¬ê°€ ì •ë³´ì— ì•¡ì„¸ìŠ¤**í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ì „íˆ í•´ë‹¹ ì •ë³´ë¥¼ ë¹¼ë‚´ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.
* `X-HTTP-Method-Override: PUT`ì™€ ê°™ì€ HTTP í—¤ë”ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ëœ ë™ì‚¬ë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **`TRACE`** ë™ì‚¬ë¥¼ ì‚¬ìš©í•˜ê³  ë§¤ìš° ìš´ì´ ì¢‹ë‹¤ë©´ ì‘ë‹µì—ì„œ **ì¤‘ê°„ í”„ë¡ì‹œê°€ ì¶”ê°€í•œ í—¤ë”**ë„ ë³¼ ìˆ˜ ìˆì–´ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## HTTP í—¤ë” í¼ì§•

* **Host í—¤ë”ë¥¼** ì„ì˜ì˜ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš” ([ì—¬ê¸°ì„œ ì‘ë™í•œ ê²ƒ](https://medium.com/@sechunter/exploiting-admin-panel-like-a-boss-fc2dd2499d31))
* ë‹¤ë¥¸ [**ì‚¬ìš©ì ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/User-Agents/UserAgents.fuzz.txt)í•˜ì—¬ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•´ë³´ì„¸ìš”.
* **HTTP í—¤ë” í¼ì§•**: HTTP í”„ë¡ì‹œ **í—¤ë”**, HTTP ì¸ì¦ ê¸°ë³¸ ë° NTLM ë¸Œë£¨íŠ¸ í¬ìŠ¤ (ëª‡ ê°€ì§€ ì¡°í•©ë§Œ) ë° ê¸°íƒ€ ê¸°ìˆ ì„ ì‹œë„í•´ë³´ì„¸ìš”. ì´ ëª¨ë“  ê²ƒì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ [**fuzzhttpbypass**](https://github.com/carlospolop/fuzzhttpbypass) ë„êµ¬ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

* `X-Originating-IP: 127.0.0.1`
* `X-Forwarded-For: 127.0.0.1`
* `X-Forwarded: 127.0.0.1`
* `Forwarded-For: 127.0.0.1`
* `X-Remote-IP: 127.0.0.1`
* `X-Remote-Addr: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `X-Original-URL: 127.0.0.1`
* `Client-IP: 127.0.0.1`
* `True-Client-IP: 127.0.0.1`
* `Cluster-Client-IP: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `Host: localhost`

**ê²½ë¡œê°€ ë³´í˜¸**ë˜ì–´ ìˆë‹¤ë©´ ë‹¤ìŒ í—¤ë”ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²½ë¡œ ë³´í˜¸ë¥¼ ìš°íšŒí•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* `X-Original-URL: /admin/console`
* `X-Rewrite-URL: /admin/console`
* í˜ì´ì§€ê°€ **í”„ë¡ì‹œ ë’¤ì—** ìˆë‹¤ë©´, ê°œì¸ ì •ë³´ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ê²ƒì´ í”„ë¡ì‹œì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. [**HTTP ìš”ì²­ ìŠ¤ë¨¸ê¸€ë§**](../../pentesting-web/http-request-smuggling/)ì„ ë‚¨ìš©í•˜ê±°ë‚˜ [**hop-by-hop í—¤ë”**](../../pentesting-web/abusing-hop-by-hop-headers.md)ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.
* ë‹¤ë¥¸ ì‘ë‹µì„ ì°¾ê¸° ìœ„í•´ [**íŠ¹ìˆ˜ HTTP í—¤ë”**](special-http-headers.md)ë¥¼ í¼ì§•í•©ë‹ˆë‹¤.
* **HTTP ë©”ì„œë“œ**ë¥¼ í¼ì§•í•˜ëŠ” ë™ì•ˆ **íŠ¹ìˆ˜ HTTP í—¤ë”**ë¥¼ í¼ì§•í•©ë‹ˆë‹¤.
* **Host í—¤ë”ë¥¼ ì œê±°**í•˜ë©´ ë³´í˜¸ë¥¼ ìš°íšŒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## ê²½ë¡œ **í¼ì§•**

_**/path**_ê°€ ì°¨ë‹¨ëœ ê²½ìš°:

* _**/**_**%2e/path_ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš” (ì•¡ì„¸ìŠ¤ê°€ í”„ë¡ì‹œì— ì˜í•´ ì°¨ë‹¨ëœ ê²½ìš° ë³´í˜¸ë¥¼ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤). ë˜í•œ **/%252e**/path (ì´ì¤‘ URL ì¸ì½”ë”©)ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”
* **ìœ ë‹ˆì½”ë“œ ìš°íšŒ**ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”: _/**%ef%bc%8f**path_ (URL ì¸ì½”ë”©ëœ ë¬¸ìëŠ” "/")ì´ë¯€ë¡œ ì¸ì½”ë”©ì„ ë‹¤ì‹œ í•˜ë©´ _//path_ê°€ ë˜ì–´ ì´ë¯¸ _/path_ ì´ë¦„ í™•ì¸ì„ ìš°íšŒí–ˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
* **ë‹¤ë¥¸ ê²½ë¡œ ìš°íšŒ**:
* site.com/secret â€“> HTTP 403 Forbidden
* site.com/SECRET â€“> HTTP 200 OK
* site.com/secret/ â€“> HTTP 200 OK
* site.com/secret/. â€“> HTTP 200 OK
* site.com//secret// â€“> HTTP 200 OK
* site.com/./secret/.. â€“> HTTP 200 OK
* site.com/;/secret â€“> HTTP 200 OK
* site.com/.;/secret â€“> HTTP 200 OK
* site.com//;//secret â€“> HTTP 200 OK
* site.com/secret.json â€“> HTTP 200 OK (ë£¨ë¹„)
* ë‹¤ìŒ ìƒí™©ì—ì„œ [**ì´ ëª©ë¡**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/Unicode.txt)ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì„¸ìš”:
* /FUZZsecret
* /FUZZ/secret
* /secretFUZZ
* **ë‹¤ë¥¸ API ìš°íšŒ**:
* /v3/users\_data/1234 --> 403 Forbidden
* /v1/users\_data/1234 --> 200 OK
* {â€œidâ€:111} --> 401 Unauthriozied
* {â€œidâ€:\[111]} --> 200 OK
* {â€œidâ€:111} --> 401 Unauthriozied
* {â€œidâ€:{â€œidâ€:111\}} --> 200 OK
* {"user\_id":"\<legit\_id>","user\_id":"\<victims\_id>"} (JSON Parameter Pollution)
* user\_id=ATTACKER\_ID\&user\_id=VICTIM\_ID (Parameter Pollution)
## **ë§¤ê°œë³€ìˆ˜ ì¡°ì‘**

* **ë§¤ê°œë³€ìˆ˜ ê°’ ë³€ê²½**: **`id=123` --> `id=124`**
* URLì— ì¶”ê°€ ë§¤ê°œë³€ìˆ˜ ì¶”ê°€: `?`**`id=124` â€”-> `id=124&isAdmin=true`**
* ë§¤ê°œë³€ìˆ˜ ì œê±°
* ë§¤ê°œë³€ìˆ˜ ì¬ì •ë ¬
* íŠ¹ìˆ˜ ë¬¸ì ì‚¬ìš©
* ë§¤ê°œë³€ìˆ˜ì—ì„œ ê²½ê³„ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ â€” _-234_ ë˜ëŠ” _0_ ë˜ëŠ” _99999999_ì™€ ê°™ì€ ê°’ ì œê³µ (ì˜ˆì‹œ ê°’).

## **í”„ë¡œí† ì½œ ë²„ì „**

ë§Œì•½ HTTP/1.1ì„ ì‚¬ìš© ì¤‘ì´ë¼ë©´ **1.0ì„ ì‹œë„**í•˜ê±°ë‚˜ ì‹¬ì§€ì–´ **2.0ì„ ì§€ì›í•˜ëŠ”ì§€** í…ŒìŠ¤íŠ¸.

## **ê¸°íƒ€ ìš°íšŒ ë°©ë²•**

* ë„ë©”ì¸ì˜ **IP** ë˜ëŠ” **CNAME**ì„ ê°€ì ¸ì™€ **ì§ì ‘ ì—°ë½**ì„ ì‹œë„.
* ì„œë²„ë¥¼ **ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸**í•´ë³´ê¸° ìœ„í•´ ì¼ë°˜ì ì¸ GET ìš”ì²­ì„ ë³´ë‚´ë³´ê¸° ([ì´ ì‚¬ëŒì—ê²Œ Facebookì—ì„œ ì‘ë™í–ˆë‹¤](https://medium.com/@amineaboud/story-of-a-weird-vulnerability-i-found-on-facebook-fc0875eb5125)).
* **í”„ë¡œí† ì½œ ë³€ê²½**: httpì—ì„œ httpsë¡œ ë˜ëŠ” httpsì—ì„œ httpë¡œ
* [**https://archive.org/web/**](https://archive.org/web/)ì— ê°€ì„œ í•´ë‹¹ íŒŒì¼ì´ ê³¼ê±°ì— **ì „ ì„¸ê³„ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥**í–ˆëŠ”ì§€ í™•ì¸.

## **ë¬´ì°¨ë³„ ëŒ€ì…**

* **ë¹„ë°€ë²ˆí˜¸ ì¶”ì¸¡**: ë‹¤ìŒê³¼ ê°™ì€ ì¼ë°˜ ìê²© ì¦ëª…ì„ ì‹œí—˜í•´ë³´ì„¸ìš”. í”¼í•´ìì— ëŒ€í•´ ì•Œê³  ìˆëŠ” ì •ë³´ê°€ ìˆë‚˜ìš”? ë˜ëŠ” CTF ì±Œë¦°ì§€ ì´ë¦„ì´ ìˆë‚˜ìš”?
* [**ë¬´ì°¨ë³„ ëŒ€ì…**](../../generic-methodologies-and-resources/brute-force.md#http-brute)**:** ê¸°ë³¸, ë‹¤ì´ì œìŠ¤íŠ¸ ë° NTLM ì¸ì¦ì„ ì‹œë„.

{% code title="ì¼ë°˜ ìê²© ì¦ëª…" %}
```
admin    admin
admin    password
admin    1234
admin    admin1234
admin    123456
root     toor
test     test
guest    guest
```
{% endcode %}

## ìë™ ë„êµ¬

* [https://github.com/lobuhi/byp4xx](https://github.com/lobuhi/byp4xx)
* [https://github.com/iamj0ker/bypass-403](https://github.com/iamj0ker/bypass-403)
* [https://github.com/gotr00t0day/forbiddenpass](https://github.com/gotr00t0day/forbiddenpass)
* [Burp Extension - 403 Bypasser](https://portswigger.net/bappstore/444407b96d9c4de0adb7aed89e826122)
* [Forbidden Buster](https://github.com/Sn1r/Forbidden-Buster)
* [NoMoreForbidden](https://github.com/akinerk/NoMoreForbidden)

<figure><img src="../../.gitbook/assets/image (14) (1).png" alt=""><figcaption></figcaption></figure>

**ì·¨ì•½ì  í‰ê°€ ë° ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì •**. 20ê°œ ì´ìƒì˜ ë„êµ¬ ë° ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì–´ë””ì„œë“  ì „ì²´ íœí…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤. ìš°ë¦¬ëŠ” íœí…ŒìŠ¤í„°ë¥¼ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ - ê¹Šì´ íŒŒê³ ë“¤ê³  ì‰˜ì„ ì—´ê³  ì¦ê¸°ê¸° ìœ„í•´ ì‚¬ìš©ì ì •ì˜ ë„êµ¬, íƒì§€ ë° ì•…ìš© ëª¨ë“ˆì„ ê°œë°œí•©ë‹ˆë‹¤.

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>ì œë¡œë¶€í„° AWS í•´í‚¹ì„ ì „ë¬¸ê°€ë¡œ í•™ìŠµí•˜ì„¸ìš”</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ë ¤ë©´** [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ì…í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜**íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **HackTricks ë° HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
