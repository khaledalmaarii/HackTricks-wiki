# Bypassy 403 & 401

<details>

<summary><strong>Zacznij naukÄ™ hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) albo **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakowania, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>

<figure><img src="../../.gitbook/assets/image (14) (1).png" alt=""><figcaption></figcaption></figure>

**Natychmiastowe dostÄ™pne narzÄ™dzie do oceny podatnoÅ›ci i testÃ³w penetracyjnych**. Uruchom peÅ‚ne testy penetracyjne z dowolnego miejsca za pomocÄ… ponad 20 narzÄ™dzi i funkcji, ktÃ³re obejmujÄ… rozpoznanie, raportowanie. Nie zastÄ™pujemy testerÃ³w penetracyjnych - tworzymy niestandardowe narzÄ™dzia, moduÅ‚y wykrywania i eksploatacji, aby umoÅ¼liwiÄ‡ im zagÅ‚Ä™bienie siÄ™ gÅ‚Ä™biej, zdobycie powÅ‚ok i dobrÄ… zabawÄ™.

{% embed url="https://pentest-tools.com/" %}

## Fuzzowanie Metod/WerbsÃ³w HTTP

SprÃ³buj uÅ¼yÄ‡ **rÃ³Å¼nych werbÃ³w** do dostÄ™pu do pliku: `GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH, INVENTED, HACK`

* SprawdÅº nagÅ‚Ã³wki odpowiedzi, byÄ‡ moÅ¼e zawierajÄ… jakieÅ› informacje. Na przykÅ‚ad **odpowiedÅº 200** na **HEAD** z `Content-Length: 55` oznacza, Å¼e **werb HEAD moÅ¼e uzyskaÄ‡ dostÄ™p do informacji**. Nadal jednak musisz znaleÅºÄ‡ sposÃ³b na wydostanie tych informacji.
* UÅ¼ycie nagÅ‚Ã³wka HTTP takiego jak `X-HTTP-Method-Override: PUT` moÅ¼e nadpisaÄ‡ uÅ¼yty werb.
* UÅ¼yj werbu **`TRACE`** i jeÅ›li masz szczÄ™Å›cie, byÄ‡ moÅ¼e w odpowiedzi zobaczysz rÃ³wnieÅ¼ **nagÅ‚Ã³wki dodane przez poÅ›rednie serwery proxy**, ktÃ³re mogÄ… byÄ‡ przydatne.

## Fuzzowanie NagÅ‚Ã³wkÃ³w HTTP

* **ZmieÅ„ nagÅ‚Ã³wek Host** na jakÄ…Å› arbitralnÄ… wartoÅ›Ä‡ ([ktÃ³ra zadziaÅ‚aÅ‚a tutaj](https://medium.com/@sechunter/exploiting-admin-panel-like-a-boss-fc2dd2499d31))
* SprÃ³buj [**uÅ¼yÄ‡ innych agentÃ³w uÅ¼ytkownika**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/User-Agents/UserAgents.fuzz.txt) do dostÄ™pu do zasobu.
*   **Fuzzuj NagÅ‚Ã³wki HTTP**: SprÃ³buj uÅ¼yÄ‡ NagÅ‚Ã³wkÃ³w Proxy **Headers**, podstawowej autentykacji HTTP i prÃ³by siÅ‚owej NTLM (tylko z kilkoma kombinacjami) oraz innych technik. Do tego celu stworzyÅ‚em narzÄ™dzie [**fuzzhttpbypass**](https://github.com/carlospolop/fuzzhttpbypass).

* `X-Originating-IP: 127.0.0.1`
* `X-Forwarded-For: 127.0.0.1`
* `X-Forwarded: 127.0.0.1`
* `Forwarded-For: 127.0.0.1`
* `X-Remote-IP: 127.0.0.1`
* `X-Remote-Addr: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `X-Original-URL: 127.0.0.1`
* `Client-IP: 127.0.0.1`
* `True-Client-IP: 127.0.0.1`
* `Cluster-Client-IP: 127.0.0.1`
* `X-ProxyUser-Ip: 127.0.0.1`
* `Host: localhost`

JeÅ›li **Å›cieÅ¼ka jest chroniona**, moÅ¼esz sprÃ³bowaÄ‡ ominÄ…Ä‡ ochronÄ™ Å›cieÅ¼ki, uÅ¼ywajÄ…c tych innych nagÅ‚Ã³wkÃ³w:

* `X-Original-URL: /admin/console`
* `X-Rewrite-URL: /admin/console`
* JeÅ›li strona jest **za proxy**, byÄ‡ moÅ¼e to proxy uniemoÅ¼liwia Ci dostÄ™p do prywatnych informacji. SprÃ³buj naduÅ¼yÄ‡ [**Smuglowania Å»Ä…daÅ„ HTTP**](../../pentesting-web/http-request-smuggling/) **lub** [**nagÅ‚Ã³wkÃ³w hop-by-hop**](../../pentesting-web/abusing-hop-by-hop-headers.md)**.**
* Fuzzuj [**specjalne nagÅ‚Ã³wki HTTP**](special-http-headers.md), szukajÄ…c rÃ³Å¼nych odpowiedzi.
* **Fuzzuj specjalne nagÅ‚Ã³wki HTTP** podczas fuzzowania **Metod HTTP**.
* **UsuÅ„ nagÅ‚Ã³wek Host** i byÄ‡ moÅ¼e uda Ci siÄ™ ominÄ…Ä‡ ochronÄ™.

## Fuzzowanie ÅšcieÅ¼ki

JeÅ›li _/Å›cieÅ¼ka_ jest zablokowana:

* SprÃ³buj uÅ¼yÄ‡ _**/**_**%2e/Å›cieÅ¼ka \_(jeÅ›li dostÄ™p jest blokowany przez proxy, to moÅ¼e ominÄ…Ä‡ ochronÄ™). SprÃ³buj rÃ³wnieÅ¼**\_\*\* /%252e\*\*/Å›cieÅ¼ka (podwÃ³jne kodowanie URL)
* SprÃ³buj **ominiÄ™cia Unicode**: _/**%ef%bc%8f**Å›cieÅ¼ka_ (Zakodowane znaki URL sÄ… jak "/"), wiÄ™c po zdekodowaniu bÄ™dzie to _//Å›cieÅ¼ka_ i byÄ‡ moÅ¼e juÅ¼ ominÄ…Å‚eÅ› sprawdzanie nazwy _/Å›cieÅ¼ka_
* **Inne bypassy Å›cieÅ¼ki**:
* site.com/secret â€“> HTTP 403 Forbidden
* site.com/SECRET â€“> HTTP 200 OK
* site.com/secret/ â€“> HTTP 200 OK
* site.com/secret/. â€“> HTTP 200 OK
* site.com//secret// â€“> HTTP 200 OK
* site.com/./secret/.. â€“> HTTP 200 OK
* site.com/;/secret â€“> HTTP 200 OK
* site.com/.;/secret â€“> HTTP 200 OK
* site.com//;//secret â€“> HTTP 200 OK
* site.com/secret.json â€“> HTTP 200 OK (ruby)
* UÅ¼yj caÅ‚ej [**tej listy**](https://github.com/danielmiessler/SecLists/blob/master/Fuzzing/Unicode.txt) w nastÄ™pujÄ…cych sytuacjach:
* /FUZZsecret
* /FUZZ/secret
* /secretFUZZ
* **Inne bypassy API:**
* /v3/users\_data/1234 --> 403 Forbidden
* /v1/users\_data/1234 --> 200 OK
* {â€œidâ€:111} --> 401 Unauthriozied
* {â€œidâ€:\[111]} --> 200 OK
* {â€œidâ€:111} --> 401 Unauthriozied
* {â€œidâ€:{â€œidâ€:111\}} --> 200 OK
* {"user\_id":"\<legit\_id>","user\_id":"\<victims\_id>"} (Zanieczyszczenie Parametru JSON)
* user\_id=ATTACKER\_ID\&user\_id=VICTIM\_ID (Zanieczyszczenie Parametru)
## **Manipulacja parametrami**

* ZmieÅ„ **wartoÅ›Ä‡ parametru**: Z **`id=123` --> `id=124`**
* Dodaj dodatkowe parametry do adresu URL: `?`**`id=124` â€”-> `id=124&isAdmin=true`**
* UsuÅ„ parametry
* ZmieÅ„ kolejnoÅ›Ä‡ parametrÃ³w
* UÅ¼yj znakÃ³w specjalnych.
* PrzeprowadÅº testowanie granic w parametrach â€” podaj wartoÅ›ci takie jak _-234_ lub _0_ lub _99999999_ (tylko przykÅ‚adowe wartoÅ›ci).

## **Wersja protokoÅ‚u**

JeÅ›li uÅ¼ywasz HTTP/1.1, **sprÃ³buj uÅ¼yÄ‡ 1.0** lub nawet sprawdÅº, czy **obsÅ‚uguje 2.0**.

## **Inne metody bypassowania**

* Pobierz **IP** lub **CNAME** domeny i sprÃ³buj siÄ™ z niÄ… **bezpoÅ›rednio skontaktowaÄ‡**.
* SprÃ³buj **obciÄ…Å¼yÄ‡ serwer** wysyÅ‚ajÄ…c zwykÅ‚e Å¼Ä…dania GET ([To zadziaÅ‚aÅ‚o dla tego goÅ›cia z Facebookiem](https://medium.com/@amineaboud/story-of-a-weird-vulnerability-i-found-on-facebook-fc0875eb5125)).
* **ZmieÅ„ protokÃ³Å‚**: z http na https, lub z https na http
* PrzejdÅº do [**https://archive.org/web/**](https://archive.org/web/) i sprawdÅº, czy w przeszÅ‚oÅ›ci ten plik byÅ‚ **dostÄ™pny na caÅ‚ym Å›wiecie**.

## **Atak Brute Force**

* **Zgadnij hasÅ‚o**: WyprÃ³buj nastÄ™pujÄ…ce powszechne dane uwierzytelniajÄ…ce. Czy wiesz coÅ› o ofierze? A moÅ¼e nazwie wyzwania CTF?
* [**Atak Brute Force**](../../generic-methodologies-and-resources/brute-force.md#http-brute)**:** WyprÃ³buj uwierzytelnianie podstawowe, digest i NTLM.

{% code title="Powszechne dane uwierzytelniajÄ…ce" %}
```
admin    admin
admin    password
admin    1234
admin    admin1234
admin    123456
root     toor
test     test
guest    guest
```
{% endcode %}

## Automatyczne narzÄ™dzia

* [https://github.com/lobuhi/byp4xx](https://github.com/lobuhi/byp4xx)
* [https://github.com/iamj0ker/bypass-403](https://github.com/iamj0ker/bypass-403)
* [https://github.com/gotr00t0day/forbiddenpass](https://github.com/gotr00t0day/forbiddenpass)
* [Rozszerzenie Burp - 403 Bypasser](https://portswigger.net/bappstore/444407b96d9c4de0adb7aed89e826122)
* [Forbidden Buster](https://github.com/Sn1r/Forbidden-Buster)

<figure><img src="../../.gitbook/assets/image (14) (1).png" alt=""><figcaption></figcaption></figure>

**Natychmiastowa konfiguracja dostÄ™pna do oceny podatnoÅ›ci i testÃ³w penetracyjnych**. Uruchom peÅ‚ne testy penetracyjne z dowolnego miejsca za pomocÄ… ponad 20 narzÄ™dzi i funkcji, ktÃ³re obejmujÄ… rozpoznanie, aÅ¼ po raportowanie. Nie zastÄ™pujemy testerÃ³w penetracyjnych - rozwijamy niestandardowe narzÄ™dzia, moduÅ‚y wykrywania i eksploatacji, aby umoÅ¼liwiÄ‡ im zagÅ‚Ä™bienie siÄ™ gÅ‚Ä™biej, zdobycie powÅ‚ok i dobrÄ… zabawÄ™.

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>Zacznij od zera i zostaÅ„ ekspertem w hakowaniu AWS dziÄ™ki</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
