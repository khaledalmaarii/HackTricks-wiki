# 80,443 - Pentesting Web Metodologija

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Obuka AWS Red Team Ekspert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Obuka GCP Red Team Ekspert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¡ka HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Ako ste zainteresovani za **hakersku karijeru** i da hakujete nehakovano - **zapoÅ¡ljavamo!** (_potrebno je teÄno pisanje i govorenje poljskog_).

{% embed url="https://www.stmcyber.com/careers" %}

## Osnovne Informacije

Web servis je najviÅ¡e **uobiÄajen i opseÅ¾an servis** i postoji mnogo **razliÄitih tipova ranjivosti**.

**Podrazumevani port:** 80 (HTTP), 443(HTTPS)
```bash
PORT    STATE SERVICE
80/tcp  open  http
443/tcp open  ssl/https
```

```bash
nc -v domain.com 80 # GET / HTTP/1.0
openssl s_client -connect domain.com:443 # GET / HTTP/1.0
```
### Web API Guidance

{% content-ref url="web-api-pentesting.md" %}
[web-api-pentesting.md](web-api-pentesting.md)
{% endcontent-ref %}

## Methodology summary

> U ovoj metodologiji pretpostavljamo da Ä‡ete napasti domen (ili poddomen) i samo to. Dakle, trebali biste primeniti ovu metodologiju na svaki otkriveni domen, poddomen ili IP sa neodreÄ‘enim web serverom unutar opsega.

* [ ] PoÄnite sa **identifikovanjem** **tehnologija** koje koristi web server. PotraÅ¾ite **trikove** koje treba imati na umu tokom ostatka testa ako uspeÅ¡no identifikujete tehnologiju.
* [ ] Da li postoji neka **poznata ranjivost** verzije tehnologije?
* [ ] Koristite neku **poznatu tehnologiju**? Ima li nekog **korisnog trika** za izvlaÄenje viÅ¡e informacija?
* [ ] Da li postoji neki **specijalizovani skener** koji treba pokrenuti (kao Å¡to je wpscan)?
* [ ] Pokrenite **skeneri opÅ¡te namene**. Nikada ne znate da li Ä‡e pronaÄ‡i neÅ¡to ili ako Ä‡e pronaÄ‡i neku zanimljivu informaciju.
* [ ] PoÄnite sa **poÄetnim proverama**: **robots**, **sitemap**, **404** greÅ¡ka i **SSL/TLS sken** (ako je HTTPS).
* [ ] PoÄnite sa **spideringom** web stranice: vreme je da **pronaÄ‘ete** sve moguÄ‡e **fajlove, foldere** i **parametre koji se koriste.** TakoÄ‘e, proverite za **posebna otkriÄ‡a**.
* [ ] _Imajte na umu da svaki put kada se otkrije novi direktorijum tokom brute-forcinga ili spideringa, treba ga spiderovati._
* [ ] **Brute-Forcing direktorijuma**: PokuÅ¡ajte da brute-forcujete sve otkrivene foldere traÅ¾eÄ‡i nove **fajlove** i **direktorijume**.
* [ ] _Imajte na umu da svaki put kada se otkrije novi direktorijum tokom brute-forcinga ili spideringa, treba ga Brute-Forcovati._
* [ ] **Proveravanje rezervnih kopija**: Testirajte da li moÅ¾ete pronaÄ‡i **rezervne kopije** **otkrivenih fajlova** dodajuÄ‡i uobiÄajene ekstenzije rezervnih kopija.
* [ ] **Brute-Force parametri**: PokuÅ¡ajte da **pronaÄ‘ete skrivene parametre**.
* [ ] Kada ste **identifikovali** sve moguÄ‡e **endpointe** koji prihvataju **korisniÄki unos**, proverite sve vrste **ranjivosti** povezane s tim.
* [ ] [Pratite ovu kontrolnu listu](../../pentesting-web/web-vulnerabilities-methodology.md)

## Server Version (Vulnerable?)

### Identify

Proverite da li postoje **poznate ranjivosti** za verziju servera **koja se koristi**.\
**HTTP zaglavlja i kolaÄiÄ‡i odgovora** mogu biti veoma korisni za **identifikaciju** **tehnologija** i/ili **verzije** koja se koristi. **Nmap sken** moÅ¾e identifikovati verziju servera, ali takoÄ‘e mogu biti korisni alati [**whatweb**](https://github.com/urbanadventurer/WhatWeb)**,** [**webtech** ](https://github.com/ShielderSec/webtech)ili [**https://builtwith.com/**](https://builtwith.com)**:**
```bash
whatweb -a 1 <URL> #Stealthy
whatweb -a 3 <URL> #Aggresive
webtech -u <URL>
webanalyze -host https://google.com -crawl 2
```
Search **for** [**ranjivosti web aplikacije** **verzije**](../../generic-methodologies-and-resources/search-exploits.md)

### **Proverite da li postoji neki WAF**

* [**https://github.com/EnableSecurity/wafw00f**](https://github.com/EnableSecurity/wafw00f)
* [**https://github.com/Ekultek/WhatWaf.git**](https://github.com/Ekultek/WhatWaf.git)
* [**https://nmap.org/nsedoc/scripts/http-waf-detect.html**](https://nmap.org/nsedoc/scripts/http-waf-detect.html)

### Web tehnoloÅ¡ke trikove

Neki **trikovi** za **pronalazak ranjivosti** u razliÄitim poznatim **tehnologijama** koje se koriste:

* [**AEM - Adobe Experience Cloud**](aem-adobe-experience-cloud.md)
* [**Apache**](apache.md)
* [**Artifactory**](artifactory-hacking-guide.md)
* [**Buckets**](buckets/)
* [**CGI**](cgi.md)
* [**Drupal**](drupal/)
* [**Flask**](flask.md)
* [**Git**](git.md)
* [**Golang**](golang.md)
* [**GraphQL**](graphql.md)
* [**H2 - Java SQL baza podataka**](h2-java-sql-database.md)
* [**IIS trikovi**](iis-internet-information-services.md)
* [**JBOSS**](jboss.md)
* [**Jenkins**](https://github.com/carlospolop/hacktricks/blob/master/network-services-pentesting/pentesting-web/broken-reference/README.md)
* [**Jira**](jira.md)
* [**Joomla**](joomla.md)
* [**JSP**](jsp.md)
* [**Laravel**](laravel.md)
* [**Moodle**](moodle.md)
* [**Nginx**](nginx.md)
* [**PHP (php ima mnogo zanimljivih trikova koji se mogu iskoristiti)**](php-tricks-esp/)
* [**Python**](python.md)
* [**Spring Actuators**](spring-actuators.md)
* [**Symphony**](symphony.md)
* [**Tomcat**](tomcat/)
* [**VMWare**](vmware-esx-vcenter....md)
* [**Web API Pentesting**](web-api-pentesting.md)
* [**WebDav**](put-method-webdav.md)
* [**Werkzeug**](werkzeug.md)
* [**Wordpress**](wordpress.md)
* [**Electron Desktop (XSS do RCE)**](electron-desktop-apps/)

_Uzmite u obzir da **isti domen** moÅ¾e koristiti **razliÄite tehnologije** na razliÄitim **portovima**, **folderima** i **poddomenama**._\
Ako web aplikacija koristi neku poznatu **tehnologiju/platformu navedenu ranije** ili **bilo koju drugu**, ne zaboravite da **pretraÅ¾ite Internet** nove trikove (i javite mi!).

### Pregled izvornog koda

Ako je **izvorni kod** aplikacije dostupan na **github**, pored izvoÄ‘enja **sopstvenog White box testa** aplikacije, postoji **neka informacija** koja bi mogla biti **korisna** za trenutni **Black-Box testiranje**:

* Da li postoji **Change-log ili Readme ili Verzija** fajl ili bilo Å¡ta sa **informacijama o verziji dostupnim** putem veba?
* Kako i gde se Äuvaju **akreditivi**? Da li postoji neki (dostupan?) **fajl** sa akreditivima (korisniÄkim imenima ili lozinkama)?
* Da li su **lozinke** u **obiÄnom tekstu**, **kriptovane** ili koji **hash algoritam** se koristi?
* Da li se koristi neki **glavni kljuÄ** za kriptovanje neÄega? Koji **algoritam** se koristi?
* MoÅ¾ete li **pristupiti bilo kojem od ovih fajlova** iskoriÅ¡Ä‡avajuÄ‡i neku ranjivost?
* Da li postoji neka **zanimljiva informacija na github-u** (reÅ¡eni i nereÅ¡eni) **problemi**? Ili u **istoriji commit-a** (moÅ¾da neka **lozinka unesena unutar starog commita**)?

{% content-ref url="code-review-tools.md" %}
[code-review-tools.md](code-review-tools.md)
{% endcontent-ref %}

### Automatski skeneri

#### Automatski skeneri opÅ¡te namene
```bash
nikto -h <URL>
whatweb -a 4 <URL>
wapiti -u <URL>
W3af
zaproxy #You can use an API
nuclei -ut && nuclei -target <URL>

# https://github.com/ignis-sec/puff (client side vulns fuzzer)
node puff.js -w ./wordlist-examples/xss.txt -u "http://www.xssgame.com/f/m4KKGHi2rVUN/?query=FUZZ"
```
#### CMS skeneri

Ako se koristi CMS, ne zaboravite da **pokrenete skener**, moÅ¾da Ä‡e se pronaÄ‡i neÅ¡to soÄno:

[**Clusterd**](https://github.com/hatRiot/clusterd)**:** [**JBoss**](jboss.md)**, ColdFusion, WebLogic,** [**Tomcat**](tomcat/)**, Railo, Axis2, Glassfish**\
[**CMSScan**](https://github.com/ajinabraham/CMSScan): [**WordPress**](wordpress.md), [**Drupal**](drupal/), **Joomla**, **vBulletin** veb sajtovi za bezbednosne probleme. (GUI)\
[**VulnX**](https://github.com/anouarbensaad/vulnx)**:** [**Joomla**](joomla.md)**,** [**Wordpress**](wordpress.md)**,** [**Drupal**](drupal/)**, PrestaShop, Opencart**\
**CMSMap**: [**(W)ordpress**](wordpress.md)**,** [**(J)oomla**](joomla.md)**,** [**(D)rupal**](drupal/) **ili** [**(M)oodle**](moodle.md)\
[**droopscan**](https://github.com/droope/droopescan)**:** [**Drupal**](drupal/)**,** [**Joomla**](joomla.md)**,** [**Moodle**](moodle.md)**, Silverstripe,** [**Wordpress**](wordpress.md)
```bash
cmsmap [-f W] -F -d <URL>
wpscan --force update -e --url <URL>
joomscan --ec -u <URL>
joomlavs.rb #https://github.com/rastating/joomlavs
```
> U ovom trenutku veÄ‡ biste trebali imati neke informacije o web serveru koji koristi klijent (ako su dostupni podaci) i neke trikove koje treba imati na umu tokom testa. Ako imate sreÄ‡e, moÅ¾da ste Äak pronaÅ¡li CMS i pokrenuli neki skener.

## Korak-po-korak otkrivanje web aplikacija

> Od ovog trenutka poÄinjemo da komuniciramo sa web aplikacijom.

### PoÄetne provere

**Podrazumevane stranice sa zanimljivim informacijama:**

* /robots.txt
* /sitemap.xml
* /crossdomain.xml
* /clientaccesspolicy.xml
* /.well-known/
* TakoÄ‘e proverite komentare na glavnim i sekundarnim stranicama.

**Prisiljavanje greÅ¡aka**

Web serveri mogu **nepredvidivo reagovati** kada im se Å¡alju Äudni podaci. Ovo moÅ¾e otvoriti **ranjivosti** ili **otkriti osetljive informacije**.

* Pristupite **laÅ¾nim stranicama** kao Å¡to su /whatever\_fake.php (.aspx,.html,.etc)
* **Dodajte "\[]", "]]", i "\[\["** u **vrednosti kolaÄiÄ‡a** i **vrednosti parametara** da biste izazvali greÅ¡ke
* GeneriÅ¡ite greÅ¡ku tako Å¡to Ä‡ete uneti **`/~randomthing/%s`** na **kraj** **URL-a**
* PokuÅ¡ajte sa **razliÄitim HTTP metodama** kao Å¡to su PATCH, DEBUG ili pogreÅ¡nim kao FAKE

#### **Proverite da li moÅ¾ete da otpremite fajlove (**[**PUT metod, WebDav**](put-method-webdav.md)**)**

Ako otkrijete da je **WebDav** **omoguÄ‡en** ali nemate dovoljno dozvola za **otpremanje fajlova** u root folder, pokuÅ¡ajte da:

* **Brute Force** kredencijale
* **Otpremite fajlove** putem WebDav u **ostale** **pronaÄ‘ene foldere** unutar web stranice. MoÅ¾da imate dozvole za otpremanje fajlova u drugim folderima.

### **SSL/TLS ranjivosti**

* Ako aplikacija **ne prisiljava korisnika na HTTPS** u bilo kojem delu, onda je **ranjiva na MitM**
* Ako aplikacija **Å¡alje osetljive podatke (lozinke) koristeÄ‡i HTTP**. Tada je to visoka ranjivost.

Koristite [**testssl.sh**](https://github.com/drwetter/testssl.sh) za proveru **ranjivosti** (U Bug Bounty programima verovatno ove vrste ranjivosti neÄ‡e biti prihvaÄ‡ene) i koristite [**a2sv**](https://github.com/hahwul/a2sv) za ponovnu proveru ranjivosti:
```bash
./testssl.sh [--htmlfile] 10.10.10.10:443
#Use the --htmlfile to save the output inside an htmlfile also

# You can also use other tools, by testssl.sh at this momment is the best one (I think)
sslscan <host:port>
sslyze --regular <ip:port>
```
Information about SSL/TLS vulnerabilities:

* [https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/](https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/)
* [https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/](https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/)

### Spidering

Pokrenite neku vrstu **spider** unutar veba. Cilj spider-a je da **pronaÄ‘e Å¡to viÅ¡e puteva** iz testirane aplikacije. Stoga, web crawling i spoljaÅ¡nji izvori treba da se koriste za pronalaÅ¾enje Å¡to viÅ¡e validnih puteva.

* [**gospider**](https://github.com/jaeles-project/gospider) (go): HTML spider, LinkFinder u JS datotekama i spoljaÅ¡nji izvori (Archive.org, CommonCrawl.org, VirusTotal.com, AlienVault.com).
* [**hakrawler**](https://github.com/hakluke/hakrawler) (go): HML spider, sa LinkFinder-om za JS datoteke i Archive.org kao spoljaÅ¡njim izvorom.
* [**dirhunt**](https://github.com/Nekmo/dirhunt) (python): HTML spider, takoÄ‘e oznaÄava "soÄne datoteke".
* [**evine** ](https://github.com/saeeddhqan/evine)(go): Interaktivni CLI HTML spider. TakoÄ‘e pretraÅ¾uje u Archive.org.
* [**meg**](https://github.com/tomnomnom/meg) (go): Ovaj alat nije spider, ali moÅ¾e biti koristan. MoÅ¾ete jednostavno naznaÄiti datoteku sa hostovima i datoteku sa putevima, a meg Ä‡e preuzeti svaki put na svakom hostu i saÄuvati odgovor.
* [**urlgrab**](https://github.com/IAmStoxe/urlgrab) (go): HTML spider sa moguÄ‡nostima renderovanja JS-a. MeÄ‘utim, izgleda da nije odrÅ¾avan, prekompajlirana verzija je stara i trenutni kod se ne kompajlira.
* [**gau**](https://github.com/lc/gau) (go): HTML spider koji koristi spoljne provajdere (wayback, otx, commoncrawl).
* [**ParamSpider**](https://github.com/devanshbatham/ParamSpider): Ovaj skript Ä‡e pronaÄ‡i URL-ove sa parametrima i navesti ih.
* [**galer**](https://github.com/dwisiswant0/galer) (go): HTML spider sa moguÄ‡nostima renderovanja JS-a.
* [**LinkFinder**](https://github.com/GerbenJavado/LinkFinder) (python): HTML spider, sa JS beautify moguÄ‡nostima sposobnim za pretragu novih puteva u JS datotekama. TakoÄ‘e bi bilo korisno pogledati [JSScanner](https://github.com/dark-warlord14/JSScanner), koji je omotaÄ LinkFinder-a.
* [**goLinkFinder**](https://github.com/0xsha/GoLinkFinder) (go): Za ekstrakciju krajnjih taÄaka u HTML izvoru i ugraÄ‘enim javascript datotekama. Korisno za lovce na greÅ¡ke, red timere, infosec nindÅ¾e.
* [**JSParser**](https://github.com/nahamsec/JSParser) (python2.7): Python 2.7 skript koji koristi Tornado i JSBeautifier za parsiranje relativnih URL-ova iz JavaScript datoteka. Korisno za lako otkrivanje AJAX zahteva. Izgleda da nije odrÅ¾avan.
* [**relative-url-extractor**](https://github.com/jobertabma/relative-url-extractor) (ruby): DajuÄ‡i datoteku (HTML) iz nje Ä‡e izvuÄ‡i URL-ove koristeÄ‡i pametnu regularnu ekspresiju za pronalaÅ¾enje i ekstrakciju relativnih URL-ova iz ruÅ¾nih (minify) datoteka.
* [**JSFScan**](https://github.com/KathanP19/JSFScan.sh) (bash, nekoliko alata): Prikupiti zanimljive informacije iz JS datoteka koristeÄ‡i nekoliko alata.
* [**subjs**](https://github.com/lc/subjs) (go): PronaÄ‘i JS datoteke.
* [**page-fetch**](https://github.com/detectify/page-fetch) (go): UÄitaj stranicu u headless pretraÅ¾ivaÄu i ispiÅ¡i sve URL-ove uÄitane za uÄitavanje stranice.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) (rust): Alat za otkrivanje sadrÅ¾aja koji kombinuje nekoliko opcija prethodnih alata.
* [**Javascript Parsing**](https://github.com/xnl-h4ck3r/burp-extensions): Burp ekstenzija za pronalaÅ¾enje puteva i parametara u JS datotekama.
* [**Sourcemapper**](https://github.com/denandz/sourcemapper): Alat koji, dajuÄ‡i .js.map URL, dobijate beautified JS kod.
* [**xnLinkFinder**](https://github.com/xnl-h4ck3r/xnLinkFinder): Ovaj alat se koristi za otkrivanje krajnjih taÄaka za dati cilj.
* [**waymore**](https://github.com/xnl-h4ck3r/waymore)**:** Otkrijte linkove iz wayback maÅ¡ine (takoÄ‘e preuzimajuÄ‡i odgovore u wayback-u i traÅ¾eÄ‡i viÅ¡e linkova).
* [**HTTPLoot**](https://github.com/redhuntlabs/HTTPLoot) (go): Crawlujte (Äak i popunjavanjem obrazaca) i takoÄ‘e pronaÄ‘ite osetljive informacije koristeÄ‡i specifiÄne regex-e.
* [**SpiderSuite**](https://github.com/3nock/SpiderSuite): Spider Suite je napredni GUI web sigurnosni crawler/spider dizajniran za profesionalce u sajber bezbednosti.
* [**jsluice**](https://github.com/BishopFox/jsluice) (go): To je Go paket i [alat komandne linije](https://github.com/BishopFox/jsluice/blob/main/cmd/jsluice) za ekstrakciju URL-ova, puteva, tajni i drugih zanimljivih podataka iz JavaScript izvornog koda.
* [**ParaForge**](https://github.com/Anof-cyber/ParaForge): ParaForge je jednostavna **Burp Suite ekstenzija** za **ekstrakciju parametara i krajnjih taÄaka** iz zahteva za kreiranje prilagoÄ‘ene reÄnika za fuzzing i enumeraciju.
* [**katana**](https://github.com/projectdiscovery/katana) (go): Sjajan alat za ovo.

### Brute Force directories and files

ZapoÄnite **brute-forcing** iz root foldera i budite sigurni da brute-forcujete **sve** **direktorijume pronaÄ‘ene** koristeÄ‡i **ovu metodu** i sve direktorijume **otkrivene** putem **Spidering-a** (moÅ¾ete ovo raditi brute-forcing **rekurzivno** i dodavati na poÄetak koriÅ¡Ä‡enog reÄnika imena pronaÄ‘enih direktorijuma).\
Alati:

* **Dirb** / **Dirbuster** - UkljuÄeno u Kali, **staro** (i **sporo**) ali funkcionalno. Dozvoljava automatski potpisane sertifikate i rekurzivnu pretragu. PreviÅ¡e sporo u poreÄ‘enju sa drugim opcijama.
* [**Dirsearch**](https://github.com/maurosoria/dirsearch) (python)**: Ne dozvoljava automatski potpisane sertifikate, ali** dozvoljava rekurzivnu pretragu.
* [**Gobuster**](https://github.com/OJ/gobuster) (go): Dozvoljava automatski potpisane sertifikate, **ne** ima **rekurzivnu** pretragu.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) **- Brz, podrÅ¾ava rekurzivnu pretragu.**
* [**wfuzz**](https://github.com/xmendez/wfuzz) `wfuzz -w /usr/share/seclists/Discovery/Web-Content/raft-medium-directories.txt https://domain.com/api/FUZZ`
* [**ffuf** ](https://github.com/ffuf/ffuf)- Brz: `ffuf -c -w /usr/share/wordlists/dirb/big.txt -u http://10.10.10.10/FUZZ`
* [**uro**](https://github.com/s0md3v/uro) (python): Ovo nije spider, veÄ‡ alat koji, dajuÄ‡i listu pronaÄ‘enih URL-ova, briÅ¡e "duplikate" URL-ova.
* [**Scavenger**](https://github.com/0xDexter0us/Scavenger): Burp ekstenzija za kreiranje liste direktorijuma iz burp istorije razliÄitih stranica.
* [**TrashCompactor**](https://github.com/michael1026/trashcompactor): Uklanja URL-ove sa duplim funkcionalnostima (na osnovu js uvoza).
* [**Chamaleon**](https://github.com/iustin24/chameleon): Koristi wapalyzer za otkrivanje koriÅ¡Ä‡enih tehnologija i odabir reÄnika za koriÅ¡Ä‡enje.

**PreporuÄeni reÄnici:**

* [https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt](https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt)
* [**Dirsearch** ukljuÄeni reÄnik](https://github.com/maurosoria/dirsearch/blob/master/db/dicc.txt)
* [http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10](http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10)
* [Assetnote wordlists](https://wordlists.assetnote.io)
* [https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content](https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content)
* raft-large-directories-lowercase.txt
* directory-list-2.3-medium.txt
* RobotsDisallowed/top10000.txt
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/google/fuzzing/tree/master/dictionaries](https://github.com/google/fuzzing/tree/master/dictionaries)
* [https://github.com/six2dez/OneListForAll](https://github.com/six2dez/OneListForAll)
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/ayoubfathi/leaky-paths](https://github.com/ayoubfathi/leaky-paths)
* _/usr/share/wordlists/dirb/common.txt_
* _/usr/share/wordlists/dirb/big.txt_
* _/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt_

_Napomena da svaki put kada se otkrije novi direktorijum tokom brute-forcing-a ili spidering-a, treba ga Brute-Forcovati._

### What to check on each file found

* [**Broken link checker**](https://github.com/stevenvachon/broken-link-checker): PronaÄ‘ite pokvarene linkove unutar HTML-a koji mogu biti podloÅ¾ni preuzimanju.
* **Backup datoteke**: Kada pronaÄ‘ete sve datoteke, potraÅ¾ite backup svih izvrÅ¡nih datoteka ("_.php_", "_.aspx_"...). UobiÄajene varijacije za imenovanje backup-a su: _file.ext\~, #file.ext#, \~file.ext, file.ext.bak, file.ext.tmp, file.ext.old, file.bak, file.tmp i file.old._ TakoÄ‘e moÅ¾ete koristiti alat [**bfac**](https://github.com/mazen160/bfac) **ili** [**backup-gen**](https://github.com/Nishantbhagat57/backup-gen)**.**
* **Otkrivanje novih parametara**: MoÅ¾ete koristiti alate kao Å¡to su [**Arjun**](https://github.com/s0md3v/Arjun)**,** [**parameth**](https://github.com/maK-/parameth)**,** [**x8**](https://github.com/sh1yo/x8) **i** [**Param Miner**](https://github.com/PortSwigger/param-miner) **za otkrivanje skrivenih parametara. Ako moÅ¾ete, mogli biste pokuÅ¡ati da pretraÅ¾ujete** skrivene parametre u svakoj izvrÅ¡noj web datoteci.
* _Arjun svi podrazumevani reÄnici:_ [https://github.com/s0md3v/Arjun/tree/master/arjun/db](https://github.com/s0md3v/Arjun/tree/master/arjun/db)
* _Param-miner â€œparamsâ€ :_ [https://github.com/PortSwigger/param-miner/blob/master/resources/params](https://github.com/PortSwigger/param-miner/blob/master/resources/params)
* _Assetnote â€œparameters\_top\_1mâ€:_ [https://wordlists.assetnote.io/](https://wordlists.assetnote.io)
* _nullenc0de â€œparams.txtâ€:_ [https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773](https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773)
* **Komentari:** Proverite komentare svih datoteka, moÅ¾ete pronaÄ‡i **akreditive** ili **skrivenu funkcionalnost**.
* Ako se igrate **CTF**, "uobiÄajen" trik je da **sakrijete** **informacije** unutar komentara na **desnoj** strani **stranice** (koristeÄ‡i **stotine** **razmaka** tako da ne vidite podatke ako otvorite izvorni kod u pretraÅ¾ivaÄu). Druga moguÄ‡nost je da koristite **nekoliko novih redova** i **sakrijete informacije** u komentaru na **dnu** web stranice.
* **API kljuÄevi**: Ako **pronaÄ‘ete bilo koji API kljuÄ** postoji vodiÄ koji ukazuje kako koristiti API kljuÄeve razliÄitih platformi: [**keyhacks**](https://github.com/streaak/keyhacks)**,** [**zile**](https://github.com/xyele/zile.git)**,** [**truffleHog**](https://github.com/trufflesecurity/truffleHog)**,** [**SecretFinder**](https://github.com/m4ll0k/SecretFinder)**,** [**RegHex**](https://github.com/l4yton/RegHex\)/)**,** [**DumpsterDive**](https://github.com/securing/DumpsterDiver)**,** [**EarlyBird**](https://github.com/americanexpress/earlybird).
* Google API kljuÄevi: Ako pronaÄ‘ete bilo koji API kljuÄ koji izgleda kao **AIza**SyA-qLheq6xjDiEIRisP\_ujUseYLQCHUjik moÅ¾ete koristiti projekat [**gmapapiscanner**](https://github.com/ozguralp/gmapsapiscanner) da proverite koje API-jeve kljuÄ moÅ¾e pristupiti.
* **S3 Buckets**: Tokom spidering-a proverite da li je neki **subdomen** ili neki **link** povezan sa nekim **S3 bucket-om**. U tom sluÄaju, [**proverite** **dozvole** bucket-a](buckets/).

### Special findings

**Dok** obavljate **spidering** i **brute-forcing** mogli biste pronaÄ‡i **zanimljive** **stvari** koje treba da **primetite**.

**Zanimljive datoteke**

* PotraÅ¾ite **linkove** ka drugim datotekama unutar **CSS** datoteka.
* [Ako pronaÄ‘ete _**.git**_ datoteku, neke informacije se mogu izvuÄ‡i](git.md).
* Ako pronaÄ‘ete _**.env**_ informacije kao Å¡to su API kljuÄevi, lozinke baza podataka i druge informacije mogu se pronaÄ‡i.
* Ako pronaÄ‘ete **API krajnje taÄke** [trebalo bi da ih takoÄ‘e testirate](web-api-pentesting.md). Ovo nisu datoteke, ali Ä‡e verovatno "izgledati kao" njih.
* **JS datoteke**: U sekciji spidering pomenuti su nekoliko alata koji mogu izvuÄ‡i putanju iz JS datoteka. TakoÄ‘e, bilo bi zanimljivo **pratiti svaku pronaÄ‘enu JS datoteku**, jer u nekim sluÄajevima, promena moÅ¾e ukazivati na to da je potencijalna ranjivost uvedena u kod. MoÅ¾ete koristiti, na primer, [**JSMon**](https://github.com/robre/jsmon)**.**
* TakoÄ‘e biste trebali proveriti otkrivene JS datoteke sa [**RetireJS**](https://github.com/retirejs/retire.js/) ili [**JSHole**](https://github.com/callforpapers-source/jshole) da biste saznali da li su ranjive.
* **Javascript Deobfuscator i Unpacker:** [https://lelinhtinh.github.io/de4js/](https://lelinhtinh.github.io/de4js/), [https://www.dcode.fr/javascript-unobfuscator](https://www.dcode.fr/javascript-unobfuscator).
* **Javascript Beautifier:** [http://jsbeautifier.org/](https://beautifier.io), [http://jsnice.org/](http://jsnice.org).
* **JsFuck deobfuscation** (javascript sa karakterima:"\[]!+" [https://ooze.ninja/javascript/poisonjs/](https://ooze.ninja/javascript/poisonjs/)).
* [**TrainFuck**](https://github.com/taco-c/trainfuck)**:** `+72.+29.+7..+3.-67.-12.+55.+24.+3.-6.-8.-67.-23.`
* U nekoliko sluÄajeva biÄ‡e potrebno da **razumete regularne izraze** koji se koriste, ovo Ä‡e biti korisno: [https://regex101.com/](https://regex101.com).
* TakoÄ‘e moÅ¾ete **pratiti datoteke u kojima su otkriveni obrasci**, jer promena u parametru ili pojava novog obrasca moÅ¾e ukazivati na potencijalnu novu ranjivu funkcionalnost.

**403 Forbidden/Basic Authentication/401 Unauthorized (bypass)**

{% content-ref url="403-and-401-bypasses.md" %}
[403-and-401-bypasses.md](403-and-401-bypasses.md)
{% endcontent-ref %}

**502 Proxy Error**

Ako neka stranica **odgovori** sa tim **kodom**, verovatno je to **loÅ¡e konfigurisani proxy**. **Ako poÅ¡aljete HTTP zahtev kao: `GET https://google.com HTTP/1.1`** (sa host header-om i drugim uobiÄajenim header-ima), **proxy** Ä‡e pokuÅ¡ati da **pristupi** _**google.com**_ **i pronaÅ¡li ste** SSRF.

**NTLM Authentication - Info disclosure**

Ako server koji radi traÅ¾i autentifikaciju je **Windows** ili pronaÄ‘ete prijavu koja traÅ¾i vaÅ¡e **akreditive** (i traÅ¾i **ime** **domena**), moÅ¾ete izazvati **otkrivanje informacija**.\
**PoÅ¡aljite** **header**: `â€œAuthorization: NTLM TlRMTVNTUAABAAAAB4IIAAAAAAAAAAAAAAAAAAAAAAA=â€` i zbog naÄina na koji **NTLM autentifikacija funkcioniÅ¡e**, server Ä‡e odgovoriti sa internim informacijama (IIS verzija, Windows verzija...) unutar header-a "WWW-Authenticate".\
MoÅ¾ete **automatizovati** ovo koristeÄ‡i **nmap plugin** "_http-ntlm-info.nse_".

**HTTP Redirect (CTF)**

MoguÄ‡e je **staviti sadrÅ¾aj** unutar **Redirekcije**. Ovaj sadrÅ¾aj **neÄ‡e biti prikazan korisniku** (jer Ä‡e pretraÅ¾ivaÄ izvrÅ¡iti redirekciju), ali neÅ¡to bi moglo biti **sakriveno** unutra.

### Web Vulnerabilities Checking

Sada kada je izvrÅ¡ena sveobuhvatna enumeracija web aplikacije, vreme je da proverite mnogo moguÄ‡ih ranjivosti. MoÅ¾ete pronaÄ‡i kontrolnu listu ovde:

{% content-ref url="../../pentesting-web/web-vulnerabilities-methodology.md" %}
[web-vulnerabilities-methodology.md](../../pentesting-web/web-vulnerabilities-methodology.md)
{% endcontent-ref %}

PronaÄ‘ite viÅ¡e informacija o web ranjivostima na:

* [https://six2dez.gitbook.io/pentest-book/others/web-checklist](https://six2dez.gitbook.io/pentest-book/others/web-checklist)
* [https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html](https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html)
* [https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection](https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection)

### Monitor Pages for changes

MoÅ¾ete koristiti alate kao Å¡to su [https://github.com/dgtlmoon/changedetection.io](https://github.com/dgtlmoon/changedetection.io) za praÄ‡enje stranica zbog modifikacija koje bi mogle uvesti ranjivosti.

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Ako ste zainteresovani za **hacking karijeru** i hakovanje nehakovanog - **zapoÅ¡ljavamo!** (_teÄno poljski pisano i govorno potrebno_).

{% embed url="https://www.stmcyber.com/careers" %}

### HackTricks Automatic Commands
```
Protocol_Name: Web    #Protocol Abbreviation if there is one.
Port_Number:  80,443     #Comma separated if there is more than one.
Protocol_Description: Web         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for Web
Note: |
https://book.hacktricks.xyz/pentesting/pentesting-web

Entry_2:
Name: Quick Web Scan
Description: Nikto and GoBuster
Command: nikto -host {Web_Proto}://{IP}:{Web_Port} &&&& gobuster dir -w {Small_Dirlist} -u {Web_Proto}://{IP}:{Web_Port} && gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_3:
Name: Nikto
Description: Basic Site Info via Nikto
Command: nikto -host {Web_Proto}://{IP}:{Web_Port}

Entry_4:
Name: WhatWeb
Description: General purpose auto scanner
Command: whatweb -a 4 {IP}

Entry_5:
Name: Directory Brute Force Non-Recursive
Description:  Non-Recursive Directory Brute Force
Command: gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_6:
Name: Directory Brute Force Recursive
Description: Recursive Directory Brute Force
Command: python3 {Tool_Dir}dirsearch/dirsearch.py -w {Small_Dirlist} -e php,exe,sh,py,html,pl -f -t 20 -u {Web_Proto}://{IP}:{Web_Port} -r 10

Entry_7:
Name: Directory Brute Force CGI
Description: Common Gateway Interface Brute Force
Command: gobuster dir -u {Web_Proto}://{IP}:{Web_Port}/ -w /usr/share/seclists/Discovery/Web-Content/CGIs.txt -s 200

Entry_8:
Name: Nmap Web Vuln Scan
Description: Tailored Nmap Scan for web Vulnerabilities
Command: nmap -vv --reason -Pn -sV -p {Web_Port} --script=`banner,(http* or ssl*) and not (brute or broadcast or dos or external or http-slowloris* or fuzzer)` {IP}

Entry_9:
Name: Drupal
Description: Drupal Enumeration Notes
Note: |
git clone https://github.com/immunIT/drupwn.git for low hanging fruit and git clone https://github.com/droope/droopescan.git for deeper enumeration

Entry_10:
Name: WordPress
Description: WordPress Enumeration with WPScan
Command: |
?What is the location of the wp-login.php? Example: /Yeet/cannon/wp-login.php
wpscan --url {Web_Proto}://{IP}{1} --enumerate ap,at,cb,dbe && wpscan --url {Web_Proto}://{IP}{1} --enumerate u,tt,t,vp --passwords {Big_Passwordlist} -e

Entry_11:
Name: WordPress Hydra Brute Force
Description: Need User (admin is default)
Command: hydra -l admin -P {Big_Passwordlist} {IP} -V http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'

Entry_12:
Name: Ffuf Vhost
Description: Simple Scan with Ffuf for discovering additional vhosts
Command: ffuf -w {Subdomain_List}:FUZZ -u {Web_Proto}://{Domain_Name} -H "Host:FUZZ.{Domain_Name}" -c -mc all {Ffuf_Filters}
```
{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
