# 80,443 - Metodologia testowania penetracyjnego stron internetowych

<details>

<summary><strong>Zacznij naukÄ™ hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Kup [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>

<figure><img src="../../.gitbook/assets/image (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

JeÅ›li interesuje CiÄ™ **kariera hakerska** i hakowanie niemoÅ¼liwego do zhakowania - **rekrutujemy!** (_wymagana biegÅ‚a znajomoÅ›Ä‡ jÄ™zyka polskiego, zarÃ³wno pisemna, jak i mÃ³wiona_).

{% embed url="https://www.stmcyber.com/careers" %}

## Podstawowe informacje

UsÅ‚uga internetowa jest najbardziej **powszechnÄ… i obszernÄ… usÅ‚ugÄ…**, a istnieje wiele **rÃ³Å¼nych rodzajÃ³w podatnoÅ›ci**.

**Port domyÅ›lny:** 80 (HTTP), 443(HTTPS)
```bash
PORT    STATE SERVICE
80/tcp  open  http
443/tcp open  ssl/https
```

```bash
nc -v domain.com 80 # GET / HTTP/1.0
openssl s_client -connect domain.com:443 # GET / HTTP/1.0
```
### WskazÃ³wki dotyczÄ…ce interfejsu API sieci Web

{% content-ref url="web-api-pentesting.md" %}
[web-api-pentesting.md](web-api-pentesting.md)
{% endcontent-ref %}

## Podsumowanie metodologii

> W tej metodologii zakÅ‚adamy, Å¼e atakujesz domenÄ™ (lub subdomenÄ™) i tylko niÄ…. Dlatego powinieneÅ› zastosowaÄ‡ tÄ™ metodologiÄ™ do kaÅ¼dej odkrytej domeny, subdomeny lub IP z nieokreÅ›lonym serwerem sieci web w zakresie.

* [ ] Zacznij od **identyfikacji** uÅ¼ywanych przez serwer sieci web **technologii**. Szukaj **sztuczek**, ktÃ³re warto zapamiÄ™taÄ‡ podczas reszty testu, jeÅ›li uda ci siÄ™ pomyÅ›lnie zidentyfikowaÄ‡ technologiÄ™.
* [ ] Czy istnieje **znana podatnoÅ›Ä‡** wersji tej technologii?
* [ ] Czy uÅ¼ywana jest **jakakolwiek znana technologia**? Czy istnieje **przydatna sztuczka** do pozyskania dodatkowych informacji?
* [ ] Czy istnieje **specjalistyczne narzÄ™dzie skanujÄ…ce** do uruchomienia (np. wpscan)?
* [ ] Uruchom **skanery ogÃ³lnego przeznaczenia**. Nigdy nie wiesz, czy znajdÄ… coÅ› interesujÄ…cego.
* [ ] Rozpocznij od **poczÄ…tkowych sprawdzeÅ„**: **robots.txt**, **mapa witryny (sitemap)**, bÅ‚Ä…d **404** i skan **SSL/TLS** (jeÅ›li jest HTTPS).
* [ ] Rozpocznij **przeglÄ…danie strony**: Czas znaleÅºÄ‡ wszystkie moÅ¼liwe **pliki, foldery** i **parametry** uÅ¼ywane na stronie. SprawdÅº rÃ³wnieÅ¼ **specjalne znaleziska**.
* [ ] _ZauwaÅ¼, Å¼e za kaÅ¼dym razem, gdy odkryjesz nowy katalog podczas prÃ³b siÅ‚owych lub przeglÄ…dania strony, naleÅ¼y go przeglÄ…daÄ‡._
* [ ] **PrÃ³ba siÅ‚owa katalogÃ³w**: SprÃ³buj siÅ‚owo przejrzeÄ‡ wszystkie odkryte foldery w poszukiwaniu nowych **plikÃ³w** i **katalogÃ³w**.
* [ ] _ZauwaÅ¼, Å¼e za kaÅ¼dym razem, gdy odkryjesz nowy katalog podczas prÃ³b siÅ‚owych lub przeglÄ…dania strony, naleÅ¼y go prÃ³bowaÄ‡ siÅ‚owo przejrzeÄ‡._
* [ ] **Sprawdzanie kopii zapasowych**: SprawdÅº, czy moÅ¼na znaleÅºÄ‡ **kopie zapasowe** odkrytych plikÃ³w, dodajÄ…c powszechne rozszerzenia kopii zapasowych.
* [ ] **PrÃ³ba siÅ‚owa parametrÃ³w**: SprÃ³buj **odnaleÅºÄ‡ ukryte parametry**.
* [ ] Gdy zidentyfikujesz wszystkie moÅ¼liwe **punkty koÅ„cowe** akceptujÄ…ce **dane uÅ¼ytkownika**, sprawdÅº wszelkie rodzaje **podatnoÅ›ci** z nimi zwiÄ…zane.
* [ ] [PostÄ™puj zgodnie z tÄ… listÄ… kontrolnÄ…](../../pentesting-web/web-vulnerabilities-methodology.md)

## Wersja serwera (Podatny?)

### Identyfikacja

SprawdÅº, czy istniejÄ… **znane podatnoÅ›ci** dla wersji serwera, ktÃ³ra jest uÅ¼ywana.\
**NagÅ‚Ã³wki HTTP i ciasteczka odpowiedzi** mogÄ… byÄ‡ bardzo przydatne do **identyfikacji** uÅ¼ywanych **technologii** i/lub **wersji**. Skan **Nmap** moÅ¼e zidentyfikowaÄ‡ wersjÄ™ serwera, ale rÃ³wnieÅ¼ przydatne mogÄ… byÄ‡ narzÄ™dzia [**whatweb**](https://github.com/urbanadventurer/WhatWeb)**,** [**webtech** ](https://github.com/ShielderSec/webtech)lub [**https://builtwith.com/**](https://builtwith.com)**:**
```bash
whatweb -a 1 <URL> #Stealthy
whatweb -a 3 <URL> #Aggresive
webtech -u <URL>
webanalyze -host https://google.com -crawl 2
```
Szukaj **podatnoÅ›ci aplikacji internetowej** **w wersji**](../../generic-methodologies-and-resources/search-exploits.md)

### **SprawdÅº, czy istnieje WAF**

* [**https://github.com/EnableSecurity/wafw00f**](https://github.com/EnableSecurity/wafw00f)
* [**https://github.com/Ekultek/WhatWaf.git**](https://github.com/Ekultek/WhatWaf.git)
* [**https://nmap.org/nsedoc/scripts/http-waf-detect.html**](https://nmap.org/nsedoc/scripts/http-waf-detect.html)

### Triki technologii internetowych

Kilka **trikÃ³w** do **znajdowania podatnoÅ›ci** w rÃ³Å¼nych znanych **technologiach** uÅ¼ywanych:

* [**AEM - Adobe Experience Cloud**](aem-adobe-experience-cloud.md)
* [**Apache**](apache.md)
* [**Artifactory**](artifactory-hacking-guide.md)
* [**Buckets**](buckets/)
* [**CGI**](cgi.md)
* [**Drupal**](drupal.md)
* [**Flask**](flask.md)
* [**Git**](git.md)
* [**Golang**](golang.md)
* [**GraphQL**](graphql.md)
* [**H2 - baza danych Java SQL**](h2-java-sql-database.md)
* [**IIS tricks**](iis-internet-information-services.md)
* [**JBOSS**](jboss.md)
* [**Jenkins**](https://github.com/carlospolop/hacktricks/blob/master/network-services-pentesting/pentesting-web/broken-reference/README.md)
* [**Jira**](jira.md)
* [**Joomla**](joomla.md)
* [**JSP**](jsp.md)
* [**Laravel**](laravel.md)
* [**Moodle**](moodle.md)
* [**Nginx**](nginx.md)
* [**PHP (php ma wiele interesujÄ…cych trikÃ³w, ktÃ³re mogÄ… byÄ‡ wykorzystane)**](php-tricks-esp/)
* [**Python**](python.md)
* [**Spring Actuators**](spring-actuators.md)
* [**Symphony**](symphony.md)
* [**Tomcat**](tomcat/)
* [**VMWare**](vmware-esx-vcenter....md)
* [**Web API Pentesting**](web-api-pentesting.md)
* [**WebDav**](put-method-webdav.md)
* [**Werkzeug**](werkzeug.md)
* [**Wordpress**](wordpress.md)
* [**Electron Desktop (XSS to RCE)**](electron-desktop-apps/)

_Miej na uwadze, Å¼e **ta sama domena** moÅ¼e uÅ¼ywaÄ‡ **rÃ³Å¼nych technologii** na rÃ³Å¼nych **portach**, **folderach** i **subdomenach**._\
JeÅ›li aplikacja internetowa uÅ¼ywa **jakiejkolwiek znanej technologii/platformy wymienionej wczeÅ›niej** lub **innej**, nie zapomnij **szukaÄ‡ w Internecie** nowych trikÃ³w (i daj mi znaÄ‡!).

### PrzeglÄ…d kodu ÅºrÃ³dÅ‚owego

JeÅ›li **kod ÅºrÃ³dÅ‚owy** aplikacji jest dostÄ™pny w **github**, oprÃ³cz przeprowadzenia **testu White box** aplikacji samodzielnie, istnieje **kilka informacji**, ktÃ³re mogÄ… byÄ‡ **przydatne** dla obecnego **testu Black-Box**:

* Czy istnieje **dziennik zmian lub plik Readme lub informacje o wersji dostÄ™pne** przez sieÄ‡?
* Jak i gdzie sÄ… zapisane **dane uwierzytelniajÄ…ce**? Czy istnieje (dostÄ™pny?) **plik** z danymi uwierzytelniajÄ…cymi (nazwy uÅ¼ytkownikÃ³w lub hasÅ‚a)?
* Czy **hasÅ‚a** sÄ… w **czystym tekÅ›cie**, **zaszyfrowane** lub jaki **algorytm haszowania** jest uÅ¼ywany?
* Czy jest uÅ¼ywany **klucz gÅ‚Ã³wny** do szyfrowania czegoÅ›? Jaki **algorytm** jest uÅ¼ywany?
* Czy moÅ¼esz **uzyskaÄ‡ dostÄ™p do ktÃ³regokolwiek z tych plikÃ³w** wykorzystujÄ…c jakÄ…Å› podatnoÅ›Ä‡?
* Czy istniejÄ… **interesujÄ…ce informacje w githubie** (rozwiÄ…zane i nierozwiÄ…zane) **problemy**? Lub w **historii commitÃ³w** (moÅ¼e jakieÅ› **hasÅ‚o wprowadzone w starym commicie**)?

{% content-ref url="code-review-tools.md" %}
[code-review-tools.md](code-review-tools.md)
{% endcontent-ref %}

### Automatyczne skanery

#### Automatyczne skanery ogÃ³lnego przeznaczenia
```bash
nikto -h <URL>
whatweb -a 4 <URL>
wapiti -u <URL>
W3af
zaproxy #You can use an API
nuclei -ut && nuclei -target <URL>

# https://github.com/ignis-sec/puff (client side vulns fuzzer)
node puff.js -w ./wordlist-examples/xss.txt -u "http://www.xssgame.com/f/m4KKGHi2rVUN/?query=FUZZ"
```
#### Skanery CMS

JeÅ›li jest uÅ¼ywany CMS, nie zapomnij **uruchomiÄ‡ skanera**, byÄ‡ moÅ¼e znajdziesz coÅ› ciekawego:

- [**Clusterd**](https://github.com/hatRiot/clusterd)**:** [**JBoss**](jboss.md)**, ColdFusion, WebLogic,** [**Tomcat**](tomcat/)**, Railo, Axis2, Glassfish**\
- [**CMSScan**](https://github.com/ajinabraham/CMSScan): Skanowanie witryn [**WordPress**](wordpress.md), [**Drupal**](drupal.md), **Joomla**, **vBulletin** pod kÄ…tem problemÃ³w zabezpieczeÅ„. (GUI)\
- [**VulnX**](https://github.com/anouarbensaad/vulnx)**:** [**Joomla**](joomla.md)**,** [**Wordpress**](wordpress.md)**,** [**Drupal**](drupal.md)**, PrestaShop, Opencart**\
- **CMSMap**: [**(W)ordpress**](wordpress.md)**,** [**(J)oomla**](joomla.md)**,** [**(D)rupal**](drupal.md) **lub** [**(M)oodle**](moodle.md)\
- [**droopscan**](https://github.com/droope/droopescan)**:** [**Drupal**](drupal.md)**,** [**Joomla**](joomla.md)**,** [**Moodle**](moodle.md)**, Silverstripe,** [**Wordpress**](wordpress.md)
```bash
cmsmap [-f W] -F -d <URL>
wpscan --force update -e --url <URL>
joomscan --ec -u <URL>
joomlavs.rb #https://github.com/rastating/joomlavs
```
> W tym momencie powinieneÅ› juÅ¼ mieÄ‡ pewne informacje na temat serwera WWW uÅ¼ywanego przez klienta (jeÅ›li jakiekolwiek dane zostaÅ‚y podane) oraz kilka sztuczek, ktÃ³re warto mieÄ‡ na uwadze podczas testu. JeÅ›li masz szczÄ™Å›cie, moÅ¼esz nawet znaleÅºÄ‡ system zarzÄ…dzania treÅ›ciÄ… (CMS) i uruchomiÄ‡ skaner.

## Odkrywanie aplikacji internetowej krok po kroku

> Od tego momentu zaczniemy interakcjÄ™ z aplikacjÄ… internetowÄ….

### Sprawdzenia poczÄ…tkowe

**DomyÅ›lne strony z ciekawymi informacjami:**

* /robots.txt
* /sitemap.xml
* /crossdomain.xml
* /clientaccesspolicy.xml
* /.well-known/
* SprawdÅº rÃ³wnieÅ¼ komentarze na gÅ‚Ã³wnych i pomocniczych stronach.

**Wymuszanie bÅ‚Ä™dÃ³w**

Serwery WWW mogÄ… **zachowywaÄ‡ siÄ™ niespodziewanie**, gdy do nich wysyÅ‚ane sÄ… dziwne dane. MoÅ¼e to otworzyÄ‡ **luki w zabezpieczeniach** lub **ujawniÄ‡ wraÅ¼liwe informacje**.

* DostÄ™p do **faÅ‚szywych stron**, takich jak /cokolwiek\_fake.php (.aspx,.html,.itp)
* Dodaj "\[]", "]]" i "\[\[" w **wartoÅ›ciach ciasteczka** i **wartoÅ›ciach parametrÃ³w** aby wywoÅ‚aÄ‡ bÅ‚Ä™dy
* Wygeneruj bÅ‚Ä…d, podajÄ…c dane wejÅ›ciowe jako **`/~randomthing/%s`** na **koÅ„cu** **URL**
* SprÃ³buj uÅ¼yÄ‡ **rÃ³Å¼nych czasownikÃ³w HTTP**, takich jak PATCH, DEBUG lub bÅ‚Ä™dny, np. FAKE

#### **SprawdÅº, czy moÅ¼esz przesyÅ‚aÄ‡ pliki (**[**metoda PUT, WebDav**](put-method-webdav.md)**)**

JeÅ›li odkryjesz, Å¼e **WebDav** jest **wÅ‚Ä…czony**, ale nie masz wystarczajÄ…cych uprawnieÅ„ do **przesyÅ‚ania plikÃ³w** do folderu gÅ‚Ã³wnego, sprÃ³buj:

* **PrÃ³buj zgadywaÄ‡** dane uwierzytelniajÄ…ce
* **PrzeÅ›lij pliki** za pomocÄ… WebDav do **pozostaÅ‚ych znalezionych folderÃ³w** na stronie internetowej. MoÅ¼esz mieÄ‡ uprawnienia do przesyÅ‚ania plikÃ³w do innych folderÃ³w.

### **Luki w SSL/TLS**

* JeÅ›li aplikacja **nie wymusza uÅ¼ycia HTTPS** w Å¼adnej czÄ™Å›ci, to jest **podatna na ataki typu MitM**
* JeÅ›li aplikacja **wysyÅ‚a wraÅ¼liwe dane (hasÅ‚a) za pomocÄ… HTTP**. To jest wysokie ryzyko.

UÅ¼yj [**testssl.sh**](https://github.com/drwetter/testssl.sh) do sprawdzania **luk w zabezpieczeniach** (W programach Bug Bounty prawdopodobnie tego rodzaju luki nie bÄ™dÄ… akceptowane) i uÅ¼yj [**a2sv** ](https://github.com/hahwul/a2sv) do ponownego sprawdzenia luk w zabezpieczeniach:
```bash
./testssl.sh [--htmlfile] 10.10.10.10:443
#Use the --htmlfile to save the output inside an htmlfile also

# You can also use other tools, by testssl.sh at this momment is the best one (I think)
sslscan <host:port>
sslyze --regular <ip:port>
```
Informacje o podatnoÅ›ciach SSL/TLS:

* [https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/](https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/)
* [https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/](https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/)

### Spidering

Uruchom jakiegoÅ› rodzaju **pajÄ…ka** w sieci. Celem pajÄ…ka jest **znalezienie jak najwiÄ™cej Å›cieÅ¼ek** w teÅ›cie aplikacji. Dlatego naleÅ¼y wykorzystaÄ‡ przeszukiwanie sieci i zewnÄ™trzne ÅºrÃ³dÅ‚a, aby znaleÅºÄ‡ jak najwiÄ™cej prawidÅ‚owych Å›cieÅ¼ek.

* [**gospider**](https://github.com/jaeles-project/gospider) (go): PajÄ…k HTML, LinkFinder w plikach JS i zewnÄ™trzne ÅºrÃ³dÅ‚a (Archive.org, CommonCrawl.org, VirusTotal.com, AlienVault.com).
* [**hakrawler**](https://github.com/hakluke/hakrawler) (go): PajÄ…k HML, z LinkFider dla plikÃ³w JS i Archive.org jako zewnÄ™trzne ÅºrÃ³dÅ‚o.
* [**dirhunt**](https://github.com/Nekmo/dirhunt) (python): PajÄ…k HTML, wskazuje rÃ³wnieÅ¼ "soczyste pliki".
* [**evine** ](https://github.com/saeeddhqan/evine)(go): Interaktywny pajÄ…k HTML w wierszu poleceÅ„. Szuka rÃ³wnieÅ¼ w Archive.org
* [**meg**](https://github.com/tomnomnom/meg) (go): To narzÄ™dzie nie jest pajÄ…kiem, ale moÅ¼e byÄ‡ przydatne. MoÅ¼esz po prostu wskazaÄ‡ plik z hostami i plik z Å›cieÅ¼kami, a meg pobierze kaÅ¼dÄ… Å›cieÅ¼kÄ™ na kaÅ¼dym hoÅ›cie i zapisze odpowiedÅº.
* [**urlgrab**](https://github.com/IAmStoxe/urlgrab) (go): PajÄ…k HTML z moÅ¼liwoÅ›ciami renderowania JS. Jednak wyglÄ…da na to, Å¼e nie jest rozwijany, skompilowana wersja jest stara, a obecny kod nie kompiluje siÄ™.
* [**gau**](https://github.com/lc/gau) (go): PajÄ…k HTML korzystajÄ…cy z zewnÄ™trznych dostawcÃ³w (wayback, otx, commoncrawl)
* [**ParamSpider**](https://github.com/devanshbatham/ParamSpider): Ten skrypt znajdzie adresy URL z parametrami i je wymieni.
* [**galer**](https://github.com/dwisiswant0/galer) (go): PajÄ…k HTML z moÅ¼liwoÅ›ciami renderowania JS.
* [**LinkFinder**](https://github.com/GerbenJavado/LinkFinder) (python): PajÄ…k HTML, z moÅ¼liwoÅ›ciami upiÄ™kszania JS zdolny do wyszukiwania nowych Å›cieÅ¼ek w plikach JS. Warto rÃ³wnieÅ¼ spojrzeÄ‡ na [JSScanner](https://github.com/dark-warlord14/JSScanner), ktÃ³ry jest nakÅ‚adkÄ… na LinkFinder.
* [**goLinkFinder**](https://github.com/0xsha/GoLinkFinder) (go): Do wyodrÄ™bniania punktÃ³w koÅ„cowych zarÃ³wno w ÅºrÃ³dle HTML, jak i osadzonych plikach javascript. Przydatne dla Å‚owcÃ³w bÅ‚Ä™dÃ³w, druÅ¼yn czerwonych, ninja bezpieczeÅ„stwa informacji.
* [**JSParser**](https://github.com/nahamsec/JSParser) (python2.7): Skrypt python 2.7 uÅ¼ywajÄ…cy Tornado i JSBeautifier do analizowania wzglÄ™dnych adresÃ³w URL z plikÃ³w JavaScript. Przydatne do Å‚atwego odkrywania Å¼Ä…daÅ„ AJAX. WyglÄ…da na to, Å¼e nie jest rozwijany.
* [**relative-url-extractor**](https://github.com/jobertabma/relative-url-extractor) (ruby): Dla danego pliku (HTML) wyodrÄ™bni adresy URL z niego, uÅ¼ywajÄ…c sprytnego wyraÅ¼enia regularnego do znalezienia i wyodrÄ™bnienia wzglÄ™dnych adresÃ³w URL z brzydkich (zmniejszonych) plikÃ³w.
* [**JSFScan**](https://github.com/KathanP19/JSFScan.sh) (bash, kilka narzÄ™dzi): Zbiera interesujÄ…ce informacje z plikÃ³w JS za pomocÄ… kilku narzÄ™dzi.
* [**subjs**](https://github.com/lc/subjs) (go): ZnajdÅº pliki JS.
* [**page-fetch**](https://github.com/detectify/page-fetch) (go): Åaduje stronÄ™ w przeglÄ…darce bez interfejsu i drukuje wszystkie zaÅ‚adowane adresy URL, aby zaÅ‚adowaÄ‡ stronÄ™.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) (rust): NarzÄ™dzie do odkrywania treÅ›ci Å‚Ä…czÄ…ce kilka opcji poprzednich narzÄ™dzi
* [**Javascript Parsing**](https://github.com/xnl-h4ck3r/burp-extensions): Rozszerzenie Burp do znajdowania Å›cieÅ¼ek i parametrÃ³w w plikach JS.
* [**Sourcemapper**](https://github.com/denandz/sourcemapper): NarzÄ™dzie, ktÃ³re po podaniu adresu URL .js.map dostarczy uporzÄ…dkowany kod JS
* [**xnLinkFinder**](https://github.com/xnl-h4ck3r/xnLinkFinder): Jest to narzÄ™dzie uÅ¼ywane do odkrywania punktÃ³w koÅ„cowych dla okreÅ›lonego celu.
* [**waymore**](https://github.com/xnl-h4ck3r/waymore)**:** Odkryj linki z maszyny wayback (pobierajÄ…c rÃ³wnieÅ¼ odpowiedzi w wayback i szukajÄ…c wiÄ™cej linkÃ³w
* [**HTTPLoot**](https://github.com/redhuntlabs/HTTPLoot) (go): Przeszukaj (nawet poprzez wypeÅ‚nianie formularzy) i znajdÅº rÃ³wnieÅ¼ informacje poufne, korzystajÄ…c z okreÅ›lonych wyraÅ¼eÅ„ regularnych.
* [**SpiderSuite**](https://github.com/3nock/SpiderSuite): Spider Suite to zaawansowany wielofunkcyjny pajÄ…k GUI do bezpieczeÅ„stwa sieciowego zaprojektowany dla profesjonalistÃ³w cyberbezpieczeÅ„stwa.
* [**jsluice**](https://github.com/BishopFox/jsluice) (go): Jest to pakiet Go i [narzÄ™dzie wiersza poleceÅ„](https://github.com/BishopFox/jsluice/blob/main/cmd/jsluice) do wyodrÄ™bniania adresÃ³w URL, Å›cieÅ¼ek, sekretÃ³w i innych interesujÄ…cych danych z kodu ÅºrÃ³dÅ‚owego JavaScript.
* [**ParaForge**](https://github.com/Anof-cyber/ParaForge): ParaForge to proste rozszerzenie **Burp Suite** do **wyodrÄ™bniania parametrÃ³w i punktÃ³w koÅ„cowych** z Å¼Ä…dania w celu utworzenia niestandardowej listy sÅ‚Ã³w do fuzzowania i wyliczania.

### Przeszukiwanie brutalne katalogÃ³w i plikÃ³w

Zacznij **przeszukiwanie brutalne** od katalogu gÅ‚Ã³wnego i upewnij siÄ™, Å¼e przeszukasz **wszystkie** znalezione **katalogi** korzystajÄ…c z **tej metody** oraz wszystkich katalogÃ³w **odkrytych** przez **Spidering** (moÅ¼esz to zrobiÄ‡ przeszukiwanie brutalne **rekurencyjnie** i doÅ‚Ä…czajÄ…c na poczÄ…tku uÅ¼ywanej listy sÅ‚Ã³w nazwy znalezionych katalogÃ³w).\
NarzÄ™dzia:

* **Dirb** / **Dirbuster** - Zawarte w Kali, **stare** (i **wolne**) ale funkcjonalne. Pozwala na automatyczne podpisywanie certyfikatÃ³w i rekurencyjne wyszukiwanie. Zbyt wolne w porÃ³wnaniu z innymi opcjami.
* [**Dirsearch**](https://github.com/maurosoria/dirsearch) (python)**: Nie pozwala na automatyczne podpisywanie certyfikatÃ³w, ale** umoÅ¼liwia rekurencyjne wyszukiwanie.
* [**Gobuster**](https://github.com/OJ/gobuster) (go): Pozwala na automatyczne podpisywanie certyfikatÃ³w, nie ma funkcji rekurencyjnego wyszukiwania.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) **- Szybki, obsÅ‚uguje rekurencyjne wyszukiwanie.**
* [**wfuzz**](https://github.com/xmendez/wfuzz) `wfuzz -w /usr/share/seclists/Discovery/Web-Content/raft-medium-directories.txt https://domain.com/api/FUZZ`
* [**ffuf** ](https://github.com/ffuf/ffuf)- Szybki: `ffuf -c -w /usr/share/wordlists/dirb/big.txt -u http://10.10.10.10/FUZZ`
* [**uro**](https://github.com/s0md3v/uro) (python): To nie jest pajÄ…k, ale narzÄ™dzie, ktÃ³re po podaniu listy znalezionych adresÃ³w URL usunie "zduplikowane" adresy URL.
* [**Scavenger**](https://github.com/0xDexter0us/Scavenger): Rozszerzenie Burp do tworzenia listy katalogÃ³w z historii burp rÃ³Å¼nych stron
* [**TrashCompactor**](https://github.com/michael1026/trashcompactor): UsuÅ„ adresy URL z zduplikowanymi funkcjonalnoÅ›ciami (na podstawie importÃ³w js)
* [**Chamaleon**](https://github.com/iustin24/chameleon): Wykorzystuje wapalyzer do wykrywania uÅ¼ywanych technologii i wybiera listy sÅ‚Ã³w do uÅ¼ycia.

**Polecane sÅ‚owniki:**

* [https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt](https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt)
* SÅ‚ownik doÅ‚Ä…czony do [**Dirsearch**](https://github.com/maurosoria/dirsearch/blob/master/db/dicc.txt)
* [http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10](http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10)
* [Listy sÅ‚Ã³w Assetnote](https://wordlists.assetnote.io)
* [https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content](https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content)
* raft-large-directories-lowercase.txt
* directory-list-2.3-medium.txt
* RobotsDisallowed/top10000.txt
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/google/fuzzing/tree/master/dictionaries](https://github.com/google/fuzzing/tree/master/dictionaries)
* [https://github.com/six2dez/OneListForAll](https://github.com/six2dez/OneListForAll)
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/ayoubfathi/leaky-paths](https://github.com/ayoubfathi/leaky-paths)
* _/usr/share/wordlists/dirb/common.txt_
* _/usr/share/wordlists/dirb/big.txt_
* _/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt_

_ZauwaÅ¼, Å¼e za kaÅ¼dym razem, gdy odkryjesz nowy katalog podczas ataku brutalnego lub przeszukiwania, naleÅ¼y go poddaÄ‡ atakowi brutalnemu._

### Co sprawdziÄ‡ w kaÅ¼dym znalezionym pliku

* [**Sprawdzacz uszkodzonych linkÃ³w**](https://github.com/stevenvachon/broken-link-checker): ZnajdÅº uszkodzone linki wewnÄ…trz plikÃ³w HTML, ktÃ³re mogÄ… byÄ‡ podatne na przejÄ™cia.
* **Kopie zapasowe plikÃ³w**: Gdy znajdziesz wszystkie pliki, poszukaj kopii zapasowych wszystkich plikÃ³w wykonywalnych ("_.php_", "_.aspx_"...). Powszechne warianty nazewnictwa kopii zapasowych to: _file.ext\~, #file.ext#, \~file.ext, file.ext.bak, file.ext.tmp, file.ext.old, file.bak, file.tmp i file.old._ MoÅ¼esz rÃ³wnieÅ¼ skorzystaÄ‡ z narzÄ™dzi [**bfac**](https://github.com/mazen160/bfac) **lub** [**backup-gen**](https://github.com/Nishantbhagat57/backup-gen)**.**
* **Odkryj nowe parametry**: MoÅ¼esz uÅ¼yÄ‡ narzÄ™dzi takich jak [**Arjun**](https://github.com/s0md3v/Arjun)**,** [**parameth**](https://github.com/maK-/parameth)**,** [**x8**](https://github.com/sh1yo/x8) **i** [**Param Miner**](https://github.com/PortSwigger/param-miner) **do odkrywania ukrytych parametrÃ³w. JeÅ›li moÅ¼esz, sprÃ³buj wyszukaÄ‡** ukryte parametry w kaÅ¼dym pliku wykonywalnym na stronie internetowej.
* _Wszystkie domyÅ›lne listy sÅ‚Ã³w Arjuna:_ [https://github.com/s0md3v/Arjun/tree/master/arjun/db](https://github.com/s0md3v/Arjun/tree/master/arjun/db)
* _Param-miner â€paramsâ€ :_ [https://github.com/PortSwigger/param-miner/blob/master/resources/params](https://github.com/PortSwigger/param-miner/blob/master/resources/params)
* _Assetnote â€parameters\_top\_1mâ€:_ [https://wordlists.assetnote.io/](https://wordlists.assetnote.io)
* _nullenc0de â€params.txtâ€:_ [https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773](https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773)
* **Komentarze:** SprawdÅº komentarze we wszystkich plikach, moÅ¼esz znaleÅºÄ‡ **dane uwierzytelniajÄ…ce** lub **ukrytÄ… funkcjonalnoÅ›Ä‡**.
* JeÅ›li grasz w **CTF**, â€powszechnymâ€ trikiem jest **ukrycie** **informacji** w komentarzach na **prawej** **stronie** **strony** (uÅ¼ywajÄ…c **setek** **spacji**, aby nie widzieÄ‡ danych podczas otwierania kodu ÅºrÃ³dÅ‚owego w przeglÄ…darce). Inna moÅ¼liwoÅ›Ä‡ to uÅ¼ycie **kilku nowych linii** i **ukrycie informacji** w komentarzu na **dole** strony internetowej.
* **Klucze API**: JeÅ›li **znajdziesz jakikolwiek klucz API**, istnieje przewodnik wskazujÄ…cy, jak korzystaÄ‡ z kluczy API rÃ³Å¼nych platform: [**keyhacks**](https://github.com/streaak/keyhacks)**,** [**zile**](https://github.com/xyele/zile.git)**,** [**truffleHog**](https://github.com/trufflesecurity/truffleHog)**,** [**SecretFinder**](https://github.com/m4ll0k/SecretFinder)**,** [**RegHex**](https://github.com/l4yton/RegHex\)/)**,** [**DumpsterDive**](https://github.com/securing/DumpsterDiver)**,** [**EarlyBird**](https://github.com/americanexpress/earlybird)
* Klucze Google API: JeÅ›li znajdziesz jakiÅ› klucz API wyglÄ…dajÄ…cy jak **AIza**SyA-qLheq6xjDiEIRisP\_ujUseYLQCHUjik, moÅ¼esz skorzystaÄ‡ z projektu [**gmapapiscanner**](https://github.com/ozguralp/gmapsapiscanner), aby sprawdziÄ‡, do ktÃ³rych interfejsÃ³w API ma dostÄ™p klucz.
* **S3 Buckets**: Podczas przeszukiwania zwrÃ³Ä‡ uwagÄ™, czy jakikolwiek **poddomena** lub **link** jest powiÄ…zany z jakimÅ› **S3 bucketem**. W takim przypadku [**sprawdÅº** **uprawnienia** kubeÅ‚ka](buckets/).

### Specjalne znaleziska

**Podczas** przeszukiwania i **ataku brutalnego** moÅ¼esz natrafiÄ‡ na **interesujÄ…ce** **rzeczy**, na ktÃ³re musisz **zwrÃ³ciÄ‡ uwagÄ™**.

**InteresujÄ…ce pliki**

* Szukaj **linkÃ³w** do innych plikÃ³w wewnÄ…trz plikÃ³w **CSS**.
* [JeÅ›li znajdziesz plik _**.git**_, moÅ¼na z niego wyciÄ…gnÄ…Ä‡ pewne informacje](git.md)
* JeÅ›li znajdziesz plik _**.env**_, moÅ¼na w nim znaleÅºÄ‡ informacje takie jak klucze API, hasÅ‚a do baz danych i inne informacje.
* JeÅ›li znajdziesz **punkty koÅ„cowe API**, [rÃ³wnieÅ¼ powinieneÅ› je przetestowaÄ‡](web-api-pentesting.md). Nie sÄ… to pliki, ale prawdopodobnie bÄ™dÄ… na nie podobne.
* **Pliki JS**: W sekcji przeszukiwania wspomniano o kilku narzÄ™dziach, ktÃ³re mogÄ… wydobywaÄ‡ Å›cieÅ¼ki z plikÃ³w JS. Ponadto, byÅ‚oby interesujÄ…ce **monitorowaÄ‡ kaÅ¼dy znaleziony plik JS**, poniewaÅ¼ w niektÃ³rych przypadkach zmiana moÅ¼e wskazywaÄ‡ na potencjalnÄ… podatnoÅ›Ä‡ wprowadzonÄ… w kodzie. MoÅ¼esz na przykÅ‚ad uÅ¼yÄ‡ [**JSMon**](https://github.com/robre/jsmon)**.**
* SprawdÅº znalezione pliki JS za pomocÄ… [**RetireJS**](https://github.com/retirejs/retire.js/) lub [**JSHole**](https://github.com/callforpapers-source/jshole), aby sprawdziÄ‡, czy sÄ… podatne.
* **Deobfuskator i dekoder JavaScript:** [https://lelinhtinh.github.io/de4js/](https://lelinhtinh.github.io/de4js/), [https://www.dcode.fr/javascript-unobfuscator](https://www.dcode.fr/javascript-unobfuscator)
* **UporzÄ…dkowany kod JavaScript:** [http://jsbeautifier.org/](https://beautifier.io), [http://jsnice.org/](http://jsnice.org)
* **Deobfuskacja JsFuck** (javascript z znakami:"\[]!+" [https://ooze.ninja/javascript/poisonjs/](https://ooze.ninja/javascript/poisonjs/))
* [**TrainFuck**](https://github.com/taco-c/trainfuck)**:** `+72.+29.+7..+3.-67.-12.+55.+24.+3.-6.-8.-67.-23.`
* W kilku sytuacjach bÄ™dziesz musiaÅ‚ **zrozumieÄ‡ wyraÅ¼enia regularne** uÅ¼ywane, co moÅ¼e byÄ‡ przydatne: [https://regex101.com/](https://regex101.com)
* MoÅ¼esz rÃ³wnieÅ¼ **monitorowaÄ‡ pliki, w ktÃ³rych wykryto formularze**, poniewaÅ¼ zmiana w parametrze lub pojawienie siÄ™ nowego formularza moÅ¼e wskazywaÄ‡ na potencjalnie nowÄ… podatnÄ… funkcjonalnoÅ›Ä‡.

**403 Forbidden/Basic Authentication/401 Unauthorized (omijanie)**

{% content-ref url="403-and-401-bypasses.md" %}
[403-and-401-bypasses.md](403-and-401-bypasses.md)
{% endcontent-ref %}

**502 Proxy Error**

JeÅ›li jakakolwiek strona **odpowiada** tym **kodem**, prawdopodobnie jest to **Åºle skonfigurowany serwer proxy**. **JeÅ›li wyÅ›lesz Å¼Ä…danie HTTP takie jak: `GET https://google.com HTTP/1.1`** (z nagÅ‚Ã³wkiem hosta i innymi standardowymi nagÅ‚Ã³wkami), **proxy** sprÃ³buje uzyskaÄ‡ dostÄ™p do _**google.com**_ **i znajdziesz** SSRF.

**Autoryzacja NTLM - Ujawnienie informacji**

JeÅ›li dziaÅ‚ajÄ…cy serwer wymaga autoryzacji **Windows** lub znajdziesz logowanie proszÄ…ce o **dane uwierzytelniajÄ…ce** (i proszÄ…ce o **nazwÄ™ domeny**), moÅ¼esz spowodowaÄ‡ **ujawnienie informacji**.\
**WyÅ›lij** **nagÅ‚Ã³wek**: `â€œAuthorization: NTLM TlRMTVNTUAABAAAAB4IIAAAAAAAAAAAAAAAAAAAAAAA=â€` i ze wzglÄ™du na to, jak dziaÅ‚a autoryzacja **NTLM**, serwer odpowie wewnÄ™trznymi informacjami (wersja IIS, wersja Windows...) w nagÅ‚Ã³wku "WWW-Authenticate".\
MoÅ¼esz to **zautomatyzowaÄ‡** za pomocÄ… **wtyczki nmap** "_http-ntlm-info.nse_".

**Przekierowanie HTTP (CTF)**

MoÅ¼liwe jest **umieszczenie treÅ›ci** w **przekierowaniu**. Ta treÅ›Ä‡ **nie bÄ™dzie widoczna dla uÅ¼ytkownika** (poniewaÅ¼ przeglÄ…darka wykonuje przekierowanie), ale coÅ› moÅ¼e byÄ‡ **ukryte** wewnÄ…trz.
### Sprawdzanie podatnoÅ›ci sieci Web

Po wykonaniu kompleksowego wyliczenia aplikacji sieci Web nadszedÅ‚ czas, aby sprawdziÄ‡ wiele moÅ¼liwych podatnoÅ›ci. MoÅ¼esz znaleÅºÄ‡ listÄ™ kontrolnÄ… tutaj:

{% content-ref url="../../pentesting-web/web-vulnerabilities-methodology.md" %}
[web-vulnerabilities-methodology.md](../../pentesting-web/web-vulnerabilities-methodology.md)
{% endcontent-ref %}

Dowiedz siÄ™ wiÄ™cej o podatnoÅ›ciach sieci Web:

* [https://six2dez.gitbook.io/pentest-book/others/web-checklist](https://six2dez.gitbook.io/pentest-book/others/web-checklist)
* [https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html](https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html)
* [https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection](https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection)

### Monitorowanie stron pod kÄ…tem zmian

MoÅ¼esz uÅ¼yÄ‡ narzÄ™dzi takich jak [https://github.com/dgtlmoon/changedetection.io](https://github.com/dgtlmoon/changedetection.io), aby monitorowaÄ‡ strony pod kÄ…tem modyfikacji, ktÃ³re mogÄ… wprowadziÄ‡ podatnoÅ›ci.

<figure><img src="../../.gitbook/assets/image (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

JeÅ›li interesuje CiÄ™ **kariera hakera** i hakowanie niemoÅ¼liwych do zhakowania rzeczy - **rekrutujemy!** (_wymagana biegÅ‚a znajomoÅ›Ä‡ jÄ™zyka polskiego w mowie i piÅ›mie_).

{% embed url="https://www.stmcyber.com/careers" %}

### Automatyczne polecenia HackTricks
```
Protocol_Name: Web    #Protocol Abbreviation if there is one.
Port_Number:  80,443     #Comma separated if there is more than one.
Protocol_Description: Web         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for Web
Note: |
https://book.hacktricks.xyz/pentesting/pentesting-web

Entry_2:
Name: Quick Web Scan
Description: Nikto and GoBuster
Command: nikto -host {Web_Proto}://{IP}:{Web_Port} &&&& gobuster dir -w {Small_Dirlist} -u {Web_Proto}://{IP}:{Web_Port} && gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_3:
Name: Nikto
Description: Basic Site Info via Nikto
Command: nikto -host {Web_Proto}://{IP}:{Web_Port}

Entry_4:
Name: WhatWeb
Description: General purpose auto scanner
Command: whatweb -a 4 {IP}

Entry_5:
Name: Directory Brute Force Non-Recursive
Description:  Non-Recursive Directory Brute Force
Command: gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_6:
Name: Directory Brute Force Recursive
Description: Recursive Directory Brute Force
Command: python3 {Tool_Dir}dirsearch/dirsearch.py -w {Small_Dirlist} -e php,exe,sh,py,html,pl -f -t 20 -u {Web_Proto}://{IP}:{Web_Port} -r 10

Entry_7:
Name: Directory Brute Force CGI
Description: Common Gateway Interface Brute Force
Command: gobuster dir -u {Web_Proto}://{IP}:{Web_Port}/ -w /usr/share/seclists/Discovery/Web-Content/CGIs.txt -s 200

Entry_8:
Name: Nmap Web Vuln Scan
Description: Tailored Nmap Scan for web Vulnerabilities
Command: nmap -vv --reason -Pn -sV -p {Web_Port} --script=`banner,(http* or ssl*) and not (brute or broadcast or dos or external or http-slowloris* or fuzzer)` {IP}

Entry_9:
Name: Drupal
Description: Drupal Enumeration Notes
Note: |
git clone https://github.com/immunIT/drupwn.git for low hanging fruit and git clone https://github.com/droope/droopescan.git for deeper enumeration

Entry_10:
Name: WordPress
Description: WordPress Enumeration with WPScan
Command: |
?What is the location of the wp-login.php? Example: /Yeet/cannon/wp-login.php
wpscan --url {Web_Proto}://{IP}{1} --enumerate ap,at,cb,dbe && wpscan --url {Web_Proto}://{IP}{1} --enumerate u,tt,t,vp --passwords {Big_Passwordlist} -e

Entry_11:
Name: WordPress Hydra Brute Force
Description: Need User (admin is default)
Command: hydra -l admin -P {Big_Passwordlist} {IP} -V http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'

Entry_12:
Name: Ffuf Vhost
Description: Simple Scan with Ffuf for discovering additional vhosts
Command: ffuf -w {Subdomain_List}:FUZZ -u {Web_Proto}://{Domain_Name} -H "Host:FUZZ.{Domain_Name}" -c -mc all {Ffuf_Filters}
```
<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Kup [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
