# 80,443 - Metodologia Pentestingu Web

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

JeÅ›li jesteÅ› zainteresowany **karierÄ… w hacking** i chcesz zÅ‚amaÄ‡ to, co nie do zÅ‚amania - **zatrudniamy!** (_wymagana biegÅ‚a znajomoÅ›Ä‡ polskiego w mowie i piÅ›mie_).

{% embed url="https://www.stmcyber.com/careers" %}

## Podstawowe informacje

UsÅ‚uga internetowa jest najbardziej **powszechnÄ… i rozlegÅ‚Ä… usÅ‚ugÄ…** i istnieje wiele **rÃ³Å¼nych typÃ³w podatnoÅ›ci**.

**DomyÅ›lny port:** 80 (HTTP), 443(HTTPS)
```bash
PORT    STATE SERVICE
80/tcp  open  http
443/tcp open  ssl/https
```

```bash
nc -v domain.com 80 # GET / HTTP/1.0
openssl s_client -connect domain.com:443 # GET / HTTP/1.0
```
### Web API Guidance

{% content-ref url="web-api-pentesting.md" %}
[web-api-pentesting.md](web-api-pentesting.md)
{% endcontent-ref %}

## Methodology summary

> W tej metodologii zakÅ‚adamy, Å¼e zamierzasz zaatakowaÄ‡ domenÄ™ (lub subdomenÄ™) i tylko to. Dlatego powinieneÅ› zastosowaÄ‡ tÄ™ metodologiÄ™ do kaÅ¼dej odkrytej domeny, subdomeny lub adresu IP z nieokreÅ›lonym serwerem webowym w zakresie.

* [ ] Zacznij od **identyfikacji** **technologii** uÅ¼ywanych przez serwer webowy. Szukaj **sztuczek**, ktÃ³re warto mieÄ‡ na uwadze podczas reszty testu, jeÅ›li uda ci siÄ™ pomyÅ›lnie zidentyfikowaÄ‡ technologiÄ™.
* [ ] JakieÅ› **znane luki** w wersji technologii?
* [ ] UÅ¼ywasz jakiejÅ› **znanej technologii**? JakieÅ› **przydatne sztuczki** do wydobycia wiÄ™kszej iloÅ›ci informacji?
* [ ] JakieÅ› **specjalistyczne skanery** do uruchomienia (jak wpscan)?
* [ ] Uruchom **skanery ogÃ³lnego przeznaczenia**. Nigdy nie wiesz, czy znajdÄ… coÅ› interesujÄ…cego.
* [ ] Zacznij od **wstÄ™pnych kontroli**: **robots**, **sitemap**, **bÅ‚Ä…d 404** i **skanowanie SSL/TLS** (jeÅ›li HTTPS).
* [ ] Zacznij **spiderowaÄ‡** stronÄ™ internetowÄ…: Czas na **znalezienie** wszystkich moÅ¼liwych **plikÃ³w, folderÃ³w** i **parametrÃ³w uÅ¼ywanych.** SprawdÅº rÃ³wnieÅ¼ **specjalne znaleziska**.
* [ ] _ZauwaÅ¼, Å¼e za kaÅ¼dym razem, gdy nowy katalog zostanie odkryty podczas brute-forcingu lub spiderowania, powinien byÄ‡ spiderowany._
* [ ] **Brute-Forcing katalogÃ³w**: SprÃ³buj brute force wszystkich odkrytych folderÃ³w w poszukiwaniu nowych **plikÃ³w** i **katalogÃ³w**.
* [ ] _ZauwaÅ¼, Å¼e za kaÅ¼dym razem, gdy nowy katalog zostanie odkryty podczas brute-forcingu lub spiderowania, powinien byÄ‡ Brute-Forced._
* [ ] **Sprawdzanie kopii zapasowych**: SprawdÅº, czy moÅ¼esz znaleÅºÄ‡ **kopie zapasowe** **odkrytych plikÃ³w**, dodajÄ…c powszechne rozszerzenia kopii zapasowych.
* [ ] **Brute-Force parametrÃ³w**: SprÃ³buj **znaleÅºÄ‡ ukryte parametry**.
* [ ] Gdy juÅ¼ **zidentyfikujesz** wszystkie moÅ¼liwe **punkty koÅ„cowe** akceptujÄ…ce **wejÅ›cie uÅ¼ytkownika**, sprawdÅº wszelkiego rodzaju **luki** zwiÄ…zane z tym.
* [ ] [PostÄ™puj zgodnie z tÄ… listÄ… kontrolnÄ…](../../pentesting-web/web-vulnerabilities-methodology.md)

## Server Version (Vulnerable?)

### Identify

SprawdÅº, czy istniejÄ… **znane luki** w wersji serwera **dziaÅ‚ajÄ…cego**.\
**NagÅ‚Ã³wki HTTP i ciasteczka odpowiedzi** mogÄ… byÄ‡ bardzo przydatne do **identyfikacji** **technologii** i/lub **wersji** uÅ¼ywanej. **Skanowanie Nmap** moÅ¼e zidentyfikowaÄ‡ wersjÄ™ serwera, ale mogÄ… byÄ‡ rÃ³wnieÅ¼ przydatne narzÄ™dzia [**whatweb**](https://github.com/urbanadventurer/WhatWeb)**,** [**webtech** ](https://github.com/ShielderSec/webtech)lub [**https://builtwith.com/**](https://builtwith.com)**:**
```bash
whatweb -a 1 <URL> #Stealthy
whatweb -a 3 <URL> #Aggresive
webtech -u <URL>
webanalyze -host https://google.com -crawl 2
```
Search **for** [**vulnerabilities of the web application** **version**](../../generic-methodologies-and-resources/search-exploits.md)

### **SprawdÅº, czy istnieje jakiÅ› WAF**

* [**https://github.com/EnableSecurity/wafw00f**](https://github.com/EnableSecurity/wafw00f)
* [**https://github.com/Ekultek/WhatWaf.git**](https://github.com/Ekultek/WhatWaf.git)
* [**https://nmap.org/nsedoc/scripts/http-waf-detect.html**](https://nmap.org/nsedoc/scripts/http-waf-detect.html)

### Sztuczki technologii webowych

Kilka **sztuczek** do **znajdowania luk** w rÃ³Å¼nych znanych **technologiach**:

* [**AEM - Adobe Experience Cloud**](aem-adobe-experience-cloud.md)
* [**Apache**](apache.md)
* [**Artifactory**](artifactory-hacking-guide.md)
* [**Buckets**](buckets/)
* [**CGI**](cgi.md)
* [**Drupal**](drupal/)
* [**Flask**](flask.md)
* [**Git**](git.md)
* [**Golang**](golang.md)
* [**GraphQL**](graphql.md)
* [**H2 - Java SQL database**](h2-java-sql-database.md)
* [**IIS tricks**](iis-internet-information-services.md)
* [**JBOSS**](jboss.md)
* [**Jenkins**](https://github.com/carlospolop/hacktricks/blob/master/network-services-pentesting/pentesting-web/broken-reference/README.md)
* [**Jira**](jira.md)
* [**Joomla**](joomla.md)
* [**JSP**](jsp.md)
* [**Laravel**](laravel.md)
* [**Moodle**](moodle.md)
* [**Nginx**](nginx.md)
* [**PHP (php ma wiele interesujÄ…cych sztuczek, ktÃ³re mogÄ… byÄ‡ wykorzystane)**](php-tricks-esp/)
* [**Python**](python.md)
* [**Spring Actuators**](spring-actuators.md)
* [**Symphony**](symphony.md)
* [**Tomcat**](tomcat/)
* [**VMWare**](vmware-esx-vcenter....md)
* [**Web API Pentesting**](web-api-pentesting.md)
* [**WebDav**](put-method-webdav.md)
* [**Werkzeug**](werkzeug.md)
* [**Wordpress**](wordpress.md)
* [**Electron Desktop (XSS do RCE)**](electron-desktop-apps/)

_PamiÄ™taj, Å¼e **ta sama domena** moÅ¼e uÅ¼ywaÄ‡ **rÃ³Å¼nych technologii** w rÃ³Å¼nych **portach**, **folderach** i **subdomenach**._\
JeÅ›li aplikacja webowa korzysta z jakiejkolwiek znanej **technologii/platformy wymienionej wczeÅ›niej** lub **jakiejkolwiek innej**, nie zapomnij **poszukaÄ‡ w Internecie** nowych sztuczek (i daj mi znaÄ‡!).

### PrzeglÄ…d kodu ÅºrÃ³dÅ‚owego

JeÅ›li **kod ÅºrÃ³dÅ‚owy** aplikacji jest dostÄ™pny na **github**, oprÃ³cz przeprowadzenia **wÅ‚asnego testu White box** aplikacji, istnieje **kilka informacji**, ktÃ³re mogÄ… byÄ‡ **przydatne** dla aktualnego **testowania Black-Box**:

* Czy istnieje plik **Change-log lub Readme lub Version** lub cokolwiek z **informacjami o wersji dostÄ™pnymi** przez sieÄ‡?
* Jak i gdzie sÄ… przechowywane **dane uwierzytelniajÄ…ce**? Czy istnieje jakiÅ› (dostÄ™pny?) **plik** z danymi uwierzytelniajÄ…cymi (nazwy uÅ¼ytkownikÃ³w lub hasÅ‚a)?
* Czy **hasÅ‚a** sÄ… w **czystym tekÅ›cie**, **szyfrowane** czy jaki **algorytm haszujÄ…cy** jest uÅ¼ywany?
* Czy uÅ¼ywa jakiegoÅ› **klucza gÅ‚Ã³wnego** do szyfrowania czegoÅ›? Jaki **algorytm** jest uÅ¼ywany?
* Czy moÅ¼esz **uzyskaÄ‡ dostÄ™p do ktÃ³regokolwiek z tych plikÃ³w** wykorzystujÄ…c jakÄ…Å› lukÄ™?
* Czy w **githubie** sÄ… jakieÅ› **interesujÄ…ce informacje** (rozwiÄ…zane i nierozwiÄ…zane) **problemy**? Lub w **historii commitÃ³w** (moÅ¼e jakieÅ› **hasÅ‚o wprowadzone w starym commicie**)?

{% content-ref url="code-review-tools.md" %}
[code-review-tools.md](code-review-tools.md)
{% endcontent-ref %}

### Automatyczne skanery

#### Automatyczne skanery ogÃ³lnego przeznaczenia
```bash
nikto -h <URL>
whatweb -a 4 <URL>
wapiti -u <URL>
W3af
zaproxy #You can use an API
nuclei -ut && nuclei -target <URL>

# https://github.com/ignis-sec/puff (client side vulns fuzzer)
node puff.js -w ./wordlist-examples/xss.txt -u "http://www.xssgame.com/f/m4KKGHi2rVUN/?query=FUZZ"
```
#### CMS skanery

JeÅ›li uÅ¼ywany jest CMS, nie zapomnij **uruchomiÄ‡ skanera**, moÅ¼e znajdziesz coÅ› interesujÄ…cego:

[**Clusterd**](https://github.com/hatRiot/clusterd)**:** [**JBoss**](jboss.md)**, ColdFusion, WebLogic,** [**Tomcat**](tomcat/)**, Railo, Axis2, Glassfish**\
[**CMSScan**](https://github.com/ajinabraham/CMSScan): [**WordPress**](wordpress.md), [**Drupal**](drupal/), **Joomla**, **vBulletin** strony pod kÄ…tem problemÃ³w z bezpieczeÅ„stwem. (GUI)\
[**VulnX**](https://github.com/anouarbensaad/vulnx)**:** [**Joomla**](joomla.md)**,** [**Wordpress**](wordpress.md)**,** [**Drupal**](drupal/)**, PrestaShop, Opencart**\
**CMSMap**: [**(W)ordpress**](wordpress.md)**,** [**(J)oomla**](joomla.md)**,** [**(D)rupal**](drupal/) **lub** [**(M)oodle**](moodle.md)\
[**droopscan**](https://github.com/droope/droopescan)**:** [**Drupal**](drupal/)**,** [**Joomla**](joomla.md)**,** [**Moodle**](moodle.md)**, Silverstripe,** [**Wordpress**](wordpress.md)
```bash
cmsmap [-f W] -F -d <URL>
wpscan --force update -e --url <URL>
joomscan --ec -u <URL>
joomlavs.rb #https://github.com/rastating/joomlavs
```
> W tym momencie powinieneÅ› juÅ¼ mieÄ‡ pewne informacje o serwerze WWW uÅ¼ywanym przez klienta (jeÅ›li jakiekolwiek dane sÄ… podane) oraz kilka sztuczek, ktÃ³re warto mieÄ‡ na uwadze podczas testu. JeÅ›li masz szczÄ™Å›cie, mogÅ‚eÅ› nawet znaleÅºÄ‡ CMS i uruchomiÄ‡ jakiÅ› skaner.

## Krok po kroku Odkrywanie Aplikacji Webowej

> Od tego momentu zaczniemy interakcjÄ™ z aplikacjÄ… webowÄ….

### WstÄ™pne kontrole

**DomyÅ›lne strony z interesujÄ…cymi informacjami:**

* /robots.txt
* /sitemap.xml
* /crossdomain.xml
* /clientaccesspolicy.xml
* /.well-known/
* SprawdÅº rÃ³wnieÅ¼ komentarze na gÅ‚Ã³wnych i pobocznych stronach.

**Wymuszanie bÅ‚Ä™dÃ³w**

Serwery WWW mogÄ… **zachowywaÄ‡ siÄ™ nieprzewidywalnie**, gdy wysyÅ‚ane sÄ… do nich dziwne dane. MoÅ¼e to otworzyÄ‡ **luki** lub **ujawnienie wraÅ¼liwych informacji**.

* Uzyskaj dostÄ™p do **faÅ‚szywych stron** jak /whatever\_fake.php (.aspx,.html,.etc)
* **Dodaj "\[]", "]]" i "\[\["** w **wartoÅ›ciach cookie** i **wartoÅ›ciach parametrÃ³w**, aby stworzyÄ‡ bÅ‚Ä™dy
* Wygeneruj bÅ‚Ä…d, podajÄ…c dane jako **`/~randomthing/%s`** na **koÅ„cu** **URL**
* SprÃ³buj **rÃ³Å¼nych metod HTTP** jak PATCH, DEBUG lub bÅ‚Ä™dnych jak FAKE

#### **SprawdÅº, czy moÅ¼esz przesyÅ‚aÄ‡ pliki (**[**PUT verb, WebDav**](put-method-webdav.md)**)**

JeÅ›li odkryjesz, Å¼e **WebDav** jest **wÅ‚Ä…czony**, ale nie masz wystarczajÄ…cych uprawnieÅ„ do **przesyÅ‚ania plikÃ³w** w folderze gÅ‚Ã³wnym, sprÃ³buj:

* **Brute Force** poÅ›wiadczeÅ„
* **PrzesyÅ‚aÄ‡ pliki** za pomocÄ… WebDav do **pozostaÅ‚ych** **znalezionych folderÃ³w** w obrÄ™bie strony internetowej. MoÅ¼esz mieÄ‡ uprawnienia do przesyÅ‚ania plikÃ³w w innych folderach.

### **Luki w SSL/TLS**

* JeÅ›li aplikacja **nie wymusza uÅ¼ycia HTTPS** w Å¼adnej czÄ™Å›ci, to jest **vulnerable to MitM**
* JeÅ›li aplikacja **wysyÅ‚a wraÅ¼liwe dane (hasÅ‚a) uÅ¼ywajÄ…c HTTP**. To jest powaÅ¼na luka.

UÅ¼yj [**testssl.sh**](https://github.com/drwetter/testssl.sh), aby sprawdziÄ‡ **luki** (w programach Bug Bounty prawdopodobnie tego rodzaju luki nie bÄ™dÄ… akceptowane) i uÅ¼yj [**a2sv**](https://github.com/hahwul/a2sv), aby ponownie sprawdziÄ‡ luki:
```bash
./testssl.sh [--htmlfile] 10.10.10.10:443
#Use the --htmlfile to save the output inside an htmlfile also

# You can also use other tools, by testssl.sh at this momment is the best one (I think)
sslscan <host:port>
sslyze --regular <ip:port>
```
Informacje o lukach SSL/TLS:

* [https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/](https://www.gracefulsecurity.com/tls-ssl-vulnerabilities/)
* [https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/](https://www.acunetix.com/blog/articles/tls-vulnerabilities-attacks-final-part/)

### Spidering

Uruchom jakiÅ› rodzaj **spidera** w sieci. Celem spidera jest **znalezienie jak najwiÄ™kszej liczby Å›cieÅ¼ek** z testowanej aplikacji. Dlatego naleÅ¼y wykorzystaÄ‡ przeszukiwanie sieci i zewnÄ™trzne ÅºrÃ³dÅ‚a, aby znaleÅºÄ‡ jak najwiÄ™cej waÅ¼nych Å›cieÅ¼ek.

* [**gospider**](https://github.com/jaeles-project/gospider) (go): HTML spider, LinkFinder w plikach JS i zewnÄ™trzne ÅºrÃ³dÅ‚a (Archive.org, CommonCrawl.org, VirusTotal.com, AlienVault.com).
* [**hakrawler**](https://github.com/hakluke/hakrawler) (go): HML spider, z LinkFinder dla plikÃ³w JS i Archive.org jako zewnÄ™trzne ÅºrÃ³dÅ‚o.
* [**dirhunt**](https://github.com/Nekmo/dirhunt) (python): HTML spider, wskazuje rÃ³wnieÅ¼ "soczyste pliki".
* [**evine** ](https://github.com/saeeddhqan/evine)(go): Interaktywny CLI HTML spider. Wyszukuje rÃ³wnieÅ¼ w Archive.org.
* [**meg**](https://github.com/tomnomnom/meg) (go): To narzÄ™dzie nie jest spiderem, ale moÅ¼e byÄ‡ przydatne. MoÅ¼esz po prostu wskazaÄ‡ plik z hostami i plik ze Å›cieÅ¼kami, a meg pobierze kaÅ¼dÄ… Å›cieÅ¼kÄ™ na kaÅ¼dym hoÅ›cie i zapisze odpowiedÅº.
* [**urlgrab**](https://github.com/IAmStoxe/urlgrab) (go): HTML spider z moÅ¼liwoÅ›ciami renderowania JS. WyglÄ…da jednak na to, Å¼e nie jest utrzymywany, wersja skompilowana jest stara, a obecny kod nie kompiluje siÄ™.
* [**gau**](https://github.com/lc/gau) (go): HTML spider, ktÃ³ry korzysta z zewnÄ™trznych dostawcÃ³w (wayback, otx, commoncrawl).
* [**ParamSpider**](https://github.com/devanshbatham/ParamSpider): Ten skrypt znajdzie adresy URL z parametrami i je wypisze.
* [**galer**](https://github.com/dwisiswant0/galer) (go): HTML spider z moÅ¼liwoÅ›ciami renderowania JS.
* [**LinkFinder**](https://github.com/GerbenJavado/LinkFinder) (python): HTML spider, z moÅ¼liwoÅ›ciami beautify JS, zdolny do wyszukiwania nowych Å›cieÅ¼ek w plikach JS. Warto rÃ³wnieÅ¼ rzuciÄ‡ okiem na [JSScanner](https://github.com/dark-warlord14/JSScanner), ktÃ³ry jest wrapperem LinkFinder.
* [**goLinkFinder**](https://github.com/0xsha/GoLinkFinder) (go): Do wyodrÄ™bniania punktÃ³w koÅ„cowych zarÃ³wno w ÅºrÃ³dle HTML, jak i w osadzonych plikach javascript. Przydatne dla Å‚owcÃ³w bÅ‚Ä™dÃ³w, zespoÅ‚Ã³w red, ninja infosec.
* [**JSParser**](https://github.com/nahamsec/JSParser) (python2.7): Skrypt w pythonie 2.7 uÅ¼ywajÄ…cy Tornado i JSBeautifier do analizy wzglÄ™dnych adresÃ³w URL z plikÃ³w JavaScript. Przydatne do Å‚atwego odkrywania Å¼Ä…daÅ„ AJAX. WyglÄ…da na to, Å¼e nie jest utrzymywany.
* [**relative-url-extractor**](https://github.com/jobertabma/relative-url-extractor) (ruby): Dany plik (HTML) wyodrÄ™bni z niego adresy URL, uÅ¼ywajÄ…c sprytnych wyraÅ¼eÅ„ regularnych do znajdowania i wyodrÄ™bniania wzglÄ™dnych adresÃ³w URL z brzydkich (minifikowanych) plikÃ³w.
* [**JSFScan**](https://github.com/KathanP19/JSFScan.sh) (bash, kilka narzÄ™dzi): Zbieraj interesujÄ…ce informacje z plikÃ³w JS, uÅ¼ywajÄ…c kilku narzÄ™dzi.
* [**subjs**](https://github.com/lc/subjs) (go): ZnajdÅº pliki JS.
* [**page-fetch**](https://github.com/detectify/page-fetch) (go): ZaÅ‚aduj stronÄ™ w bezgÅ‚owym przeglÄ…darku i wydrukuj wszystkie zaÅ‚adowane adresy URL, aby zaÅ‚adowaÄ‡ stronÄ™.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) (rust): NarzÄ™dzie do odkrywania treÅ›ci, Å‚Ä…czÄ…ce kilka opcji poprzednich narzÄ™dzi.
* [**Javascript Parsing**](https://github.com/xnl-h4ck3r/burp-extensions): Rozszerzenie Burp do znajdowania Å›cieÅ¼ek i parametrÃ³w w plikach JS.
* [**Sourcemapper**](https://github.com/denandz/sourcemapper): NarzÄ™dzie, ktÃ³re, podajÄ…c URL .js.map, uzyska dla Ciebie zbeautyfikowany kod JS.
* [**xnLinkFinder**](https://github.com/xnl-h4ck3r/xnLinkFinder): To narzÄ™dzie sÅ‚uÅ¼y do odkrywania punktÃ³w koÅ„cowych dla danego celu.
* [**waymore**](https://github.com/xnl-h4ck3r/waymore)**:** Odkryj linki z maszyny Wayback (pobierajÄ…c rÃ³wnieÅ¼ odpowiedzi w Wayback i szukajÄ…c wiÄ™cej linkÃ³w).
* [**HTTPLoot**](https://github.com/redhuntlabs/HTTPLoot) (go): Przeszukuj (nawet wypeÅ‚niajÄ…c formularze) i znajdÅº wraÅ¼liwe informacje, uÅ¼ywajÄ…c specyficznych wyraÅ¼eÅ„ regularnych.
* [**SpiderSuite**](https://github.com/3nock/SpiderSuite): Spider Suite to zaawansowany wielofunkcyjny GUI web security Crawler/Spider zaprojektowany dla profesjonalistÃ³w w dziedzinie cyberbezpieczeÅ„stwa.
* [**jsluice**](https://github.com/BishopFox/jsluice) (go): To pakiet Go i [narzÄ™dzie wiersza poleceÅ„](https://github.com/BishopFox/jsluice/blob/main/cmd/jsluice) do wyodrÄ™bniania adresÃ³w URL, Å›cieÅ¼ek, sekretÃ³w i innych interesujÄ…cych danych z kodu ÅºrÃ³dÅ‚owego JavaScript.
* [**ParaForge**](https://github.com/Anof-cyber/ParaForge): ParaForge to proste **rozszerzenie Burp Suite** do **wyodrÄ™bniania parametrÃ³w i punktÃ³w koÅ„cowych** z Å¼Ä…dania w celu stworzenia niestandardowej listy sÅ‚Ã³w do fuzzingu i enumeracji.
* [**katana**](https://github.com/projectdiscovery/katana) (go): Åšwietne narzÄ™dzie do tego.

### Brute Force katalogÃ³w i plikÃ³w

Rozpocznij **brute-forcing** od folderu gÅ‚Ã³wnego i upewnij siÄ™, Å¼e brute-forcesz **wszystkie** **znalezione katalogi** przy uÅ¼yciu **tej metody** oraz wszystkie katalogi **odkryte** przez **Spidering** (moÅ¼esz to robiÄ‡ brute-forcing **rekursywnie** i dodajÄ…c na poczÄ…tku uÅ¼ywanej listy sÅ‚Ã³w nazwy znalezionych katalogÃ³w).\
NarzÄ™dzia:

* **Dirb** / **Dirbuster** - Wbudowane w Kali, **stare** (i **wolne**) ale funkcjonalne. UmoÅ¼liwia automatyczne podpisywanie certyfikatÃ³w i przeszukiwanie rekursywne. Zbyt wolne w porÃ³wnaniu do innych opcji.
* [**Dirsearch**](https://github.com/maurosoria/dirsearch) (python)**: Nie pozwala na automatyczne podpisywanie certyfikatÃ³w, ale** umoÅ¼liwia przeszukiwanie rekursywne.
* [**Gobuster**](https://github.com/OJ/gobuster) (go): UmoÅ¼liwia automatyczne podpisywanie certyfikatÃ³w, **nie ma** **przeszukiwania** **rekursywnego**.
* [**Feroxbuster**](https://github.com/epi052/feroxbuster) **- Szybki, wspiera przeszukiwanie rekursywne.**
* [**wfuzz**](https://github.com/xmendez/wfuzz) `wfuzz -w /usr/share/seclists/Discovery/Web-Content/raft-medium-directories.txt https://domain.com/api/FUZZ`
* [**ffuf** ](https://github.com/ffuf/ffuf)- Szybki: `ffuf -c -w /usr/share/wordlists/dirb/big.txt -u http://10.10.10.10/FUZZ`
* [**uro**](https://github.com/s0md3v/uro) (python): To nie jest spider, ale narzÄ™dzie, ktÃ³re, podajÄ…c listÄ™ znalezionych adresÃ³w URL, usunie "zduplikowane" adresy URL.
* [**Scavenger**](https://github.com/0xDexter0us/Scavenger): Rozszerzenie Burp do tworzenia listy katalogÃ³w z historii burp rÃ³Å¼nych stron.
* [**TrashCompactor**](https://github.com/michael1026/trashcompactor): Usuwa adresy URL z zduplikowanymi funkcjonalnoÅ›ciami (na podstawie importÃ³w js).
* [**Chamaleon**](https://github.com/iustin24/chameleon): UÅ¼ywa wapalyzer do wykrywania uÅ¼ywanych technologii i wybierania list sÅ‚Ã³w do uÅ¼ycia.

**Zalecane sÅ‚owniki:**

* [https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt](https://github.com/carlospolop/Auto\_Wordlists/blob/main/wordlists/bf\_directories.txt)
* [**Dirsearch** wbudowany sÅ‚ownik](https://github.com/maurosoria/dirsearch/blob/master/db/dicc.txt)
* [http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10](http://gist.github.com/jhaddix/b80ea67d85c13206125806f0828f4d10)
* [Assetnote wordlists](https://wordlists.assetnote.io)
* [https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content](https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content)
* raft-large-directories-lowercase.txt
* directory-list-2.3-medium.txt
* RobotsDisallowed/top10000.txt
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/google/fuzzing/tree/master/dictionaries](https://github.com/google/fuzzing/tree/master/dictionaries)
* [https://github.com/six2dez/OneListForAll](https://github.com/six2dez/OneListForAll)
* [https://github.com/random-robbie/bruteforce-lists](https://github.com/random-robbie/bruteforce-lists)
* [https://github.com/ayoubfathi/leaky-paths](https://github.com/ayoubfathi/leaky-paths)
* _/usr/share/wordlists/dirb/common.txt_
* _/usr/share/wordlists/dirb/big.txt_
* _/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt_

_Note, Å¼e za kaÅ¼dym razem, gdy nowy katalog zostanie odkryty podczas brute-forcingu lub spideringu, powinien byÄ‡ Brute-Forced._

### Co sprawdziÄ‡ w kaÅ¼dym znalezionym pliku

* [**Broken link checker**](https://github.com/stevenvachon/broken-link-checker): ZnajdÅº uszkodzone linki w HTML, ktÃ³re mogÄ… byÄ‡ podatne na przejÄ™cia.
* **Kopie zapasowe plikÃ³w**: Gdy znajdziesz wszystkie pliki, poszukaj kopii zapasowych wszystkich plikÃ³w wykonywalnych ("_.php_", "_.aspx_"...). Typowe warianty nazewnictwa kopii zapasowej to: _file.ext\~, #file.ext#, \~file.ext, file.ext.bak, file.ext.tmp, file.ext.old, file.bak, file.tmp i file.old._ MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ narzÄ™dzia [**bfac**](https://github.com/mazen160/bfac) **lub** [**backup-gen**](https://github.com/Nishantbhagat57/backup-gen)**.**
* **Odkryj nowe parametry**: MoÅ¼esz uÅ¼yÄ‡ narzÄ™dzi takich jak [**Arjun**](https://github.com/s0md3v/Arjun)**,** [**parameth**](https://github.com/maK-/parameth)**,** [**x8**](https://github.com/sh1yo/x8) **i** [**Param Miner**](https://github.com/PortSwigger/param-miner) **do odkrywania ukrytych parametrÃ³w. JeÅ›li moÅ¼esz, sprÃ³buj wyszukaÄ‡** ukryte parametry w kaÅ¼dym wykonywalnym pliku webowym.
* _Arjun wszystkie domyÅ›lne listy sÅ‚Ã³w:_ [https://github.com/s0md3v/Arjun/tree/master/arjun/db](https://github.com/s0md3v/Arjun/tree/master/arjun/db)
* _Param-miner â€œparamsâ€ :_ [https://github.com/PortSwigger/param-miner/blob/master/resources/params](https://github.com/PortSwigger/param-miner/blob/master/resources/params)
* _Assetnote â€œparameters\_top\_1mâ€:_ [https://wordlists.assetnote.io/](https://wordlists.assetnote.io)
* _nullenc0de â€œparams.txtâ€:_ [https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773](https://gist.github.com/nullenc0de/9cb36260207924f8e1787279a05eb773)
* **Komentarze:** SprawdÅº komentarze wszystkich plikÃ³w, moÅ¼esz znaleÅºÄ‡ **dane uwierzytelniajÄ…ce** lub **ukrytÄ… funkcjonalnoÅ›Ä‡**.
* JeÅ›li grasz w **CTF**, "powszechnym" trikiem jest **ukrywanie** **informacji** w komentarzach po **prawej** stronie **strony** (uÅ¼ywajÄ…c **setek** **spacji**, aby nie widzieÄ‡ danych, jeÅ›li otworzysz kod ÅºrÃ³dÅ‚owy w przeglÄ…darce). InnÄ… moÅ¼liwoÅ›ciÄ… jest uÅ¼ycie **wielu nowych linii** i **ukrycie informacji** w komentarzu na **dole** strony internetowej.
* **Klucze API**: JeÅ›li **znajdziesz jakikolwiek klucz API**, istnieje przewodnik, ktÃ³ry wskazuje, jak uÅ¼ywaÄ‡ kluczy API rÃ³Å¼nych platform: [**keyhacks**](https://github.com/streaak/keyhacks)**,** [**zile**](https://github.com/xyele/zile.git)**,** [**truffleHog**](https://github.com/trufflesecurity/truffleHog)**,** [**SecretFinder**](https://github.com/m4ll0k/SecretFinder)**,** [**RegHex**](https://github.com/l4yton/RegHex\)/)**,** [**DumpsterDive**](https://github.com/securing/DumpsterDiver)**,** [**EarlyBird**](https://github.com/americanexpress/earlybird).
* Klucze API Google: JeÅ›li znajdziesz jakikolwiek klucz API wyglÄ…dajÄ…cy jak **AIza**SyA-qLheq6xjDiEIRisP\_ujUseYLQCHUjik, moÅ¼esz uÅ¼yÄ‡ projektu [**gmapapiscanner**](https://github.com/ozguralp/gmapsapiscanner), aby sprawdziÄ‡, do jakich API klucz ma dostÄ™p.
* **S3 Buckets**: Podczas spideringu sprawdÅº, czy jakikolwiek **subdomen** lub jakikolwiek **link** jest zwiÄ…zany z jakimÅ› **S3 bucket**. W takim przypadku, [**sprawdÅº** **uprawnienia** bucketu](buckets/).

### Specjalne znaleziska

**Podczas** wykonywania **spideringu** i **brute-forcingu** moÅ¼esz znaleÅºÄ‡ **interesujÄ…ce** **rzeczy**, na ktÃ³re musisz **zwrÃ³ciÄ‡ uwagÄ™**.

**InteresujÄ…ce pliki**

* Szukaj **linkÃ³w** do innych plikÃ³w w **plikach CSS**.
* [JeÅ›li znajdziesz plik _**.git**_, moÅ¼na wyodrÄ™bniÄ‡ pewne informacje](git.md).
* JeÅ›li znajdziesz _**.env**_, moÅ¼na znaleÅºÄ‡ takie informacje jak klucze API, hasÅ‚a do baz danych i inne informacje.
* JeÅ›li znajdziesz **punkty koÅ„cowe API**, [powinieneÅ› je rÃ³wnieÅ¼ przetestowaÄ‡](web-api-pentesting.md). To nie sÄ… pliki, ale prawdopodobnie "wyglÄ…dajÄ… jak" one.
* **Pliki JS**: W sekcji spideringu wspomniano o kilku narzÄ™dziach, ktÃ³re mogÄ… wyodrÄ™bniÄ‡ Å›cieÅ¼ki z plikÃ³w JS. RÃ³wnieÅ¼, interesujÄ…ce byÅ‚oby **monitorowanie kaÅ¼dego znalezionego pliku JS**, poniewaÅ¼ w niektÃ³rych przypadkach zmiana moÅ¼e wskazywaÄ‡, Å¼e potencjalna luka zostaÅ‚a wprowadzona w kodzie. MoÅ¼esz uÅ¼yÄ‡ na przykÅ‚ad [**JSMon**](https://github.com/robre/jsmon)**.**
* PowinieneÅ› rÃ³wnieÅ¼ sprawdziÄ‡ odkryte pliki JS za pomocÄ… [**RetireJS**](https://github.com/retirejs/retire.js/) lub [**JSHole**](https://github.com/callforpapers-source/jshole), aby sprawdziÄ‡, czy sÄ… podatne.
* **Deobfuscator i Unpacker JavaScript:** [https://lelinhtinh.github.io/de4js/](https://lelinhtinh.github.io/de4js/), [https://www.dcode.fr/javascript-unobfuscator](https://www.dcode.fr/javascript-unobfuscator).
* **Beautifier JavaScript:** [http://jsbeautifier.org/](https://beautifier.io), [http://jsnice.org/](http://jsnice.org).
* **Deobfuskacja JsFuck** (javascript z znakami:"\[]!+" [https://ooze.ninja/javascript/poisonjs/](https://ooze.ninja/javascript/poisonjs/)).
* [**TrainFuck**](https://github.com/taco-c/trainfuck)**:** `+72.+29.+7..+3.-67.-12.+55.+24.+3.-6.-8.-67.-23.`
* W wielu przypadkach bÄ™dziesz musiaÅ‚ **zrozumieÄ‡ wyraÅ¼enia regularne**, ktÃ³re sÄ… uÅ¼ywane, to bÄ™dzie przydatne: [https://regex101.com/](https://regex101.com).
* MoÅ¼esz rÃ³wnieÅ¼ **monitorowaÄ‡ pliki, w ktÃ³rych wykryto formularze**, poniewaÅ¼ zmiana w parametrze lub pojawienie siÄ™ nowego formularza moÅ¼e wskazywaÄ‡ na potencjalnie nowÄ… podatnÄ… funkcjonalnoÅ›Ä‡.

**403 Forbidden/Basic Authentication/401 Unauthorized (obejÅ›cie)**

{% content-ref url="403-and-401-bypasses.md" %}
[403-and-401-bypasses.md](403-and-401-bypasses.md)
{% endcontent-ref %}

**502 Proxy Error**

JeÅ›li jakakolwiek strona **odpowiada** tym **kodem**, prawdopodobnie jest to **Åºle skonfigurowany proxy**. **JeÅ›li wyÅ›lesz Å¼Ä…danie HTTP takie jak: `GET https://google.com HTTP/1.1`** (z nagÅ‚Ã³wkiem hosta i innymi typowymi nagÅ‚Ã³wkami), **proxy** sprÃ³buje **uzyskaÄ‡ dostÄ™p** do _**google.com**_ **i znajdziesz** SSRF.

**NTLM Authentication - Ujawnienie informacji**

JeÅ›li dziaÅ‚ajÄ…cy serwer prosi o uwierzytelnienie jest **Windows** lub znajdziesz logowanie proszÄ…ce o Twoje **dane uwierzytelniajÄ…ce** (i pytajÄ…ce o **nazwa domeny**), moÅ¼esz wywoÅ‚aÄ‡ **ujawnienie informacji**.\
**WyÅ›lij** nagÅ‚Ã³wek: `â€œAuthorization: NTLM TlRMTVNTUAABAAAAB4IIAAAAAAAAAAAAAAAAAAAAAAA=â€` i z powodu tego, jak dziaÅ‚a **uwierzytelnianie NTLM**, serwer odpowie wewnÄ™trznymi informacjami (wersja IIS, wersja Windows...) w nagÅ‚Ã³wku "WWW-Authenticate".\
MoÅ¼esz **zautomatyzowaÄ‡** to, uÅ¼ywajÄ…c **pluginu nmap** "_http-ntlm-info.nse_".

**HTTP Redirect (CTF)**

MoÅ¼liwe jest **umieszczenie treÅ›ci** wewnÄ…trz **przekierowania**. Ta treÅ›Ä‡ **nie bÄ™dzie widoczna dla uÅ¼ytkownika** (poniewaÅ¼ przeglÄ…darka wykona przekierowanie), ale coÅ› moÅ¼e byÄ‡ **ukryte** w Å›rodku.

### Sprawdzanie luk w sieci

Teraz, gdy przeprowadzono kompleksowÄ… enumeracjÄ™ aplikacji webowej, czas sprawdziÄ‡ wiele moÅ¼liwych luk. MoÅ¼esz znaleÅºÄ‡ listÄ™ kontrolnÄ… tutaj:

{% content-ref url="../../pentesting-web/web-vulnerabilities-methodology.md" %}
[web-vulnerabilities-methodology.md](../../pentesting-web/web-vulnerabilities-methodology.md)
{% endcontent-ref %}

ZnajdÅº wiÄ™cej informacji o lukach w sieci na:

* [https://six2dez.gitbook.io/pentest-book/others/web-checklist](https://six2dez.gitbook.io/pentest-book/others/web-checklist)
* [https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html](https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/en/web\_application\_security\_testing/configuration\_and\_deployment\_management\_testing.html)
* [https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection](https://owasp-skf.gitbook.io/asvs-write-ups/kbid-111-client-side-template-injection)

### Monitorowanie stron pod kÄ…tem zmian

MoÅ¼esz uÅ¼yÄ‡ narzÄ™dzi takich jak [https://github.com/dgtlmoon/changedetection.io](https://github.com/dgtlmoon/changedetection.io), aby monitorowaÄ‡ strony pod kÄ…tem modyfikacji, ktÃ³re mogÄ… wprowadzaÄ‡ luki.

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

JeÅ›li jesteÅ› zainteresowany **karierÄ… w hakingu** i chcesz zÅ‚amaÄ‡ to, co nie do zÅ‚amania - **zatrudniamy!** (_wymagana biegÅ‚a znajomoÅ›Ä‡ polskiego w mowie i piÅ›mie_).

{% embed url="https://www.stmcyber.com/careers" %}

### HackTricks Automatyczne Komendy
```
Protocol_Name: Web    #Protocol Abbreviation if there is one.
Port_Number:  80,443     #Comma separated if there is more than one.
Protocol_Description: Web         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for Web
Note: |
https://book.hacktricks.xyz/pentesting/pentesting-web

Entry_2:
Name: Quick Web Scan
Description: Nikto and GoBuster
Command: nikto -host {Web_Proto}://{IP}:{Web_Port} &&&& gobuster dir -w {Small_Dirlist} -u {Web_Proto}://{IP}:{Web_Port} && gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_3:
Name: Nikto
Description: Basic Site Info via Nikto
Command: nikto -host {Web_Proto}://{IP}:{Web_Port}

Entry_4:
Name: WhatWeb
Description: General purpose auto scanner
Command: whatweb -a 4 {IP}

Entry_5:
Name: Directory Brute Force Non-Recursive
Description:  Non-Recursive Directory Brute Force
Command: gobuster dir -w {Big_Dirlist} -u {Web_Proto}://{IP}:{Web_Port}

Entry_6:
Name: Directory Brute Force Recursive
Description: Recursive Directory Brute Force
Command: python3 {Tool_Dir}dirsearch/dirsearch.py -w {Small_Dirlist} -e php,exe,sh,py,html,pl -f -t 20 -u {Web_Proto}://{IP}:{Web_Port} -r 10

Entry_7:
Name: Directory Brute Force CGI
Description: Common Gateway Interface Brute Force
Command: gobuster dir -u {Web_Proto}://{IP}:{Web_Port}/ -w /usr/share/seclists/Discovery/Web-Content/CGIs.txt -s 200

Entry_8:
Name: Nmap Web Vuln Scan
Description: Tailored Nmap Scan for web Vulnerabilities
Command: nmap -vv --reason -Pn -sV -p {Web_Port} --script=`banner,(http* or ssl*) and not (brute or broadcast or dos or external or http-slowloris* or fuzzer)` {IP}

Entry_9:
Name: Drupal
Description: Drupal Enumeration Notes
Note: |
git clone https://github.com/immunIT/drupwn.git for low hanging fruit and git clone https://github.com/droope/droopescan.git for deeper enumeration

Entry_10:
Name: WordPress
Description: WordPress Enumeration with WPScan
Command: |
?What is the location of the wp-login.php? Example: /Yeet/cannon/wp-login.php
wpscan --url {Web_Proto}://{IP}{1} --enumerate ap,at,cb,dbe && wpscan --url {Web_Proto}://{IP}{1} --enumerate u,tt,t,vp --passwords {Big_Passwordlist} -e

Entry_11:
Name: WordPress Hydra Brute Force
Description: Need User (admin is default)
Command: hydra -l admin -P {Big_Passwordlist} {IP} -V http-form-post '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Location'

Entry_12:
Name: Ffuf Vhost
Description: Simple Scan with Ffuf for discovering additional vhosts
Command: ffuf -w {Subdomain_List}:FUZZ -u {Web_Proto}://{Domain_Name} -H "Host:FUZZ.{Domain_Name}" -c -mc all {Ffuf_Filters}
```
{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na githubie.

</details>
{% endhint %}
