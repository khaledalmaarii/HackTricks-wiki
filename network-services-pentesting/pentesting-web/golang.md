<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Travaillez-vous dans une entreprise de cybersÃ©curitÃ©? Voulez-vous voir votre entreprise annoncÃ©e dans HackTricks? ou voulez-vous avoir accÃ¨s Ã  la derniÃ¨re version de PEASS ou tÃ©lÃ©charger HackTricks en PDF? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!

- DÃ©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)

- **Rejoignez le** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Partagez vos astuces de piratage en soumettant des PR au [repo hacktricks](https://github.com/carlospolop/hacktricks) et au [repo hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


## MÃ©thode CONNECT

En golang, la bibliothÃ¨que net/http transforme gÃ©nÃ©ralement le chemin en un chemin canonique avant d'y accÃ©der :

* /flag/ -- Est rÃ©pondu avec une redirection vers /flag
* /../flag --- Est rÃ©pondu avec une redirection vers /flag
* /flag/. -- Est rÃ©pondu avec une redirection vers /flag

Cependant, lorsque la mÃ©thode CONNECT est utilisÃ©e, cela ne se produit pas. Ainsi, si vous devez accÃ©der Ã  une ressource protÃ©gÃ©e, vous pouvez exploiter cette astuce :
```text
curl --path-as-is -X CONNECT http://gofs.web.jctf.pro/../flag
```
[https://github.com/golang/go/blob/9bb97ea047890e900dae04202a231685492c4b18/src/net/http/server.go\#L2354-L2364](https://github.com/golang/go/blob/9bb97ea047890e900dae04202a231685492c4b18/src/net/http/server.go#L2354-L2364)

La fonction `readRequest` est utilisÃ©e pour lire une requÃªte HTTP Ã  partir d'une connexion. Cette fonction est appelÃ©e par la fonction `readRequestHeader` qui lit la premiÃ¨re ligne de la requÃªte HTTP et la stocke dans la variable `req.Method`, `req.URL`, `req.Proto` et `req.ProtoMajor`. Ensuite, la fonction `readRequest` est appelÃ©e pour lire le corps de la requÃªte HTTP et le stocker dans la variable `req.Body`. Si la requÃªte HTTP contient un corps, la fonction `readRequest` utilise la fonction `io.LimitReader` pour limiter la taille du corps de la requÃªte Ã  la valeur spÃ©cifiÃ©e dans la variable `maxBytesReader`.
