# GraphQL

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## ä»‹ç»

GraphQLä½œä¸ºREST APIçš„æ›¿ä»£å“ã€‚REST APIè¦æ±‚å®¢æˆ·ç«¯å‘APIçš„ä¸åŒç«¯ç‚¹å‘é€å¤šä¸ªè¯·æ±‚ï¼Œä»¥ä»åç«¯æ•°æ®åº“æŸ¥è¯¢æ•°æ®ã€‚ä½¿ç”¨GraphQLï¼Œæ‚¨åªéœ€è¦å‘é€ä¸€ä¸ªè¯·æ±‚æ¥æŸ¥è¯¢åç«¯ã€‚è¿™æ›´ç®€å•ï¼Œå› ä¸ºæ‚¨ä¸å¿…å‘APIå‘é€å¤šä¸ªè¯·æ±‚ï¼Œå•ä¸ªè¯·æ±‚å°±å¯ä»¥æ”¶é›†æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ã€‚

## GraphQL

éšç€æ–°æŠ€æœ¯çš„å‡ºç°ï¼Œä¹Ÿä¼šå‡ºç°æ–°çš„æ¼æ´ã€‚**é»˜è®¤æƒ…å†µä¸‹**ï¼ŒGraphQL**ä¸**å®ç°**è®¤è¯**ï¼Œè¿™éœ€è¦ç”±å¼€å‘è€…æ¥å®ç°ã€‚è¿™æ„å‘³ç€é»˜è®¤æƒ…å†µä¸‹GraphQLå…è®¸ä»»ä½•äººæŸ¥è¯¢å®ƒï¼Œä»»ä½•æ•æ„Ÿä¿¡æ¯éƒ½å°†æ— éœ€è®¤è¯å³å¯ä¾›æ”»å‡»è€…ä½¿ç”¨ã€‚

åœ¨æ‰§è¡Œç›®å½•æš´åŠ›æ”»å‡»æ—¶ï¼Œè¯·ç¡®ä¿æ·»åŠ ä»¥ä¸‹è·¯å¾„ä»¥æ£€æŸ¥GraphQLå®ä¾‹ã€‚

* `/graphql`
* `/graphiql`
* `/graphql.php`
* `/graphql/console`
* `/api`
* `/api/graphql`
* `/graphql/api`
* `/graphql/graphql`

<figure><img src="../../.gitbook/assets/image (6) (1) (3) (1).png" alt=""><figcaption></figcaption></figure>

ä¸€æ—¦æ‚¨æ‰¾åˆ°ä¸€ä¸ªå¼€æ”¾çš„GraphQLå®ä¾‹ï¼Œæ‚¨éœ€è¦çŸ¥é“**å®ƒæ”¯æŒå“ªäº›æŸ¥è¯¢**ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨å†…çœç³»ç»Ÿæ¥å®Œæˆï¼Œæ›´å¤šè¯¦æƒ…å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š[**GraphQLï¼šAPIçš„æŸ¥è¯¢è¯­è¨€ã€‚**\
è¯¢é—®GraphQLæ¨¡å¼æ”¯æŒå“ªäº›æŸ¥è¯¢é€šå¸¸å¾ˆæœ‰ç”¨ã€‚GraphQLå…è®¸æˆ‘ä»¬è¿™æ ·åšâ€¦](https://graphql.org/learn/introspection/)

### æŒ‡çº¹

å·¥å…·[**graphw00f**](https://github.com/dolevf/graphw00f)èƒ½å¤Ÿæ£€æµ‹æœåŠ¡å™¨ä¸­ä½¿ç”¨çš„GraphQLå¼•æ“ï¼Œç„¶åä¸ºå®‰å…¨å®¡è®¡å‘˜æ‰“å°ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚

#### é€šç”¨æŸ¥è¯¢ <a href="#universal-queries" id="universal-queries"></a>

å¦‚æœæ‚¨å‘ä»»ä½•GraphQLç«¯ç‚¹å‘é€`query{__typename}`ï¼Œå®ƒçš„å“åº”ä¸­å°†åŒ…å«å­—ç¬¦ä¸²`{"data": {"__typename": "query"}}`ã€‚è¿™è¢«ç§°ä¸ºé€šç”¨æŸ¥è¯¢ï¼Œæ˜¯æ¢æµ‹URLæ˜¯å¦å¯¹åº”äºGraphQLæœåŠ¡çš„æœ‰ç”¨å·¥å…·ã€‚

è¿™ä¸ªæŸ¥è¯¢ä¹‹æ‰€ä»¥æœ‰æ•ˆï¼Œæ˜¯å› ä¸ºæ¯ä¸ªGraphQLç«¯ç‚¹éƒ½æœ‰ä¸€ä¸ªä¿ç•™å­—æ®µ`__typename`ï¼Œå®ƒä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æŸ¥è¯¢å¯¹è±¡çš„ç±»å‹ã€‚

### åŸºæœ¬æšä¸¾

GraphQLé€šå¸¸æ”¯æŒ**GET**ã€**POST**ï¼ˆx-www-form-urlencodedï¼‰å’Œ**POST**ï¼ˆjsonï¼‰ã€‚å°½ç®¡å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå»ºè®®åªå…è®¸jsonä»¥é˜²æ­¢CSRFæ”»å‡»ã€‚

#### å†…çœ

è¦ä½¿ç”¨å†…çœæ¥å‘ç°æ¨¡å¼ä¿¡æ¯ï¼Œè¯·æŸ¥è¯¢`__schema`å­—æ®µã€‚è¿™ä¸ªå­—æ®µåœ¨æ‰€æœ‰æŸ¥è¯¢çš„æ ¹ç±»å‹ä¸Šéƒ½å¯ç”¨ã€‚
```bash
query={__schema{types{name,fields{name}}}}
```
```graphql
{
  __schema {
    types {
      name
    }
  }
}
```
{% endcode %}

ä½¿ç”¨æ­¤æŸ¥è¯¢ï¼Œæ‚¨å°†æ‰¾åˆ°æ­£åœ¨ä½¿ç”¨çš„æ‰€æœ‰ç±»å‹çš„åç§°ï¼š
```bash
query={__schema{types{name,fields{name,args{name,description,type{name,kind,ofType{name, kind}}}}}}}
```
{% endcode %}

é€šè¿‡è¿™ä¸ªæŸ¥è¯¢ï¼Œæ‚¨å¯ä»¥æå–æ‰€æœ‰ç±»å‹ã€å®ƒçš„å­—æ®µä»¥åŠå®ƒçš„å‚æ•°ï¼ˆä»¥åŠå‚æ•°çš„ç±»å‹ï¼‰ã€‚è¿™å°†éå¸¸æœ‰åŠ©äºäº†è§£å¦‚ä½•æŸ¥è¯¢æ•°æ®åº“ã€‚

![](<../../.gitbook/assets/image (207) (3).png>)

**é”™è¯¯**

äº†è§£æ˜¯å¦ä¼š**æ˜¾ç¤º**é”™è¯¯å¾ˆæœ‰è¶£ï¼Œå› ä¸ºå®ƒä»¬ä¼šæä¾›æœ‰ç”¨çš„**ä¿¡æ¯ã€‚**
```
?query={__schema}
?query={}
?query={thisdefinitelydoesnotexist}
```
![](<../../.gitbook/assets/image (205) (1).png>)

**é€šè¿‡å†…çœæšä¸¾æ•°æ®åº“æ¨¡å¼**

{% hint style="info" %}
å¦‚æœå†…çœåŠŸèƒ½å·²å¯ç”¨ï¼Œä½†ä¸Šè¿°æŸ¥è¯¢æ— æ³•è¿è¡Œï¼Œè¯·å°è¯•ä»æŸ¥è¯¢ç»“æ„ä¸­ç§»é™¤ `onOperation`ã€`onFragment` å’Œ `onField` æŒ‡ä»¤ã€‚
{% endhint %}
```bash
#Full introspection query

query IntrospectionQuery {
__schema {
queryType {
name
}
mutationType {
name
}
subscriptionType {
name
}
types {
...FullType
}
directives {
name
description
args {
...InputValue
}
onOperation  #Often needs to be deleted to run query
onFragment   #Often needs to be deleted to run query
onField      #Often needs to be deleted to run query
}
}
}

fragment FullType on __Type {
kind
name
description
fields(includeDeprecated: true) {
name
description
args {
...InputValue
}
type {
...TypeRef
}
isDeprecated
deprecationReason
}
inputFields {
...InputValue
}
interfaces {
...TypeRef
}
enumValues(includeDeprecated: true) {
name
description
isDeprecated
deprecationReason
}
possibleTypes {
...TypeRef
}
}

fragment InputValue on __InputValue {
name
description
type {
...TypeRef
}
defaultValue
}

fragment TypeRef on __Type {
kind
name
ofType {
kind
name
ofType {
kind
name
ofType {
kind
name
}
}
}
}
```
å†…è”è‡ªçœæŸ¥è¯¢ï¼š
```
/?query=fragment%20FullType%20on%20Type%20{+%20%20kind+%20%20name+%20%20description+%20%20fields%20{+%20%20%20%20name+%20%20%20%20description+%20%20%20%20args%20{+%20%20%20%20%20%20...InputValue+%20%20%20%20}+%20%20%20%20type%20{+%20%20%20%20%20%20...TypeRef+%20%20%20%20}+%20%20}+%20%20inputFields%20{+%20%20%20%20...InputValue+%20%20}+%20%20interfaces%20{+%20%20%20%20...TypeRef+%20%20}+%20%20enumValues%20{+%20%20%20%20name+%20%20%20%20description+%20%20}+%20%20possibleTypes%20{+%20%20%20%20...TypeRef+%20%20}+}++fragment%20InputValue%20on%20InputValue%20{+%20%20name+%20%20description+%20%20type%20{+%20%20%20%20...TypeRef+%20%20}+%20%20defaultValue+}++fragment%20TypeRef%20on%20Type%20{+%20%20kind+%20%20name+%20%20ofType%20{+%20%20%20%20kind+%20%20%20%20name+%20%20%20%20ofType%20{+%20%20%20%20%20%20kind+%20%20%20%20%20%20name+%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20%20%20ofType%20{+%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind+%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name+%20%20%20%20%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20%20%20}+%20%20%20%20%20%20}+%20%20%20%20}+%20%20}+}++query%20IntrospectionQuery%20{+%20%20schema%20{+%20%20%20%20queryType%20{+%20%20%20%20%20%20name+%20%20%20%20}+%20%20%20%20mutationType%20{+%20%20%20%20%20%20name+%20%20%20%20}+%20%20%20%20types%20{+%20%20%20%20%20%20...FullType+%20%20%20%20}+%20%20%20%20directives%20{+%20%20%20%20%20%20name+%20%20%20%20%20%20description+%20%20%20%20%20%20locations+%20%20%20%20%20%20args%20{+%20%20%20%20%20%20%20%20...InputValue+%20%20%20%20%20%20}+%20%20%20%20}+%20%20}+}
```
æœ€åä¸€è¡Œä»£ç æ˜¯ä¸€ä¸ªgraphqlæŸ¥è¯¢ï¼Œå®ƒå°†è½¬å‚¨graphqlçš„æ‰€æœ‰å…ƒä¿¡æ¯ï¼ˆå¯¹è±¡åç§°ã€å‚æ•°ã€ç±»å‹ç­‰ï¼‰ã€‚

![](<../../.gitbook/assets/image (206).png>)

å¦‚æœå¯ç”¨äº†å†…çœï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [**GraphQL Voyager**](https://github.com/APIs-guru/graphql-voyager) åœ¨GUIä¸­æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹ã€‚

### æŸ¥è¯¢

ç°åœ¨æˆ‘ä»¬çŸ¥é“æ•°æ®åº“å†…ä¿å­˜äº†å“ªäº›ç±»å‹çš„ä¿¡æ¯ï¼Œè®©æˆ‘ä»¬å°è¯•**æå–ä¸€äº›å€¼**ã€‚

åœ¨å†…çœä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°**å¯ä»¥ç›´æ¥æŸ¥è¯¢çš„å¯¹è±¡**ï¼ˆå› ä¸ºå¯¹è±¡çš„å­˜åœ¨å¹¶ä¸æ„å‘³ç€æ‚¨å¯ä»¥æŸ¥è¯¢å®ƒï¼‰ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°â€œ_queryType_â€è¢«ç§°ä¸ºâ€œ_Query_â€ï¼Œå¹¶ä¸”â€œ_Query_â€å¯¹è±¡çš„ä¸€ä¸ªå­—æ®µæ˜¯â€œ_flags_â€ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥æŸ¥è¯¢flagå¯¹è±¡ã€‚

![](../../.gitbook/assets/screenshot-from-2021-03-13-18-17-48.png)

è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢â€œ_flags_â€çš„ç±»å‹æ˜¯â€œ_Flags_â€ï¼Œå¹¶ä¸”æ­¤å¯¹è±¡å®šä¹‰å¦‚ä¸‹ï¼š

![](../../.gitbook/assets/screenshot-from-2021-03-13-18-22-57.png)

æ‚¨å¯ä»¥çœ‹åˆ°â€œ_Flags_â€å¯¹è±¡ç”±**name** å’Œ **value** ç»„æˆã€‚ç„¶åæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŸ¥è¯¢è·å–æ‰€æœ‰flagsçš„åç§°å’Œå€¼ï¼š
```javascript
query={flags{name, value}}
```
è¯·æ³¨æ„ï¼Œå¦‚æœ**æŸ¥è¯¢å¯¹è±¡**æ˜¯åƒä¸‹é¢ä¾‹å­ä¸­çš„**åŸºæœ¬** **ç±»å‹**ï¼Œå¦‚**å­—ç¬¦ä¸²**

![](<../../.gitbook/assets/image (441).png>)

æ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹æŸ¥è¯¢æ–¹å¼ï¼š
```javascript
query={hiddenFlags}
```
åœ¨å¦ä¸€ä¸ªä¾‹å­ä¸­ï¼Œ"_Query_" ç±»å‹å¯¹è±¡å†…æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼š"_user_" å’Œ "_users_"ã€‚\
å¦‚æœè¿™äº›å¯¹è±¡ä¸éœ€è¦ä»»ä½•å‚æ•°å°±èƒ½æœç´¢ï¼Œä½ å¯ä»¥é€šè¿‡è¯·æ±‚ä½ æƒ³è¦çš„æ•°æ®æ¥**æ£€ç´¢å®ƒä»¬çš„æ‰€æœ‰ä¿¡æ¯**ã€‚åœ¨è¿™ä¸ªæ¥è‡ªäº’è”ç½‘çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥æå–ä¿å­˜çš„ç”¨æˆ·åå’Œå¯†ç ï¼š

![](<../../.gitbook/assets/image (208).png>)

ç„¶è€Œï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœä½ å°è¯•è¿™æ ·åšï¼Œä½ ä¼šå¾—åˆ°è¿™ä¸ª**é”™è¯¯**ï¼š

![](<../../.gitbook/assets/image (210).png>)

çœ‹èµ·æ¥å®ƒä¼šä»¥æŸç§æ–¹å¼ä½¿ç”¨ç±»å‹ä¸º _**Int**_ çš„ "_**uid**_" å‚æ•°è¿›è¡Œæœç´¢ã€‚\
æ— è®ºå¦‚ä½•ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåœ¨[åŸºæœ¬æšä¸¾](graphql.md#basic-enumeration)éƒ¨åˆ†ï¼Œæœ‰ä¸€ä¸ªæŸ¥è¯¢è¢«æå‡ºï¼Œå®ƒå‘æˆ‘ä»¬å±•ç¤ºäº†æ‰€æœ‰éœ€è¦çš„ä¿¡æ¯ï¼š`query={__schema{types{name,fields{name, args{name,description,type{name, kind, ofType{name, kind}}}}}}}`

å¦‚æœä½ é˜…è¯»æˆ‘è¿è¡Œé‚£ä¸ªæŸ¥è¯¢æ—¶æä¾›çš„å›¾ç‰‡ï¼Œä½ ä¼šçœ‹åˆ° "_**user**_" æœ‰ä¸€ä¸ªç±»å‹ä¸º _Int_ çš„ **arg** "_**uid**_"ã€‚

æ‰€ä»¥ï¼Œè¿›è¡Œä¸€äº›è½»é‡çº§çš„ _**uid**_ æš´åŠ›ç ´è§£ï¼Œæˆ‘å‘ç°åœ¨ _**uid**=**1**_ æ—¶æ£€ç´¢åˆ°äº†ä¸€ä¸ªç”¨æˆ·åå’Œå¯†ç ï¼š\
`query={user(uid:1){user,password}}`

![](<../../.gitbook/assets/image (211).png>)

è¯·æ³¨æ„ï¼Œæˆ‘**å‘ç°**æˆ‘å¯ä»¥è¯·æ±‚å‚æ•° "_**user**_" å’Œ "_**password**_"ï¼Œå› ä¸ºå¦‚æœæˆ‘å°è¯•æŸ¥æ‰¾ä¸å­˜åœ¨çš„ä¸œè¥¿ï¼ˆ`query={user(uid:1){noExists}}`ï¼‰ï¼Œæˆ‘ä¼šå¾—åˆ°è¿™ä¸ªé”™è¯¯ï¼š

![](<../../.gitbook/assets/image (213).png>)

å¹¶ä¸”åœ¨**æšä¸¾é˜¶æ®µ**ï¼Œæˆ‘å‘ç° "_**dbuser**_" å¯¹è±¡çš„å­—æ®µæœ‰ "_**user**_" å’Œ "_**password**_"ã€‚

**æŸ¥è¯¢å­—ç¬¦ä¸²è½¬å‚¨æŠ€å·§ï¼ˆæ„Ÿè°¢ @BinaryShadow\_ï¼‰**

å¦‚æœä½ å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²ç±»å‹æœç´¢ï¼Œæ¯”å¦‚ï¼š`query={theusers(description: ""){username,password}}`ï¼Œå¹¶ä¸”ä½ **æœç´¢ä¸€ä¸ªç©ºå­—ç¬¦ä¸²**ï¼Œå®ƒä¼š**è½¬å‚¨æ‰€æœ‰æ•°æ®**ã€‚ï¼ˆ_æ³¨æ„è¿™ä¸ªä¾‹å­ä¸æ•™ç¨‹çš„ä¾‹å­æ— å…³ï¼Œå‡è®¾ä½ å¯ä»¥ä½¿ç”¨ "**theusers**" é€šè¿‡ä¸€ä¸ªå«åš "**description**" çš„ String å­—æ®µè¿›è¡Œæœç´¢_ï¼‰ã€‚

GraphQL æ˜¯ä¸€é¡¹ç›¸å¯¹è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå¼€å§‹åœ¨åˆåˆ›å…¬å¸å’Œå¤§å‹ä¼ä¸šä¸­è·å¾—ä¸€äº›å…³æ³¨ã€‚é™¤äº†é»˜è®¤ç¼ºå°‘èº«ä»½éªŒè¯ä¹‹å¤–ï¼ŒGraphQL ç«¯ç‚¹è¿˜å¯èƒ½å®¹æ˜“å—åˆ°å…¶ä»–æ¼æ´çš„å½±å“ï¼Œå¦‚ IDORã€‚

### æœç´¢

ä»¥è¿™æ ·ä¸€ä¸ªä¾‹å­ä¸ºä¾‹ï¼Œæƒ³è±¡ä¸€ä¸ªæ•°æ®åº“ï¼Œå…¶ä¸­åŒ…å«é€šè¿‡ç”µå­é‚®ä»¶å’Œå§“åæ ‡è¯†çš„**äººå‘˜**ï¼Œä»¥åŠé€šè¿‡åç§°å’Œè¯„çº§æ ‡è¯†çš„**ç”µå½±**ã€‚ä¸€ä¸ª**äºº**å¯ä»¥ä¸å…¶ä»–**äºº**æˆä¸º**æœ‹å‹**ï¼Œå¹¶ä¸”ä¸€ä¸ªäººå¯ä»¥**æ‹¥æœ‰ç”µå½±**ã€‚

ä½ å¯ä»¥é€šè¿‡**å§“å**æ¥**æœç´¢**äººå‘˜ï¼Œå¹¶è·å–ä»–ä»¬çš„ç”µå­é‚®ä»¶ï¼š
```javascript
{
searchPerson(name: "John Doe") {
email
}
}
```
ä½ å¯ä»¥**é€šè¿‡**å§“å**æœç´¢**äººå‘˜å¹¶è·å–ä»–ä»¬**è®¢é˜…**çš„**ç”µå½±**ï¼š
```javascript
{
searchPerson(name: "John Doe") {
email
subscribedMovies {
edges {
node {
name
}
}
}
}
}
```
è¯·æ³¨æ„ï¼Œå¦‚ä½•æŒ‡ç¤ºæ£€ç´¢äººå‘˜çš„ `subscribedMovies` çš„ `name`ã€‚

æ‚¨è¿˜å¯ä»¥**åŒæ—¶æœç´¢å¤šä¸ªå¯¹è±¡**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿›è¡Œäº†2éƒ¨ç”µå½±çš„æœç´¢ï¼š
```javascript
{
searchPerson(subscribedMovies: [{name: "Inception"}, {name: "Rocky"}]) {
name
}
}r
```
ç”šè‡³æ˜¯**ä½¿ç”¨åˆ«åçš„å‡ ä¸ªä¸åŒå¯¹è±¡çš„å…³ç³»**ï¼š
```javascript
{
johnsMovieList: searchPerson(name: "John Doe") {
subscribedMovies {
edges {
node {
name
}
}
}
}
davidsMovieList: searchPerson(name: "David Smith") {
subscribedMovies {
edges {
node {
name
}
}
}
}
}
```
### å˜æ›´

**å˜æ›´ç”¨äºåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œæ›´æ”¹ã€‚**

åœ¨**å†…çœ**ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°å·²å£°æ˜çš„**å˜æ›´**ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œ"_MutationType_" è¢«ç§°ä¸º "_Mutation_"ï¼Œè€Œ "_Mutation_" å¯¹è±¡åŒ…å«å˜æ›´çš„åç§°ï¼ˆä¾‹å¦‚æœ¬ä¾‹ä¸­çš„ "_addPerson_"ï¼‰ï¼š

![](../../.gitbook/assets/screenshot-from-2021-03-13-18-26-27.png)

ä»¥è¿™æ ·ä¸€ä¸ªä¾‹å­ä¸ºä¾‹ï¼Œæƒ³è±¡ä¸€ä¸ªæ•°æ®åº“ï¼Œå…¶ä¸­**äººå‘˜**ç”±ç”µå­é‚®ä»¶å’Œå§“åæ ‡è¯†ï¼Œ**ç”µå½±**ç”±åç§°å’Œè¯„åˆ†æ ‡è¯†ã€‚ä¸€ä¸ª**äºº**å¯ä»¥ä¸å…¶ä»–**äºº**æˆä¸º**æœ‹å‹**ï¼Œå¹¶ä¸”ä¸€ä¸ªäººå¯ä»¥**æ‹¥æœ‰ç”µå½±**ã€‚

åœ¨æ•°æ®åº“ä¸­**åˆ›å»ºæ–°**ç”µå½±çš„å˜æ›´å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå˜æ›´ç§°ä¸º `addMovie`ï¼‰ï¼š
```javascript
mutation {
addMovie(name: "Jumanji: The Next Level", rating: "6.8/10", releaseYear: 2019) {
movies {
name
rating
}
}
}
```
**è¯·æ³¨æ„æŸ¥è¯¢ä¸­å¦‚ä½•æŒ‡æ˜äº†æ•°æ®çš„å€¼å’Œç±»å‹ã€‚**

ä¹Ÿå¯èƒ½æœ‰ä¸€ä¸ªç”¨äº**åˆ›å»º** **äººå‘˜**çš„**å˜æ›´**ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ç§°ä¸º`addPerson`ï¼‰ï¼ŒåŒ…æ‹¬æœ‹å‹å’Œæ–‡ä»¶ï¼ˆæ³¨æ„åœ¨åˆ›å»ºä¸ä»–ä»¬ç›¸å…³çš„äººå‘˜ä¹‹å‰ï¼Œæœ‹å‹å’Œå½±ç‰‡å¿…é¡»å·²ç»å­˜åœ¨ï¼‰ï¼š
```javascript
mutation {
addPerson(name: "James Yoe", email: "jy@example.com", friends: [{name: "John Doe"}, {email: "jd@example.com"}], subscribedMovies: [{name: "Rocky"}, {name: "Interstellar"}, {name: "Harry Potter and the Sorcerer's Stone"}]) {
person {
name
email
friends {
edges {
node {
name
email
}
}
}
subscribedMovies {
edges {
node {
name
rating
releaseYear
}
}
}
}
}
}
```
### åœ¨1ä¸ªAPIè¯·æ±‚ä¸­æ‰¹é‡æš´åŠ›ç ´è§£

æ­¤ä¿¡æ¯å–è‡ª [https://lab.wallarm.com/graphql-batching-attack/](https://lab.wallarm.com/graphql-batching-attack/)ã€‚é€šè¿‡GraphQL APIè¿›è¡Œè®¤è¯ï¼Œ**åŒæ—¶å‘é€è®¸å¤šå¸¦æœ‰ä¸åŒå‡­è¯çš„æŸ¥è¯¢**æ¥æ£€æŸ¥ã€‚è¿™æ˜¯ä¸€ç§ç»å…¸çš„æš´åŠ›ç ´è§£æ”»å‡»ï¼Œä½†ç”±äºGraphQLçš„æ‰¹å¤„ç†åŠŸèƒ½ï¼Œç°åœ¨å¯ä»¥åœ¨æ¯ä¸ªHTTPè¯·æ±‚ä¸­å‘é€ä¸æ­¢ä¸€ä¸ªç™»å½•/å¯†ç å¯¹ã€‚è¿™ç§æ–¹æ³•ä¼šæ¬ºéª—å¤–éƒ¨é€Ÿç‡ç›‘æ§åº”ç”¨ç¨‹åºï¼Œä½¿å…¶è®¤ä¸ºä¸€åˆ‡æ­£å¸¸ï¼Œæ²¡æœ‰è¯•å›¾çŒœæµ‹å¯†ç çš„æš´åŠ›ç ´è§£æœºå™¨äººã€‚

ä¸‹é¢æ‚¨å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåº”ç”¨ç¨‹åºè®¤è¯è¯·æ±‚çš„æœ€ç®€å•ç¤ºä¾‹ï¼Œ**ä¸€æ¬¡æœ‰3ä¸ªä¸åŒçš„ç”µå­é‚®ä»¶/å¯†ç å¯¹**ã€‚æ˜¾ç„¶ï¼Œå¯ä»¥ä»¥åŒæ ·çš„æ–¹å¼åœ¨å•ä¸ªè¯·æ±‚ä¸­å‘é€æ•°åƒä¸ªï¼š

![](<../../.gitbook/assets/image (182) (1).png>)

ä»å“åº”æˆªå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªè¯·æ±‚è¿”å›äº† _null_ å¹¶åœ¨ _error_ éƒ¨åˆ†åæ˜ äº†ç›¸åº”çš„ä¿¡æ¯ã€‚**ç¬¬äºŒä¸ªå˜æ›´æœ‰æ­£ç¡®çš„è®¤è¯**æ•°æ®ï¼Œå“åº”ä¸­æœ‰æ­£ç¡®çš„è®¤è¯ä¼šè¯ä»¤ç‰Œã€‚

![](<../../.gitbook/assets/image (119) (1).png>)

## ç¦ç”¨å†…çœçš„GraphQL

è¶Šæ¥è¶Šå¤šçš„**graphqlç«¯ç‚¹æ­£åœ¨ç¦ç”¨å†…çœ**ã€‚ç„¶è€Œï¼Œgraphqlåœ¨æ”¶åˆ°æ„å¤–è¯·æ±‚æ—¶æŠ›å‡ºçš„é”™è¯¯è¶³ä»¥è®©åƒ [**clairvoyance**](https://github.com/nikitastupin/clairvoyance) è¿™æ ·çš„å·¥å…·é‡å»ºå¤§éƒ¨åˆ†æ¶æ„ã€‚

æ­¤å¤–ï¼ŒBurp Suiteæ‰©å±• [**GraphQuail**](https://github.com/forcesunseen/graphquail) æ‰©å±•**è§‚å¯Ÿé€šè¿‡Burpçš„GraphQL APIè¯·æ±‚**å¹¶**æ„å»º**ä¸€ä¸ªå†…éƒ¨GraphQL **æ¶æ„**ï¼Œæ¯çœ‹åˆ°ä¸€ä¸ªæ–°æŸ¥è¯¢å°±æ·»åŠ è¿›å»ã€‚å®ƒè¿˜å¯ä»¥ä¸ºGraphiQLå’ŒVoyageræš´éœ²æ¶æ„ã€‚å½“æ”¶åˆ°å†…çœæŸ¥è¯¢æ—¶ï¼Œæ‰©å±•ä¼šè¿”å›ä¸€ä¸ªå‡å“åº”ã€‚ç»“æœï¼ŒGraphQuailæ˜¾ç¤ºäº†APIå†…å¯ç”¨çš„æ‰€æœ‰æŸ¥è¯¢ã€å‚æ•°å’Œå­—æ®µã€‚æ›´å¤šä¿¡æ¯è¯·[**æŸ¥çœ‹è¿™é‡Œ**](https://blog.forcesunseen.com/graphql-security-testing-without-a-schema)ã€‚

ä¸€ä¸ªä¸é”™çš„**è¯è¡¨**ï¼Œç”¨äºå‘ç°[**GraphQLå®ä½“å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°**](https://github.com/Escape-Technologies/graphql-wordlist?)ã€‚

### ç»•è¿‡GraphQLå†…çœé˜²å¾¡ <a href="#bypassing-graphql-introspection-defences" id="bypassing-graphql-introspection-defences"></a>

å¦‚æœæ‚¨æ— æ³•è®©æ‚¨æ­£åœ¨æµ‹è¯•çš„APIè¿è¡Œå†…çœæŸ¥è¯¢ï¼Œè¯·å°è¯•åœ¨`__schema`å…³é”®å­—åæ’å…¥**ç‰¹æ®Šå­—ç¬¦**ã€‚

å½“å¼€å‘è€…ç¦ç”¨å†…çœæ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æ’é™¤æŸ¥è¯¢ä¸­çš„`__schema`å…³é”®å­—ã€‚æ‚¨åº”è¯¥å°è¯•åƒ**ç©ºæ ¼**ã€**æ¢è¡Œç¬¦**å’Œ**é€—å·**è¿™æ ·çš„å­—ç¬¦ï¼Œå› ä¸ºå®ƒä»¬è¢«GraphQL**å¿½ç•¥**ï¼Œä½†ä¸ä¼šè¢«æœ‰ç¼ºé™·çš„æ­£åˆ™è¡¨è¾¾å¼å¿½ç•¥ã€‚

å› æ­¤ï¼Œå¦‚æœå¼€å‘è€…åªæ’é™¤äº†`__schema{`ï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…çœæŸ¥è¯¢å°†ä¸ä¼šè¢«æ’é™¤ã€‚
```bash
#Introspection query with newline
{
"query": "query{__schema
{queryType{name}}}"
}
```
å¦‚æœè¿™ä¸èµ·ä½œç”¨ï¼Œå°è¯•åœ¨å…¶ä»–è¯·æ±‚æ–¹æ³•ä¸Šè¿è¡Œæ¢é’ˆï¼Œå› ä¸ºå†…çœå¯èƒ½ä»…åœ¨POSTä¸Šè¢«ç¦ç”¨ã€‚å°è¯•ä¸€ä¸ªGETè¯·æ±‚ï¼Œæˆ–è€…ä¸€ä¸ªå†…å®¹ç±»å‹ä¸º`x-www-form-urlencoded`çš„POSTè¯·æ±‚ã€‚

### æ³„éœ²çš„GraphQLç»“æ„

å¦‚æœå†…çœè¢«ç¦ç”¨ï¼Œå°è¯•æŸ¥çœ‹ç½‘ç«™æºä»£ç ã€‚æŸ¥è¯¢é€šå¸¸é¢„å…ˆåŠ è½½åˆ°æµè§ˆå™¨ä¸­ä½œä¸ºjavascriptåº“ã€‚è¿™äº›é¢„å†™çš„æŸ¥è¯¢å¯ä»¥æ­ç¤ºæœ‰å…³æ¨¡å¼å’Œæ¯ä¸ªå¯¹è±¡åŠåŠŸèƒ½ä½¿ç”¨çš„å¼ºå¤§ä¿¡æ¯ã€‚å¼€å‘è€…å·¥å…·çš„`Sources`æ ‡ç­¾å¯ä»¥æœç´¢æ‰€æœ‰æ–‡ä»¶ä»¥æšä¸¾æŸ¥è¯¢ä¿å­˜çš„ä½ç½®ã€‚æœ‰æ—¶ç”šè‡³å—ç®¡ç†å‘˜ä¿æŠ¤çš„æŸ¥è¯¢å·²ç»æš´éœ²ã€‚
```javascript
Inspect/Sources/"Search all files"
file:* mutation
file:* query
```
## GraphQLä¸­çš„CSRF

å¦‚æœä½ ä¸çŸ¥é“CSRFæ˜¯ä»€ä¹ˆï¼Œè¯·é˜…è¯»ä»¥ä¸‹é¡µé¢ï¼š

{% content-ref url="../../pentesting-web/csrf-cross-site-request-forgery.md" %}
[csrf-cross-site-request-forgery.md](../../pentesting-web/csrf-cross-site-request-forgery.md)
{% endcontent-ref %}

åœ¨å¤–é¢ï¼Œä½ ä¼šå‘ç°è®¸å¤šGraphQLç«¯ç‚¹**æ²¡æœ‰é…ç½®CSRFä»¤ç‰Œã€‚**

è¯·æ³¨æ„ï¼ŒGraphQLè¯·æ±‚é€šå¸¸é€šè¿‡ä½¿ç”¨Content-Type **`application/json`** çš„POSTè¯·æ±‚å‘é€ã€‚
```javascript
{"operationName":null,"variables":{},"query":"{\n  user {\n    firstName\n    __typename\n  }\n}\n"}
```
ç„¶è€Œï¼Œå¤§å¤šæ•°GraphQLç«¯ç‚¹ä¹Ÿæ”¯æŒ **`form-urlencoded` POSTè¯·æ±‚ï¼š**
```javascript
query=%7B%0A++user+%7B%0A++++firstName%0A++++__typename%0A++%7D%0A%7D%0A
```
å› æ­¤ï¼Œç”±äºåƒå‰é¢çš„ CSRF è¯·æ±‚æ˜¯**ä¸å¸¦é¢„æ£€è¯·æ±‚å‘é€çš„**ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ CSRF æ»¥ç”¨ GraphQL æ¥**æ‰§è¡Œ**æ›´æ”¹ã€‚

ä½†æ˜¯ï¼Œè¯·æ³¨æ„ Chrome çš„ `samesite` æ ‡å¿—çš„æ–°é»˜è®¤ cookie å€¼æ˜¯ `Lax`ã€‚è¿™æ„å‘³ç€ cookie åªä¼šåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™çš„ GET è¯·æ±‚ä¸­å‘é€ã€‚

è¯·æ³¨æ„ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥å°†**æŸ¥è¯¢**è¯·æ±‚ä½œä¸º**GET**è¯·æ±‚å‘é€ï¼Œå¹¶ä¸” CSRF ä»¤ç‰Œå¯èƒ½ä¸ä¼šåœ¨ GET è¯·æ±‚ä¸­è¢«éªŒè¯ã€‚

æ­¤å¤–ï¼Œæ»¥ç”¨ [**XS-Search**](../../pentesting-web/xs-search.md) **æ”»å‡»**å¯èƒ½å¯ä»¥åˆ©ç”¨ç”¨æˆ·çš„å‡­è¯ä» GraphQL ç«¯ç‚¹æ³„éœ²å†…å®¹ã€‚

æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·**æŸ¥çœ‹**[**åŸå§‹å¸–å­**](https://blog.doyensec.com/2021/05/20/graphql-csrf.html)ã€‚

## GraphQL ä¸­çš„æˆæƒ

å®šä¹‰åœ¨ç«¯ç‚¹ä¸Šçš„è®¸å¤š GraphQL å‡½æ•°å¯èƒ½åªæ£€æŸ¥è¯·æ±‚è€…çš„èº«ä»½éªŒè¯ï¼Œè€Œä¸æ£€æŸ¥æˆæƒã€‚

ä¿®æ”¹æŸ¥è¯¢è¾“å…¥å˜é‡å¯èƒ½å¯¼è‡´æ•æ„Ÿè´¦æˆ·è¯¦æƒ…[æ³„éœ²](https://hackerone.com/reports/792927)ã€‚

Mutation ç”šè‡³å¯èƒ½å¯¼è‡´å°è¯•ä¿®æ”¹å…¶ä»–è´¦æˆ·æ•°æ®çš„è´¦æˆ·æ¥ç®¡ã€‚
```javascript
{
"operationName":"updateProfile",
"variables":{"username":INJECT,"data":INJECT},
"query":"mutation updateProfile($username: String!,...){updateProfile(username: $username,...){...}}"
}
```
### åœ¨GraphQLä¸­ç»•è¿‡æˆæƒ

[é“¾æ¥æŸ¥è¯¢](https://s1n1st3r.gitbook.io/theb10g/graphql-query-authentication-bypass-vuln)å¯ä»¥ç»•è¿‡å¼±èº«ä»½éªŒè¯ç³»ç»Ÿã€‚

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æ“ä½œæ˜¯â€œforgotPasswordâ€ï¼Œå®ƒåº”è¯¥åªæ‰§è¡Œä¸ä¹‹å…³è”çš„forgotPasswordæŸ¥è¯¢ã€‚é€šè¿‡åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªæŸ¥è¯¢å¯ä»¥ç»•è¿‡è¿™ä¸ªé™åˆ¶ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬æ·»åŠ äº†â€œregisterâ€å’Œä¸€ä¸ªç”¨æˆ·å˜é‡ï¼Œä»¥ä¾¿ç³»ç»Ÿæ³¨å†Œä¸ºæ–°ç”¨æˆ·ã€‚

<figure><img src="../../.gitbook/assets/GraphQLAuthBypassMethod.PNG" alt=""><figcaption></figcaption></figure>

## ä½¿ç”¨åˆ«åç»•è¿‡é€Ÿç‡é™åˆ¶

é€šå¸¸æƒ…å†µä¸‹ï¼ŒGraphQLå¯¹è±¡ä¸èƒ½åŒ…å«å¤šä¸ªåŒåå±æ€§ã€‚åˆ«åå…è®¸ä½ é€šè¿‡**æ˜ç¡®å‘½åä½ æƒ³è¦APIè¿”å›çš„å±æ€§**æ¥ç»•è¿‡è¿™ä¸€é™åˆ¶ã€‚ä½ å¯ä»¥ä½¿ç”¨åˆ«ååœ¨ä¸€ä¸ªè¯·æ±‚ä¸­è¿”å›**åŒä¸€ç±»å‹å¯¹è±¡çš„å¤šä¸ªå®ä¾‹**ã€‚

æœ‰å…³GraphQLåˆ«åçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[åˆ«å](https://portswigger.net/web-security/graphql/what-is-graphql#aliases)ã€‚

è™½ç„¶åˆ«åçš„ç›®çš„æ˜¯å‡å°‘ä½ éœ€è¦è¿›è¡Œçš„APIè°ƒç”¨æ¬¡æ•°ï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥ç”¨æ¥å¯¹GraphQLç«¯ç‚¹è¿›è¡Œæš´åŠ›ç ´è§£ã€‚

è®¸å¤šç«¯ç‚¹ä¼šæœ‰æŸç§**é€Ÿç‡é™åˆ¶å™¨æ¥é˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»**ã€‚ä¸€äº›é€Ÿç‡é™åˆ¶å™¨æ˜¯åŸºäºæ¥æ”¶åˆ°çš„**HTTPè¯·æ±‚æ•°é‡**è€Œä¸æ˜¯åœ¨ç«¯ç‚¹ä¸Šæ‰§è¡Œçš„æ“ä½œæ•°é‡ã€‚å› ä¸ºåˆ«åå®é™…ä¸Šå…è®¸ä½ åœ¨å•ä¸ªHTTPæ¶ˆæ¯ä¸­å‘é€å¤šä¸ªæŸ¥è¯¢ï¼Œå®ƒä»¬å¯ä»¥ç»•è¿‡è¿™ä¸ªé™åˆ¶ã€‚

ä¸‹é¢çš„ç®€åŒ–ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ç³»åˆ—**åˆ«åæŸ¥è¯¢ï¼Œæ£€æŸ¥å•†åº—æŠ˜æ‰£ç æ˜¯å¦æœ‰æ•ˆ**ã€‚è¿™ä¸ªæ“ä½œå¯èƒ½ç»•è¿‡é€Ÿç‡é™åˆ¶ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå•ä¸€çš„HTTPè¯·æ±‚ï¼Œå°½ç®¡å®ƒå¯èƒ½è¢«ç”¨æ¥ä¸€æ¬¡æ£€æŸ¥å¤§é‡çš„æŠ˜æ‰£ç ã€‚
```bash
#Request with aliased queries
query isValidDiscount($code: Int) {
isvalidDiscount(code:$code){
valid
}
isValidDiscount2:isValidDiscount(code:$code){
valid
}
isValidDiscount3:isValidDiscount(code:$code){
valid
}
}
```
## å·¥å…·

### æ¼æ´æ‰«æå™¨

* [https://github.com/gsmith257-cyber/GraphCrawler](https://github.com/gsmith257-cyber/GraphCrawler): å·¥å…·åŒ…ï¼Œå¯ç”¨äºæŠ“å–æ¶æ„å’Œæœç´¢æ•æ„Ÿæ•°æ®ï¼Œæµ‹è¯•æˆæƒï¼Œæš´åŠ›ç ´è§£æ¶æ„ï¼Œä»¥åŠæ‰¾åˆ°é€šå¾€ç»™å®šç±»å‹çš„è·¯å¾„ã€‚
* [https://blog.doyensec.com/2020/03/26/graphql-scanner.html](https://blog.doyensec.com/2020/03/26/graphql-scanner.html): å¯ä½œä¸ºç‹¬ç«‹å·¥å…·æˆ–[Burp æ‰©å±•](https://github.com/doyensec/inql)ä½¿ç”¨ã€‚
* [https://github.com/swisskyrepo/GraphQLmap](https://github.com/swisskyrepo/GraphQLmap): ä¹Ÿå¯ä»¥ä½œä¸ºCLIå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä»¥è‡ªåŠ¨åŒ–æ”»å‡»ã€‚
* [https://gitlab.com/dee-see/graphql-path-enum](https://gitlab.com/dee-see/graphql-path-enum): åˆ—å‡ºåœ¨GraphQLæ¶æ„ä¸­åˆ°è¾¾ç»™å®šç±»å‹çš„ä¸åŒæ–¹æ³•çš„å·¥å…·ã€‚
* [https://github.com/doyensec/inql](https://github.com/doyensec/inql): ç”¨äºé«˜çº§GraphQLæµ‹è¯•çš„Burpæ‰©å±•ã€‚_**Scanner**_ æ˜¯InQL v5.0çš„æ ¸å¿ƒï¼Œæ‚¨å¯ä»¥åˆ†æGraphQLç«¯ç‚¹æˆ–æœ¬åœ°è‡ªçœæ¶æ„æ–‡ä»¶ã€‚å®ƒè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„æŸ¥è¯¢å’Œå˜æ›´ï¼Œå¹¶å°†å®ƒä»¬ç»„ç»‡æˆç»“æ„åŒ–è§†å›¾ä»¥ä¾›æ‚¨åˆ†æã€‚_**Attacker**_ ç»„ä»¶å…è®¸æ‚¨è¿è¡Œæ‰¹é‡GraphQLæ”»å‡»ï¼Œè¿™å¯¹äºç»•è¿‡å®ç°ä¸ä½³çš„é€Ÿç‡é™åˆ¶å¾ˆæœ‰ç”¨ã€‚

### å®¢æˆ·ç«¯

* [https://github.com/graphql/graphiql](https://github.com/graphql/graphiql): GUIå®¢æˆ·ç«¯
* [https://altair.sirmuel.design/](https://altair.sirmuel.design/): GUIå®¢æˆ·ç«¯

### è‡ªåŠ¨åŒ–æµ‹è¯•

{% embed url="https://graphql-dashboard.herokuapp.com/" %}

* è§£é‡ŠAutoGraphQLçš„è§†é¢‘: [https://www.youtube.com/watch?v=JJmufWfVvyU](https://www.youtube.com/watch?v=JJmufWfVvyU)

## å‚è€ƒèµ„æ–™

* [**https://jondow.eu/practical-graphql-attack-vectors/**](https://jondow.eu/practical-graphql-attack-vectors/)
* [**https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696**](https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696)
* [**https://medium.com/@apkash8/graphql-vs-rest-api-model-common-security-test-cases-for-graphql-endpoints-5b723b1468b4**](https://medium.com/@apkash8/graphql-vs-rest-api-model-common-security-test-cases-for-graphql-endpoints-5b723b1468b4)
* [**http://ghostlulz.com/api-hacking-graphql/**](http://ghostlulz.com/api-hacking-graphql/)
* [**https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/GraphQL%20Injection/README.md**](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/GraphQL%20Injection/README.md)
* [**https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696**](https://medium.com/@the.bilal.rizwan/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696)
* [**https://portswigger.net/web-security/graphql**](https://portswigger.net/web-security/graphql)

<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
