# ImageMagick GÃ¼venliÄŸi

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'Ä± takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

Daha fazla ayrÄ±ntÄ±yÄ± [**https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html**](https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html) adresinde kontrol edin.

ImageMagick, Ã§ok yÃ¶nlÃ¼ bir gÃ¶rÃ¼ntÃ¼ iÅŸleme kÃ¼tÃ¼phanesi olarak, geniÅŸ seÃ§enekleri ve ayrÄ±ntÄ±lÄ± Ã§evrimiÃ§i belgelerin eksikliÄŸi nedeniyle gÃ¼venlik politikasÄ±nÄ± yapÄ±landÄ±rmada zorluklar sunmaktadÄ±r. KullanÄ±cÄ±lar genellikle parÃ§alÄ± internet kaynaklarÄ±na dayanarak politikalar oluÅŸturur, bu da potansiyel yanlÄ±ÅŸ yapÄ±landÄ±rmalara yol aÃ§ar. KÃ¼tÃ¼phane, her biri karmaÅŸÄ±klÄ±ÄŸÄ± ve gÃ¼venlik aÃ§Ä±ÄŸÄ± profilini artÄ±ran 100'den fazla gÃ¶rÃ¼ntÃ¼ formatÄ±nÄ± desteklemektedir; bu, tarihsel gÃ¼venlik olaylarÄ±yla gÃ¶sterilmiÅŸtir.

## Daha GÃ¼venli Politikalara DoÄŸru
Bu zorluklarÄ± ele almak iÃ§in, ImageMagick'in gÃ¼venlik politikalarÄ±nÄ± tasarlamaya ve denetlemeye yardÄ±mcÄ± olmak amacÄ±yla [bir araÃ§ geliÅŸtirilmiÅŸtir](https://imagemagick-secevaluator.doyensec.com/). Bu araÃ§, kapsamlÄ± araÅŸtÄ±rmalara dayanmaktadÄ±r ve politikalarÄ±n yalnÄ±zca saÄŸlam deÄŸil, aynÄ± zamanda istismar edilebilecek boÅŸluklardan da arÄ±ndÄ±rÄ±lmÄ±ÅŸ olmasÄ±nÄ± saÄŸlamayÄ± hedeflemektedir.

## Ä°zin Listesi vs. Yasak Listesi YaklaÅŸÄ±mÄ±
Tarihsel olarak, ImageMagick politikalarÄ±, belirli kodlayÄ±cÄ±larÄ±n eriÅŸiminin reddedildiÄŸi bir yasak listesi yaklaÅŸÄ±mÄ±na dayanÄ±yordu. Ancak, ImageMagick 6.9.7-7'deki deÄŸiÅŸiklikler bu paradigmayÄ± deÄŸiÅŸtirdi ve bir izin listesi yaklaÅŸÄ±mÄ±nÄ± mÃ¼mkÃ¼n kÄ±ldÄ±. Bu yaklaÅŸÄ±m, Ã¶nce tÃ¼m kodlayÄ±cÄ±larÄ±n eriÅŸimini reddeder ve ardÄ±ndan gÃ¼venilir olanlara seÃ§ici olarak eriÅŸim izni vererek gÃ¼venlik duruÅŸunu artÄ±rÄ±r.
```xml
...
<policy domain="coder" rights="none" pattern="*" />
<policy domain="coder" rights="read | write" pattern="{GIF,JPEG,PNG,WEBP}" />
...
```
## Politikalardaki BÃ¼yÃ¼k/KÃ¼Ã§Ã¼k Harf DuyarlÄ±lÄ±ÄŸÄ±
ImageMagick'teki politika desenlerinin bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarlÄ± olduÄŸunu belirtmek Ã¶nemlidir. Bu nedenle, kodlayÄ±cÄ±larÄ±n ve modÃ¼llerin politikalar iÃ§inde doÄŸru bir ÅŸekilde bÃ¼yÃ¼k harfle yazÄ±ldÄ±ÄŸÄ±ndan emin olmak, istenmeyen izinleri Ã¶nlemek iÃ§in hayati Ã¶neme sahiptir.

## Kaynak SÄ±nÄ±rlarÄ±
ImageMagick, dÃ¼zgÃ¼n yapÄ±landÄ±rÄ±lmadÄ±ÄŸÄ±nda hizmet reddi saldÄ±rÄ±larÄ±na karÅŸÄ± hassastÄ±r. Politika iÃ§inde aÃ§Ä±k kaynak sÄ±nÄ±rlarÄ± belirlemek, bu tÃ¼r zayÄ±flÄ±klarÄ± Ã¶nlemek iÃ§in gereklidir.

## Politika ParÃ§alanmasÄ±
Politikalar, farklÄ± ImageMagick kurulumlarÄ± arasÄ±nda parÃ§alanmÄ±ÅŸ olabilir ve bu da potansiyel Ã§akÄ±ÅŸmalara veya geÃ§ersiz kÄ±lmalara yol aÃ§abilir. Aktif politika dosyalarÄ±nÄ± bulmak ve doÄŸrulamak iÃ§in ÅŸu komutlar gibi komutlar kullanÄ±lmasÄ± Ã¶nerilir:
```shell
$ find / -iname policy.xml
```
## BaÅŸlangÄ±Ã§, KÄ±sÄ±tlayÄ±cÄ± Politika
KÄ±sÄ±tlayÄ±cÄ± bir politika ÅŸablonu, sÄ±kÄ± kaynak sÄ±nÄ±rlamalarÄ± ve eriÅŸim kontrollerine odaklanarak Ã¶nerilmiÅŸtir. Bu ÅŸablon, belirli uygulama gereksinimleriyle uyumlu Ã¶zel politikalarÄ±n geliÅŸtirilmesi iÃ§in bir temel olarak hizmet eder.

Bir gÃ¼venlik politikasÄ±nÄ±n etkinliÄŸi, ImageMagick'te `identify -list policy` komutu kullanÄ±larak doÄŸrulanabilir. AyrÄ±ca, daha Ã¶nce bahsedilen [deÄŸerlendirme aracÄ±](https://imagemagick-secevaluator.doyensec.com/), politikayÄ± bireysel ihtiyaÃ§lara gÃ¶re geliÅŸtirmek iÃ§in kullanÄ±labilir.

## Referanslar
* [https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html**](https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html)



{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
