# ImageMagick GÃ¼venliÄŸi

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

Daha fazla ayrÄ±ntÄ±yÄ± [**https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html**](https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html) adresinde kontrol edin.

ImageMagick, Ã§ok yÃ¶nlÃ¼ bir gÃ¶rÃ¼ntÃ¼ iÅŸleme kÃ¼tÃ¼phanesi, geniÅŸ seÃ§enekleri ve detaylÄ± Ã§evrimiÃ§i belgelendirmenin eksikliÄŸi nedeniyle gÃ¼venlik politikasÄ±nÄ± yapÄ±landÄ±rmada bir zorluk sunar. KullanÄ±cÄ±lar genellikle parÃ§alanmÄ±ÅŸ internet kaynaklarÄ±na dayalÄ± politikalar oluÅŸtururlar, bu da potansiyel yanlÄ±ÅŸ yapÄ±landÄ±rmalara yol aÃ§ar. KÃ¼tÃ¼phane, 100'den fazla gÃ¶rÃ¼ntÃ¼ formatÄ±nÄ± destekler ve her biri tarihsel gÃ¼venlik olaylarÄ± tarafÄ±ndan gÃ¶sterilen karmaÅŸÄ±klÄ±k ve zayÄ±flÄ±k profiline katkÄ±da bulunur.

## Daha GÃ¼venli Politikalar Ä°Ã§in
Bu zorluklarÄ± ele almak iÃ§in, ImageMagick'in gÃ¼venlik politikalarÄ±nÄ±n tasarlanmasÄ±na ve denetlenmesine yardÄ±mcÄ± olmak iÃ§in bir [araÃ§ geliÅŸtirilmiÅŸtir](https://imagemagick-secevaluator.doyensec.com/). Bu araÃ§, kapsamlÄ± araÅŸtÄ±rmalara dayanmaktadÄ±r ve politikalarÄ±n sadece saÄŸlam deÄŸil, aynÄ± zamanda istismar edilebilecek aÃ§Ä±klar iÃ§ermeyen ÅŸekilde olmasÄ±nÄ± amaÃ§lamaktadÄ±r.

## Allowlist vs Denylist YaklaÅŸÄ±mÄ±
Tarihsel olarak, ImageMagick politikalarÄ±, belirli kodlayÄ±cÄ±lara eriÅŸimin reddedildiÄŸi bir denylist yaklaÅŸÄ±mÄ±na dayanÄ±yordu. Ancak, ImageMagick 6.9.7-7'deki deÄŸiÅŸiklikler bu paradigmayÄ± deÄŸiÅŸtirdi ve bir allowlist yaklaÅŸÄ±mÄ±nÄ± mÃ¼mkÃ¼n kÄ±ldÄ±. Bu yaklaÅŸÄ±m Ã¶nce tÃ¼m kodlayÄ±cÄ±lara eriÅŸimi reddeder ve daha sonra gÃ¼venilir olanlara seÃ§ici olarak eriÅŸim izni vererek gÃ¼venlik durumunu artÄ±rÄ±r.
```xml
...
<policy domain="coder" rights="none" pattern="*" />
<policy domain="coder" rights="read | write" pattern="{GIF,JPEG,PNG,WEBP}" />
...
```
## Politikalardaki BÃ¼yÃ¼k-KÃ¼Ã§Ã¼k Harf DuyarlÄ±lÄ±ÄŸÄ±
ImageMagick'teki politika desenlerinin bÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf duyarlÄ± olduÄŸunu unutmamak Ã¶nemlidir. Bu nedenle, kodlayÄ±cÄ±larÄ±n ve modÃ¼llerin politikalarda doÄŸru bir ÅŸekilde bÃ¼yÃ¼k harfle yazÄ±ldÄ±ÄŸÄ±ndan emin olmak, istenmeyen izinlerin Ã¶nlenmesi iÃ§in hayati Ã¶neme sahiptir.

## Kaynak SÄ±nÄ±rlarÄ±
ImageMagick, doÄŸru bir ÅŸekilde yapÄ±landÄ±rÄ±lmazsa hizmet reddi saldÄ±rÄ±larÄ±na karÅŸÄ± hassastÄ±r. Politikada aÃ§Ä±k kaynak sÄ±nÄ±rlarÄ±nÄ± belirlemek, bu tÃ¼r zayÄ±flÄ±klarÄ±n Ã¶nlenmesi iÃ§in Ã¶nemlidir.

## Politika ParÃ§alanmasÄ±
Politikalar, farklÄ± ImageMagick kurulumlarÄ± arasÄ±nda parÃ§alanabilir ve potansiyel Ã§akÄ±ÅŸmalara veya geÃ§ersiz kÄ±lmalara neden olabilir. Etkin politika dosyalarÄ±nÄ± bulmak ve doÄŸrulamak iÃ§in aÅŸaÄŸÄ±daki gibi komutlarÄ± kullanmak Ã¶nerilir:
```shell
$ find / -iname policy.xml
```
## BaÅŸlangÄ±Ã§, KÄ±sÄ±tlayÄ±cÄ± Politika
KÄ±sÄ±tlayÄ±cÄ± bir politika ÅŸablonu Ã¶nerilmiÅŸtir ve sÄ±kÄ± kaynak sÄ±nÄ±rlamalarÄ± ve eriÅŸim kontrollerine odaklanmaktadÄ±r. Bu ÅŸablon, belirli uygulama gereksinimleriyle uyumlu Ã¶zelleÅŸtirilmiÅŸ politikalar geliÅŸtirmek iÃ§in bir temel olarak hizmet vermektedir.

Bir gÃ¼venlik politikasÄ±nÄ±n etkinliÄŸi, ImageMagick'te `identify -list policy` komutunu kullanarak doÄŸrulanabilir. AyrÄ±ca, daha Ã¶nce bahsedilen [deÄŸerlendirici araÃ§](https://imagemagick-secevaluator.doyensec.com/), bireysel ihtiyaÃ§lara dayalÄ± olarak politikayÄ± iyileÅŸtirmek iÃ§in kullanÄ±labilir.

## Referanslar
* [https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html**](https://blog.doyensec.com/2023/01/10/imagemagick-security-policy-evaluator.html)



<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olacak ÅŸekilde Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
