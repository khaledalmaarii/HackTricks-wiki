# Nginx

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="/.gitbook/assets/pentest-tools.svg" alt=""><figcaption></figcaption></figure>

**Natychmiast dostÄ™pna konfiguracja do oceny podatnoÅ›ci i testÃ³w penetracyjnych**. PrzeprowadÅº peÅ‚ny pentest z dowolnego miejsca z ponad 20 narzÄ™dziami i funkcjami, ktÃ³re obejmujÄ… od rekonesansu po raportowanie. Nie zastÄ™pujemy pentesterÃ³w - rozwijamy niestandardowe narzÄ™dzia, moduÅ‚y wykrywania i eksploatacji, aby daÄ‡ im z powrotem trochÄ™ czasu na gÅ‚Ä™bsze badania, przeÅ‚amywanie zabezpieczeÅ„ i zabawÄ™.

{% embed url="https://pentest-tools.com/?utm_term=jul2024&utm_medium=link&utm_source=hacktricks&utm_campaign=spons" %}

## Missing root location <a href="#missing-root-location" id="missing-root-location"></a>

Podczas konfigurowania serwera Nginx, **dyrektywa root** odgrywa kluczowÄ… rolÄ™, definiujÄ…c katalog bazowy, z ktÃ³rego serwowane sÄ… pliki. RozwaÅ¼ poniÅ¼szy przykÅ‚ad:
```bash
server {
root /etc/nginx;

location /hello.txt {
try_files $uri $uri/ =404;
proxy_pass http://127.0.0.1:8080/;
}
}
```
W tej konfiguracji `/etc/nginx` jest wyznaczone jako katalog gÅ‚Ã³wny. Ta konfiguracja umoÅ¼liwia dostÄ™p do plikÃ³w w okreÅ›lonym katalogu gÅ‚Ã³wnym, takich jak `/hello.txt`. Jednak waÅ¼ne jest, aby zauwaÅ¼yÄ‡, Å¼e zdefiniowana jest tylko konkretna lokalizacja (`/hello.txt`). Nie ma konfiguracji dla lokalizacji gÅ‚Ã³wnej (`location / {...}`). To pominiÄ™cie oznacza, Å¼e dyrektywa root ma zastosowanie globalnie, co umoÅ¼liwia Å¼Ä…daniom do Å›cieÅ¼ki gÅ‚Ã³wnej `/` dostÄ™p do plikÃ³w w `/etc/nginx`.

Krytyczne zagadnienie bezpieczeÅ„stwa wynika z tej konfiguracji. Proste Å¼Ä…danie `GET`, takie jak `GET /nginx.conf`, moÅ¼e ujawniÄ‡ wraÅ¼liwe informacje, serwujÄ…c plik konfiguracyjny Nginx znajdujÄ…cy siÄ™ w `/etc/nginx/nginx.conf`. Ustawienie katalogu gÅ‚Ã³wnego na mniej wraÅ¼liwy katalog, taki jak `/etc`, moÅ¼e zÅ‚agodziÄ‡ to ryzyko, jednak nadal moÅ¼e umoÅ¼liwiÄ‡ niezamierzony dostÄ™p do innych krytycznych plikÃ³w, w tym innych plikÃ³w konfiguracyjnych, dziennikÃ³w dostÄ™pu, a nawet zaszyfrowanych poÅ›wiadczeÅ„ uÅ¼ywanych do podstawowej autoryzacji HTTP.

## Alias LFI Misconfiguration <a href="#alias-lfi-misconfiguration" id="alias-lfi-misconfiguration"></a>

W plikach konfiguracyjnych Nginx naleÅ¼y dokÅ‚adnie sprawdziÄ‡ dyrektywy "location". WraÅ¼liwoÅ›Ä‡ znana jako Local File Inclusion (LFI) moÅ¼e byÄ‡ niezamierzenie wprowadzona przez konfiguracjÄ™, ktÃ³ra przypomina nastÄ™pujÄ…cÄ…:
```
location /imgs {
alias /path/images/;
}
```
Ta konfiguracja jest podatna na ataki LFI, poniewaÅ¼ serwer interpretuje Å¼Ä…dania takie jak `/imgs../flag.txt` jako prÃ³bÄ™ uzyskania dostÄ™pu do plikÃ³w poza zamierzonym katalogiem, co skutkuje efektywnym rozwiÄ…zaniem do `/path/images/../flag.txt`. Ta wada pozwala atakujÄ…cym na pobieranie plikÃ³w z systemu plikÃ³w serwera, ktÃ³re nie powinny byÄ‡ dostÄ™pne przez sieÄ‡.

Aby zÅ‚agodziÄ‡ tÄ™ podatnoÅ›Ä‡, konfiguracja powinna zostaÄ‡ dostosowana do:
```
location /imgs/ {
alias /path/images/;
}
```
WiÄ™cej informacji: [https://www.acunetix.com/vulnerabilities/web/path-traversal-via-misconfigured-nginx-alias/](https://www.acunetix.com/vulnerabilities/web/path-traversal-via-misconfigured-nginx-alias/)

Testy Accunetix:
```
alias../ => HTTP status code 403
alias.../ => HTTP status code 404
alias../../ => HTTP status code 403
alias../../../../../../../../../../../ => HTTP status code 400
alias../ => HTTP status code 403
```
## Unsafe path restriction <a href="#unsafe-variable-use" id="unsafe-variable-use"></a>

SprawdÅº nastÄ™pujÄ…cÄ… stronÄ™, aby dowiedzieÄ‡ siÄ™, jak obejÅ›Ä‡ dyrektywy takie jak:
```plaintext
location = /admin {
deny all;
}

location = /admin/ {
deny all;
}
```
{% content-ref url="../../pentesting-web/proxy-waf-protections-bypass.md" %}
[proxy-waf-protections-bypass.md](../../pentesting-web/proxy-waf-protections-bypass.md)
{% endcontent-ref %}

## Niebezpieczne uÅ¼ycie zmiennych / PodziaÅ‚ Å¼Ä…dania HTTP <a href="#unsafe-variable-use" id="unsafe-variable-use"></a>

{% hint style="danger" %}
WraÅ¼liwe zmienne `$uri` i `$document_uri`, ktÃ³re moÅ¼na naprawiÄ‡, zastÄ™pujÄ…c je `$request_uri`.

WyraÅ¼enie regularne rÃ³wnieÅ¼ moÅ¼e byÄ‡ wraÅ¼liwe, jak:

`location ~ /docs/([^/])? { â€¦ $1 â€¦ }` - WraÅ¼liwe&#x20;

`location ~ /docs/([^/\s])? { â€¦ $1 â€¦ }` - Nie wraÅ¼liwe (sprawdza spacje)

`location ~ /docs/(.*)? { â€¦ $1 â€¦ }`  - Nie wraÅ¼liwe
{% endhint %}

WraÅ¼liwoÅ›Ä‡ w konfiguracji Nginx jest pokazana w poniÅ¼szym przykÅ‚adzie:
```
location / {
return 302 https://example.com$uri;
}
```
Znaki \r (Carriage Return) i \n (Line Feed) oznaczajÄ… znaki nowej linii w Å¼Ä…daniach HTTP, a ich zakodowane formy URL sÄ… reprezentowane jako `%0d%0a`. WÅ‚Ä…czenie tych znakÃ³w w Å¼Ä…daniu (np. `http://localhost/%0d%0aDetectify:%20clrf`) do Åºle skonfigurowanego serwera skutkuje tym, Å¼e serwer wydaje nowy nagÅ‚Ã³wek o nazwie `Detectify`. Dzieje siÄ™ tak, poniewaÅ¼ zmienna $uri dekoduje zakodowane w URL znaki nowej linii, co prowadzi do nieoczekiwanego nagÅ‚Ã³wka w odpowiedzi:
```
HTTP/1.1 302 Moved Temporarily
Server: nginx/1.19.3
Content-Type: text/html
Content-Length: 145
Connection: keep-alive
Location: https://example.com/
Detectify: clrf
```
Dowiedz siÄ™ wiÄ™cej o ryzykach zwiÄ…zanych z wstrzykiwaniem CRLF i dzieleniem odpowiedzi na [https://blog.detectify.com/2019/06/14/http-response-splitting-exploitations-and-mitigations/](https://blog.detectify.com/2019/06/14/http-response-splitting-exploitations-and-mitigations/).

Ta technika jest rÃ³wnieÅ¼ [**wyjaÅ›niona w tej prezentacji**](https://www.youtube.com/watch?v=gWQyWdZbdoY\&list=PL0xCSYnG\_iTtJe2V6PQqamBF73n7-f1Nr\&index=77) z przykÅ‚adami podatnoÅ›ci i mechanizmami wykrywania. Na przykÅ‚ad, aby wykryÄ‡ tÄ™ bÅ‚Ä™dnÄ… konfiguracjÄ™ z perspektywy czarnej skrzynki, moÅ¼esz uÅ¼yÄ‡ tych Å¼Ä…daÅ„:

* `https://example.com/%20X` - Dowolny kod HTTP
* `https://example.com/%20H` - 400 Bad Request

JeÅ›li jest podatny, pierwsze zwrÃ³ci jako "X", poniewaÅ¼ jest to dowolna metoda HTTP, a drugie zwrÃ³ci bÅ‚Ä…d, poniewaÅ¼ H nie jest prawidÅ‚owÄ… metodÄ…. Serwer otrzyma coÅ› takiego: `GET / H HTTP/1.1` i to spowoduje bÅ‚Ä…d.

Inne przykÅ‚ady wykrywania to:

* `http://company.tld/%20HTTP/1.1%0D%0AXXXX:%20x` - Dowolny kod HTTP
* `http://company.tld/%20HTTP/1.1%0D%0AHost:%20x` - 400 Bad Request

NiektÃ³re znalezione podatne konfiguracje przedstawione w tej prezentacji to:

* ZauwaÅ¼, jak **`$uri`** jest ustawione tak, jak jest w koÅ„cowym URL
```
location ^~ /lite/api/ {
proxy_pass http://lite-backend$uri$is_args$args;
}
```
* ZauwaÅ¼, jak ponownie **`$uri`** znajduje siÄ™ w URL (tym razem wewnÄ…trz parametru)
```
location ~ ^/dna/payment {
rewrite ^/dna/([^/]+) /registered/main.pl?cmd=unifiedPayment&context=$1&native_uri=$uri break;
proxy_pass http://$back;
```
* Teraz w AWS S3
```
location /s3/ {
proxy_pass https://company-bucket.s3.amazonaws.com$uri;
}
```
### Any variable

Odkryto, Å¼e **dane dostarczone przez uÅ¼ytkownika** mogÄ… byÄ‡ traktowane jako **zmienna Nginx** w okreÅ›lonych okolicznoÅ›ciach. Przyczyna tego zachowania pozostaje nieco niejasna, jednak nie jest to rzadkie ani proste do weryfikacji. Ta anomalia zostaÅ‚a podkreÅ›lona w raporcie bezpieczeÅ„stwa na HackerOne, ktÃ³ry moÅ¼na zobaczyÄ‡ [tutaj](https://hackerone.com/reports/370094). Dalsze badania nad komunikatem o bÅ‚Ä™dzie doprowadziÅ‚y do identyfikacji jego wystÄ…pienia w [module filtra SSI w kodzie Nginx](https://github.com/nginx/nginx/blob/2187586207e1465d289ae64cedc829719a048a39/src/http/modules/ngx\_http\_ssi\_filter\_module.c#L365), wskazujÄ…c na Server Side Includes (SSI) jako przyczynÄ™.

Aby **wykryÄ‡ tÄ™ bÅ‚Ä™dnÄ… konfiguracjÄ™**, moÅ¼na wykonaÄ‡ nastÄ™pujÄ…ce polecenie, ktÃ³re polega na ustawieniu nagÅ‚Ã³wka referer w celu przetestowania drukowania zmiennej:
```bash
$ curl -H â€˜Referer: barâ€™ http://localhost/foo$http_referer | grep â€˜foobarâ€™
```
Skany tej niewÅ‚aÅ›ciwej konfiguracji w rÃ³Å¼nych systemach ujawniÅ‚y wiele przypadkÃ³w, w ktÃ³rych zmienne Nginx mogÅ‚y byÄ‡ wyÅ›wietlane przez uÅ¼ytkownika. Jednak spadek liczby podatnych przypadkÃ³w sugeruje, Å¼e wysiÅ‚ki na rzecz naprawienia tego problemu byÅ‚y w pewnym stopniu skuteczne.

## Odczyt surowej odpowiedzi backendu

Nginx oferuje funkcjÄ™ poprzez `proxy_pass`, ktÃ³ra umoÅ¼liwia przechwytywanie bÅ‚Ä™dÃ³w i nagÅ‚Ã³wkÃ³w HTTP generowanych przez backend, majÄ…c na celu ukrycie wewnÄ™trznych komunikatÃ³w o bÅ‚Ä™dach i nagÅ‚Ã³wkÃ³w. OsiÄ…ga siÄ™ to poprzez serwowanie przez Nginx niestandardowych stron bÅ‚Ä™dÃ³w w odpowiedzi na bÅ‚Ä™dy backendu. Jednak pojawiajÄ… siÄ™ wyzwania, gdy Nginx napotyka nieprawidÅ‚owe Å¼Ä…danie HTTP. Takie Å¼Ä…danie jest przekazywane do backendu w takiej formie, w jakiej zostaÅ‚o odebrane, a surowa odpowiedÅº backendu jest nastÄ™pnie bezpoÅ›rednio wysyÅ‚ana do klienta bez interwencji Nginx.

RozwaÅ¼my przykÅ‚adowy scenariusz z aplikacjÄ… uWSGI:
```python
def application(environ, start_response):
start_response('500 Error', [('Content-Type', 'text/html'), ('Secret-Header', 'secret-info')])
return [b"Secret info, should not be visible!"]
```
Aby to zarzÄ…dzaÄ‡, w konfiguracji Nginx uÅ¼ywane sÄ… specyficzne dyrektywy:
```
http {
error_page 500 /html/error.html;
proxy_intercept_errors on;
proxy_hide_header Secret-Header;
}
```
* [**proxy\_intercept\_errors**](http://nginx.org/en/docs/http/ngx\_http\_proxy\_module.html#proxy\_intercept\_errors): Ta dyrektywa umoÅ¼liwia Nginxowi serwowanie niestandardowej odpowiedzi dla odpowiedzi backendu z kodem statusu wiÄ™kszym niÅ¼ 300. Zapewnia, Å¼e w naszym przykÅ‚adzie aplikacji uWSGI odpowiedÅº `500 Error` jest przechwytywana i obsÅ‚ugiwana przez Nginx.
* [**proxy\_hide\_header**](http://nginx.org/en/docs/http/ngx\_http\_proxy\_module.html#proxy\_hide\_header): Jak sama nazwa wskazuje, ta dyrektywa ukrywa okreÅ›lone nagÅ‚Ã³wki HTTP przed klientem, zwiÄ™kszajÄ…c prywatnoÅ›Ä‡ i bezpieczeÅ„stwo.

Gdy zostanie wysÅ‚ane waÅ¼ne Å¼Ä…danie `GET`, Nginx przetwarza je normalnie, zwracajÄ…c standardowÄ… odpowiedÅº bÅ‚Ä™du bez ujawniania jakichkolwiek tajnych nagÅ‚Ã³wkÃ³w. Jednak nieprawidÅ‚owe Å¼Ä…danie HTTP omija ten mechanizm, co skutkuje ujawnieniem surowych odpowiedzi backendu, w tym tajnych nagÅ‚Ã³wkÃ³w i komunikatÃ³w o bÅ‚Ä™dach.

## merge\_slashes ustawione na off

DomyÅ›lnie dyrektywa **`merge_slashes`** w Nginx jest ustawiona na **`on`**, co kompresuje wiele ukoÅ›nikÃ³w w URL w jeden ukoÅ›nik. Ta funkcja, choÄ‡ upraszcza przetwarzanie URL, moÅ¼e nieumyÅ›lnie ukrywaÄ‡ luki w aplikacjach za Nginx, szczegÃ³lnie tych podatnych na ataki lokalnego wÅ‚Ä…czenia plikÃ³w (LFI). Eksperci ds. bezpieczeÅ„stwa **Danny Robinson i Rotem Bar** podkreÅ›lili potencjalne ryzyko zwiÄ…zane z tym domyÅ›lnym zachowaniem, szczegÃ³lnie gdy Nginx dziaÅ‚a jako reverse-proxy.

Aby zÅ‚agodziÄ‡ takie ryzyko, zaleca siÄ™ **wyÅ‚Ä…czenie dyrektywy `merge_slashes`** dla aplikacji podatnych na te luki. Zapewnia to, Å¼e Nginx przekazuje Å¼Ä…dania do aplikacji bez zmiany struktury URL, a tym samym nie maskuje Å¼adnych ukrytych problemÃ³w z bezpieczeÅ„stwem.

Aby uzyskaÄ‡ wiÄ™cej informacji, sprawdÅº [Danny Robinson i Rotem Bar](https://medium.com/appsflyer/nginx-may-be-protecting-your-applications-from-traversal-attacks-without-you-even-knowing-b08f882fd43d).

### **Maclicious Response Headers**

Jak pokazano w [**tym artykule**](https://mizu.re/post/cors-playground), istniejÄ… pewne nagÅ‚Ã³wki, ktÃ³re, jeÅ›li sÄ… obecne w odpowiedzi z serwera WWW, zmieniÄ… zachowanie proxy Nginx. MoÅ¼esz je sprawdziÄ‡ [**w dokumentacji**](https://www.nginx.com/resources/wiki/start/topics/examples/x-accel/):

* `X-Accel-Redirect`: Wskazuje Nginxowi, aby wewnÄ™trznie przekierowaÅ‚ Å¼Ä…danie do okreÅ›lonej lokalizacji.
* `X-Accel-Buffering`: Kontroluje, czy Nginx powinien buforowaÄ‡ odpowiedÅº, czy nie.
* `X-Accel-Charset`: Ustawia zestaw znakÃ³w dla odpowiedzi przy uÅ¼yciu X-Accel-Redirect.
* `X-Accel-Expires`: Ustawia czas wygaÅ›niÄ™cia dla odpowiedzi przy uÅ¼yciu X-Accel-Redirect.
* `X-Accel-Limit-Rate`: Ogranicza szybkoÅ›Ä‡ transferu dla odpowiedzi przy uÅ¼yciu X-Accel-Redirect.

Na przykÅ‚ad nagÅ‚Ã³wek **`X-Accel-Redirect`** spowoduje wewnÄ™trzne **przekierowanie** w Nginx. Tak wiÄ™c posiadanie konfiguracji nginx z czymÅ› takim jak **`root /`** i odpowiedzi z serwera WWW z **`X-Accel-Redirect: .env`** spowoduje, Å¼e nginx wyÅ›le zawartoÅ›Ä‡ **`/.env`** (Path Traversal).

### **WartoÅ›Ä‡ domyÅ›lna w dyrektywie map**

W **konfiguracji Nginx** dyrektywa `map` czÄ™sto odgrywa rolÄ™ w **kontroli autoryzacji**. Powszechnym bÅ‚Ä™dem jest nieokreÅ›lenie wartoÅ›ci **domyÅ›lnej**, co moÅ¼e prowadziÄ‡ do nieautoryzowanego dostÄ™pu. Na przykÅ‚ad:
```yaml
http {
map $uri $mappocallow {
/map-poc/private 0;
/map-poc/secret 0;
/map-poc/public 1;
}
}
```

```yaml
server {
location /map-poc {
if ($mappocallow = 0) {return 403;}
return 200 "Hello. It is private area: $mappocallow";
}
}
```
Bez `default`, **zÅ‚oÅ›liwy uÅ¼ytkownik** moÅ¼e obejÅ›Ä‡ zabezpieczenia, uzyskujÄ…c dostÄ™p do **niezdefiniowanego URI** w `/map-poc`. [PodrÄ™cznik Nginx](https://nginx.org/en/docs/http/ngx\_http\_map\_module.html) zaleca ustawienie **wartoÅ›ci domyÅ›lnej**, aby uniknÄ…Ä‡ takich problemÃ³w.

### **Luka w Spoofingu DNS**

Spoofing DNS przeciwko Nginx jest moÅ¼liwy w okreÅ›lonych warunkach. JeÅ›li atakujÄ…cy zna **serwer DNS** uÅ¼ywany przez Nginx i moÅ¼e przechwyciÄ‡ jego zapytania DNS, moÅ¼e sfaÅ‚szowaÄ‡ rekordy DNS. Ta metoda jest jednak nieskuteczna, jeÅ›li Nginx jest skonfigurowany do uÅ¼ywania **localhost (127.0.0.1)** do rozwiÄ…zywania DNS. Nginx pozwala na okreÅ›lenie serwera DNS w nastÄ™pujÄ…cy sposÃ³b:
```yaml
resolver 8.8.8.8;
```
### **`proxy_pass` i `internal` Dyrektywy**

Dyrektywa **`proxy_pass`** jest wykorzystywana do przekierowywania Å¼Ä…daÅ„ do innych serwerÃ³w, zarÃ³wno wewnÄ™trznych, jak i zewnÄ™trznych. Dyrektywa **`internal`** zapewnia, Å¼e niektÃ³re lokalizacje sÄ… dostÄ™pne tylko wewnÄ…trz Nginx. ChociaÅ¼ te dyrektywy same w sobie nie sÄ… lukami, ich konfiguracja wymaga starannego zbadania, aby zapobiec lukom w zabezpieczeniach.

## proxy\_set\_header Upgrade & Connection

JeÅ›li serwer nginx jest skonfigurowany do przekazywania nagÅ‚Ã³wkÃ³w Upgrade i Connection, moÅ¼na przeprowadziÄ‡ [**atak h2c Smuggling**](../../pentesting-web/h2c-smuggling.md), aby uzyskaÄ‡ dostÄ™p do chronionych/wewnÄ™trznych punktÃ³w koÅ„cowych.

{% hint style="danger" %}
Ta luka pozwoliÅ‚aby atakujÄ…cemu na **nawiÄ…zanie bezpoÅ›redniego poÅ‚Ä…czenia z punktem koÅ„cowym `proxy_pass`** (`http://backend:9999` w tym przypadku), ktÃ³rego zawartoÅ›Ä‡ nie bÄ™dzie sprawdzana przez nginx.
{% endhint %}

PrzykÅ‚ad podatnej konfiguracji do kradzieÅ¼y `/flag` z [tutaj](https://bishopfox.com/blog/h2c-smuggling-request):
```
server {
listen       443 ssl;
server_name  localhost;

ssl_certificate       /usr/local/nginx/conf/cert.pem;
ssl_certificate_key   /usr/local/nginx/conf/privkey.pem;

location / {
proxy_pass http://backend:9999;
proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection $http_connection;
}

location /flag {
deny all;
}
```
{% hint style="warning" %}
ZauwaÅ¼, Å¼e nawet jeÅ›li `proxy_pass` wskazywaÅ‚ na konkretnÄ… **Å›cieÅ¼kÄ™** takÄ… jak `http://backend:9999/socket.io`, poÅ‚Ä…czenie zostanie nawiÄ…zane z `http://backend:9999`, wiÄ™c moÅ¼esz **skontaktowaÄ‡ siÄ™ z kaÅ¼dÄ… innÄ… Å›cieÅ¼kÄ… wewnÄ…trz tego wewnÄ™trznego punktu koÅ„cowego. WiÄ™c nie ma znaczenia, czy Å›cieÅ¼ka jest okreÅ›lona w URL proxy_pass.**
{% endhint %}

## SprÃ³buj sam

Detectify stworzyÅ‚ repozytorium na GitHubie, w ktÃ³rym moÅ¼esz uÅ¼yÄ‡ Dockera do skonfigurowania wÅ‚asnego podatnego serwera testowego Nginx z niektÃ³rymi z omÃ³wionych w tym artykule bÅ‚Ä™dÃ³w konfiguracyjnych i sprÃ³bowaÄ‡ je znaleÅºÄ‡ samodzielnie!

[https://github.com/detectify/vulnerable-nginx](https://github.com/detectify/vulnerable-nginx)

## NarzÄ™dzia analizy statycznej

### [GIXY](https://github.com/yandex/gixy)

Gixy to narzÄ™dzie do analizy konfiguracji Nginx. GÅ‚Ã³wnym celem Gixy jest zapobieganie bÅ‚Ä™dom konfiguracyjnym zwiÄ…zanym z bezpieczeÅ„stwem oraz automatyzacja wykrywania wad.

### [Nginxpwner](https://github.com/stark0de/nginxpwner)

Nginxpwner to proste narzÄ™dzie do wyszukiwania powszechnych bÅ‚Ä™dÃ³w konfiguracyjnych Nginx i podatnoÅ›ci.

## Odniesienia

* [**https://blog.detectify.com/2020/11/10/common-nginx-misconfigurations/**](https://blog.detectify.com/2020/11/10/common-nginx-misconfigurations/)
* [**http://blog.zorinaq.com/nginx-resolver-vulns/**](http://blog.zorinaq.com/nginx-resolver-vulns/)
* [**https://github.com/yandex/gixy/issues/115**](https://github.com/yandex/gixy/issues/115)

<figure><img src="/.gitbook/assets/pentest-tools.svg" alt=""><figcaption></figcaption></figure>

**Natychmiast dostÄ™pna konfiguracja do oceny podatnoÅ›ci i testÃ³w penetracyjnych**. PrzeprowadÅº peÅ‚ny pentest z dowolnego miejsca z ponad 20 narzÄ™dziami i funkcjami, ktÃ³re obejmujÄ… od rekonesansu po raportowanie. Nie zastÄ™pujemy pentesterÃ³w - rozwijamy niestandardowe narzÄ™dzia, moduÅ‚y wykrywania i eksploatacji, aby daÄ‡ im z powrotem trochÄ™ czasu na gÅ‚Ä™bsze badania, przeÅ‚amywanie zabezpieczeÅ„ i zabawÄ™.

{% embed url="https://pentest-tools.com/?utm_term=jul2024&utm_medium=link&utm_source=hacktricks&utm_campaign=spons" %}

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na GitHubie.

</details>
{% endhint %}
