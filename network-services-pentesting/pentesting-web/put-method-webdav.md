# WebDav

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturabilir ve otomatikleÅŸtirebilirsiniz.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* Hacking hilelerinizi **HackTricks** ve **HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

**WebDav Ã¶zelliÄŸine sahip bir HTTP Sunucusu** ile uÄŸraÅŸÄ±rken, genellikle **HTTP Temel Kimlik DoÄŸrulama** aracÄ±lÄ±ÄŸÄ±yla doÄŸrulanan **geÃ§erli kimlik bilgilerine** sahipseniz, dosyalarÄ± **manipÃ¼le etmek** mÃ¼mkÃ¼ndÃ¼r. BÃ¶yle bir sununun kontrolÃ¼nÃ¼ ele geÃ§irmek genellikle bir web kabuÄŸunun **yÃ¼klenmesi ve yÃ¼rÃ¼tÃ¼lmesini** iÃ§erir.

WebDav sunucusuna eriÅŸim genellikle [**WebDav brute force**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) ile elde edilen geÃ§erli kimlik bilgilerini gerektirir.

Dosya yÃ¼klemelerinde, Ã¶zellikle sunucu tarafÄ± betiklerin yÃ¼rÃ¼tÃ¼lmesini engelleyen kÄ±sÄ±tlamalarÄ± aÅŸmak iÃ§in ÅŸunlarÄ± yapabilirsiniz:

- **YÃ¼rÃ¼tÃ¼lebilir uzantÄ±lara** sahip dosyalarÄ± doÄŸrudan yÃ¼kleyin, eÄŸer kÄ±sÄ±tlanmamÄ±ÅŸsa.
- YÃ¼klenen yÃ¼rÃ¼tÃ¼lemez dosyalarÄ± (Ã¶rneÄŸin .txt) yÃ¼rÃ¼tÃ¼lebilir bir uzantÄ±ya **yeniden adlandÄ±rÄ±n**.
- YÃ¼klenen yÃ¼rÃ¼tÃ¼lemez dosyalarÄ±, uzantÄ±larÄ±nÄ± yÃ¼rÃ¼tÃ¼lebilir olan bir uzantÄ±yla **kopyalayÄ±n**.

## DavTest

**Davtest**, **farklÄ± uzantÄ±lara sahip birkaÃ§ dosyayÄ± yÃ¼klemeyi dener** ve uzantÄ±nÄ±n **yÃ¼rÃ¼tÃ¼lÃ¼p yÃ¼rÃ¼tÃ¼lmediÄŸini kontrol eder**:
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
Ã–rnek Ã§Ä±ktÄ±:

![](<../../.gitbook/assets/image (19) (1).png>)

Bu, **.txt** ve **.html uzantÄ±larÄ±nÄ±n yÃ¼rÃ¼tÃ¼ldÃ¼ÄŸÃ¼** anlamÄ±na gelmez. Bu, bu dosyalara web Ã¼zerinden **eriÅŸebileceÄŸiniz** anlamÄ±na gelir.

## Cadaver

Bu aracÄ± kullanarak WebDav sunucusuna **baÄŸlanabilir** ve **elle** (yÃ¼kleme, taÅŸÄ±ma veya silme gibi) iÅŸlemler yapabilirsiniz.
```
cadaver <IP>
```
## PUT isteÄŸi

The PUT method is used to update or create a resource on a server. It sends data to the server to be stored at a specific URL. If the URL already exists, the data will be updated; if not, a new resource will be created.

PUT isteÄŸi, bir sunucuda bir kaynaÄŸÄ± gÃ¼ncellemek veya oluÅŸturmak iÃ§in kullanÄ±lÄ±r. Belirli bir URL'de depolanmasÄ± iÃ§in verileri sunucuya gÃ¶nderir. EÄŸer URL zaten varsa, veriler gÃ¼ncellenecektir; yoksa yeni bir kaynak oluÅŸturulacaktÄ±r.
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE isteÄŸi

The MOVE request is used in WebDAV to move a resource from one location to another. It is similar to the HTTP PUT method, but instead of creating a new resource, it moves an existing resource to a new location. The MOVE request is typically used to rename or relocate files and directories on a WebDAV server.

MOVE isteÄŸi, WebDAV'da bir kaynaÄŸÄ± bir konumdan baÅŸka bir konuma taÅŸÄ±mak iÃ§in kullanÄ±lÄ±r. HTTP PUT yÃ¶ntemine benzer, ancak yeni bir kaynak oluÅŸturmak yerine mevcut bir kaynaÄŸÄ± yeni bir konuma taÅŸÄ±r. MOVE isteÄŸi genellikle WebDAV sunucusunda dosya ve dizinleri yeniden adlandÄ±rmak veya taÅŸÄ±mak iÃ§in kullanÄ±lÄ±r.

The syntax of a MOVE request is as follows:

MOVE /source-resource HTTP/1.1
Host: example.com
Destination: /destination-resource

MOVE isteÄŸinin sÃ¶zdizimi aÅŸaÄŸÄ±daki gibidir:

MOVE /kaynak-kaynak HTTP/1.1
Host: ornek.com
Destination: /hedef-kaynak

In this example, the MOVE request is used to move the resource located at "/source-resource" to the new location "/destination-resource" on the WebDAV server hosted at "example.com".

Bu Ã¶rnekte, MOVE isteÄŸi "/kaynak-kaynak" konumundaki kaynaÄŸÄ± "ornek.com" Ã¼zerindeki WebDAV sunucusunda yeni konuma "/hedef-kaynak" taÅŸÄ±mak iÃ§in kullanÄ±lÄ±r.
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturabilir ve otomatikleÅŸtirebilirsiniz.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## IIS5/6 WebDav Zafiyeti

Bu zafiyet oldukÃ§a ilginÃ§tir. **WebDav**, dosyalarÄ±n **.asp** uzantÄ±sÄ±yla **yÃ¼klenmesine** veya **yeniden adlandÄ±rÄ±lmasÄ±na izin vermez**. Ancak, dosya adÄ±nÄ±n sonuna **";.txt"** ekleyerek bunu **geÃ§ebilirsiniz** ve dosya, bir .asp dosyasÄ±ymÄ±ÅŸ gibi **Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r** (".txt" yerine ".html" de kullanabilirsiniz, ancak **";"** iÅŸaretini **unutmayÄ±n**).

Daha sonra, kabuÄŸunuzu bir ".**txt" dosyasÄ±** olarak **yÃ¼kleyebilir** ve onu bir ".asp;.txt" dosyasÄ±na **kopyalayabilir/taÅŸÄ±yabilirsiniz**. Web sunucusu Ã¼zerinden bu dosyaya eriÅŸildiÄŸinde, dosya **Ã§alÄ±ÅŸtÄ±rÄ±lacaktÄ±r** (cadaver, taÅŸÄ±ma iÅŸleminin Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± sÃ¶ylese de, Ã§alÄ±ÅŸÄ±r).

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## Kimlik bilgilerini gÃ¶nder

Webdav, Apache sunucusu kullanÄ±yorsa, yapÄ±landÄ±rÄ±lmÄ±ÅŸ sitelere Apache iÃ§inde bakmalÄ±sÄ±nÄ±z. Genellikle:\
_**/etc/apache2/sites-enabled/000-default**_

Ä°Ã§inde ÅŸuna benzer bir ÅŸey bulabilirsiniz:
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi, **webdav** sunucusu iÃ§in geÃ§erli **kimlik bilgileri** ile dosyalar bulunmaktadÄ±r:
```
/etc/apache2/users.password
```
Bu tÃ¼r dosyalarÄ±n iÃ§inde **kullanÄ±cÄ± adÄ±** ve ÅŸifrenin **hash**'i bulunur. Bunlar, webdav sunucusunun kullanÄ±cÄ±larÄ± doÄŸrulamak iÃ§in kullandÄ±ÄŸÄ± kimlik bilgileridir.

OnlarÄ± **kÄ±rmayÄ±** veya **daha fazla eklemeyi** deneyebilirsiniz, eÄŸer bir nedenle **webdav** sunucusuna **eriÅŸmek** isterseniz:
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
Yeni kimlik bilgilerinin Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in ÅŸunlarÄ± yapabilirsiniz:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## Referanslar
* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
DÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin** iÃ§in [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanÄ±n.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
