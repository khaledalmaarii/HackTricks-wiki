# WebDav

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬**ë¥¼ í™œìš©í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>

**WebDavê°€ í™œì„±í™”ëœ HTTP ì„œë²„**ë¥¼ ë‹¤ë£° ë•ŒëŠ”, ì¼ë°˜ì ìœ¼ë¡œ **HTTP ê¸°ë³¸ ì¸ì¦**ì„ í†µí•´ í™•ì¸ë˜ëŠ” **ìœ íš¨í•œ ìê²© ì¦ëª…**ì´ í•„ìš”í•˜ë©°, ì´ë¥¼ í†µí•´ íŒŒì¼ì„ **ì¡°ì‘**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì„œë²„ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œëŠ” ì¢…ì¢… ì›¹ì‰˜ì„ **ì—…ë¡œë“œí•˜ê³  ì‹¤í–‰**í•´ì•¼ í•©ë‹ˆë‹¤.

WebDav ì„œë²„ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ ì¼ë°˜ì ìœ¼ë¡œ [**WebDav ë¸Œë£¨íŠ¸í¬ìŠ¤**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth)ë¥¼ ì‚¬ìš©í•˜ì—¬ ìê²© ì¦ëª…ì„ íšë“í•©ë‹ˆë‹¤.

íŒŒì¼ ì—…ë¡œë“œì— ëŒ€í•œ ì œí•œì„ ê·¹ë³µí•˜ê¸° ìœ„í•´, íŠ¹íˆ ì„œë²„ ì¸¡ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ì„ ë°©ì§€í•˜ëŠ” ê²½ìš° ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ì œí•œì´ ì—†ëŠ” ê²½ìš° **ì‹¤í–‰ ê°€ëŠ¥í•œ í™•ì¥ì**ë¥¼ ê°€ì§„ íŒŒì¼ì„ ì§ì ‘ **ì—…ë¡œë“œ**í•©ë‹ˆë‹¤.
- ì—…ë¡œë“œëœ ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œ íŒŒì¼(.txtì™€ ê°™ì€)ì„ ì‹¤í–‰ ê°€ëŠ¥í•œ í™•ì¥ìë¡œ **ì´ë¦„ ë³€ê²½**í•©ë‹ˆë‹¤.
- ì—…ë¡œë“œëœ ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œ íŒŒì¼ì˜ í™•ì¥ìë¥¼ ì‹¤í–‰ ê°€ëŠ¥í•œ í™•ì¥ìë¡œ **ë³€ê²½**í•˜ë©´ì„œ íŒŒì¼ì„ **ë³µì‚¬**í•©ë‹ˆë‹¤.

## DavTest

**Davtest**ëŠ” **ë‹¤ì–‘í•œ í™•ì¥ìë¥¼ ê°€ì§„ ì—¬ëŸ¬ íŒŒì¼ì„ ì—…ë¡œë“œ**í•˜ê³  í™•ì¥ìê°€ **ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸**í•©ë‹ˆë‹¤:
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
ì¶œë ¥ ì˜ˆì‹œ:

![](<../../.gitbook/assets/image (19) (1).png>)

ì´ëŠ” **.txt**ì™€ **.html í™•ì¥ìê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. ì´ëŠ” ì›¹ì„ í†µí•´ ì´ íŒŒì¼ì— **ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

## Cadaver

ì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ **WebDav ì„œë²„ì— ì—°ê²°**í•˜ê³  **ìˆ˜ë™ìœ¼ë¡œ** **ì—…ë¡œë“œ**, **ì´ë™** ë˜ëŠ” **ì‚­ì œ**ì™€ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
cadaver <IP>
```
## PUT ìš”ì²­

The PUT method is an HTTP request method used to upload or update a resource on a server. It is commonly used in WebDAV (Web Distributed Authoring and Versioning) to upload files to a remote server.

PUT ìš”ì²­ì€ ì„œë²„ì— ë¦¬ì†ŒìŠ¤ë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œì…ë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ WebDAV(Web Distributed Authoring and Versioning)ì—ì„œ ì›ê²© ì„œë²„ì— íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

### Syntax

```plaintext
PUT /path/to/resource HTTP/1.1
Host: example.com
Content-Type: application/octet-stream
Content-Length: <length>

<file content>
```

### Example

```plaintext
PUT /files/myfile.txt HTTP/1.1
Host: example.com
Content-Type: text/plain
Content-Length: 12

Hello, World!
```

In this example, a PUT request is made to upload a file named `myfile.txt` to the `/files` directory on the `example.com` server. The request includes the file content and relevant headers such as `Content-Type` and `Content-Length`.

ì´ ì˜ˆì œì—ì„œëŠ” `myfile.txt`ë¼ëŠ” íŒŒì¼ì„ `example.com` ì„œë²„ì˜ `/files` ë””ë ‰í† ë¦¬ì— ì—…ë¡œë“œí•˜ê¸° ìœ„í•´ PUT ìš”ì²­ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤. ìš”ì²­ì—ëŠ” íŒŒì¼ ë‚´ìš©ê³¼ `Content-Type`, `Content-Length`ì™€ ê°™ì€ ê´€ë ¨ í—¤ë”ê°€ í¬í•¨ë©ë‹ˆë‹¤.
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE ìš”ì²­

The MOVE method is used in WebDAV to move a resource from one location to another. It is similar to the HTTP `PUT` method, but instead of creating a new resource, it moves an existing resource to a new location.

MOVE ìš”ì²­ì€ WebDAVì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ í•œ ìœ„ì¹˜ì—ì„œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŠ” HTTP `PUT` ë©”ì„œë“œì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ëŒ€ì‹  ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒˆ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤.

### Syntax

The syntax for a MOVE request is as follows:

```http
MOVE /path/to/resource HTTP/1.1
Host: example.com
Destination: /new/path/to/resource
```

### Example

Here is an example of a MOVE request:

```http
MOVE /files/document.txt HTTP/1.1
Host: example.com
Destination: /archive/document.txt
```

In this example, the `document.txt` file located at `/files` on the server `example.com` is moved to the `/archive` directory.

### Response

The server should respond with a `200 OK` status code if the MOVE request is successful. If the resource cannot be moved, the server may respond with a `409 Conflict` status code.

### Security Implications

The MOVE method can be used by an attacker to move sensitive files to a location accessible to them. This can lead to unauthorized access or exposure of sensitive information. It is important to properly secure WebDAV servers and restrict access to prevent such attacks.
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ì„ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ì˜¤ëŠ˜ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## IIS5/6 WebDav ì·¨ì•½ì 

ì´ ì·¨ì•½ì ì€ ë§¤ìš° í¥ë¯¸ë¡œìš´ë°, **WebDav**ëŠ” **.asp** í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ì„ **ì—…ë¡œë“œ**í•˜ê±°ë‚˜ **ì´ë¦„ ë³€ê²½**í•˜ëŠ” ê²ƒì„ **í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. ê·¸ëŸ¬ë‚˜ ì´ë¦„ ëì— **";.txt"**ë¥¼ ì¶”ê°€í•˜ë©´ íŒŒì¼ì´ .asp íŒŒì¼ì²˜ëŸ¼ **ì‹¤í–‰**ë©ë‹ˆë‹¤ (".txt" ëŒ€ì‹ ì— ".html"ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ **";"ë¥¼ ìŠì§€ ë§ˆì„¸ìš”**).

ê·¸ëŸ° ë‹¤ìŒ ì‰˜ì„ ".**txt" íŒŒì¼**ë¡œ ì—…ë¡œë“œí•˜ê³  ".asp;.txt" íŒŒì¼ë¡œ **ë³µì‚¬/ì´ë™**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›¹ ì„œë²„ë¥¼ í†µí•´ í•´ë‹¹ íŒŒì¼ì— ì•¡ì„¸ìŠ¤í•˜ë©´ **ì‹¤í–‰**ë©ë‹ˆë‹¤ (cadaverëŠ” ì´ë™ ì‘ì—…ì´ ì‘ë™í•˜ì§€ ì•Šì•˜ë‹¤ê³  í• ì§€ë¼ë„ ì‘ë™í•©ë‹ˆë‹¤).

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## ìê²© ì¦ëª… ê²Œì‹œ

Webdavê°€ Apache ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° Apacheì—ì„œ êµ¬ì„±ëœ ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\
_**/etc/apache2/sites-enabled/000-default**_

ë‚´ë¶€ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
ë‹¤ìŒê³¼ ê°™ì´ **webdav** ì„œë²„ì˜ ìœ íš¨í•œ **ìê²© ì¦ëª…**ì´ í¬í•¨ëœ íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤:
```
/etc/apache2/users.password
```
ì´ ìœ í˜•ì˜ íŒŒì¼ ì•ˆì—ëŠ” **ì‚¬ìš©ì ì´ë¦„**ê³¼ **ë¹„ë°€ë²ˆí˜¸ì˜ í•´ì‹œ**ê°€ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì›¹ë‹¤ë¸Œ ì„œë²„ê°€ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ìê²© ì¦ëª…ì…ë‹ˆë‹¤.

ì´ë¥¼ **í•´ë…**í•˜ê±°ë‚˜, ì–´ë–¤ ì´ìœ ë¡œë“  **ì›¹ë‹¤ë¸Œ** ì„œë²„ì— **ì ‘ê·¼**í•˜ë ¤ë©´ ë” ë§ì€ ìê²© ì¦ëª…ì„ **ì¶”ê°€**í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
ìƒˆ ìê²© ì¦ëª…ì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## ì°¸ê³  ìë£Œ
* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ì„ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰**í•œ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¥¼ í™œìš©í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
