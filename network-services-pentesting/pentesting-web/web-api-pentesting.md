# Web API Pentesting

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ±yla desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ±** kolayca oluÅŸturun ve **otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

## API Pentesting Metodolojisi Ã–zeti

API'leri pentest etmek, zayÄ±flÄ±klarÄ± ortaya Ã§Ä±karmak iÃ§in yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir yaklaÅŸÄ±m gerektirir. Bu kÄ±lavuz, pratik teknikler ve araÃ§lara vurgu yaparak kapsamlÄ± bir metodolojiyi kapsar.

### **API TÃ¼rlerini Anlamak**

* **SOAP/XML Web Servisleri**: DokÃ¼mantasyon iÃ§in genellikle `?wsdl` yollarÄ±nda bulunan WSDL formatÄ±nÄ± kullanÄ±r. **SOAPUI** ve **WSDLer** (Burp Suite Eklentisi) gibi araÃ§lar, istekleri ayrÄ±ÅŸtÄ±rmak ve oluÅŸturmak iÃ§in Ã¶nemlidir. Ã–rnek dokÃ¼mantasyon [DNE Online](http://www.dneonline.com/calculator.asmx) adresinde mevcuttur.
* **REST API'leri (JSON)**: DokÃ¼mantasyon genellikle WADL dosyalarÄ±nda gelir, ancak [Swagger UI](https://swagger.io/tools/swagger-ui/) gibi araÃ§lar etkileÅŸim iÃ§in daha kullanÄ±cÄ± dostu bir arayÃ¼z sunar. **Postman**, Ã¶rnek istekleri oluÅŸturmak ve yÃ¶netmek iÃ§in deÄŸerli bir araÃ§tÄ±r.
* **GraphQL**: API'ler iÃ§in, API'nizdeki verilerin tam ve anlaÅŸÄ±lÄ±r bir tanÄ±mÄ±nÄ± sunan bir sorgu dilidir.

### **Pratik Laboratuvarlar**

* [**VAmPI**](https://github.com/erev0s/VAmPI): OWASP top 10 API zayÄ±flÄ±klarÄ±nÄ± kapsayan, uygulamalÄ± pratik iÃ§in kasÄ±tlÄ± olarak zayÄ±f bir API.

### **API Pentesting iÃ§in Etkili Ä°puÃ§larÄ±**

* **SOAP/XML ZayÄ±flÄ±klarÄ±**: XXE zayÄ±flÄ±klarÄ±nÄ± keÅŸfedin, ancak DTD bildirimleri genellikle kÄ±sÄ±tlÄ±dÄ±r. XML geÃ§erli kaldÄ±ÄŸÄ± sÃ¼rece CDATA etiketleri yÃ¼k eklemeye izin verebilir.
* **Yetki YÃ¼kseltme**: Yetkisiz eriÅŸim olasÄ±lÄ±klarÄ±nÄ± belirlemek iÃ§in farklÄ± yetki seviyelerine sahip uÃ§ noktalarÄ± test edin.
* **CORS YanlÄ±ÅŸ YapÄ±landÄ±rmalarÄ±**: Kimlik doÄŸrulama oturumlarÄ±ndan CSRF saldÄ±rÄ±larÄ± yoluyla potansiyel istismar edilebilirlik iÃ§in CORS ayarlarÄ±nÄ± araÅŸtÄ±rÄ±n.
* **UÃ§ Nokta KeÅŸfi**: Gizli uÃ§ noktalarÄ± keÅŸfetmek iÃ§in API desenlerinden yararlanÄ±n. Fuzzer gibi araÃ§lar bu sÃ¼reci otomatikleÅŸtirebilir.
* **Parametre ManipÃ¼lasyonu**: Yetkisiz verilere veya iÅŸlevlere eriÅŸmek iÃ§in isteklerde parametre eklemeyi veya deÄŸiÅŸtirmeyi deneyin.
* **HTTP YÃ¶ntemi Testi**: Beklenmedik davranÄ±ÅŸlarÄ± veya bilgi sÄ±zÄ±ntÄ±larÄ±nÄ± ortaya Ã§Ä±karmak iÃ§in istek yÃ¶ntemlerini (GET, POST, PUT, DELETE, PATCH) deÄŸiÅŸtirin.
* **Ä°Ã§erik TÃ¼rÃ¼ ManipÃ¼lasyonu**: AyrÄ±ÅŸtÄ±rma sorunlarÄ± veya zayÄ±flÄ±klarÄ± test etmek iÃ§in farklÄ± iÃ§erik tÃ¼rleri (x-www-form-urlencoded, application/xml, application/json) arasÄ±nda geÃ§iÅŸ yapÄ±n.
* **GeliÅŸmiÅŸ Parametre Teknikleri**: JSON yÃ¼klerinde beklenmedik veri tÃ¼rleri ile test edin veya XXE enjeksiyonlarÄ± iÃ§in XML verileri ile oynayÄ±n. AyrÄ±ca, daha geniÅŸ testler iÃ§in parametre kirliliÄŸi ve joker karakterler deneyin.
* **SÃ¼rÃ¼m Testi**: Eski API sÃ¼rÃ¼mleri saldÄ±rÄ±lara daha duyarlÄ± olabilir. Her zaman birden fazla API sÃ¼rÃ¼mÃ¼nÃ¼ kontrol edin ve test edin.

### **API Pentesting iÃ§in AraÃ§lar ve Kaynaklar**

* [**kiterunner**](https://github.com/assetnote/kiterunner): API uÃ§ noktalarÄ±nÄ± keÅŸfetmek iÃ§in mÃ¼kemmel. Hedef API'lere karÅŸÄ± yollarÄ± ve parametreleri taramak ve brute force yapmak iÃ§in kullanÄ±n.
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* **automatic-api-attack-tool**, **Astra** ve **restler-fuzzer** gibi ek araÃ§lar, saldÄ±rÄ± simÃ¼lasyonundan fuzzing ve zafiyet taramasÄ±na kadar API gÃ¼venlik testleri iÃ§in Ã¶zel iÅŸlevler sunar.
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb): OAS dosyasÄ±na dayalÄ± olarak API'nizi denetleyen bir API gÃ¼venlik aracÄ±dÄ±r (araÃ§ rust ile yazÄ±lmÄ±ÅŸtÄ±r).

### **Ã–ÄŸrenme ve Pratik KaynaklarÄ±**

* **OWASP API GÃ¼venliÄŸi En Ä°yi 10**: YaygÄ±n API zafiyetlerini anlamak iÃ§in temel bir okuma ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).
* **API GÃ¼venlik Kontrol Listesi**: API'leri gÃ¼vence altÄ±na almak iÃ§in kapsamlÄ± bir kontrol listesi ([GitHub link](https://github.com/shieldfy/API-Security-Checklist)).
* **Logger++ Filtreleri**: API zafiyetlerini avlamak iÃ§in, Logger++ faydalÄ± filtreler sunar ([GitHub link](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).
* **API UÃ§ NoktalarÄ± Listesi**: Test amaÃ§larÄ± iÃ§in potansiyel API uÃ§ noktalarÄ±nÄ±n derlenmiÅŸ bir listesi ([GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).

## Referanslar

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

DÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ±yla desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ±** kolayca oluÅŸturmak ve **otomatikleÅŸtirmek** iÃ§in [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) kullanÄ±n.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
