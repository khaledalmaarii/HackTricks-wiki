# Web API Pentesting

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramanla Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}


## API Pentesting Metodolojisi Ã–zeti

API Pentesting, zayÄ±flÄ±klarÄ± ortaya Ã§Ä±karmak iÃ§in yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir yaklaÅŸÄ±m gerektirir. Bu kÄ±lavuz, pratik teknikleri ve araÃ§larÄ± vurgulayarak kapsamlÄ± bir metodolojiyi kapsar.

### **API TÃ¼rlerini Anlama**

- **SOAP/XML Web Servisleri**: Genellikle `?wsdl` yollarÄ±nda bulunan belgeler iÃ§in WSDL formatÄ±nÄ± kullanÄ±r. **SOAPUI** ve **WSDLer** (Burp Suite Eklentisi) gibi araÃ§lar, istekleri ayrÄ±ÅŸtÄ±rmak ve oluÅŸturmak iÃ§in Ã¶nemlidir. Ã–rnek belgelere [DNE Online](http://www.dneonline.com/calculator.asmx) Ã¼zerinden eriÅŸilebilir.

- **REST API'ler (JSON)**: Belgeler genellikle WADL dosyalarÄ±nda bulunur, ancak [Swagger UI](https://swagger.io/tools/swagger-ui/) gibi araÃ§lar etkileÅŸim iÃ§in daha kullanÄ±cÄ± dostu bir arayÃ¼z saÄŸlar. Ã–rnek istekler oluÅŸturmak ve yÃ¶netmek iÃ§in **Postman** deÄŸerli bir araÃ§tÄ±r.

- **GraphQL**: API'ler iÃ§in anlaÅŸÄ±labilir ve eksiksiz bir veri aÃ§Ä±klamasÄ± sunan bir sorgu dili.

### **Uygulama LaboratuvarlarÄ±**

- [**VAmPI**](https://github.com/erev0s/VAmPI): OWASP'nin en Ã¼st 10 API zayÄ±flÄ±ÄŸÄ±na yÃ¶nelik pratik yapmak iÃ§in kasÄ±tlÄ± olarak zayÄ±f olan bir API.

### **API Pentesting iÃ§in Etkili Ä°puÃ§larÄ±**

- **SOAP/XML ZayÄ±flÄ±klarÄ±**: XXE zayÄ±flÄ±klarÄ±nÄ± keÅŸfedin, ancak DTD bildirimleri genellikle kÄ±sÄ±tlanmÄ±ÅŸtÄ±r. XML geÃ§erli kalÄ±yorsa, CDATA etiketleri payload eklemeye izin verebilir.

- **AyrÄ±calÄ±k YÃ¼kseltme**: Yetki dÃ¼zeyleri farklÄ± olan uÃ§ noktalarÄ± test ederek yetkisiz eriÅŸim olasÄ±lÄ±klarÄ±nÄ± belirleyin.

- **CORS YanÄ±landÄ±rmalarÄ±**: Oturum aÃ§mÄ±ÅŸ oturumlardan CSRF saldÄ±rÄ±larÄ± aracÄ±lÄ±ÄŸÄ±yla potansiyel olarak sÃ¶mÃ¼rÃ¼lebilirlik iÃ§in CORS ayarlarÄ±nÄ± inceleyin.

- **UÃ§ Nokta KeÅŸfi**: Gizli uÃ§ noktalarÄ± keÅŸfetmek iÃ§in API kalÄ±plarÄ±nÄ± kullanÄ±n. Fuzzer gibi araÃ§lar bu sÃ¼reci otomatikleÅŸtirebilir.

- **Parametre Oynama**: Ä°steklere parametre ekleyerek veya deÄŸiÅŸtirerek yetkisiz verilere veya iÅŸlevlere eriÅŸmeyi deneyin.

- **HTTP YÃ¶ntemi Testi**: Beklenmeyen davranÄ±ÅŸlarÄ± veya bilgi sÄ±zÄ±ntÄ±larÄ±nÄ± ortaya Ã§Ä±karmak iÃ§in istek yÃ¶ntemlerini (GET, POST, PUT, DELETE, PATCH) deÄŸiÅŸtirin.

- **Ä°Ã§erik TÃ¼rÃ¼ ManipÃ¼lasyonu**: FarklÄ± iÃ§erik tÃ¼rleri arasÄ±nda geÃ§iÅŸ yaparak (x-www-form-urlencoded, application/xml, application/json) ayrÄ±ÅŸtÄ±rma sorunlarÄ±nÄ± veya zayÄ±flÄ±klarÄ± test edin.

- **GeliÅŸmiÅŸ Parametre Teknikleri**: JSON yÃ¼klerinde beklenmeyen veri tipleriyle test yapÄ±n veya XXE enjeksiyonlarÄ± iÃ§in XML verileriyle oynayÄ±n. AyrÄ±ca, daha geniÅŸ bir test iÃ§in parametre kirliliÄŸi ve joker karakterlerini deneyin.

- **SÃ¼rÃ¼m Testi**: Eski API sÃ¼rÃ¼mleri saldÄ±rÄ±lara daha duyarlÄ± olabilir. Her zaman birden fazla API sÃ¼rÃ¼mÃ¼nÃ¼ kontrol edin ve test edin.

### **API Pentesting iÃ§in AraÃ§lar ve Kaynaklar**

- **kiterunner**: API uÃ§ noktalarÄ±nÄ± keÅŸfetmek iÃ§in mÃ¼kemmel bir araÃ§tÄ±r. Hedef API'lere karÅŸÄ± yollarÄ± ve parametreleri taramak ve brute force yapmak iÃ§in kullanabilirsiniz.
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
- **Otomatik-api-saldÄ±rÄ±-aracÄ±**, **Astra** ve **restler-fuzzer** gibi ek araÃ§lar, API gÃ¼venlik testi iÃ§in Ã¶zel iÅŸlevler sunar, saldÄ±rÄ± simÃ¼lasyonundan fuzzing'e ve zafiyet taramasÄ±na kadar.

### **Ã–ÄŸrenme ve Pratik Kaynaklar**

- **OWASP API GÃ¼venliÄŸi Top 10**: Ortak API zafiyetlerini anlamak iÃ§in temel okuma ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).

- **API GÃ¼venlik Kontrol Listesi**: API'leri gÃ¼vence altÄ±na almak iÃ§in kapsamlÄ± bir kontrol listesi ([GitHub link](https://github.com/shieldfy/API-Security-Checklist)).

- **Logger++ Filtreleri**: API zafiyetlerini bulmak iÃ§in Logger++ kullanÄ±ÅŸlÄ± filtreler sunar ([GitHub link](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).

- **API UÃ§ NoktalarÄ± Listesi**: Test amaÃ§lÄ± potansiyel API uÃ§ noktalarÄ±nÄ±n Ã¶zenle seÃ§ilmiÅŸ bir listesi ([GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).


## Referanslar
* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)


<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'ler**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek katkÄ±da bulunun.

</details>
