# Web API Pentesting

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramana Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR'lar gÃ¶ndererek paylaÅŸÄ±n.

</details>

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ topluluk araÃ§larÄ±** tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## API Pentesting Metodolojisi Ã–zeti

API'leri pentest etmek, zayÄ±flÄ±klarÄ± ortaya Ã§Ä±karmak iÃ§in yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir yaklaÅŸÄ±m gerektirir. Bu kÄ±lavuz, pratik teknikleri ve araÃ§larÄ± vurgulayan kapsamlÄ± bir metodolojiyi iÃ§erir.

### **API TÃ¼rlerini Anlama**

* **SOAP/XML Web Servisleri**: Genellikle `?wsdl` yolunda bulunan belgeleme iÃ§in WSDL formatÄ±nÄ± kullanÄ±n. **SOAPUI** ve **WSDLer** (Burp Suite Eklentisi) gibi araÃ§lar, istekleri ayrÄ±ÅŸtÄ±rmak ve oluÅŸturmak iÃ§in Ã¶nemlidir. Ã–rnek belgeleme, [DNE Online](http://www.dneonline.com/calculator.asmx) adresinden eriÅŸilebilir.
* **REST API'ler (JSON)**: Belgeleme genellikle WADL dosyalarÄ±nda gelir, ancak [Swagger UI](https://swagger.io/tools/swagger-ui/) gibi araÃ§lar, daha kullanÄ±cÄ± dostu bir etkileÅŸim arayÃ¼zÃ¼ saÄŸlar. Ã–rnek istekler oluÅŸturmak ve yÃ¶netmek iÃ§in **Postman** deÄŸerli bir araÃ§tÄ±r.
* **GraphQL**: API'ler iÃ§in verilerin tam ve anlaÅŸÄ±lÄ±r bir aÃ§Ä±klamasÄ±nÄ± sunan bir sorgu dili.

### **Uygulama LaboratuvarlarÄ±**

* [**VAmPI**](https://github.com/erev0s/VAmPI): OWASP'in en Ã¼st 10 API zayÄ±flÄ±klarÄ±nÄ± kapsayan, el ile uygulama pratiÄŸi iÃ§in kasti olarak zayÄ±f bir API.

### **API Pentesting iÃ§in Etkili PÃ¼f NoktalarÄ±**

* **SOAP/XML ZayÄ±flÄ±klarÄ±**: Genellikle DTD bildirimleri kÄ±sÄ±tlandÄ±ÄŸÄ±ndan XXE zayÄ±flÄ±klarÄ±nÄ± keÅŸfedin. XML geÃ§erli kalÄ±rsa CDATA etiketleri yÃ¼k enjeksiyonuna izin verebilir.
* **Yetki YÃ¼kseltme**: Yetki seviyeleri deÄŸiÅŸen uÃ§ noktalarÄ± test ederek yetkisiz eriÅŸim olasÄ±lÄ±klarÄ±nÄ± belirleyin.
* **CORS YanÄ±landÄ±rmalarÄ±**: YetkilendirilmiÅŸ oturumlardan CSRF saldÄ±rÄ±larÄ± aracÄ±lÄ±ÄŸÄ±yla olasÄ± sÃ¶mÃ¼rÃ¼lebilirlik iÃ§in CORS ayarlarÄ±nÄ± inceleyin.
* **UÃ§ Nokta KeÅŸfi**: Gizli uÃ§ noktalarÄ± keÅŸfetmek iÃ§in API kalÄ±plarÄ±nÄ± kullanÄ±n. Fuzzer gibi araÃ§lar bu sÃ¼reci otomatikleÅŸtirebilir.
* **Parametre Oynama**: Ä°steklere parametre ekleyerek veya deÄŸiÅŸtirerek yetkisiz verilere veya iÅŸlevselliklere eriÅŸmeyi deneyin.
* **HTTP YÃ¶ntemi Testi**: Beklenmeyen davranÄ±ÅŸlarÄ± veya bilgi sÄ±zÄ±ntÄ±larÄ±nÄ± ortaya Ã§Ä±karmak iÃ§in istek yÃ¶ntemlerini (GET, POST, PUT, DELETE, PATCH) deÄŸiÅŸtirin.
* **Ä°Ã§erik TÃ¼rÃ¼ ManipÃ¼lasyonu**: FarklÄ± iÃ§erik tÃ¼rleri arasÄ±nda geÃ§iÅŸ yaparak (x-www-form-urlencoded, application/xml, application/json) ayrÄ±ÅŸtÄ±rma sorunlarÄ±nÄ± veya zayÄ±flÄ±klarÄ± test edin.
* **GeliÅŸmiÅŸ Parametre Teknikleri**: JSON yÃ¼klerinde beklenmeyen veri tipleriyle test yapÄ±n veya XXE enjeksiyonlarÄ± iÃ§in XML verileriyle oynayÄ±n. AyrÄ±ca daha geniÅŸ testler iÃ§in parametre kirliliÄŸi ve joker karakterlerini deneyin.
* **SÃ¼rÃ¼m Testi**: Eski API sÃ¼rÃ¼mleri daha savunmasÄ±z olabilir. Her zaman birden fazla API sÃ¼rÃ¼mÃ¼nÃ¼ kontrol edin ve test edin.

### **API Pentesting iÃ§in AraÃ§lar ve Kaynaklar**

* [**kiterunner**](https://github.com/assetnote/kiterunner): API uÃ§ noktalarÄ±nÄ± keÅŸfetmek iÃ§in mÃ¼kemmel bir araÃ§. Hedef API'ler Ã¼zerinde yol ve parametre taramasÄ± yapmak iÃ§in kullanÄ±n.
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* **Otomatik-api-saldiri-araci**, **Astra** ve **restler-fuzzer** gibi ek araÃ§lar, saldÄ±rÄ± simÃ¼lasyonundan fuzzing'e ve zafiyet taramasÄ±na kadar API gÃ¼venlik testleri iÃ§in Ã¶zelleÅŸtirilmiÅŸ iÅŸlevsellikler sunar.
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb): API'nizi bir OAS dosyasÄ±na dayanarak denetleyen bir API gÃ¼venlik aracÄ± (araÃ§ rust dilinde yazÄ±lmÄ±ÅŸtÄ±r).

### **Ã–ÄŸrenme ve Uygulama KaynaklarÄ±**

* **OWASP API GÃ¼venlik Top 10**: Ortak API zafiyetlerini anlamanÄ±z iÃ§in temel okuma materyali ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).
* **API GÃ¼venlik Kontrol Listesi**: API'leri gÃ¼vence altÄ±na almak iÃ§in kapsamlÄ± bir kontrol listesi ([GitHub link](https://github.com/shieldfy/API-Security-Checklist)).
* **Logger++ Filtreleri**: API zafiyetlerini aramak iÃ§in Logger++ kullanÄ±ÅŸlÄ± filtreler sunar ([GitHub link](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).
* **API UÃ§ NoktalarÄ± Listesi**: Test amaÃ§lÄ± potansiyel API uÃ§ noktalarÄ±nÄ±n Ã¶zenle seÃ§ilmiÅŸ bir listesi ([GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).

## Referanslar

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)'i kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **otomatik iÅŸ akÄ±ÅŸlarÄ±** oluÅŸturabilir ve otomatikleÅŸtirebilirsiniz.\
BugÃ¼n EriÅŸim SaÄŸlayÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olacak ÅŸekilde AWS hacklemeyi Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* **ğŸ’¬ [Discord grubuna](https://discord.gg/hRep4RUj7f) veya [telegram grubuna](https://t.me/peass) katÄ±lÄ±n veya** bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR'lar gÃ¶ndererek paylaÅŸÄ±n.

</details>
