# Web API Pentesting

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

Use [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) to easily build and **automate workflows** powered by the world's **most advanced** community tools.\
Get Access Today:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

## API Pentesting Methodology Summary

Pentesting APIs involves a structured approach to uncovering vulnerabilities. This guide encapsulates a comprehensive methodology, emphasizing practical techniques and tools.

### **Understanding API Types**

* **SOAP/XML Web Services**: WSDL рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ `?wsdl` рдкрдереЛрдВ рдкрд░ рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред **SOAPUI** рдФрд░ **WSDLer** (Burp Suite Extension) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдкрд╛рд░реНрд╕ рдФрд░ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдореЗрдВ рд╕рд╣рд╛рдпрдХ рд╣реЛрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ [DNE Online](http://www.dneonline.com/calculator.asmx) рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред
* **REST APIs (JSON)**: рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЕрдХреНрд╕рд░ WADL рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдЖрддрд╛ рд╣реИ, рдлрд┐рд░ рднреА [Swagger UI](https://swagger.io/tools/swagger-ui/) рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдЕрдиреБрдХреВрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред **Postman** рдЙрджрд╛рд╣рд░рдг рдЕрдиреБрд░реЛрдз рдмрдирд╛рдиреЗ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдореВрд▓реНрдпрд╡рд╛рди рдЙрдкрдХрд░рдг рд╣реИред
* **GraphQL**: APIs рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд╡реЗрд░реА рднрд╛рд╖рд╛ рдЬреЛ рдЖрдкрдХреЗ API рдореЗрдВ рдбреЗрдЯрд╛ рдХрд╛ рдПрдХ рд╕рдВрдкреВрд░реНрдг рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рд╡рд┐рд╡рд░рдг рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред

### **Practice Labs**

* [**VAmPI**](https://github.com/erev0s/VAmPI): рдПрдХ рдЬрд╛рдирдмреВрдЭрдХрд░ рдХрдордЬреЛрд░ API рдЬреЛ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЕрднреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП рд╣реИ, OWASP рд╢реАрд░реНрд╖ 10 API рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреЛ рдХрд╡рд░ рдХрд░рддрд╛ рд╣реИред

### **Effective Tricks for API Pentesting**

* **SOAP/XML Vulnerabilities**: XXE рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХрд╛ рдЕрдиреНрд╡реЗрд╖рдг рдХрд░реЗрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ DTD рдШреЛрд╖рдгрд╛рдПрдБ рдЕрдХреНрд╕рд░ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╣реЛрддреА рд╣реИрдВред рдпрджрд┐ XML рдорд╛рдиреНрдп рд░рд╣рддрд╛ рд╣реИ рддреЛ CDATA рдЯреИрдЧ рдкреЗрд▓реЛрдб рд╕рдореНрдорд┐рд▓рди рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред
* **Privilege Escalation**: рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕реНрддрд░реЛрдВ рдХреЗ рд╕рд╛рде рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред
* **CORS Misconfigurations**: рдкреНрд░рдорд╛рдгрд┐рдд рд╕рддреНрд░реЛрдВ рд╕реЗ CSRF рд╣рдорд▓реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрднрд╛рд╡рд┐рдд рд╢реЛрд╖рдг рдХреЗ рд▓рд┐рдП CORS рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред
* **Endpoint Discovery**: рдЫрд┐рдкреЗ рд╣реБрдП рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП API рдкреИрдЯрд░реНрди рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдПрдВред рдлрдЬрд╝рд░реНрд╕ рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **Parameter Tampering**: рдЕрдирдзрд┐рдХреГрдд рдбреЗрдЯрд╛ рдпрд╛ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝рдиреЗ рдпрд╛ рдмрджрд▓рдиреЗ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВред
* **HTTP Method Testing**: рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░ рдпрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЦреБрд▓рд╛рд╕реЗ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рд╡рд┐рдзрд┐рдпреЛрдВ (GET, POST, PUT, DELETE, PATCH) рдореЗрдВ рднрд┐рдиреНрдирддрд╛ рд▓рд╛рдПрдВред
* **Content-Type Manipulation**: рдкрд╛рд░реНрд╕рд┐рдВрдЧ рд╕рдорд╕реНрдпрд╛рдУрдВ рдпрд╛ рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдордЧреНрд░реА рдкреНрд░рдХрд╛рд░реЛрдВ (x-www-form-urlencoded, application/xml, application/json) рдХреЗ рдмреАрдЪ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВред
* **Advanced Parameter Techniques**: JSON рдкреЗрд▓реЛрдб рдореЗрдВ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ рдпрд╛ XXE рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП XML рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЦреЗрд▓реЗрдВред рд╡реНрдпрд╛рдкрдХ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдкреИрд░рд╛рдореАрдЯрд░ рдкреНрд░рджреВрд╖рдг рдФрд░ рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рд╡рд░реНрдгреЛрдВ рдХрд╛ рднреА рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред
* **Version Testing**: рдкреБрд░рд╛рдиреЗ API рд╕рдВрд╕реНрдХрд░рдг рд╣рдорд▓реЛрдВ рдХреЗ рдкреНрд░рддрд┐ рдЕрдзрд┐рдХ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рд╣рдореЗрд╢рд╛ рдХрдИ API рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЬрд╛рдВрдЪреЗрдВ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред

### **Tools and Resources for API Pentesting**

* [**kiterunner**](https://github.com/assetnote/kiterunner): API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдЙрддреНрдХреГрд╖реНрдЯред рд▓рдХреНрд╖рд┐рдд APIs рдХреЗ рдЦрд┐рд▓рд╛рдл рдкрдереЛрдВ рдФрд░ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рд╕реНрдХреИрди рдФрд░ рдмреНрд░реВрдЯ рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* рдЕрддрд┐рд░рд┐рдХреНрдд рдЙрдкрдХрд░рдг рдЬреИрд╕реЗ **automatic-api-attack-tool**, **Astra**, рдФрд░ **restler-fuzzer** API рд╕реБрд░рдХреНрд╖рд╛ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╣рдорд▓реЗ рдХреЗ рдЕрдиреБрдХрд░рдг рд╕реЗ рд▓реЗрдХрд░ рдлрдЬрд╝рд┐рдВрдЧ рдФрд░ рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рд╕реНрдХреИрдирд┐рдВрдЧ рддрдХ рд╣реИрдВред
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb): рдпрд╣ рдПрдХ API рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рдЖрдкрдХреЗ API рдХрд╛ рдСрдбрд┐рдЯ OAS рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХрд░рддрд╛ рд╣реИ (рдпрд╣ рдЙрдкрдХрд░рдг рд░рд╕реНрдЯ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ)ред

### **рд╕реАрдЦрдиреЗ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХреЗ рд╕рдВрд╕рд╛рдзрди**

* **OWASP API рд╕реБрд░рдХреНрд╖рд╛ рд╢реАрд░реНрд╖ 10**: рд╕рд╛рдорд╛рдиреНрдп API рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкрдврд╝рд╛рдИ ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).
* **API рд╕реБрд░рдХреНрд╖рд╛ рдЪреЗрдХрд▓рд┐рд╕реНрдЯ**: APIs рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрд╛рдкрдХ рдЪреЗрдХрд▓рд┐рд╕реНрдЯ ([GitHub рд▓рд┐рдВрдХ](https://github.com/shieldfy/API-Security-Checklist)).
* **Logger++ рдлрд╝рд┐рд▓реНрдЯрд░**: API рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП, Logger++ рдЙрдкрдпреЛрдЧреА рдлрд╝рд┐рд▓реНрдЯрд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ ([GitHub рд▓рд┐рдВрдХ](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).
* **API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рд╕реВрдЪреА**: рдкрд░реАрдХреНрд╖рдг рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рд┐рдд API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреА рдПрдХ рдХреНрдпреВрд░реЗрдЯреЗрдб рд╕реВрдЪреА ([GitHub рдЧрд┐рд╕реНрдЯ](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).

## рд╕рдВрджрд░реНрдн

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдк рджреБрдирд┐рдпрд╛ рдХреЗ **рд╕рдмрд╕реЗ рдЙрдиреНрдирдд** рд╕рд╛рдореБрджрд╛рдпрд┐рдХ рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд **рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣реЛрдВ** рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛ рдФрд░ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд** рдХрд░ рд╕рдХреЗрдВред\
рдЖрдЬ рд╣реА рдПрдХреНрд╕реЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред**

</details>
{% endhint %}
