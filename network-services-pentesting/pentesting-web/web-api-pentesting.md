# Web API æ¸—é€æµ‹è¯•

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFT**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live) ä¸Š**å…³æ³¨**æˆ‘ä»¬ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) å¯ä»¥è½»æ¾æ„å»ºå’Œ**è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹**ï¼Œä½¿ç”¨ä¸–ç•Œä¸Š**æœ€å…ˆè¿›**çš„ç¤¾åŒºå·¥å…·ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## API æ¸—é€æµ‹è¯•æ–¹æ³•è®ºæ€»ç»“

æ¸—é€æµ‹è¯• API åŒ…æ‹¬ä¸€ä¸ªç»“æ„åŒ–æ–¹æ³•æ¥å‘ç°æ¼æ´ã€‚æœ¬æŒ‡å—æ¦‚æ‹¬äº†ä¸€å¥—å…¨é¢çš„æ–¹æ³•è®ºï¼Œå¼ºè°ƒå®ç”¨æŠ€æœ¯å’Œå·¥å…·ã€‚

### **ç†è§£ API ç±»å‹**

* **SOAP/XML Web æœåŠ¡**ï¼šä½¿ç”¨ WSDL æ ¼å¼çš„æ–‡æ¡£ï¼Œé€šå¸¸åœ¨ `?wsdl` è·¯å¾„ä¸‹æ‰¾åˆ°ã€‚åƒ **SOAPUI** å’Œ **WSDLer**ï¼ˆBurp Suite æ‰©å±•ï¼‰è¿™æ ·çš„å·¥å…·å¯¹è§£æå’Œç”Ÿæˆè¯·æ±‚éå¸¸æœ‰ç”¨ã€‚ç¤ºä¾‹æ–‡æ¡£å¯åœ¨ [DNE Online](http://www.dneonline.com/calculator.asmx) ä¸Šè®¿é—®ã€‚
* **REST APIï¼ˆJSONï¼‰**ï¼šæ–‡æ¡£é€šå¸¸ä»¥ WADL æ–‡ä»¶å½¢å¼æä¾›ï¼Œä½†åƒ [Swagger UI](https://swagger.io/tools/swagger-ui/) è¿™æ ·çš„å·¥å…·æä¾›äº†ä¸€ä¸ªæ›´ç”¨æˆ·å‹å¥½çš„ç•Œé¢è¿›è¡Œäº¤äº’ã€‚**Postman** æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå’Œç®¡ç†ç¤ºä¾‹è¯·æ±‚çš„æœ‰ä»·å€¼çš„å·¥å…·ã€‚
* **GraphQL**ï¼šä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€ï¼Œæä¾›äº†å¯¹ API ä¸­æ•°æ®çš„å®Œæ•´å’Œå¯ç†è§£çš„æè¿°ã€‚

### **å®è·µå®éªŒå®¤**

* [**VAmPI**](https://github.com/erev0s/VAmPI)ï¼šä¸€ä¸ªæ•…æ„è®¾è®¡æˆæ˜“å—æ”»å‡»çš„ APIï¼Œç”¨äºå®è·µï¼Œæ¶µç›– OWASP åå¤§ API æ¼æ´ã€‚

### **API æ¸—é€æµ‹è¯•çš„æœ‰æ•ˆæŠ€å·§**

* **SOAP/XML æ¼æ´**ï¼šæ¢ç´¢ XXE æ¼æ´ï¼Œå°½ç®¡ DTD å£°æ˜é€šå¸¸å—é™ã€‚å¦‚æœ XML ä¿æŒæœ‰æ•ˆï¼ŒCDATA æ ‡è®°å¯èƒ½å…è®¸æ’å…¥æœ‰æ•ˆè½½è·ã€‚
* **æƒé™æå‡**ï¼šæµ‹è¯•å…·æœ‰ä¸åŒæƒé™çº§åˆ«çš„ç«¯ç‚¹ï¼Œä»¥è¯†åˆ«æœªç»æˆæƒè®¿é—®çš„å¯èƒ½æ€§ã€‚
* **CORS é…ç½®é”™è¯¯**ï¼šè°ƒæŸ¥ CORS è®¾ç½®ï¼Œä»¥ä¾¿ä»ç»è¿‡èº«ä»½éªŒè¯çš„ä¼šè¯ä¸­è¿›è¡Œ CSRF æ”»å‡»çš„æ½œåœ¨åˆ©ç”¨ã€‚
* **ç«¯ç‚¹å‘ç°**ï¼šåˆ©ç”¨ API æ¨¡å¼å‘ç°éšè—çš„ç«¯ç‚¹ã€‚å·¥å…·å¦‚æ¨¡ç³Šå™¨å¯ä»¥è‡ªåŠ¨åŒ–æ­¤è¿‡ç¨‹ã€‚
* **å‚æ•°ç¯¡æ”¹**ï¼šå°è¯•åœ¨è¯·æ±‚ä¸­æ·»åŠ æˆ–æ›¿æ¢å‚æ•°ï¼Œä»¥è®¿é—®æœªç»æˆæƒçš„æ•°æ®æˆ–åŠŸèƒ½ã€‚
* **HTTP æ–¹æ³•æµ‹è¯•**ï¼šå˜åŒ–è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEã€PATCHï¼‰ï¼Œä»¥å‘ç°æ„å¤–è¡Œä¸ºæˆ–ä¿¡æ¯æ³„éœ²ã€‚
* **å†…å®¹ç±»å‹æ“çºµ**ï¼šåœ¨ä¸åŒçš„å†…å®¹ç±»å‹ä¹‹é—´åˆ‡æ¢ï¼ˆx-www-form-urlencodedã€application/xmlã€application/jsonï¼‰ï¼Œä»¥æµ‹è¯•è§£æé—®é¢˜æˆ–æ¼æ´ã€‚
* **é«˜çº§å‚æ•°æŠ€æœ¯**ï¼šåœ¨ JSON è´Ÿè½½ä¸­æµ‹è¯•æ„å¤–æ•°æ®ç±»å‹ï¼Œæˆ–è€…å°è¯•ä½¿ç”¨ XML æ•°æ®è¿›è¡Œ XXE æ³¨å…¥ã€‚è¿˜å¯ä»¥å°è¯•å‚æ•°æ±¡æŸ“å’Œé€šé…ç¬¦å­—ç¬¦è¿›è¡Œæ›´å¹¿æ³›çš„æµ‹è¯•ã€‚
* **ç‰ˆæœ¬æµ‹è¯•**ï¼šæ—§çš„ API ç‰ˆæœ¬å¯èƒ½æ›´å®¹æ˜“å—åˆ°æ”»å‡»ã€‚å§‹ç»ˆæ£€æŸ¥å¹¶é’ˆå¯¹å¤šä¸ª API ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ã€‚

### **API æ¸—é€æµ‹è¯•çš„å·¥å…·å’Œèµ„æº**

* [**kiterunner**](https://github.com/assetnote/kiterunner)ï¼šç”¨äºå‘ç° API ç«¯ç‚¹çš„ä¼˜ç§€å·¥å…·ã€‚ä½¿ç”¨å®ƒæ¥æ‰«æå’Œæš´åŠ›ç ´è§£ç›®æ ‡ API çš„è·¯å¾„å’Œå‚æ•°ã€‚
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* ç±»ä¼¼ **automatic-api-attack-tool**ã€**Astra** å’Œ **restler-fuzzer** è¿™æ ·çš„é™„åŠ å·¥å…·æä¾›äº†é’ˆå¯¹ API å®‰å…¨æµ‹è¯•çš„å®šåˆ¶åŠŸèƒ½ï¼Œä»æ”»å‡»æ¨¡æ‹Ÿåˆ°æ¨¡ç³Šæµ‹è¯•å’Œæ¼æ´æ‰«æä¸ç­‰ã€‚
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb)ï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäº OAS æ–‡ä»¶å¯¹ API è¿›è¡Œå®¡è®¡çš„ API å®‰å…¨å·¥å…·ï¼ˆè¯¥å·¥å…·ç”¨ Rust ç¼–å†™ï¼‰ã€‚

### **å­¦ä¹ å’Œå®è·µèµ„æº**

* **OWASP API å®‰å…¨å‰ 10 å**ï¼šäº†è§£å¸¸è§ API æ¼æ´çš„å¿…è¯»å†…å®¹ï¼ˆ[OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)ï¼‰ã€‚
* **API å®‰å…¨æ£€æŸ¥æ¸…å•**ï¼šç”¨äºä¿æŠ¤ API çš„å…¨é¢æ£€æŸ¥æ¸…å•ï¼ˆ[GitHub é“¾æ¥](https://github.com/shieldfy/API-Security-Checklist)ï¼‰ã€‚
* **Logger++ è¿‡æ»¤å™¨**ï¼šå¯¹äºæŸ¥æ‰¾ API æ¼æ´ï¼ŒLogger++ æä¾›äº†æœ‰ç”¨çš„è¿‡æ»¤å™¨ï¼ˆ[GitHub é“¾æ¥](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)ï¼‰ã€‚
* **API ç«¯ç‚¹åˆ—è¡¨**ï¼šç”¨äºæµ‹è¯•ç›®çš„çš„æ½œåœ¨ API ç«¯ç‚¹çš„ç­–åˆ’åˆ—è¡¨ï¼ˆ[GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)ï¼‰ã€‚

## å‚è€ƒèµ„æ–™

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

ä½¿ç”¨ [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) å¯ä»¥è½»æ¾æ„å»ºå’Œ **è‡ªåŠ¨åŒ–å·¥ä½œæµ**ï¼Œä½¿ç”¨å…¨çƒ **æœ€å…ˆè¿›** çš„ç¤¾åŒºå·¥å…·ã€‚\
ç«‹å³è·å–è®¿é—®æƒé™ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶ï¼Œä½¿ç”¨</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨ HackTricks ä¸­çœ‹åˆ°æ‚¨çš„ **å…¬å¸å¹¿å‘Š** æˆ– **ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å– [**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢ [**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶ [**NFT**](https://opensea.io/collection/the-peass-family) æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
