# ì›¹ API Pentesting

<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team ì „ë¬¸ê°€)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜ PDFë¡œ HackTricks ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com) ë°›ê¸°
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ê³ , ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì„ ë§Œë‚˜ë³´ì„¸ìš”
* **ğŸ’¬ [Discord ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´ PRì„** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— ì œì¶œí•˜ì„¸ìš”.

</details>

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬**ë¥¼ í™œìš©í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

## API Pentesting ë°©ë²•ë¡  ìš”ì•½

API Pentestingì€ ì·¨ì•½ì ì„ ë°œê²¬í•˜ê¸° ìœ„í•œ ì²´ê³„ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ í¬í•¨í•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” ì‹¤ìš©ì ì¸ ê¸°ìˆ ê³¼ ë„êµ¬ë¥¼ ê°•ì¡°í•˜ëŠ” í¬ê´„ì ì¸ ë°©ë²•ë¡ ì„ ìš”ì•½í•©ë‹ˆë‹¤.

### **API ìœ í˜• ì´í•´**

* **SOAP/XML ì›¹ ì„œë¹„ìŠ¤**: ì¼ë°˜ì ìœ¼ë¡œ `?wsdl` ê²½ë¡œì—ì„œ ì°¾ì„ ìˆ˜ ìˆëŠ” WSDL í˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œë¥¼ í™œìš©í•©ë‹ˆë‹¤. **SOAPUI** ë° **WSDLer** (Burp Suite í™•ì¥ í”„ë¡œê·¸ë¨)ê³¼ ê°™ì€ ë„êµ¬ëŠ” íŒŒì‹± ë° ìš”ì²­ ìƒì„±ì— ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆì œ ë¬¸ì„œëŠ” [DNE Online](http://www.dneonline.com/calculator.asmx)ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **REST API (JSON)**: ë¬¸ì„œëŠ” ì¢…ì¢… WADL íŒŒì¼ë¡œ ì œê³µë˜ì§€ë§Œ [Swagger UI](https://swagger.io/tools/swagger-ui/)ì™€ ê°™ì€ ë„êµ¬ëŠ” ë” ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. **Postman**ì€ ì˜ˆì œ ìš”ì²­ì„ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ìœ ìš©í•œ ë„êµ¬ì…ë‹ˆë‹¤.
* **GraphQL**: APIì— ëŒ€í•œ ë°ì´í„°ì˜ ì™„ì „í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…ì„ ì œê³µí•˜ëŠ” ì¿¼ë¦¬ ì–¸ì–´ì…ë‹ˆë‹¤.

### **ì‹¤ìŠµ ë©**

* [**VAmPI**](https://github.com/erev0s/VAmPI): OWASP top 10 API ì·¨ì•½ì ì„ ë‹¤ë£¨ëŠ” ì‹¤ìŠµì„ ìœ„í•œ ì˜ë„ì ìœ¼ë¡œ ì·¨ì•½í•œ APIì…ë‹ˆë‹¤.

### **API Pentestingì„ ìœ„í•œ íš¨ê³¼ì ì¸ íŠ¸ë¦­**

* **SOAP/XML ì·¨ì•½ì **: DTD ì„ ì–¸ì´ ì œí•œë˜ëŠ” ê²½ìš°ê°€ ë§ì§€ë§Œ CDATA íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ XMLì´ ìœ íš¨í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” í•œ í˜ì´ë¡œë“œ ì‚½ì…ì´ ê°€ëŠ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ê¶Œí•œ ìƒìŠ¹**: ê¶Œí•œ ìˆ˜ì¤€ì´ ë‹¤ë¥¸ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ì—¬ ë¬´ë‹¨ ì•¡ì„¸ìŠ¤ ê°€ëŠ¥ì„±ì„ ì‹ë³„í•©ë‹ˆë‹¤.
* **CORS êµ¬ì„± ì˜¤ë¥˜**: ì¸ì¦ëœ ì„¸ì…˜ì„ í†µí•´ CSRF ê³µê²©ì„ í†µí•´ ì•…ìš© ê°€ëŠ¥ì„±ì„ ì¡°ì‚¬í•˜ê¸° ìœ„í•´ CORS ì„¤ì •ì„ ì¡°ì‚¬í•©ë‹ˆë‹¤.
* **ì—”ë“œí¬ì¸íŠ¸ ê²€ìƒ‰**: API íŒ¨í„´ì„ í™œìš©í•˜ì—¬ ìˆ¨ê²¨ì§„ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤. í¼ì €ì™€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ë§¤ê°œë³€ìˆ˜ ì¡°ì‘**: ìš”ì²­ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ êµì²´í•˜ì—¬ ë¬´ë‹¨ ë°ì´í„° ë˜ëŠ” ê¸°ëŠ¥ì— ì•¡ì„¸ìŠ¤í•´ ë³´ì„¸ìš”.
* **HTTP ë©”ì„œë“œ í…ŒìŠ¤íŠ¸**: ìš”ì²­ ë°©ë²•ì„ ë³€ê²½í•˜ì—¬ (GET, POST, PUT, DELETE, PATCH) ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì´ë‚˜ ì •ë³´ ë…¸ì¶œì„ ë°œê²¬í•©ë‹ˆë‹¤.
* **Content-Type ì¡°ì‘**: ë‹¤ë¥¸ ì½˜í…ì¸  ìœ í˜• (x-www-form-urlencoded, application/xml, application/json) ê°„ ì „í™˜í•˜ì—¬ íŒŒì‹± ë¬¸ì œë‚˜ ì·¨ì•½ì ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
* **ê³ ê¸‰ ë§¤ê°œë³€ìˆ˜ ê¸°ìˆ **: JSON í˜ì´ë¡œë“œì—ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ë°ì´í„° ìœ í˜•ì„ í…ŒìŠ¤íŠ¸í•˜ê±°ë‚˜ XXE ì‚½ì…ì„ ìœ„í•´ XML ë°ì´í„°ë¥¼ ì¡°ì‘í•´ ë³´ì„¸ìš”. ë” ë„“ì€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë§¤ê°œë³€ìˆ˜ ì˜¤ì—¼ ë° ì™€ì¼ë“œì¹´ë“œ ë¬¸ìë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”.
* **ë²„ì „ í…ŒìŠ¤íŠ¸**: ì˜¤ë˜ëœ API ë²„ì „ì€ ê³µê²©ì— ë¯¼ê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•­ìƒ ì—¬ëŸ¬ API ë²„ì „ì„ í™•ì¸í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

### **API Pentestingì„ ìœ„í•œ ë„êµ¬ ë° ë¦¬ì†ŒìŠ¤**

* [**kiterunner**](https://github.com/assetnote/kiterunner): API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë°œê²¬í•˜ëŠ” ë° íƒì›”í•©ë‹ˆë‹¤. ëŒ€ìƒ APIì— ëŒ€í•´ ê²½ë¡œ ë° ë§¤ê°œë³€ìˆ˜ë¥¼ ìŠ¤ìº”í•˜ê³  ë¸Œë£¨íŠ¸ í¬ìŠ¤í•˜ëŠ” ë° ì‚¬ìš©í•˜ì„¸ìš”.
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* ì¶”ê°€ ë„êµ¬ì¸ **automatic-api-attack-tool**, **Astra**, ê·¸ë¦¬ê³  **restler-fuzzer**ëŠ” API ë³´ì•ˆ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë§ì¶¤ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ê³µê²© ì‹œë®¬ë ˆì´ì…˜ë¶€í„° í¼ì§• ë° ì·¨ì•½ì  ìŠ¤ìº”ê¹Œì§€ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb): OAS íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ APIë¥¼ ê°ì‚¬í•˜ëŠ” API ë³´ì•ˆ ë„êµ¬ì…ë‹ˆë‹¤(ì´ ë„êµ¬ëŠ” ëŸ¬ìŠ¤íŠ¸ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤).

### **í•™ìŠµ ë° ì‹¤ìŠµ ìë£Œ**

* **OWASP API Security Top 10**: ì¼ë°˜ì ì¸ API ì·¨ì•½ì ì„ ì´í•´í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ë…ì„œ ìë£Œ ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).
* **API Security Checklist**: APIë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ í¬ê´„ì ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ ([GitHub ë§í¬](https://github.com/shieldfy/API-Security-Checklist)).
* **Logger++ Filters**: API ì·¨ì•½ì ì„ ì°¾ê¸° ìœ„í•´ ìœ ìš©í•œ í•„í„°ë¥¼ ì œê³µí•˜ëŠ” Logger++ ([GitHub ë§í¬](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).
* **API Endpoints List**: í…ŒìŠ¤íŠ¸ ëª©ì ì„ ìœ„í•œ ì ì¬ì ì¸ API ì—”ë“œí¬ì¸íŠ¸ì˜ ì„ ë³„ ëª©ë¡ ([GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).

## ì°¸ê³  ìë£Œ

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¥¼ í™œìš©í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ì„ ë°°ìš°ì„¸ìš”</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ë ¤ë©´** [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [ë””ìŠ¤ì½”ë“œ ê·¸ë£¹](https://discord.gg/hRep4RUj7f)** ë˜ëŠ” [í…”ë ˆê·¸ë¨ ê·¸ë£¹](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks** ë° **HackTricks Cloud** github ì €ì¥ì†Œë¡œ **PR ì œì¶œ**í•˜ì—¬ í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
