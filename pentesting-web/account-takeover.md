# è´¦æˆ·æ¥ç®¡

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## **æˆæƒé—®é¢˜**

åº”å°è¯•æ›´æ”¹è´¦æˆ·çš„ç”µå­é‚®ä»¶ï¼Œå¹¶ä¸”å¿…é¡»æ£€æŸ¥ç¡®è®¤è¿‡ç¨‹ã€‚å¦‚æœå‘ç°ç¡®è®¤è¿‡ç¨‹**è–„å¼±**ï¼Œåˆ™åº”å°†ç”µå­é‚®ä»¶æ›´æ”¹ä¸ºç›®æ ‡å—å®³è€…çš„ç”µå­é‚®ä»¶å¹¶è¿›è¡Œç¡®è®¤ã€‚

## **Unicode è§„èŒƒåŒ–é—®é¢˜**

1. ç›®æ ‡å—å®³è€…çš„è´¦æˆ· `victim@gmail.com`
2. åº”ä½¿ç”¨ Unicode åˆ›å»ºä¸€ä¸ªè´¦æˆ·\
ä¾‹å¦‚ï¼š`viÄ‡tim@gmail.com`

æ­£å¦‚åœ¨ [**è¿™æ¬¡æ¼”è®²**](https://www.youtube.com/watch?v=CiIyaZ3x49c) ä¸­æ‰€è§£é‡Šçš„ï¼Œä¹‹å‰çš„æ”»å‡»ä¹Ÿå¯ä»¥é€šè¿‡æ»¥ç”¨ç¬¬ä¸‰æ–¹èº«ä»½æä¾›è€…æ¥å®ç°ï¼š

* åœ¨ç¬¬ä¸‰æ–¹èº«ä»½æä¾›è€…ä¸­åˆ›å»ºä¸€ä¸ªä¸å—å®³è€…ç›¸ä¼¼çš„ç”µå­é‚®ä»¶è´¦æˆ·ï¼Œä½¿ç”¨æŸäº› Unicode å­—ç¬¦ï¼ˆ`viÄ‡tim@company.com`ï¼‰ã€‚
* ç¬¬ä¸‰æ–¹æä¾›è€…ä¸åº”éªŒè¯ç”µå­é‚®ä»¶ã€‚
* å¦‚æœèº«ä»½æä¾›è€…éªŒè¯ç”µå­é‚®ä»¶ï¼Œæ‚¨å¯ä»¥æ”»å‡»åŸŸåéƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š`victim@Ä‡ompany.com`ï¼Œå¹¶æ³¨å†Œè¯¥åŸŸåï¼Œå¸Œæœ›èº«ä»½æä¾›è€…ç”ŸæˆåŸŸåçš„ ASCII ç‰ˆæœ¬ï¼Œè€Œå—å®³è€…å¹³å°è§„èŒƒåŒ–åŸŸåã€‚
* é€šè¿‡æ­¤èº«ä»½æä¾›è€…ç™»å½•å—å®³è€…å¹³å°ï¼Œå—å®³è€…å¹³å°åº”è§„èŒƒåŒ– Unicode å­—ç¬¦å¹¶å…è®¸æ‚¨è®¿é—®å—å®³è€…è´¦æˆ·ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å…³äº Unicode è§„èŒƒåŒ–çš„æ–‡æ¡£ï¼š

{% content-ref url="unicode-injection/unicode-normalization.md" %}
[unicode-normalization.md](unicode-injection/unicode-normalization.md)
{% endcontent-ref %}

## **é‡ç”¨é‡ç½®ä»¤ç‰Œ**

å¦‚æœç›®æ ‡ç³»ç»Ÿå…è®¸**é‡ç½®é“¾æ¥è¢«é‡ç”¨**ï¼Œåº”åŠªåŠ›ä½¿ç”¨ `gau`ã€`wayback` æˆ– `scan.io` ç­‰å·¥å…·**æŸ¥æ‰¾æ›´å¤šé‡ç½®é“¾æ¥**ã€‚

## **é¢„è´¦æˆ·æ¥ç®¡**

1. åº”ä½¿ç”¨å—å®³è€…çš„ç”µå­é‚®ä»¶åœ¨å¹³å°ä¸Šæ³¨å†Œï¼Œå¹¶è®¾ç½®å¯†ç ï¼ˆåº”å°è¯•ç¡®è®¤ï¼Œå°½ç®¡ç¼ºä¹å¯¹å—å®³è€…ç”µå­é‚®ä»¶çš„è®¿é—®å¯èƒ½ä½¿è¿™å˜å¾—ä¸å¯èƒ½ï¼‰ã€‚
2. åº”ç­‰å¾…å—å®³è€…ä½¿ç”¨ OAuth æ³¨å†Œå¹¶ç¡®è®¤è´¦æˆ·ã€‚
3. å¸Œæœ›å¸¸è§„æ³¨å†Œå°†è¢«ç¡®è®¤ï¼Œä»è€Œå…è®¸è®¿é—®å—å®³è€…çš„è´¦æˆ·ã€‚

## **CORS é…ç½®é”™è¯¯å¯¼è‡´è´¦æˆ·æ¥ç®¡**

å¦‚æœé¡µé¢åŒ…å«**CORS é…ç½®é”™è¯¯**ï¼Œæ‚¨å¯èƒ½èƒ½å¤Ÿ**çªƒå–ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯**ä»¥**æ¥ç®¡ä»–çš„è´¦æˆ·**æˆ–ä½¿ä»–æ›´æ”¹èº«ä»½éªŒè¯ä¿¡æ¯ä»¥è¾¾åˆ°åŒæ ·çš„ç›®çš„ï¼š

{% content-ref url="cors-bypass.md" %}
[cors-bypass.md](cors-bypass.md)
{% endcontent-ref %}

## **CSRF å¯¼è‡´è´¦æˆ·æ¥ç®¡**

å¦‚æœé¡µé¢æ˜“å— CSRF æ”»å‡»ï¼Œæ‚¨å¯èƒ½èƒ½å¤Ÿä½¿**ç”¨æˆ·ä¿®æ”¹ä»–çš„å¯†ç **ã€ç”µå­é‚®ä»¶æˆ–èº«ä»½éªŒè¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è®¿é—®å®ƒï¼š

{% content-ref url="csrf-cross-site-request-forgery.md" %}
[csrf-cross-site-request-forgery.md](csrf-cross-site-request-forgery.md)
{% endcontent-ref %}

## **XSS å¯¼è‡´è´¦æˆ·æ¥ç®¡**

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å‘ç° XSSï¼Œæ‚¨å¯èƒ½èƒ½å¤Ÿçªƒå– cookiesã€æœ¬åœ°å­˜å‚¨æˆ–ç½‘é¡µä¿¡æ¯ï¼Œä»è€Œä½¿æ‚¨èƒ½å¤Ÿæ¥ç®¡è´¦æˆ·ï¼š

{% content-ref url="xss-cross-site-scripting/" %}
[xss-cross-site-scripting](xss-cross-site-scripting/)
{% endcontent-ref %}

## **åŒæº + Cookies**

å¦‚æœæ‚¨å‘ç°æœ‰é™çš„ XSS æˆ–å­åŸŸåæ¥ç®¡ï¼Œæ‚¨å¯ä»¥æ“ä½œ cookiesï¼ˆä¾‹å¦‚å›ºå®šå®ƒä»¬ï¼‰ä»¥å°è¯•å¦¥åå—å®³è€…è´¦æˆ·ï¼š

{% content-ref url="hacking-with-cookies/" %}
[hacking-with-cookies](hacking-with-cookies/)
{% endcontent-ref %}

## **æ”»å‡»å¯†ç é‡ç½®æœºåˆ¶**

{% content-ref url="reset-password.md" %}
[reset-password.md](reset-password.md)
{% endcontent-ref %}

## **å“åº”æ“æ§**

å¦‚æœèº«ä»½éªŒè¯å“åº”å¯ä»¥**ç®€åŒ–ä¸ºä¸€ä¸ªç®€å•çš„å¸ƒå°”å€¼ï¼Œåªéœ€å°è¯•å°† false æ”¹ä¸º true**ï¼Œçœ‹çœ‹æ‚¨æ˜¯å¦è·å¾—ä»»ä½•è®¿é—®æƒé™ã€‚

## OAuth å¯¼è‡´è´¦æˆ·æ¥ç®¡

{% content-ref url="oauth-to-account-takeover.md" %}
[oauth-to-account-takeover.md](oauth-to-account-takeover.md)
{% endcontent-ref %}

## ä¸»æœºå¤´æ³¨å…¥

1. åœ¨å‘èµ·å¯†ç é‡ç½®è¯·æ±‚åï¼Œä¿®æ”¹ Host å¤´ã€‚
2. å°† `X-Forwarded-For` ä»£ç†å¤´æ›´æ”¹ä¸º `attacker.com`ã€‚
3. åŒæ—¶å°† Hostã€Referrer å’Œ Origin å¤´æ›´æ”¹ä¸º `attacker.com`ã€‚
4. åœ¨å‘èµ·å¯†ç é‡ç½®å¹¶é€‰æ‹©é‡æ–°å‘é€é‚®ä»¶åï¼Œé‡‡ç”¨ä¸Šè¿°ä¸‰ç§æ–¹æ³•ã€‚

## å“åº”æ“æ§

1. **ä»£ç æ“æ§**ï¼šå°†çŠ¶æ€ä»£ç æ›´æ”¹ä¸º `200 OK`ã€‚
2. **ä»£ç å’Œä¸»ä½“æ“æ§**ï¼š
* å°†çŠ¶æ€ä»£ç æ›´æ”¹ä¸º `200 OK`ã€‚
* å°†å“åº”ä¸»ä½“ä¿®æ”¹ä¸º `{"success":true}` æˆ–ç©ºå¯¹è±¡ `{}`ã€‚

è¿™äº›æ“æ§æŠ€æœ¯åœ¨ä½¿ç”¨ JSON è¿›è¡Œæ•°æ®ä¼ è¾“å’Œæ¥æ”¶çš„åœºæ™¯ä¸­æœ‰æ•ˆã€‚

## æ›´æ”¹å½“å‰ä¼šè¯çš„ç”µå­é‚®ä»¶

æ¥è‡ª [è¿™ä»½æŠ¥å‘Š](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea)ï¼š

* æ”»å‡»è€…è¯·æ±‚å°†å…¶ç”µå­é‚®ä»¶æ›´æ”¹ä¸ºæ–°ç”µå­é‚®ä»¶ã€‚
* æ”»å‡»è€…æ”¶åˆ°ç¡®è®¤æ›´æ”¹ç”µå­é‚®ä»¶çš„é“¾æ¥ã€‚
* æ”»å‡»è€…å°†é“¾æ¥å‘é€ç»™å—å®³è€…ä»¥ä¾¿å…¶ç‚¹å‡»ã€‚
* å—å®³è€…çš„ç”µå­é‚®ä»¶è¢«æ›´æ”¹ä¸ºæ”»å‡»è€…æŒ‡ç¤ºçš„ç”µå­é‚®ä»¶ã€‚
* æ”»å‡»è€…å¯ä»¥æ¢å¤å¯†ç å¹¶æ¥ç®¡è´¦æˆ·ã€‚

è¿™ä¹Ÿå‘ç”Ÿåœ¨ [**è¿™ä»½æŠ¥å‘Š**](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea) ä¸­ã€‚

### æ—§ Cookies

æ­£å¦‚ [**åœ¨è¿™ç¯‡æ–‡ç« ä¸­**](https://medium.com/@niraj1mahajan/uncovering-the-hidden-vulnerability-how-i-found-an-authentication-bypass-on-shopifys-exchange-cc2729ea31a9) æ‰€è§£é‡Šçš„ï¼Œå¯ä»¥ç™»å½•åˆ°ä¸€ä¸ªè´¦æˆ·ï¼Œä¿å­˜ cookies ä½œä¸ºå·²è®¤è¯ç”¨æˆ·ï¼Œæ³¨é”€ï¼Œç„¶åå†æ¬¡ç™»å½•ã€‚\
åœ¨æ–°çš„ç™»å½•ä¸­ï¼Œå°½ç®¡å¯èƒ½ç”Ÿæˆä¸åŒçš„ cookiesï¼Œä½†æ—§çš„ cookies åˆå¼€å§‹å·¥ä½œã€‚

## å‚è€ƒæ–‡çŒ®

* [https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050](https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050)
* [https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea)

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
