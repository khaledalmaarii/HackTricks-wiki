# PrzejÄ™cie Konta

<details>

<summary><strong>Nauka hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakowania, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>

## **Problem Autoryzacji**

Adres e-mail konta powinien zostaÄ‡ zmieniony, a proces potwierdzenia **musi zostaÄ‡ zbadany**. JeÅ›li zostanie uznany za **sÅ‚aby**, adres e-mail powinien zostaÄ‡ zmieniony na adres zamierzonej ofiary, a nastÄ™pnie potwierdzony.

## **Problem Normalizacji Unicode**

1. Konto zamierzonej ofiary `victim@gmail.com`
2. Konto powinno zostaÄ‡ utworzone przy uÅ¼yciu Unicode\
na przykÅ‚ad: `viÄ‡tim@gmail.com`

Aby uzyskaÄ‡ wiÄ™cej informacji, zapoznaj siÄ™ z dokumentem na temat Normalizacji Unicode:

[unicode-normalization.md](unicode-injection/unicode-normalization.md)

## **Ponowne Wykorzystanie Tokena Resetowania**

JeÅ›li system docelowy pozwala na **ponowne wykorzystanie linku resetowania**, naleÅ¼y podjÄ…Ä‡ wysiÅ‚ki w celu **znalezienia wiÄ™cej linkÃ³w resetowania** za pomocÄ… narzÄ™dzi takich jak `gau`, `wayback` lub `scan.io`.

## **Przed PrzejÄ™ciem Konta**

1. E-mail ofiary powinien zostaÄ‡ uÅ¼yty do zarejestrowania siÄ™ na platformie, a hasÅ‚o powinno zostaÄ‡ ustawione (naleÅ¼y sprÃ³bowaÄ‡ je potwierdziÄ‡, chociaÅ¼ brak dostÄ™pu do e-maili ofiary moÅ¼e uniemoÅ¼liwiÄ‡ to).
2. NaleÅ¼y poczekaÄ‡, aÅ¼ ofiara zarejestruje siÄ™ za pomocÄ… OAuth i potwierdzi konto.
3. Mamy nadziejÄ™, Å¼e regularna rejestracja zostanie potwierdzona, umoÅ¼liwiajÄ…c dostÄ™p do konta ofiary.

## **BÅ‚Ä™dna Konfiguracja CORS a PrzejÄ™cie Konta**

JeÅ›li strona zawiera **bÅ‚Ä™dy konfiguracji CORS**, moÅ¼esz byÄ‡ w stanie **ukraÅ›Ä‡ wraÅ¼liwe informacje** od uÅ¼ytkownika w celu **przejÄ™cia jego konta** lub zmuszenia go do zmiany informacji uwierzytelniajÄ…cych w tym celu:

{% content-ref url="cors-bypass.md" %}
[cors-bypass.md](cors-bypass.md)
{% endcontent-ref %}

## **CSRF a PrzejÄ™cie Konta**

JeÅ›li strona jest podatna na CSRF, moÅ¼esz byÄ‡ w stanie sprawiÄ‡, Å¼e **uÅ¼ytkownik zmieni swoje hasÅ‚o**, e-mail lub uwierzytelnienie, aby nastÄ™pnie uzyskaÄ‡ do niego dostÄ™p:

{% content-ref url="csrf-cross-site-request-forgery.md" %}
[csrf-cross-site-request-forgery.md](csrf-cross-site-request-forgery.md)
{% endcontent-ref %}

## **XSS a PrzejÄ™cie Konta**

JeÅ›li znajdziesz XSS w aplikacji, moÅ¼esz byÄ‡ w stanie ukraÅ›Ä‡ ciasteczka, lokalne przechowywanie danych lub informacje ze strony internetowej, ktÃ³re mogÄ… umoÅ¼liwiÄ‡ przejÄ™cie konta:

{% content-ref url="xss-cross-site-scripting/" %}
[xss-cross-site-scripting](xss-cross-site-scripting/)
{% endcontent-ref %}

## **Ten Sam Pochodzenie + Ciasteczka**

JeÅ›li znajdziesz ograniczony XSS lub przejÄ™cie subdomeny, moÅ¼esz manipulowaÄ‡ ciasteczkami (np. ustalajÄ…c je) w celu prÃ³by skompromitowania konta ofiary:

{% content-ref url="hacking-with-cookies/" %}
[hacking-with-cookies](hacking-with-cookies/)
{% endcontent-ref %}

## **Atakowanie Mechanizmu Resetowania HasÅ‚a**

{% content-ref url="reset-password.md" %}
[reset-password.md](reset-password.md)
{% endcontent-ref %}

## **Manipulacja OdpowiedziÄ…**

JeÅ›li odpowiedÅº uwierzytelniajÄ…ca moÅ¼e zostaÄ‡ **zredukowana do prostego booleana, sprÃ³buj zmieniÄ‡ false na true** i sprawdÅº, czy uzyskasz dostÄ™p.

## OAuth a PrzejÄ™cie Konta

{% content-ref url="oauth-to-account-takeover.md" %}
[oauth-to-account-takeover.md](oauth-to-account-takeover.md)
{% endcontent-ref %}

## WstrzykniÄ™cie NagÅ‚Ã³wka Host

1. NagÅ‚Ã³wek Host jest modyfikowany podczas inicjowania Å¼Ä…dania resetowania hasÅ‚a.
2. NagÅ‚Ã³wek proxy `X-Forwarded-For` jest zmieniany na `attacker.com`.
3. NagÅ‚Ã³wki Host, Referrer i Origin sÄ… jednoczeÅ›nie zmieniane na `attacker.com`.
4. Po zainicjowaniu resetowania hasÅ‚a, a nastÄ™pnie wybraniu opcji ponownego wysÅ‚ania wiadomoÅ›ci e-mail, stosowane sÄ… wszystkie trzy wymienione metody.

## Manipulacja OdpowiedziÄ…

1. **Manipulacja Kodem**: Kod statusu jest zmieniany na `200 OK`.
2. **Manipulacja Kodem i TreÅ›ciÄ…**:
* Kod statusu jest zmieniany na `200 OK`.
* TreÅ›Ä‡ odpowiedzi jest modyfikowana na `{"success":true}` lub pusty obiekt `{}`.

Techniki manipulacji sÄ… skuteczne w przypadkach, gdy JSON jest wykorzystywany do przesyÅ‚ania i odbierania danych.

## Zmiana e-mail bieÅ¼Ä…cej sesji

Z [tego raportu](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea):

* AtakujÄ…cy prosi o zmianÄ™ swojego e-maila na nowy.
* AtakujÄ…cy otrzymuje link do potwierdzenia zmiany e-maila.
* AtakujÄ…cy wysyÅ‚a ofierze link, aby kliknÄ™Å‚a w niego.
* E-mail ofiary zostaje zmieniony na ten wskazany przez atakujÄ…cego.
* AtakujÄ…cy moÅ¼e odzyskaÄ‡ hasÅ‚o i przejÄ…Ä‡ konto.

## OdnoÅ›niki

* [https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050](https://infosecwriteups.com/firing-8-account-takeover-methods-77e892099050)
* [https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea](https://dynnyd20.medium.com/one-click-account-take-over-e500929656ea)

<details>

<summary><strong>Nauka hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* JeÅ›li chcesz zobaczyÄ‡ swojÄ… **firmÄ™ reklamowanÄ… w HackTricks** lub **pobraÄ‡ HackTricks w formacie PDF**, sprawdÅº [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* ZdobÄ…dÅº [**oficjalne gadÅ¼ety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**RodzinÄ™ PEASS**](https://opensea.io/collection/the-peass-family), naszÄ… kolekcjÄ™ ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ swoimi sztuczkami hakowania, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na GitHubie.

</details>
