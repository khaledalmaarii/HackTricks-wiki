# BaÄŸÄ±mlÄ±lÄ±k KarÄ±ÅŸÄ±klÄ±ÄŸÄ±

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

* Bir **cybersecurity ÅŸirketinde mi Ã§alÄ±ÅŸÄ±yorsunuz**? **Åirketinizi HackTricks'te reklam gÃ¶rmek ister misiniz**? ya da **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne eriÅŸmek veya HackTricks'i PDF olarak indirmek ister misiniz**? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonu
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* **KatÄ±lÄ±n** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **Twitter'da** beni takip edin ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak** [hacktricks deposuna](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud deposuna](https://github.com/carlospolop/hacktricks-cloud) **PR gÃ¶nderin**.

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


## Temel Bilgiler

Ã–zetle, bir baÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± zafiyeti, bir proje **yanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ** bir kÃ¼tÃ¼phaneyi kullandÄ±ÄŸÄ±nda, **mevcut olmayan** veya **belirtilmemiÅŸ bir sÃ¼rÃ¼mle** ve kullanÄ±lan baÄŸÄ±mlÄ±lÄ±k deposunun **gÃ¼ncellenmiÅŸ sÃ¼rÃ¼mleri toplamaya izin verdiÄŸinde** meydana gelir.

* **YanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ**: `requests` yerine **`reqests`** iÃ§e aktar
* **Mevcut olmayan**: ArtÄ±k **mevcut olmayan** iÃ§ bir kÃ¼tÃ¼phane olan `company-logging`i iÃ§e aktar
* **BelirtilmemiÅŸ sÃ¼rÃ¼m**: **Mevcut** **iÃ§** `company-requests` kÃ¼tÃ¼phanesini iÃ§e aktar, ancak depo **genel depolarÄ±** kontrol ederek **daha bÃ¼yÃ¼k sÃ¼rÃ¼mlerin** olup olmadÄ±ÄŸÄ±nÄ± kontrol eder.

## SÃ¶mÃ¼rÃ¼

{% hint style="warning" %}
TÃ¼m durumlarda saldÄ±rganÄ±n sadece kurban ÅŸirketin kullandÄ±ÄŸÄ± kÃ¼tÃ¼phanelerin **adÄ±nÄ± taÅŸÄ±yan zararlÄ± bir paket yayÄ±nlamasÄ±** yeterlidir.
{% endhint %}

### YanlÄ±ÅŸ YazÄ±lmÄ±ÅŸ & Mevcut Olmayan

Åirketinizin **iÃ§ olmayan bir kÃ¼tÃ¼phaneyi iÃ§e aktarmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda**, kÃ¼tÃ¼phanelerin deposunun bunu **genel depolarda arayacaÄŸÄ±** oldukÃ§a olasÄ±dÄ±r. EÄŸer bir saldÄ±rgan bunu oluÅŸturduysa, kodunuz ve Ã§alÄ±ÅŸan makineleriniz bÃ¼yÃ¼k olasÄ±lÄ±kla tehlikeye girecektir.

### BelirtilmemiÅŸ SÃ¼rÃ¼m

GeliÅŸtiricilerin kÃ¼tÃ¼phanenin sÃ¼rÃ¼mÃ¼nÃ¼ **belirtmemesi** veya sadece bir **ana sÃ¼rÃ¼mÃ¼ belirtmesi** Ã§ok yaygÄ±ndÄ±r. ArdÄ±ndan, yorumlayÄ±cÄ± bu gereksinimleri karÅŸÄ±layan **en son sÃ¼rÃ¼mÃ¼ indirmeye Ã§alÄ±ÅŸacaktÄ±r**.\
EÄŸer kÃ¼tÃ¼phane **bilinen harici bir kÃ¼tÃ¼phane** ise (Ã¶rneÄŸin python `requests`), bir **saldÄ±rgan pek bir ÅŸey yapamaz**, Ã§Ã¼nkÃ¼ `requests` adÄ±nda bir kÃ¼tÃ¼phane oluÅŸturamaz (orijinal yazar deÄŸilse).\
Ancak, kÃ¼tÃ¼phane **iÃ§** ise, bu Ã¶rnekte olduÄŸu gibi `requests-company`, eÄŸer **kÃ¼tÃ¼phane deposu** dÄ±ÅŸarÄ±dan **yeni sÃ¼rÃ¼mleri de kontrol etmeye izin veriyorsa**, genelde bulunan yeni bir sÃ¼rÃ¼m arayacaktÄ±r.\
Bu nedenle, bir **saldÄ±rganÄ±n** ÅŸirketin `requests-company` kÃ¼tÃ¼phanesini **1.0.1 sÃ¼rÃ¼mÃ¼** olarak kullandÄ±ÄŸÄ±nÄ± **bildiÄŸini varsayalÄ±m** (kÃ¼Ã§Ã¼k gÃ¼ncellemelere izin verir). O, `requests-company` kÃ¼tÃ¼phanesini **1.0.2 sÃ¼rÃ¼mÃ¼nÃ¼ yayÄ±nlayabilir** ve ÅŸirket **iÃ§ kÃ¼tÃ¼phanenin yerine bu kÃ¼tÃ¼phaneyi kullanacaktÄ±r**.

## AWS DÃ¼zeltme

Bu zafiyet, AWS **CodeArtifact**'da bulundu (detaylarÄ± [**bu blog yazÄ±sÄ±nda**](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d) okuyun).\
AWS, iÃ§ baÄŸÄ±mlÄ±lÄ±klarÄ±n dÄ±ÅŸ depolardan indirilmesini Ã¶nlemek iÃ§in bir kÃ¼tÃ¼phanenin iÃ§sel veya harici olup olmadÄ±ÄŸÄ±nÄ± belirtmeye izin vererek bunu dÃ¼zeltti.

## Zafiyetli KÃ¼tÃ¼phanelerin BulunmasÄ±

[**BaÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± hakkÄ±ndaki orijinal yazÄ±da**](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610) yazar, binlerce aÃ§Ä±kta kalan package.json dosyasÄ±nÄ± arayarak javascript projelerinin baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± aradÄ±.

## Referanslar

* [https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610)
* [https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d)

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

* Bir **cybersecurity ÅŸirketinde mi Ã§alÄ±ÅŸÄ±yorsunuz**? **Åirketinizi HackTricks'te reklam gÃ¶rmek ister misiniz**? ya da **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne eriÅŸmek veya HackTricks'i PDF olarak indirmek ister misiniz**? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonu
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* **KatÄ±lÄ±n** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **Twitter'da** beni takip edin ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak** [hacktricks deposuna](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud deposuna](https://github.com/carlospolop/hacktricks-cloud) **PR gÃ¶nderin**.

</details>
