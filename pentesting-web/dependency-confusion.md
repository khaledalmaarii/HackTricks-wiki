# BaÄŸÄ±mlÄ±lÄ±k KarÄ±ÅŸÄ±klÄ±ÄŸÄ±

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


## Temel Bilgiler

Ã–zetle, bir baÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± aÃ§Ä±ÄŸÄ±, bir projenin **yanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ**, **mevcut olmayan** veya **belirtilmemiÅŸ bir versiyona** sahip bir kÃ¼tÃ¼phane kullanmasÄ± ve kullanÄ±lan baÄŸÄ±mlÄ±lÄ±k deposunun **gÃ¼ncellenmiÅŸ versiyonlarÄ± kamuya aÃ§Ä±k** depolardan **toplamasÄ±na** izin vermesi durumunda meydana gelir.

* **YanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ**: `requests` yerine **`reqests`** iÃ§e aktarÄ±mÄ±
* **Mevcut olmayan**: **artÄ±k mevcut olmayan** bir iÃ§ kÃ¼tÃ¼phane olan `company-logging` iÃ§e aktarÄ±mÄ±
* **BelirtilmemiÅŸ versiyon**: **mevcut** bir `company-requests` kÃ¼tÃ¼phanesini iÃ§e aktarmak, ancak repo **daha bÃ¼yÃ¼k versiyonlar** olup olmadÄ±ÄŸÄ±nÄ± gÃ¶rmek iÃ§in **kamuya aÃ§Ä±k repos** kontrol eder.

## SÃ¶mÃ¼rÃ¼

{% hint style="warning" %}
TÃ¼m durumlarda, saldÄ±rganÄ±n sadece kurban ÅŸirketin kullandÄ±ÄŸÄ± kÃ¼tÃ¼phanelerin **adÄ±yla kÃ¶tÃ¼ niyetli bir paket yayÄ±nlamasÄ±** yeterlidir.
{% endhint %}

### YanlÄ±ÅŸ YazÄ±lmÄ±ÅŸ & Mevcut Olmayan

EÄŸer ÅŸirketiniz **iÃ§ kÃ¼tÃ¼phane olmayan bir kÃ¼tÃ¼phaneyi iÃ§e aktarmaya Ã§alÄ±ÅŸÄ±yorsa**, kÃ¼tÃ¼phaneler deposunun **kamuya aÃ§Ä±k depolarda** arama yapmasÄ± muhtemeldir. EÄŸer bir saldÄ±rgan bunu oluÅŸturmuÅŸsa, kodunuz ve Ã§alÄ±ÅŸan makinelerinizin bÃ¼yÃ¼k ihtimalle tehlikeye girecektir.

### BelirtilmemiÅŸ Versiyon

GeliÅŸtiricilerin kullandÄ±klarÄ± kÃ¼tÃ¼phanenin **herhangi bir versiyonunu belirtmemesi** veya sadece bir **ana versiyon** belirtmesi oldukÃ§a yaygÄ±ndÄ±r. Sonra, yorumlayÄ±cÄ± bu gereksinimlere uyan **en son versiyonu** indirmeye Ã§alÄ±ÅŸacaktÄ±r.\
EÄŸer kÃ¼tÃ¼phane **bilinen bir dÄ±ÅŸ kÃ¼tÃ¼phane** ise (Ã¶rneÄŸin python `requests`), bir **saldÄ±rganÄ±n yapabileceÄŸi pek bir ÅŸey yoktur**, Ã§Ã¼nkÃ¼ `requests` adÄ±nda bir kÃ¼tÃ¼phane oluÅŸturamayacaktÄ±r (eÄŸer orijinal yazar deÄŸilse).\
Ancak, eÄŸer kÃ¼tÃ¼phane **iÃ§sel** ise, bu Ã¶rnekteki gibi `requests-company`, eÄŸer **kÃ¼tÃ¼phane reposu** **yeni versiyonlarÄ± dÄ±ÅŸarÄ±dan kontrol etmeye** izin veriyorsa, kamuya aÃ§Ä±k olarak mevcut daha yeni bir versiyonu arayacaktÄ±r.\
Yani eÄŸer bir **saldÄ±rgan** ÅŸirketin `requests-company` kÃ¼tÃ¼phanesinin **1.0.1** versiyonunu kullandÄ±ÄŸÄ±nÄ± biliyorsa (kÃ¼Ã§Ã¼k gÃ¼ncellemeleri kabul eder). O, `requests-company` kÃ¼tÃ¼phanesinin **1.0.2** versiyonunu **yayÄ±nlayabilir** ve ÅŸirket bu kÃ¼tÃ¼phaneyi **iÃ§ kÃ¼tÃ¼phanesi yerine kullanacaktÄ±r**.

## AWS DÃ¼zeltmesi

Bu aÃ§Ä±k AWS **CodeArtifact**'ta bulundu (bu blog yazÄ±sÄ±nda [**detaylarÄ± okuyun**](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d)).\
AWS, bir kÃ¼tÃ¼phanenin iÃ§sel veya dÄ±ÅŸsal olup olmadÄ±ÄŸÄ±nÄ± belirtmeye izin vererek, iÃ§ baÄŸÄ±mlÄ±lÄ±klarÄ±n dÄ±ÅŸ reposlardan indirilmesini Ã¶nleyerek bunu dÃ¼zeltmiÅŸtir.

## AÃ§Ä±k KÃ¼tÃ¼phaneleri Bulma

[**baÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± hakkÄ±nda orijinal yazÄ±da**](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610) yazar, javascript projelerinin baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± iÃ§eren binlerce ifÅŸa edilmiÅŸ package.json dosyasÄ±nÄ± aradÄ±.

## Referanslar

* [https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610)
* [https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d)

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
