# BaÄŸÄ±mlÄ±lÄ±k KarÄ±ÅŸÄ±klÄ±ÄŸÄ±

<details>

<summary><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

* Bir **cybersecurity ÅŸirketinde** Ã§alÄ±ÅŸÄ±yor musunuz? **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** ister misiniz? veya **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* Ã–zel [**NFT'lerimizden oluÅŸan PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi [hacktricks repo'ya](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo'ya](https://github.com/carlospolop/hacktricks-cloud) PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## Temel Bilgiler

Ã–zet olarak, bir baÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± zafiyeti, bir projenin **yanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ**, **var olmayan** veya **belirtilmemiÅŸ bir sÃ¼rÃ¼mle** bir kÃ¼tÃ¼phaneyi kullandÄ±ÄŸÄ± durumlarda ve kullanÄ±lan baÄŸÄ±mlÄ±lÄ±k deposu, **gÃ¼ncellenmiÅŸ sÃ¼rÃ¼mleri halka aÃ§Ä±k** depolardan toplamaya izin veriyorsa ortaya Ã§Ä±kar.

* **YanlÄ±ÅŸ yazÄ±lmÄ±ÅŸ**: `requests` yerine **`reqests`** iÃ§e aktar
* **Var olmayan**: ArtÄ±k **var olmayan** bir dahili kÃ¼tÃ¼phane olan `company-logging`i iÃ§e aktar
* **BelirtilmemiÅŸ sÃ¼rÃ¼m**: Bu Ã¶rnekte olduÄŸu gibi **dahili** **var olan** `company-requests` kÃ¼tÃ¼phanesini iÃ§e aktar, ancak depo **halka aÃ§Ä±k depolarÄ±** kontrol ederek **daha bÃ¼yÃ¼k sÃ¼rÃ¼mler** olup olmadÄ±ÄŸÄ±na bakar.

## SÃ¶mÃ¼rÃ¼

{% hint style="warning" %}
TÃ¼m durumlarda saldÄ±rganÄ±n sadece kurban ÅŸirketin kullandÄ±ÄŸÄ± kÃ¼tÃ¼phanelerin **adÄ±nÄ± taÅŸÄ±yan kÃ¶tÃ¼ amaÃ§lÄ± bir paket yayÄ±nlamasÄ±** yeterlidir.
{% endhint %}

### YanlÄ±ÅŸ YazÄ±lmÄ±ÅŸ ve Var Olmayan

Åirketinizin **dahili olmayan bir kÃ¼tÃ¼phaneyi iÃ§e aktarmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±** durumlarda, bÃ¼yÃ¼k olasÄ±lÄ±kla kÃ¼tÃ¼phane deposu bunu **halka aÃ§Ä±k depolarda** arayacaktÄ±r. EÄŸer bir saldÄ±rgan bunu oluÅŸturmuÅŸsa, kodunuz ve Ã§alÄ±ÅŸan makineleriniz bÃ¼yÃ¼k olasÄ±lÄ±kla tehlikeye girecektir.

### BelirtilmemiÅŸ SÃ¼rÃ¼m

GeliÅŸtiricilerin genellikle kullanÄ±lan kÃ¼tÃ¼phanenin **herhangi bir sÃ¼rÃ¼mÃ¼nÃ¼ belirtmemesi** veya sadece bir **ana sÃ¼rÃ¼mÃ¼ belirtmesi** Ã§ok yaygÄ±ndÄ±r. ArdÄ±ndan, yorumlayÄ±cÄ± bu gereksinimleri karÅŸÄ±layan **en son sÃ¼rÃ¼mÃ¼ indirmeye Ã§alÄ±ÅŸacaktÄ±r**.\
EÄŸer kÃ¼tÃ¼phane, python `requests` gibi **bilinen bir harici kÃ¼tÃ¼phaneyse**, bir saldÄ±rgan Ã§ok fazla bir ÅŸey yapamaz, Ã§Ã¼nkÃ¼ `requests` adÄ±nda bir kÃ¼tÃ¼phane oluÅŸturamaz (orijinal yazar deÄŸilse).\
Ancak, bu Ã¶rnekte olduÄŸu gibi kÃ¼tÃ¼phane **dahili** ise, `requests-company` gibi, eÄŸer **kÃ¼tÃ¼phane deposu** yeni sÃ¼rÃ¼mleri **harici olarak kontrol etmeye izin veriyorsa**, daha yeni bir sÃ¼rÃ¼mÃ¼ halka aÃ§Ä±k olarak arayacaktÄ±r.\
Bu nedenle, bir saldÄ±rgan ÅŸirketin `requests-company` kÃ¼tÃ¼phanesini **1.0.1 sÃ¼rÃ¼mÃ¼nÃ¼** (kÃ¼Ã§Ã¼k gÃ¼ncellemelere izin ver) kullandÄ±ÄŸÄ±nÄ± **biliyorsa**, `requests-company` kÃ¼tÃ¼phanesini **1.0.2 sÃ¼rÃ¼mÃ¼nÃ¼ yayÄ±nlayabilir** ve ÅŸirket **dahili olan yerine bu kÃ¼tÃ¼phaneyi kullanacaktÄ±r**.

## AWS DÃ¼zeltmesi

Bu zafiyet AWS **CodeArtifact**'da bulundu (bu blog yazÄ±sÄ±ndaki [**detaylarÄ± okuyun**](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d)).\
AWS, dahili baÄŸÄ±mlÄ±lÄ±klarÄ±n harici depolardan indirilmesini Ã¶nlemek iÃ§in bir kÃ¼tÃ¼phanenin dahili veya harici olup olmadÄ±ÄŸÄ±nÄ± belirtmeye izin vererek bunu dÃ¼zeltti.

## Zafiyetli KÃ¼tÃ¼phaneleri Bulma

[**BaÄŸÄ±mlÄ±lÄ±k karÄ±ÅŸÄ±klÄ±ÄŸÄ± hakkÄ±ndaki orijinal yazÄ±da**](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610) yazar, binlerce aÃ§Ä±ÄŸa Ã§Ä±karÄ±lmÄ±ÅŸ package.json dosyasÄ±nÄ± arayarak JavaScript projelerinin baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± buldu.

## Referanslar

* [https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610)
* [https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d](https://zego.engineering/dependency-confusion-in-aws-codeartifact-86b9ff68963d)

<details>

<summary><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

* Bir **cybersecurity ÅŸirketinde** Ã§alÄ±ÅŸÄ±yor musunuz? **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** ister misiniz? veya **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* Ã–zel [**NFT'lerimizden oluÅŸan PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi [hacktricks repo'ya](https://github.com/carlospolop/hacktricks) ve [hacktricks-cloud repo'ya](https://github.com/carlospolop/hacktricks-cloud) PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
