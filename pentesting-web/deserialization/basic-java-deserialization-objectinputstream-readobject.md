{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


Bu POST'ta `java.io.Serializable` kullanarak bir Ã¶rnek aÃ§Ä±klanacaktÄ±r.

# Serializable

Java `Serializable` arayÃ¼zÃ¼ (`java.io.Serializable`, sÄ±nÄ±flarÄ±nÄ±zÄ±n **serileÅŸtirilmesi** ve **deserileÅŸtirilmesi** iÃ§in uygulamasÄ± gereken bir iÅŸaretÃ§i arayÃ¼zÃ¼dÃ¼r. Java nesne serileÅŸtirmesi (yazma) [ObjectOutputStream](http://tutorials.jenkov.com/java-io/objectoutputstream.html) ile yapÄ±lÄ±r ve deserileÅŸtirme (okuma) [ObjectInputStream](http://tutorials.jenkov.com/java-io/objectinputstream.html) ile yapÄ±lÄ±r.

**SerileÅŸtirilebilir** bir **Person** sÄ±nÄ±fÄ± ile bir Ã¶rneÄŸe bakalÄ±m. Bu sÄ±nÄ±f **readObject** fonksiyonunu **aÅŸar**, bÃ¶ylece bu **sÄ±nÄ±fÄ±n** **herhangi bir nesnesi** **deserileÅŸtirildiÄŸinde** bu **fonksiyon** **Ã§alÄ±ÅŸtÄ±rÄ±lacaktÄ±r**.\
Ã–rnekte, Person sÄ±nÄ±fÄ±nÄ±n **readObject fonksiyonu**, evcil hayvanÄ±nÄ±n `eat()` fonksiyonunu Ã§aÄŸÄ±rÄ±r ve bir KÃ¶pek'in `eat()` fonksiyonu (bir sebepten dolayÄ±) bir **calc.exe** Ã§aÄŸÄ±rÄ±r. **Bu hesap makinesini Ã§alÄ±ÅŸtÄ±rmak iÃ§in bir Person nesnesini nasÄ±l serileÅŸtirip deserileÅŸtireceÄŸimizi gÃ¶receÄŸiz:**

**AÅŸaÄŸÄ±daki Ã¶rnek [https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649](https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649) adresinden alÄ±nmÄ±ÅŸtÄ±r.**
```java
import java.io.Serializable;
import java.io.*;

public class TestDeserialization {
interface Animal {
public void eat();
}
//Class must implements Serializable to be serializable
public static class Cat implements Animal,Serializable {
@Override
public void eat() {
System.out.println("cat eat fish");
}
}
//Class must implements Serializable to be serializable
public static class Dog implements Animal,Serializable {
@Override
public void eat() {
try {
Runtime.getRuntime().exec("calc");
} catch (IOException e) {
e.printStackTrace();
}
System.out.println("dog eat bone");
}
}
//Class must implements Serializable to be serializable
public static class Person implements Serializable {
private Animal pet;
public Person(Animal pet){
this.pet = pet;
}
//readObject implementation, will call the readObject from ObjectInputStream  and then call pet.eat()
private void readObject(java.io.ObjectInputStream stream)
throws IOException, ClassNotFoundException {
pet = (Animal) stream.readObject();
pet.eat();
}
}
public static void GeneratePayload(Object instance, String file)
throws Exception {
//Serialize the constructed payload and write it to the file
File f = new File(file);
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(f));
out.writeObject(instance);
out.flush();
out.close();
}
public static void payloadTest(String file) throws Exception {
//Read the written payload and deserialize it
ObjectInputStream in = new ObjectInputStream(new FileInputStream(file));
Object obj = in.readObject();
System.out.println(obj);
in.close();
}
public static void main(String[] args) throws Exception {
// Example to call Person with a Dog
Animal animal = new Dog();
Person person = new Person(animal);
GeneratePayload(person,"test.ser");
payloadTest("test.ser");
// Example to call Person with a Cat
//Animal animal = new Cat();
//Person person = new Person(animal);
//GeneratePayload(person,"test.ser");
//payloadTest("test.ser");
}
}
```
## SonuÃ§

Bu Ã§ok temel Ã¶rnekte gÃ¶rebileceÄŸiniz gibi, buradaki "aÃ§Ä±klÄ±k" **readObject** fonksiyonu **diÄŸer savunmasÄ±z fonksiyonlarÄ± Ã§aÄŸÄ±rdÄ±ÄŸÄ±** iÃ§in ortaya Ã§Ä±kmaktadÄ±r.


{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
