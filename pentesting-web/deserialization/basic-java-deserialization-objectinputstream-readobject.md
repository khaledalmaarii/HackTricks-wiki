<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ì„ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>


ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” `java.io.Serializable`ì„ ì‚¬ìš©í•œ ì˜ˆì œë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

# Serializable

Java `Serializable` ì¸í„°í˜ì´ìŠ¤ (`java.io.Serializable`)ëŠ” í´ë˜ìŠ¤ê°€ **ì§ë ¬í™”** ë° **ì—­ì§ë ¬í™”**ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë§ˆì»¤ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤. Java ê°ì²´ ì§ë ¬í™”(ì“°ê¸°)ëŠ” [ObjectOutputStream](http://tutorials.jenkov.com/java-io/objectoutputstream.html)ë¥¼ ì‚¬ìš©í•˜ê³  ì—­ì§ë ¬í™”(ì½ê¸°)ëŠ” [ObjectInputStream](http://tutorials.jenkov.com/java-io/objectinputstream.html)ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰ë©ë‹ˆë‹¤.

**ì§ë ¬í™” ê°€ëŠ¥í•œ** **Person í´ë˜ìŠ¤**ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” **readObject í•¨ìˆ˜ë¥¼ ë®ì–´ì”ë‹ˆë‹¤**. ë”°ë¼ì„œ ì´ **í´ë˜ìŠ¤**ì˜ **ì–´ë–¤ ê°ì²´**ê°€ **ì—­ì§ë ¬í™”**ë  ë•Œ ì´ **í•¨ìˆ˜**ê°€ **ì‹¤í–‰**ë©ë‹ˆë‹¤.\
ì˜ˆì œì—ì„œëŠ” Person í´ë˜ìŠ¤ì˜ readObject í•¨ìˆ˜ê°€ ê·¸ì˜ ì• ì™„ë™ë¬¼ì˜ eat() í•¨ìˆ˜ì™€ Dogì˜ eat() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  (ì–´ë–¤ ì´ìœ ë¡œ) calc.exeë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. **Person ê°ì²´ë¥¼ ì§ë ¬í™”í•˜ê³  ì—­ì§ë ¬í™”í•˜ì—¬ ì´ ê³„ì‚°ê¸°ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:**

**ë‹¤ìŒ ì˜ˆì œëŠ” [https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649](https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649)ì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤.**
```java
import java.io.Serializable;
import java.io.*;

public class TestDeserialization {
interface Animal {
public void eat();
}
//Class must implements Serializable to be serializable
public static class Cat implements Animal,Serializable {
@Override
public void eat() {
System.out.println("cat eat fish");
}
}
//Class must implements Serializable to be serializable
public static class Dog implements Animal,Serializable {
@Override
public void eat() {
try {
Runtime.getRuntime().exec("calc");
} catch (IOException e) {
e.printStackTrace();
}
System.out.println("dog eat bone");
}
}
//Class must implements Serializable to be serializable
public static class Person implements Serializable {
private Animal pet;
public Person(Animal pet){
this.pet = pet;
}
//readObject implementation, will call the readObject from ObjectInputStream  and then call pet.eat()
private void readObject(java.io.ObjectInputStream stream)
throws IOException, ClassNotFoundException {
pet = (Animal) stream.readObject();
pet.eat();
}
}
public static void GeneratePayload(Object instance, String file)
throws Exception {
//Serialize the constructed payload and write it to the file
File f = new File(file);
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(f));
out.writeObject(instance);
out.flush();
out.close();
}
public static void payloadTest(String file) throws Exception {
//Read the written payload and deserialize it
ObjectInputStream in = new ObjectInputStream(new FileInputStream(file));
Object obj = in.readObject();
System.out.println(obj);
in.close();
}
public static void main(String[] args) throws Exception {
// Example to call Person with a Dog
Animal animal = new Dog();
Person person = new Person(animal);
GeneratePayload(person,"test.ser");
payloadTest("test.ser");
// Example to call Person with a Cat
//Animal animal = new Cat();
//Person person = new Person(animal);
//GeneratePayload(person,"test.ser");
//payloadTest("test.ser");
}
}
```
## ê²°ë¡ 

ì´ ë§¤ìš° ê¸°ë³¸ì ì¸ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, "ì·¨ì•½ì "ì€ ì—¬ê¸°ì—ì„œ **readObject** í•¨ìˆ˜ê°€ **ë‹¤ë¥¸ ì·¨ì•½í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ**í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.


<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family)ì¸ [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°êµë¥¼ ê³µìœ í•˜ì„¸ìš”.

</details>
