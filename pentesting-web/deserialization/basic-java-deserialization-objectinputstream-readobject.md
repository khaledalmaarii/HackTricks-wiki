<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramanla Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek**.

</details>


Bu gÃ¶nderide, `java.io.Serializable` kullanarak bir Ã¶rnek aÃ§Ä±klanacak.

# Serializable

Java `Serializable` arayÃ¼zÃ¼ (`java.io.Serializable`), sÄ±nÄ±flarÄ±nÄ±zÄ±n **serileÅŸtirilmesi** ve **serileÅŸtirilmesi** gerekiyorsa uygulamanÄ±z gereken bir iÅŸaretleyici arayÃ¼zdÃ¼r. Java nesne serileÅŸtirme (yazma) iÅŸlemi [ObjectOutputStream](http://tutorials.jenkov.com/java-io/objectoutputstream.html) ile yapÄ±lÄ±r ve deserializasyon (okuma) iÅŸlemi [ObjectInputStream](http://tutorials.jenkov.com/java-io/objectinputstream.html) ile yapÄ±lÄ±r.

Bir **Person sÄ±nÄ±fÄ±** Ã¶rneÄŸiyle bir Ã¶rnek gÃ¶relim. Bu sÄ±nÄ±f **serileÅŸtirilebilir**. Bu sÄ±nÄ±fÄ±n **readObject** iÅŸlevi Ã¼zerine yazÄ±lmÄ±ÅŸtÄ±r, bu nedenle bu **sÄ±nÄ±fÄ±n herhangi bir nesnesi deserializasyon** yapÄ±ldÄ±ÄŸÄ±nda bu **iÅŸlev** Ã§alÄ±ÅŸtÄ±rÄ±lacaktÄ±r.\
Ã–rnekte, Person sÄ±nÄ±fÄ±nÄ±n readObject iÅŸlevi, evcil hayvanÄ±nÄ±n `eat()` iÅŸlevini ve bir KÃ¶peÄŸin `eat()` iÅŸlevini (bir nedenle) Ã§aÄŸÄ±rÄ±r ve **calc.exe** Ã§aÄŸÄ±rÄ±r. **Bu hesap makinesini Ã§alÄ±ÅŸtÄ±rmak iÃ§in bir Person nesnesini serileÅŸtirmeyi ve deserializasyon yapmayÄ± gÃ¶receÄŸiz:**

**AÅŸaÄŸÄ±daki Ã¶rnek, [https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649](https://medium.com/@knownsec404team/java-deserialization-tool-gadgetinspector-first-glimpse-74e99e493649) adresinden alÄ±nmÄ±ÅŸtÄ±r**
```java
import java.io.Serializable;
import java.io.*;

public class TestDeserialization {
interface Animal {
public void eat();
}
//Class must implements Serializable to be serializable
public static class Cat implements Animal,Serializable {
@Override
public void eat() {
System.out.println("cat eat fish");
}
}
//Class must implements Serializable to be serializable
public static class Dog implements Animal,Serializable {
@Override
public void eat() {
try {
Runtime.getRuntime().exec("calc");
} catch (IOException e) {
e.printStackTrace();
}
System.out.println("dog eat bone");
}
}
//Class must implements Serializable to be serializable
public static class Person implements Serializable {
private Animal pet;
public Person(Animal pet){
this.pet = pet;
}
//readObject implementation, will call the readObject from ObjectInputStream  and then call pet.eat()
private void readObject(java.io.ObjectInputStream stream)
throws IOException, ClassNotFoundException {
pet = (Animal) stream.readObject();
pet.eat();
}
}
public static void GeneratePayload(Object instance, String file)
throws Exception {
//Serialize the constructed payload and write it to the file
File f = new File(file);
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(f));
out.writeObject(instance);
out.flush();
out.close();
}
public static void payloadTest(String file) throws Exception {
//Read the written payload and deserialize it
ObjectInputStream in = new ObjectInputStream(new FileInputStream(file));
Object obj = in.readObject();
System.out.println(obj);
in.close();
}
public static void main(String[] args) throws Exception {
// Example to call Person with a Dog
Animal animal = new Dog();
Person person = new Person(animal);
GeneratePayload(person,"test.ser");
payloadTest("test.ser");
// Example to call Person with a Cat
//Animal animal = new Cat();
//Person person = new Person(animal);
//GeneratePayload(person,"test.ser");
//payloadTest("test.ser");
}
}
```
## SonuÃ§

Bu Ã§ok temel Ã¶rnekte gÃ¶rebileceÄŸiniz gibi, buradaki "zayÄ±flÄ±k", **readObject** fonksiyonunun **diÄŸer zayÄ±f fonksiyonlarÄ± Ã§aÄŸÄ±rmasÄ±** nedeniyle ortaya Ã§Ä±kmaktadÄ±r.


<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman olmak iÃ§in Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'da** takip edin.
* Hacking hilelerinizi **HackTricks** ve **HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
