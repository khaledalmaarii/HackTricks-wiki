# Alan/Alt Alan Ele GeÃ§irme

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahramana Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**]'na gÃ¶z atÄ±n (https://github.com/sponsors/carlospolop)!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks** (https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na PR gÃ¶nderin.

</details>

<figure><img src="../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ topluluk araÃ§larÄ±** tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Alan Ele GeÃ§irme

EÄŸer **kapsam iÃ§inde bazÄ± hizmetler tarafÄ±ndan kullanÄ±lan bir alan (alan.tld)** keÅŸfederseniz ancak **ÅŸirket** bunun **sahipliÄŸini kaybetmiÅŸse**, bunu **kaydedip** ÅŸirkete bildirebilirsiniz. Bu alan, **GET** parametresi aracÄ±lÄ±ÄŸÄ±yla bir oturum Ã§erezi veya **Referer** baÅŸlÄ±ÄŸÄ±nda hassas bilgiler alÄ±yorsa, bu kesinlikle bir **zafiyettir**.

### Alt Alan Ele GeÃ§irme

Åirketin bir alt alanÄ±, **kayÄ±tlÄ± olmayan bir isimle Ã¼Ã§Ã¼ncÃ¼ taraf bir hizmete iÅŸaret ediyor**. Bu **Ã¼Ã§Ã¼ncÃ¼ taraf hizmetinde bir hesap oluÅŸturabilir** ve kullanÄ±mda olan **isim**i **kaydedebilirseniz**, alt alan ele geÃ§irme iÅŸlemini gerÃ§ekleÅŸtirebilirsiniz.

Muhtemel ele geÃ§irmeleri kontrol etmek iÃ§in sÃ¶zlÃ¼klerle birlikte birkaÃ§ araÃ§ bulunmaktadÄ±r:

* [https://github.com/EdOverflow/can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz)
* [https://github.com/blacklanternsecurity/bbot](https://github.com/blacklanternsecurity/bbot)
* [https://github.com/punk-security/dnsReaper](https://github.com/punk-security/dnsReaper)
* [https://github.com/haccer/subjack](https://github.com/haccer/subjack)
* [https://github.com/anshumanbh/tko-sub](https://github.com/anshumanbh/tko-subs)
* [https://github.com/ArifulProtik/sub-domain-takeover](https://github.com/ArifulProtik/sub-domain-takeover)
* [https://github.com/SaadAhmedx/Subdomain-Takeover](https://github.com/SaadAhmedx/Subdomain-Takeover)
* [https://github.com/Ice3man543/SubOver](https://github.com/Ice3man543/SubOver)
* [https://github.com/m4ll0k/takeover](https://github.com/m4ll0k/takeover)
* [https://github.com/antichown/subdomain-takeover](https://github.com/antichown/subdomain-takeover)
* [https://github.com/musana/mx-takeover](https://github.com/musana/mx-takeover)
* [https://github.com/PentestPad/subzy](https://github.com/PentestPad/subzy)

[BBOT](https://github.com/blacklanternsecurity/bbot) ile Hijackable Alt Alanlar iÃ§in Tarama:

Alt alan ele geÃ§irme kontrolleri, BBOT'un varsayÄ±lan alt alan numaralandÄ±rmasÄ±na dahildir. Ä°mzalar doÄŸrudan [https://github.com/EdOverflow/can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz) adresinden alÄ±nÄ±r.
```bash
bbot -t evilcorp.com -f subdomain-enum
```
### DNS YabancÄ± Ana Bilgisayar AdÄ± Yoluyla Alt Alan AdÄ± Ele GeÃ§irme

Bir alan adÄ±nda DNS yabancÄ± ana bilgisayar adÄ± kullanÄ±ldÄ±ÄŸÄ±nda, aÃ§Ä±kÃ§a farklÄ± bir adresi olmayan o alan adÄ±nÄ±n talep edilen alt alanÄ± **aynÄ± bilgilere Ã§Ã¶zÃ¼mlenecektir**. Bu bir A ip adresi, bir CNAME olabilir...

Ã–rneÄŸin, `*.testing.com` `1.1.1.1`'e yabancÄ± ana bilgisayar adÄ± olarak ayarlandÄ±ÄŸÄ±nda, `not-existent.testing.com` `1.1.1.1`'e iÅŸaret edecektir.

Ancak, IP adresine iÅŸaret etmek yerine, sistem yÃ¶neticisi bunu **CNAME aracÄ±lÄ±ÄŸÄ±yla Ã¼Ã§Ã¼ncÃ¼ taraf hizmetine iÅŸaret ederse**, Ã¶rneÄŸin bir **github alt alanÄ±** (`sohomdatta1.github.io`). Bir saldÄ±rgan **kendi Ã¼Ã§Ã¼ncÃ¼ taraf sayfasÄ±nÄ±** (bu durumda Github'ta) oluÅŸturabilir ve `something.testing.com`'un oraya iÅŸaret ettiÄŸini sÃ¶yleyebilir. Ã‡Ã¼nkÃ¼ **CNAME yabancÄ± ana bilgisayar adÄ±** saldÄ±rganÄ±n, kurbanÄ±n alan adÄ± iÃ§in **kendi sayfalarÄ±na iÅŸaret eden keyfi alt alanlar oluÅŸturmasÄ±na izin verecektir**.

Bu zafiyetin bir Ã¶rneÄŸini CTF yazÄ±sÄ±nda bulabilirsiniz: [https://ctf.zeyu2001.com/2022/nitectf-2022/undocumented-js-api](https://ctf.zeyu2001.com/2022/nitectf-2022/undocumented-js-api)

## Alt Alan AdÄ± Ele GeÃ§irme SÃ¶mÃ¼rÃ¼sÃ¼

Alt alan adÄ± ele geÃ§irme aslÄ±nda internet Ã¼zerinde belirli bir alan adÄ± iÃ§in DNS sahteciliÄŸidir ve saldÄ±rganlarÄ±n bir alan adÄ± iÃ§in A kayÄ±tlarÄ±nÄ± ayarlamalarÄ±na izin verir, tarayÄ±cÄ±larÄ± saldÄ±rganÄ±n sunucusundan iÃ§erik gÃ¶stermeye yÃ¶nlendirir. Bu, tarayÄ±cÄ±lardaki bu **ÅŸeffaflÄ±k**, alan adlarÄ±nÄ± dolandÄ±rÄ±cÄ±lÄ±ÄŸa karÅŸÄ± savunmasÄ±z hale getirir. SaldÄ±rganlar bu amaÃ§la [_tutarsÄ±zlÄ±k_](https://en.wikipedia.org/wiki/Typosquatting) veya [_Doppelganger alanlarÄ±_](https://en.wikipedia.org/wiki/Doppelg%C3%A4nger) kullanabilir. Ã–zellikle, bir dolandÄ±rÄ±cÄ±lÄ±k e-postasÄ±ndaki URL'nin meÅŸru gÃ¶rÃ¼nmesi, kullanÄ±cÄ±larÄ± aldatmasÄ± ve alan adÄ±nÄ±n doÄŸal gÃ¼veni nedeniyle spam filtrelerinden kaÃ§Ä±nmasÄ± nedeniyle dolandÄ±rÄ±cÄ±lÄ±ÄŸa karÅŸÄ± savunmasÄ±z olan alan adlarÄ±dÄ±r.

Daha fazla ayrÄ±ntÄ± iÃ§in bu [gÃ¶nderiye bakÄ±n](https://0xpatrik.com/subdomain-takeover/)

### **SSL SertifikalarÄ±**

SaldÄ±rganlar tarafÄ±ndan [_Let's Encrypt_](https://letsencrypt.org/) gibi hizmetler aracÄ±lÄ±ÄŸÄ±yla oluÅŸturulan SSL sertifikalarÄ±, bu sahte alan adlarÄ±n meÅŸruiyetini artÄ±rarak dolandÄ±rÄ±cÄ±lÄ±k saldÄ±rÄ±larÄ±nÄ± daha inandÄ±rÄ±cÄ± hale getirir.

### **Ã‡erez GÃ¼venliÄŸi ve TarayÄ±cÄ± ÅeffaflÄ±ÄŸÄ±**

TarayÄ±cÄ± ÅŸeffaflÄ±ÄŸÄ± ayrÄ±ca Ã§erez gÃ¼venliÄŸine de uzanÄ±r, [AynÄ± kÃ¶ken politikasÄ±](https://en.wikipedia.org/wiki/Same-origin\_policy) gibi politikalar tarafÄ±ndan yÃ¶netilir. OturumlarÄ± yÃ¶netmek ve giriÅŸ belirteÃ§lerini saklamak iÃ§in sÄ±kÃ§a kullanÄ±lan Ã§erezler, alt alan ele geÃ§irme yoluyla sÃ¶mÃ¼rÃ¼lebilir. SaldÄ±rganlar, kullanÄ±cÄ±larÄ± tehlikeye atarak oturum Ã§erezlerini **toplayabilir** sadece kullanÄ±cÄ±larÄ± bir tehlikeli alt alana yÃ¶nlendirerek, kullanÄ±cÄ± verilerini ve gizliliÄŸini tehlikeye atarlar.

### **E-postalar ve Alt Alan Ele GeÃ§irme**

Alt alan ele geÃ§irmenin baÅŸka bir yÃ¶nÃ¼ de e-posta hizmetlerini iÃ§erir. SaldÄ±rganlar, meÅŸru bir alt alan Ã¼zerinden e-posta almak veya gÃ¶ndermek iÃ§in **MX kayÄ±tlarÄ±nÄ± manipÃ¼le edebilir**, dolandÄ±rÄ±cÄ±lÄ±k saldÄ±rÄ±larÄ±nÄ±n etkinliÄŸini artÄ±rÄ±r.

### **Daha YÃ¼ksek DÃ¼zeyde Riskler**

Daha fazla riskler arasÄ±nda **NS kaydÄ± ele geÃ§irme** bulunmaktadÄ±r. Bir saldÄ±rgan bir alan adÄ±nÄ±n bir NS kaydÄ±nÄ± ele geÃ§irirse, potansiyel olarak trafiÄŸin bir kÄ±smÄ±nÄ± kendi kontrolÃ¼ndeki bir sunucuya yÃ¶nlendirebilir. Bu risk, saldÄ±rganÄ±n DNS kayÄ±tlarÄ± iÃ§in yÃ¼ksek bir **TTL (YaÅŸam SÃ¼resi)** ayarlamasÄ± durumunda artar, saldÄ±rÄ±nÄ±n sÃ¼resini uzatÄ±r.

### CNAME KaydÄ± Zafiyeti

SaldÄ±rganlar, artÄ±k kullanÄ±lmayan veya devre dÄ±ÅŸÄ± bÄ±rakÄ±lan harici hizmetlere iÅŸaret eden talep edilmemiÅŸ CNAME kayÄ±tlarÄ±nÄ± sÃ¶mÃ¼rebilir. Bu, gÃ¼venilir alan altÄ±nda bir sayfa oluÅŸturmalarÄ±na izin verir, dolandÄ±rÄ±cÄ±lÄ±ÄŸÄ± veya kÃ¶tÃ¼ amaÃ§lÄ± yazÄ±lÄ±m daÄŸÄ±tÄ±mÄ±nÄ± daha da kolaylaÅŸtÄ±rÄ±r.

### **Hafifletme Stratejileri**

Hafifletme stratejileri ÅŸunlarÄ± iÃ§erir:

1. **ZararlÄ± DNS kayÄ±tlarÄ±nÄ± kaldÄ±rma** - Bu, alt alanÄ±n artÄ±k gereksiz olmadÄ±ÄŸÄ± durumlarda etkilidir.
2. **Alan adÄ±nÄ± talep etme** - KaynaÄŸÄ± ilgili bulut saÄŸlayÄ±cÄ±yla kaydetmek veya sÃ¼resi dolmuÅŸ bir alan adÄ±nÄ± yeniden satÄ±n almak.
3. **Zafiyetler iÃ§in dÃ¼zenli izleme** - [aquatone](https://github.com/michenriksen/aquatone) gibi araÃ§lar, savunmasÄ±z alanlarÄ± tanÄ±mlamaya yardÄ±mcÄ± olabilir. KuruluÅŸlar ayrÄ±ca altyapÄ± yÃ¶netim sÃ¼reÃ§lerini gÃ¶zden geÃ§irmeli ve DNS kaydÄ± oluÅŸturmanÄ±n kaynak oluÅŸturmanÄ±n son adÄ±mÄ± ve kaynaÄŸÄ±n yok edilmesinin ilk adÄ±mÄ± olduÄŸundan emin olmalÄ±dÄ±r.

Bulut saÄŸlayÄ±cÄ±lar iÃ§in, alt alan ele geÃ§irmelerini Ã¶nlemek iÃ§in alan adÄ± sahipliÄŸini doÄŸrulamak Ã¶nemlidir. BazÄ±larÄ±, [GitLab](https://about.gitlab.com/2018/02/05/gitlab-pages-custom-domain-validation/) gibi, bu sorunu tanÄ±mÄ±ÅŸ ve alan doÄŸrulama mekanizmalarÄ± uygulamÄ±ÅŸtÄ±r.

## Referanslar

* [https://0xpatrik.com/subdomain-takeover/](https://0xpatrik.com/subdomain-takeover/)

<figure><img src="../.gitbook/assets/image (45).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **otomatik iÅŸ akÄ±ÅŸlarÄ±** oluÅŸturun ve otomatikleÅŸtirin.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>SÄ±fÄ±rdan Kahraman'a AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nleri**](https://peass.creator-spring.com)'ni edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* **ğŸ’¬ [Discord grubuna](https://discord.gg/hRep4RUj7f) veya [telegram grubuna](https://t.me/peass) katÄ±lÄ±n veya** bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.**

</details>
