<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨ HackTricks ä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æƒ³è¦**è·å–æœ€æ–°ç‰ˆæœ¬çš„ PEASS æˆ–ä¸‹è½½ HackTricks çš„ PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ NFT æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)

- **åŠ å…¥**[**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–è€…**å…³æ³¨**æˆ‘åœ¨**Twitter**ä¸Šçš„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘ [hacktricks ä»“åº“](https://github.com/carlospolop/hacktricks) å’Œ [hacktricks-cloud ä»“åº“](https://github.com/carlospolop/hacktricks-cloud) æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>


## æè¿°

å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿ**æ§åˆ¶å…¬å¸çš„å­åŸŸæˆ–åŸŸåï¼Œæˆ–è€…åœ¨å­åŸŸä¸­æ‰¾åˆ° XSS æ¼æ´**ï¼Œä»–å°†èƒ½å¤Ÿæ‰§è¡Œæ­¤æ”»å‡»ã€‚

æ­£å¦‚åœ¨ Cookie Hacking éƒ¨åˆ†ä¸­æ‰€æŒ‡å‡ºçš„ï¼Œå½“**å°† cookie è®¾ç½®ä¸ºä¸€ä¸ªåŸŸï¼ˆæŒ‡å®šåŸŸï¼‰æ—¶ï¼Œå®ƒå°†åœ¨è¯¥åŸŸå’Œå­åŸŸä¸­ä½¿ç”¨**ã€‚

{% hint style="danger" %}
å› æ­¤ï¼Œ**æ”»å‡»è€…å°†èƒ½å¤Ÿåœ¨åŸŸå’Œå­åŸŸä¸­è®¾ç½®ç‰¹å®šçš„ cookieï¼Œç±»ä¼¼äº** `document.cookie="session=1234; Path=/app/login; domain=.example.com"`
{% endhint %}

è¿™å¯èƒ½æ˜¯å±é™©çš„ï¼Œå› ä¸ºæ”»å‡»è€…å¯èƒ½èƒ½å¤Ÿï¼š

* **å°†å—å®³è€…çš„ cookie å›ºå®šåˆ°æ”»å‡»è€…çš„å¸æˆ·**ï¼Œå› æ­¤å¦‚æœç”¨æˆ·æ²¡æœ‰æ³¨æ„åˆ°ï¼Œ**ä»–å°†åœ¨æ”»å‡»è€…çš„å¸æˆ·ä¸­æ‰§è¡Œæ“ä½œ**ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šè·å–ä¸€äº›æœ‰è¶£çš„ä¿¡æ¯ï¼ˆæ£€æŸ¥ç”¨æˆ·åœ¨å¹³å°ä¸Šçš„æœç´¢å†å²è®°å½•ï¼Œå—å®³è€…å¯èƒ½åœ¨å¸æˆ·ä¸­è®¾ç½®ä»–çš„ä¿¡ç”¨å¡...ï¼‰
* å¦‚æœ**ç™»å½•å cookie æ²¡æœ‰æ›´æ”¹**ï¼Œæ”»å‡»è€…å¯ä»¥åªæ˜¯**å›ºå®šä¸€ä¸ª cookie**ï¼Œç­‰å¾…å—å®³è€…ç™»å½•ï¼Œç„¶å**ä½¿ç”¨è¯¥ cookie ä½œä¸ºå—å®³è€…ç™»å½•**
* å¦‚æœ**cookie è®¾ç½®äº†ä¸€äº›åˆå§‹å€¼**ï¼ˆä¾‹å¦‚åœ¨ flask ä¸­ï¼Œ**cookie** å¯èƒ½ä¼š**è®¾ç½®**ä¼šè¯çš„ **CSRF ä»¤ç‰Œ**ï¼Œå¹¶ä¸”è¯¥å€¼åœ¨å—å®³è€…ç™»å½•åå°†ä¿æŒä¸å˜ï¼‰ï¼Œæ”»å‡»è€…å¯ä»¥è®¾ç½®è¿™ä¸ªå·²çŸ¥å€¼ï¼Œç„¶åæ»¥ç”¨å®ƒï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯ä»¥è®©ç”¨æˆ·æ‰§è¡Œ CSRF è¯·æ±‚ï¼Œå› ä¸ºä»–çŸ¥é“ CSRF ä»¤ç‰Œï¼‰ã€‚

## Cookie é¡ºåº

å½“æµè§ˆå™¨æ¥æ”¶åˆ°ä¸¤ä¸ªå…·æœ‰ç›¸åŒåç§°çš„ cookieï¼Œ**éƒ¨åˆ†å½±å“ç›¸åŒèŒƒå›´**ï¼ˆåŸŸã€å­åŸŸå’Œè·¯å¾„ï¼‰æ—¶ï¼Œ**æµè§ˆå™¨å°†åœ¨ä¸¤ä¸ª cookie çš„å€¼éƒ½æœ‰æ•ˆçš„æƒ…å†µä¸‹å‘é€ä¸¤ä¸ªå€¼çš„ cookie**ã€‚

æ ¹æ®è°æ‹¥æœ‰**æœ€å…·ä½“çš„è·¯å¾„**æˆ–å“ªä¸ªæ˜¯**æœ€æ—§çš„**ï¼Œæµè§ˆå™¨å°†**é¦–å…ˆè®¾ç½® cookie çš„å€¼**ï¼Œç„¶åè®¾ç½®å¦ä¸€ä¸ªå€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š`Cookie: iduser=MoreSpecificAndOldestCookie; iduser=LessSpecific;`

å¤§å¤šæ•°**ç½‘ç«™åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªå€¼**ã€‚å› æ­¤ï¼Œå¦‚æœæ”»å‡»è€…æƒ³è¦è®¾ç½®ä¸€ä¸ª cookieï¼Œæœ€å¥½åœ¨å¦ä¸€ä¸ª cookie è¢«è®¾ç½®ä¹‹å‰è®¾ç½®å®ƒï¼Œæˆ–è€…ä½¿ç”¨æ›´å…·ä½“çš„è·¯å¾„è®¾ç½®å®ƒã€‚

{% hint style="warning" %}
æ­¤å¤–ï¼Œèƒ½å¤Ÿåœ¨æ›´å…·ä½“çš„è·¯å¾„ä¸­**è®¾ç½® cookie**éå¸¸æœ‰è¶£ï¼Œå› ä¸ºä½ å°†èƒ½å¤Ÿè®©**å—å®³è€…ä½¿ç”¨ä»–çš„ cookieï¼Œé™¤äº†åœ¨å‘é€æ¶æ„ cookie çš„ç‰¹å®šè·¯å¾„ä¹‹å¤–**ã€‚
{% endhint %}

## ç»•è¿‡ä¿æŠ¤

å¯¹æ­¤æ”»å‡»çš„å¯èƒ½ä¿æŠ¤æªæ–½æ˜¯ï¼Œ**Web æœåŠ¡å™¨ä¸æ¥å—å…·æœ‰ç›¸åŒåç§°ä½†å…·æœ‰ä¸åŒå€¼çš„ä¸¤ä¸ª cookie çš„è¯·æ±‚**ã€‚

ä¸ºäº†ç»•è¿‡æ”»å‡»è€…åœ¨å—å®³è€…å·²ç»è·å¾— cookie åè®¾ç½® cookie çš„æƒ…å†µï¼Œæ”»å‡»è€…å¯ä»¥å¼•èµ·**cookie æº¢å‡º**ï¼Œç„¶åä¸€æ—¦**åˆæ³• cookie è¢«åˆ é™¤ï¼Œè®¾ç½®æ¶æ„ cookie**ã€‚

{% content-ref url="cookie-jar-overflow.md" %}
[cookie-jar-overflow.md](cookie-jar-overflow.md)
{% endcontent-ref %}

å¦ä¸€ä¸ªæœ‰ç”¨çš„**ç»•è¿‡**æ–¹æ³•æ˜¯å¯¹ cookie çš„åç§°è¿›è¡Œ**URL ç¼–ç **ï¼Œå› ä¸ºæŸäº›ä¿æŠ¤ä¼šæ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªå…·æœ‰ç›¸åŒåç§°çš„ cookieï¼Œç„¶åæœåŠ¡å™¨å°†è§£ç  cookie çš„åç§°ã€‚

## Cookie ç‚¸å¼¹

Cookie Tossing æ”»å‡»ä¹Ÿå¯ä»¥ç”¨äºæ‰§è¡Œ**Cookie ç‚¸å¼¹**æ”»å‡»ï¼š

{% content-ref url="cookie-bomb.md" %}
[cookie-bomb.md](cookie-bomb.md)
{% endcontent-ref %}

## é˜²å¾¡æªæ–½

### åœ¨ cookie åç§°ä¸­ä½¿ç”¨å‰ç¼€ `__Host`

* å¦‚æœ cookie åç§°å…·æœ‰æ­¤å‰ç¼€ï¼Œå®ƒ**åªä¼šåœ¨ Set-Cookie æŒ‡ä»¤ä¸­è¢«æ¥å—**ï¼Œå¦‚æœå®ƒæ ‡è®°ä¸º Secureï¼Œä»å®‰å…¨æ¥æºå‘é€ï¼Œä¸åŒ…æ‹¬ Domain å±æ€§ï¼Œå¹¶ä¸”å…·æœ‰è®¾ç½®ä¸º / çš„ Path å±æ€§
* **è¿™æ ·å¯ä»¥é˜²æ­¢å­åŸŸå¼ºåˆ¶å°† cookie å¼ºåˆ¶åˆ°é¡¶çº§åŸŸï¼Œå› ä¸ºè¿™äº› cookie å¯ä»¥è¢«è§†ä¸ºâ€œåŸŸé”å®šâ€**

## å‚è€ƒèµ„æ–™

* [**@blueminimal**](https://twitter.com/blueminimal)
* [**https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers**](https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers)
* [**https://github.blog/2013-04-09-yummy-cookies-across-domains/**](https://github.blog/2013-04-09-yummy-cookies-across-domains/)


<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks äº‘ â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ æ¨ç‰¹ ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- ä½ åœ¨ä¸€ä¸ª**ç½‘ç»œå®‰å…¨å…¬å¸**å·¥ä½œå—ï¼Ÿæƒ³è¦åœ¨ HackTricks ä¸­çœ‹åˆ°ä½ çš„**å…¬å¸å¹¿å‘Š**å—ï¼Ÿæˆ–è€…æƒ³è¦**è·å–æœ€æ–°ç‰ˆæœ¬çš„ PEASS æˆ–ä¸‹è½½ HackTricks çš„ PDF**å—ï¼Ÿè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼

- å‘ç°æˆ‘ä»¬çš„ç‹¬å®¶ NFT æ”¶è—å“[**The PEASS Family**](https://opensea.io/collection/the-peass-family)

- è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
- **åŠ å…¥** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass)ï¼Œæˆ–åœ¨ **Twitter** ä¸Š **å…³æ³¨æˆ‘** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **é€šè¿‡å‘ [hacktricks ä»“åº“](https://github.com/carlospolop/hacktricks) å’Œ [hacktricks-cloud ä»“åº“](https://github.com/carlospolop/hacktricks-cloud) æäº¤ PR æ¥åˆ†äº«ä½ çš„é»‘å®¢æŠ€å·§**ã€‚

</details>
