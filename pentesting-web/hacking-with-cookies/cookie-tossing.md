<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonunu
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>


## AÃ§Ä±klama

Bir saldÄ±rgan, bir ÅŸirketin bir alt alan adÄ±nÄ± veya alan adÄ±nÄ± **kontrol edebiliyorsa veya bir alt alan adÄ±nda XSS bulabiliyorsa** bu saldÄ±rÄ±yÄ± gerÃ§ekleÅŸtirebilir.

Ã‡erez Hacking bÃ¶lÃ¼mÃ¼nde belirtildiÄŸi gibi, bir **Ã§erez bir alan adÄ±na (belirterek) ayarlandÄ±ÄŸÄ±nda, bu Ã§erez alan adÄ±nda ve alt alan adlarÄ±nda kullanÄ±lacaktÄ±r**.

{% hint style="danger" %}
Bu nedenle, bir saldÄ±rgan, **belirli bir Ã§erezi alan adÄ±na ve alt alan adlarÄ±na ayarlayabilecektir** `document.cookie="session=1234; Path=/app/login; domain=.example.com"` gibi bir ÅŸey yaparak.
{% endhint %}

Bu, saldÄ±rganÄ±n aÅŸaÄŸÄ±dakileri yapabilmesi tehlikeli olabilir:

* SaldÄ±rgan, kurbanÄ±n Ã§erezini, kurban fark etmezse, saldÄ±rganÄ±n hesabÄ±na **sabitlerse**, **kurban saldÄ±rganÄ±n hesabÄ±nda iÅŸlemler gerÃ§ekleÅŸtirecek** ve saldÄ±rgan bazÄ± ilginÃ§ bilgiler elde edebilir (kurbanÄ±n platformdaki arama geÃ§miÅŸini kontrol edin, kurban kredi kartÄ±nÄ± hesaba ayarlayabilir...)
* EÄŸer **Ã§erez giriÅŸten sonra deÄŸiÅŸmezse**, saldÄ±rgan sadece bir Ã§erezi **sabitler**, kurbanÄ±n oturum aÃ§masÄ±nÄ± bekler ve ardÄ±ndan o Ã§erezi kullanarak kurban olarak oturum aÃ§abilir.
* EÄŸer **Ã§erez baÅŸlangÄ±Ã§ deÄŸeri ayarlanÄ±yorsa** (Ã¶rneÄŸin flask'ta **Ã§erez**, oturumun CSRF belirteci olan **CSRF belirteci**'ni **ayarlayabilir** ve bu deÄŸer kurban oturum aÃ§tÄ±ktan sonra korunur), saldÄ±rgan bu bilinen deÄŸeri ayarlayabilir ve ardÄ±ndan bunu kÃ¶tÃ¼ye kullanabilir (bu senaryoda, saldÄ±rgan daha sonra kullanÄ±cÄ±nÄ±n bir CSRF isteÄŸi yapmasÄ±nÄ± saÄŸlayabilir Ã§Ã¼nkÃ¼ CSRF belirteci bilinmektedir).

## Ã‡erez SÄ±rasÄ±

Bir tarayÄ±cÄ±, aynÄ± adÄ± taÅŸÄ±yan iki Ã§erez alÄ±rsa ve **aynÄ± kapsamÄ±** (alan adÄ±, alt alan adlarÄ± ve yol) **kÄ±smen etkiliyorsa**, tarayÄ±cÄ± her iki Ã§erezin deÄŸerini de istek iÃ§in geÃ§erliyse gÃ¶nderecektir.

Hangi Ã§erezin **daha spesifik bir yol** a sahip olduÄŸuna veya hangisinin **daha eski olduÄŸuna** baÄŸlÄ± olarak, tarayÄ±cÄ± Ã¶nce bir Ã§erezin deÄŸerini **ayarlayacak** ve ardÄ±ndan diÄŸer Ã§erezin deÄŸerini ÅŸu ÅŸekilde ayarlayacaktÄ±r: `Cookie: iduser=MoreSpecificAndOldestCookie; iduser=LessSpecific;`

Ã‡oÄŸu **web sitesi yalnÄ±zca ilk deÄŸeri kullanÄ±r**. Bu nedenle, bir saldÄ±rganÄ±n bir Ã§erez ayarlamak istemesi durumunda, baÅŸka bir Ã§erez ayarlanmadan Ã¶nce ayarlamasÄ± veya daha spesifik bir yol ile ayarlamasÄ± daha iyidir.

{% hint style="warning" %}
DahasÄ±, **daha spesifik bir yol Ã¼zerinde bir Ã§erez ayarlayabilme yeteneÄŸi** Ã§ok ilginÃ§tir Ã§Ã¼nkÃ¼ kurbanÄ±n Ã§erezini belirli bir yolda kÃ¶tÃ¼ amaÃ§lÄ± Ã§erez ayarlanmadan Ã¶nce Ã§alÄ±ÅŸtÄ±rabilme yeteneÄŸine sahip olacaksÄ±nÄ±z.
{% endhint %}

## KorumayÄ± GeÃ§me

Bu saldÄ±rÄ±ya karÅŸÄ± olasÄ± koruma, **web sunucusunun aynÄ± ada sahip ancak farklÄ± deÄŸerlere sahip iki Ã§erezle gelen istekleri kabul etmemesi** olabilir.

SaldÄ±rganÄ±n, kurban zaten Ã§erezi aldÄ±ktan sonra bir Ã§erez ayarlamasÄ± durumunu atlatmak iÃ§in, saldÄ±rgan bir **Ã§erez taÅŸmasÄ±na** neden olabilir ve ardÄ±ndan, **meÅŸru Ã§erez silindiÄŸinde, kÃ¶tÃ¼ amaÃ§lÄ± Ã§erezi ayarlayabilir**.

{% content-ref url="cookie-jar-overflow.md" %}
[cookie-jar-overflow.md](cookie-jar-overflow.md)
{% endcontent-ref %}

BaÅŸka bir kullanÄ±ÅŸlÄ± **atlatma** yÃ¶ntemi, Ã§erezin adÄ±nÄ± **URL kodlamak** olabilir, Ã§Ã¼nkÃ¼ bazÄ± korumalar istekte aynÄ± ada sahip 2 Ã§erez kontrol eder ve sunucu Ã§erezlerin adlarÄ±nÄ± Ã§Ã¶zer.

## Ã‡erez BombasÄ±

Bir Ã‡erez Atma saldÄ±rÄ±sÄ± aynÄ± zamanda bir **Ã‡erez BombasÄ±** saldÄ±rÄ±sÄ± gerÃ§ekleÅŸtirmek iÃ§in de kullanÄ±labilir:

{% content-ref url="cookie-bomb.md" %}
[cookie-bomb.md](cookie-bomb.md)
{% endcontent-ref %}

## Savunmalar

### Ã‡erez adÄ±nda `__Host` Ã¶n eki kullanÄ±n

* Bir Ã§erez adÄ± bu Ã¶n ekle baÅŸlarsa, yalnÄ±zca gÃ¼venli bir kÃ¶kten gÃ¶nderildiyse, GÃ¼venli olarak iÅŸaretlendi ve bir Alan Ã¶zniteliÄŸi iÃ§ermiyorsa ve Yol Ã¶zniteliÄŸi / olarak ayarlandÄ±ysa, bir Set-Cookie yÃ¶nergesinde **yalnÄ±zca kabul edilecektir**
* **Bu, alt alan adlarÄ±nÄ±n bir Ã§erezi zorla kÃ¶k etki alanÄ±na ayarlamasÄ±nÄ± engeller Ã§Ã¼nkÃ¼ bu Ã§erezler "alan kilitli" olarak gÃ¶rÃ¼lebilir**

## Referanslar

* [**@blueminimal**](https://twitter.com/blueminimal)
* [**https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers**](https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers)
* [**https://github.blog/2013-04-09-yummy-cookies-across-domains/**](https://github.blog/2013-04-09-yummy-cookies-across-domains/)


<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonunu
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
