<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>


## æè¿°

å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿ**æ§åˆ¶ä¸€ä¸ªå­åŸŸåæˆ–å…¬å¸çš„åŸŸåï¼Œæˆ–è€…åœ¨å­åŸŸåä¸­æ‰¾åˆ°ä¸€ä¸ªXSS**ï¼Œä»–å°†èƒ½å¤Ÿæ‰§è¡Œè¿™ç§æ”»å‡»ã€‚

æ­£å¦‚åœ¨Cookies Hackingéƒ¨åˆ†æ‰€æŒ‡å‡ºçš„ï¼Œå½“**cookieè¢«è®¾ç½®åˆ°ä¸€ä¸ªåŸŸåï¼ˆæŒ‡å®šå®ƒï¼‰æ—¶ï¼Œå®ƒå°†åœ¨åŸŸåå’Œå­åŸŸåä¸­ä½¿ç”¨ã€‚**

{% hint style="danger" %}
å› æ­¤ï¼Œ**æ”»å‡»è€…å°†èƒ½å¤Ÿè®¾ç½®ç‰¹å®šcookieåˆ°åŸŸåå’Œå­åŸŸåï¼Œç±»ä¼¼äº** `document.cookie="session=1234; Path=/app/login; domain=.example.com"`
{% endhint %}

è¿™å¯èƒ½æ˜¯å±é™©çš„ï¼Œå› ä¸ºæ”»å‡»è€…å¯èƒ½èƒ½å¤Ÿï¼š

* **å°†å—å®³è€…çš„cookieå›ºå®šåˆ°æ”»å‡»è€…çš„è´¦æˆ·**ï¼Œæ‰€ä»¥å¦‚æœç”¨æˆ·æ²¡æœ‰æ³¨æ„åˆ°ï¼Œ**ä»–å°†åœ¨æ”»å‡»è€…çš„è´¦æˆ·ä¸­æ‰§è¡Œæ“ä½œ**ï¼Œæ”»å‡»è€…å¯èƒ½è·å¾—ä¸€äº›æœ‰è¶£çš„ä¿¡æ¯ï¼ˆæ£€æŸ¥ç”¨æˆ·åœ¨å¹³å°ä¸Šçš„æœç´¢å†å²ï¼Œå—å®³è€…å¯èƒ½åœ¨è´¦æˆ·ä¸­è®¾ç½®ä»–çš„ä¿¡ç”¨å¡...ï¼‰
* å¦‚æœ**ç™»å½•åcookieæ²¡æœ‰å˜åŒ–**ï¼Œæ”»å‡»è€…å¯èƒ½åªæ˜¯**å›ºå®šä¸€ä¸ªcookie**ï¼Œç­‰åˆ°å—å®³è€…ç™»å½•åï¼Œç„¶å**ä½¿ç”¨è¯¥cookieä½œä¸ºå—å®³è€…ç™»å½•**ã€‚
* å¦‚æœ**cookieè®¾ç½®äº†ä¸€äº›åˆå§‹å€¼**ï¼ˆå¦‚åœ¨flaskä¸­ï¼Œ**cookie**å¯èƒ½**è®¾ç½®**ä¼šè¯çš„**CSRF token**ï¼Œå¹¶ä¸”è¿™ä¸ªå€¼åœ¨å—å®³è€…ç™»å½•åå°†è¢«ä¿æŒï¼‰ï¼Œ**æ”»å‡»è€…å¯èƒ½è®¾ç½®è¿™ä¸ªå·²çŸ¥å€¼ç„¶åæ»¥ç”¨å®ƒ**ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šè®©ç”¨æˆ·æ‰§è¡ŒCSRFè¯·æ±‚ï¼Œå› ä¸ºä»–çŸ¥é“CSRF tokenï¼‰ã€‚

## Cookieé¡ºåº

å½“æµè§ˆå™¨æ¥æ”¶åˆ°ä¸¤ä¸ªå…·æœ‰ç›¸åŒåç§°çš„cookieå¹¶ä¸”**éƒ¨åˆ†å½±å“ç›¸åŒèŒƒå›´**ï¼ˆåŸŸåã€å­åŸŸåå’Œè·¯å¾„ï¼‰æ—¶ï¼Œå¦‚æœä¸¤ä¸ªcookieå¯¹è¯·æ±‚éƒ½æœ‰æ•ˆï¼Œ**æµè§ˆå™¨å°†å‘é€ä¸¤ä¸ªcookieçš„å€¼**ã€‚

æ ¹æ®è°æ‹¥æœ‰**æœ€å…·ä½“çš„è·¯å¾„**æˆ–å“ªä¸ªæ˜¯**æœ€æ—§çš„**ï¼Œæµè§ˆå™¨å°†**é¦–å…ˆè®¾ç½®cookieçš„å€¼**ï¼Œç„¶åæ˜¯å¦ä¸€ä¸ªçš„å€¼ï¼Œå¦‚ï¼š`Cookie: iduser=MoreSpecificAndOldestCookie; iduser=LessSpecific;`

å¤§å¤šæ•°**ç½‘ç«™åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªå€¼**ã€‚å› æ­¤ï¼Œå¦‚æœæ”»å‡»è€…æƒ³è¦è®¾ç½®cookieï¼Œæœ€å¥½æ˜¯åœ¨å¦ä¸€ä¸ªcookieè¢«è®¾ç½®ä¹‹å‰è®¾ç½®å®ƒï¼Œæˆ–è€…ç”¨æ›´å…·ä½“çš„è·¯å¾„è®¾ç½®å®ƒã€‚

{% hint style="warning" %}
æ­¤å¤–ï¼Œèƒ½å¤Ÿ**åœ¨æ›´å…·ä½“çš„è·¯å¾„ä¸­è®¾ç½®cookie**çš„èƒ½åŠ›éå¸¸æœ‰è¶£ï¼Œå› ä¸ºä½ å°†èƒ½å¤Ÿè®©**å—å®³è€…åœ¨é™¤äº†ç‰¹å®šè·¯å¾„å¤–çš„åœ°æ–¹ä½¿ç”¨ä»–çš„cookieï¼Œåœ¨é‚£é‡Œæ¶æ„cookieè®¾ç½®å°†ä¼šå…ˆå‘é€**ã€‚
{% endhint %}

## ç»•è¿‡ä¿æŠ¤

å¯¹è¿™ç§æ”»å‡»çš„å¯èƒ½ä¿æŠ¤æ˜¯**webæœåŠ¡å™¨ä¸æ¥å—å¸¦æœ‰ç›¸åŒåç§°ä½†ä¸¤ä¸ªä¸åŒå€¼çš„ä¸¤ä¸ªcookieçš„è¯·æ±‚**ã€‚

ä¸ºäº†ç»•è¿‡æ”»å‡»è€…åœ¨å—å®³è€…å·²ç»è·å¾—cookieä¹‹åè®¾ç½®cookieçš„æƒ…å†µï¼Œæ”»å‡»è€…å¯ä»¥å¼•èµ·**cookieæº¢å‡º**ï¼Œç„¶åï¼Œä¸€æ—¦**åˆæ³•cookieè¢«åˆ é™¤ï¼Œè®¾ç½®æ¶æ„cookie**ã€‚

{% content-ref url="cookie-jar-overflow.md" %}
[cookie-jar-overflow.md](cookie-jar-overflow.md)
{% endcontent-ref %}

å¦ä¸€ä¸ªæœ‰ç”¨çš„**ç»•è¿‡**å¯èƒ½æ˜¯**URLç¼–ç cookieçš„åç§°**ï¼Œå› ä¸ºä¸€äº›ä¿æŠ¤æªæ–½ä¼šæ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªåŒåçš„cookieï¼Œç„¶åæœåŠ¡å™¨å°†è§£ç cookieçš„åç§°ã€‚

## Cookieç‚¸å¼¹

Cookie Tossingæ”»å‡»ä¹Ÿå¯ä»¥ç”¨æ¥æ‰§è¡Œ**Cookieç‚¸å¼¹**æ”»å‡»ï¼š

{% content-ref url="cookie-bomb.md" %}
[cookie-bomb.md](cookie-bomb.md)
{% endcontent-ref %}

## é˜²å¾¡

### **åœ¨cookieåç§°ä¸­ä½¿ç”¨å‰ç¼€`__Host`**

* å¦‚æœcookieåç§°æœ‰è¿™ä¸ªå‰ç¼€ï¼Œå®ƒ**åªä¼šåœ¨Set-CookieæŒ‡ä»¤ä¸­è¢«æ¥å—**ï¼Œå¦‚æœå®ƒè¢«æ ‡è®°ä¸ºSecureï¼Œæ˜¯ä»ä¸€ä¸ªå®‰å…¨çš„æ¥æºå‘é€çš„ï¼Œä¸åŒ…æ‹¬Domainå±æ€§ï¼Œå¹¶ä¸”å°†Pathå±æ€§è®¾ç½®ä¸º/
* **è¿™é˜²æ­¢äº†å­åŸŸåå¼ºåˆ¶cookieåˆ°é¡¶çº§åŸŸåï¼Œå› ä¸ºè¿™äº›cookieå¯ä»¥è¢«è§†ä¸ºâ€œåŸŸåé”å®šâ€**

## å‚è€ƒèµ„æ–™

* [**@blueminimal**](https://twitter.com/blueminimal)
* [**https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers**](https://speakerdeck.com/filedescriptor/the-cookie-monster-in-your-browsers)
* [**https://github.blog/2013-04-09-yummy-cookies-across-domains/**](https://github.blog/2013-04-09-yummy-cookies-across-domains/)


<details>

<summary><strong>é€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**telegramç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚**

</details>
