# HTTP BaÄŸlantÄ± Ä°steÄŸi Smuggling

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'Ä± takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

**Bu,** [**https://portswigger.net/research/browser-powered-desync-attacks**](https://portswigger.net/research/browser-powered-desync-attacks) **gÃ¶nderisinin bir Ã¶zetidir.**

## BaÄŸlantÄ± Durumu SaldÄ±rÄ±larÄ± <a href="#state" id="state"></a>

### Ä°lk Ä°stek DoÄŸrulamasÄ±

Ä°stekleri yÃ¶nlendirirken, ters proxy'ler genellikle hedef arka uÃ§ sunucusunu belirlemek iÃ§in **Host baÅŸlÄ±ÄŸÄ±na** dayanabilir ve genellikle eriÅŸime izin verilen hostlarÄ±n beyaz listesini kullanÄ±r. Ancak, bazÄ± proxy'lerde beyaz listenin yalnÄ±zca bir baÄŸlantÄ±daki ilk istekte uygulanmasÄ±yla ilgili bir zafiyet bulunmaktadÄ±r. SonuÃ§ olarak, saldÄ±rganlar Ã¶nce izin verilen bir hosta istek yaparak ve ardÄ±ndan aynÄ± baÄŸlantÄ± Ã¼zerinden bir iÃ§ site talep ederek bunu istismar edebilirler:
```
GET / HTTP/1.1
Host: [allowed-external-host]

GET / HTTP/1.1
Host: [internal-host]
```
### Ä°lk Ä°stek YÃ¶nlendirmesi

BazÄ± yapÄ±landÄ±rmalarda, bir Ã¶n uÃ§ sunucusu **ilk isteÄŸin Host baÅŸlÄ±ÄŸÄ±nÄ±** kullanarak o isteÄŸin arka uÃ§ yÃ¶nlendirmesini belirleyebilir ve ardÄ±ndan aynÄ± istemci baÄŸlantÄ±sÄ±ndan gelen tÃ¼m sonraki istekleri aynÄ± arka uÃ§ baÄŸlantÄ±sÄ±na sÃ¼rekli olarak yÃ¶nlendirebilir. Bu ÅŸu ÅŸekilde gÃ¶sterilebilir:
```
GET / HTTP/1.1
Host: example.com

POST /pwreset HTTP/1.1
Host: psres.net
```
Bu sorun, diÄŸer gÃ¼venlik aÃ§Ä±klarÄ±nÄ± istismar etmek veya ek sanal hostlara yetkisiz eriÅŸim saÄŸlamak iÃ§in [Host header saldÄ±rÄ±larÄ±](https://portswigger.net/web-security/host-header) ile, ÅŸifre sÄ±fÄ±rlama zehirlenmesi veya [web cache poisoning](https://portswigger.net/web-security/web-cache-poisoning) gibi, birleÅŸtirilebilir.

{% hint style="info" %}
Bu gÃ¼venlik aÃ§Ä±klarÄ±nÄ± belirlemek iÃ§in HTTP Request Smuggler'daki 'connection-state probe' Ã¶zelliÄŸi kullanÄ±labilir.
{% endhint %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** bizi **takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
