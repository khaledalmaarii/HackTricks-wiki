# Iframe Traps

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## åŸºæœ¬æƒ…å ±

ã“ã®iframeã‚’ä»‹ã—ã¦XSSã‚’æ‚ªç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã™ã‚‹éš›ã«æƒ…å ±ã‚’ç›—ã‚€æ‰‹æ³•ã¯ã€trustedsec.comã®ã“ã‚Œã‚‰2ã¤ã®æŠ•ç¨¿ã§æœ€åˆã«å…¬é–‹ã•ã‚Œã¾ã—ãŸ: [**ã“ã¡ã‚‰**](https://trustedsec.com/blog/persisting-xss-with-iframe-traps) **ã¨** [**ã“ã¡ã‚‰**](https://trustedsec.com/blog/js-tap-weaponizing-javascript-for-red-teams)ã€‚

æ”»æ’ƒã¯ã€XSSã«è„†å¼±ãªãƒšãƒ¼ã‚¸ã§å§‹ã¾ã‚Šã€**è¢«å®³è€…ãŒXSSã‚’é›¢ã‚Œãªã„ã‚ˆã†ã«**ã€**ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã‚’å ã‚ã‚‹iframeå†…ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã•ã›ã‚‹**ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

XSSæ”»æ’ƒã¯åŸºæœ¬çš„ã«ã€ç”»é¢ã®100%ã«iframeã§ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€è¢«å®³è€…ã¯**è‡ªåˆ†ãŒiframeå†…ã«ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã›ã‚“**ã€‚æ¬¡ã«ã€è¢«å®³è€…ãŒiframeå†…ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒšãƒ¼ã‚¸ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã™ã‚‹ã¨ã€å½¼ã¯**iframeå†…ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã—ã¦ã„ã‚‹**ã“ã¨ã«ãªã‚Šã€ä»»æ„ã®JSãŒèª­ã¿è¾¼ã¾ã‚Œã€ã“ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰æƒ…å ±ã‚’ç›—ã¿ã¾ã™ã€‚

ã•ã‚‰ã«ã€ã‚ˆã‚Šç¾å®Ÿçš„ã«ã™ã‚‹ãŸã‚ã«ã€iframeãŒãƒšãƒ¼ã‚¸ã®ä½ç½®ã‚’å¤‰æ›´ã—ãŸã¨ãã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹**ãƒªã‚¹ãƒŠãƒ¼**ã‚’ä½¿ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã—ã¦ã„ã‚‹ã¨æ€ã‚ã›ã‚‹ã‚ˆã†ã«ãƒ–ãƒ©ã‚¦ã‚¶ã®URLã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

<figure><img src="../.gitbook/assets/image (1248).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png">https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png</a></p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (1249).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png">https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png</a></p></figcaption></figure>

ã•ã‚‰ã«ã€ãƒªã‚¹ãƒŠãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€è¢«å®³è€…ãŒè¨ªã‚Œã¦ã„ã‚‹ä»–ã®ãƒšãƒ¼ã‚¸ã ã‘ã§ãªãã€**ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿**ã‚’ç›—ã‚“ã ã‚Šï¼ˆèªè¨¼æƒ…å ±ï¼Ÿï¼‰ã€**ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ç›—ã‚€**ã“ã¨ã‚‚å¯èƒ½ã§ã™...

ã‚‚ã¡ã‚ã‚“ã€ä¸»ãªåˆ¶é™ã¯ã€**è¢«å®³è€…ãŒã‚¿ãƒ–ã‚’é–‰ã˜ãŸã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ã«åˆ¥ã®URLã‚’å…¥åŠ›ã™ã‚‹ã¨iframeã‹ã‚‰è„±å‡ºã™ã‚‹**ã“ã¨ã§ã™ã€‚ã“ã®æ–¹æ³•ã®åˆ¥ã®ã‚„ã‚Šæ–¹ã¯ã€**ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã™ã‚‹**ã“ã¨ã§ã™ãŒã€ã“ã‚Œã¯æ–°ã—ã„ãƒšãƒ¼ã‚¸ãŒiframeå†…ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã³ã«å³ã‚¯ãƒªãƒƒã‚¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã§éƒ¨åˆ†çš„ã«**é˜²æ­¢**ã§ãã¾ã™ã€‚ã¾ãŸã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒã‚¦ã‚¹ãŒiframeã‚’é›¢ã‚ŒãŸã¨ãã«æ°—ã¥ãã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒªãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ã“ã®å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã®URLã¯XSSã«è„†å¼±ãªå…ƒã®URLã«æ›´æ–°ã•ã‚Œã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨å†åº¦æ„ŸæŸ“ã—ã¾ã™ï¼ˆã“ã‚Œã¯ã‚ã¾ã‚Šã‚¹ãƒ†ãƒ«ã‚¹ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼‰ã€‚

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
