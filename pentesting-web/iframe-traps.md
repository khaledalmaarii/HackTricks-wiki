# Iframe Traps

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **nas pratite na** **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Osnovne informacije

Ova forma zloupotrebe XSS-a putem iframes-a za kraÄ‘u informacija od korisnika koji se kreÄ‡e po veb stranici prvobitno je objavljena u ova 2 posta sa trustedsec.com: [**ovde**](https://trustedsec.com/blog/persisting-xss-with-iframe-traps) **i** [**ovde**](https://trustedsec.com/blog/js-tap-weaponizing-javascript-for-red-teams).

Napad poÄinje na stranici koja je ranjiva na XSS gde je moguÄ‡e uÄiniti da **Å¾rtve ne napuste XSS** tako Å¡to Ä‡e ih **navigirati unutar iframes-a** koji zauzima celu veb aplikaciju.

XSS napad Ä‡e u suÅ¡tini uÄitati veb stranicu u iframes-u na 100% ekrana. Stoga, Å¾rtva **neÄ‡e primetiti da je unutar iframes-a**. Zatim, ako Å¾rtva navigira na stranici klikom na linkove unutar iframes-a (unutar veba), biÄ‡e **navigirati unutar iframes-a** sa proizvoljnim JS uÄitanim koji krade informacije iz ove navigacije.

Å taviÅ¡e, da bi to izgledalo realistiÄnije, moguÄ‡e je koristiti neke **sluÅ¡aÄe** da provere kada iframes menja lokaciju stranice, i aÅ¾urirati URL pretraÅ¾ivaÄa sa tim lokacijama za koje korisnik misli da se kreÄ‡e po stranicama koristeÄ‡i pretraÅ¾ivaÄ.

<figure><img src="../.gitbook/assets/image (1248).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png">https://www.trustedsec.com/wp-content/uploads/2022/04/regEvents.png</a></p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (1249).png" alt=""><figcaption><p><a href="https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png">https://www.trustedsec.com/wp-content/uploads/2022/04/fakeAddress-1.png</a></p></figcaption></figure>

Å taviÅ¡e, moguÄ‡e je koristiti sluÅ¡aÄe za kraÄ‘u osetljivih informacija, ne samo drugih stranica koje Å¾rtva poseÄ‡uje, veÄ‡ i podataka koriÅ¡Ä‡enih za **popunjavanje obrazaca** i slanje (akreditivi?) ili za **kraÄ‘u lokalne memorije**...

Naravno, glavna ograniÄenja su da **Å¾rtva zatvaranjem taba ili unosom druge URL adrese u pretraÅ¾ivaÄ izlazi iz iframes-a**. Drugi naÄin da se to uradi bio bi da se **osveÅ¾i stranica**, meÄ‘utim, to bi moglo biti delimiÄno **spreÄeno** onemoguÄ‡avanjem kontekstualnog menija desnog klika svaki put kada se nova stranica uÄita unutar iframes-a ili primetanjem kada miÅ¡ korisnika napusti iframes, potencijalno da klikne na dugme za osveÅ¾avanje pretraÅ¾ivaÄa i u tom sluÄaju URL pretraÅ¾ivaÄa se aÅ¾urira sa originalnim URL-om ranjivim na XSS, tako da ako korisnik osveÅ¾i, ponovo Ä‡e biti zaraÅ¾en (napomena da ovo nije vrlo suptilno).

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **nas pratite na** **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
