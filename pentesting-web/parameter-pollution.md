# Parametre KirliliÄŸi

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana kadar Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


# HTTP Parametre KirliliÄŸi (HPP) Genel BakÄ±ÅŸ

HTTP Parametre KirliliÄŸi (HPP), saldÄ±rganlarÄ±n HTTP parametrelerini manipÃ¼le ederek bir web uygulamasÄ±nÄ±n davranÄ±ÅŸÄ±nÄ± istenmeyen ÅŸekilde deÄŸiÅŸtirdiÄŸi bir tekniktir. Bu manipÃ¼lasyon, HTTP parametrelerinin eklenmesi, deÄŸiÅŸtirilmesi veya Ã§oÄŸaltÄ±lmasÄ± yoluyla gerÃ§ekleÅŸtirilir. Bu manipÃ¼lasyonlarÄ±n etkisi doÄŸrudan kullanÄ±cÄ±ya gÃ¶rÃ¼nmez ancak sunucu tarafÄ±nda uygulamanÄ±n iÅŸlevselliÄŸini Ã¶nemli Ã¶lÃ§Ã¼de deÄŸiÅŸtirebilir ve istemci tarafÄ±nda gÃ¶zlemlenebilir etkilere neden olabilir.

## HTTP Parametre KirliliÄŸi (HPP) Ã–rneÄŸi

Bir bankacÄ±lÄ±k uygulamasÄ± iÅŸlem URL'si:

- **Orijinal URL:** `https://www.victim.com/send/?from=accountA&to=accountB&amount=10000`

Ek bir `from` parametresi ekleyerek:

- **ManipÃ¼le EdilmiÅŸ URL:** `https://www.victim.com/send/?from=accountA&to=accountB&amount=10000&from=accountC`

Ä°ÅŸlem, `accountA` yerine `accountC`'ye yanlÄ±ÅŸlÄ±kla Ã¼cretlendirilebilir, HPP'nin iÅŸlemleri veya ÅŸifre sÄ±fÄ±rlamalarÄ±, 2FA ayarlarÄ± veya API anahtarÄ± istekleri gibi diÄŸer iÅŸlevleri manipÃ¼le etme potansiyelini gÃ¶sterir.

### **Teknolojiye Ã–zgÃ¼ Parametre AyrÄ±ÅŸtÄ±rma**

- Parametrelerin ayrÄ±ÅŸtÄ±rÄ±lmasÄ± ve Ã¶nceliklendirilmesi, temel web teknolojisine baÄŸlÄ± olarak deÄŸiÅŸir ve HPP'nin nasÄ±l sÃ¶mÃ¼rÃ¼lebileceÄŸini etkiler.
- [Wappalyzer](https://addons.mozilla.org/en-US/firefox/addon/wappalyzer/) gibi araÃ§lar, bu teknolojileri ve ayrÄ±ÅŸtÄ±rma davranÄ±ÅŸlarÄ±nÄ± tanÄ±mlamaya yardÄ±mcÄ± olur.

## PHP ve HPP SÃ¶mÃ¼rÃ¼sÃ¼

**OTP ManipÃ¼lasyonu Durumu:**

- **BaÄŸlam:** Bir OTP gerektiren bir giriÅŸ mekanizmasÄ± sÃ¶mÃ¼rÃ¼ldÃ¼.
- **YÃ¶ntem:** Burp Suite gibi araÃ§lar kullanÄ±larak OTP isteÄŸi ele geÃ§irilerek saldÄ±rganlar HTTP isteÄŸinde `email` parametresini Ã§oÄŸalttÄ±.
- **SonuÃ§:** Ä°lk e-posta iÃ§in amaÃ§lanan OTP, manipÃ¼le edilen istekte belirtilen ikinci e-posta adresine gÃ¶nderildi. Bu hata, amaÃ§lanan gÃ¼venlik Ã¶nlemini atlayarak yetkisiz eriÅŸime izin verdi.

Bu senaryo, uygulamanÄ±n arka uÃ§undaki kritik bir gÃ¶zden kaÃ§Ä±rma durumunu vurgular; bu durumda ilk `email` parametresi OTP oluÅŸturmak iÃ§in iÅŸlendi ancak teslimat iÃ§in son parametre kullanÄ±ldÄ±.

**API AnahtarÄ± ManipÃ¼lasyonu Durumu:**

- **Senaryo:** Bir uygulama, kullanÄ±cÄ±larÄ±n API anahtarlarÄ±nÄ± profil ayarlarÄ± sayfasÄ± aracÄ±lÄ±ÄŸÄ±yla gÃ¼ncellemesine izin verir.
- **SaldÄ±rÄ± VektÃ¶rÃ¼:** Bir saldÄ±rgan, POST isteÄŸine ek bir `api_key` parametresi ekleyerek API anahtarÄ± gÃ¼ncelleme iÅŸlevinin sonucunu manipÃ¼le edebileceÄŸini keÅŸfeder.
- **Teknik:** Burp Suite gibi bir araÃ§ kullanarak, saldÄ±rgan, biri meÅŸru diÄŸeri kÃ¶tÃ¼ niyetli olmak Ã¼zere iki `api_key` parametresini iÃ§eren bir istek oluÅŸturur. Sunucu, yalnÄ±zca son oluÅŸumu iÅŸleyerek API anahtarÄ±nÄ± saldÄ±rganÄ±n saÄŸladÄ±ÄŸÄ± deÄŸere gÃ¼nceller.
- **SonuÃ§:** SaldÄ±rgan, kurbanÄ±n API iÅŸlevi Ã¼zerinde kontrol kazanÄ±r, potansiyel olarak yetkisiz ÅŸekilde Ã¶zel verilere eriÅŸebilir veya bunlarÄ± deÄŸiÅŸtirebilir.

Bu Ã¶rnek, Ã¶zellikle API anahtar yÃ¶netimi gibi kritik Ã¶zelliklerde gÃ¼venli parametre iÅŸleme gerekliliÄŸini vurgular.

## Parametre AyrÄ±ÅŸtÄ±rma: Flask vs. PHP

Web teknolojilerinin Ã§ift HTTP parametrelerini nasÄ±l ele aldÄ±ÄŸÄ± farklÄ±lÄ±k gÃ¶sterir ve HPP saldÄ±rÄ±larÄ±na karÅŸÄ± duyarlÄ±lÄ±klarÄ±nÄ± etkiler:

- **Flask:** Sorgu dizesinde `a=1&a=2` gibi karÅŸÄ±laÅŸÄ±lan ilk parametre deÄŸerini benimser, baÅŸlangÄ±Ã§taki Ã¶rneÄŸi sonraki Ã§oÄŸaltmalardan Ã¶nce Ã¶nceliklendirir.
- **PHP (Apache HTTP Sunucusu Ã¼zerinde):** Aksine, verilen Ã¶rnekte `a=2`'yi tercih eder. Bu davranÄ±ÅŸ, saldÄ±rganÄ±n manipÃ¼le edilen parametreyi orijinaline tercih ederek HPP sÃ¶mÃ¼rÃ¼lerini yanlÄ±ÅŸlÄ±kla kolaylaÅŸtÄ±rabilir.

## Referanslar
* [https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654](https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654)
* [https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution](https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution)

<figure><img src="/.gitbook/assets/WebSec_1500x400_10fps_21sn_lightoptimized_v2.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana kadar Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks ve HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
