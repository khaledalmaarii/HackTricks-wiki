# νλΌλ―Έν„° μ¤μ—Ό

{% hint style="success" %}
AWS ν•΄ν‚Ή λ°°μ°κΈ° λ° μ—°μµν•κΈ°:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP ν•΄ν‚Ή λ°°μ°κΈ° λ° μ—°μµν•κΈ°: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks μ§€μ›ν•κΈ°</summary>

* [**κµ¬λ… κ³„ν**](https://github.com/sponsors/carlospolop) ν™•μΈν•κΈ°!
* **π’¬ [**Discord κ·Έλ£Ή**](https://discord.gg/hRep4RUj7f) λλ” [**ν…”λ κ·Έλ¨ κ·Έλ£Ή**](https://t.me/peass)μ— μ°Έμ—¬ν•κ±°λ‚ **Twitter** π¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**λ¥Ό ν”λ΅μ°ν•μ„Έμ”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) λ° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) κΉƒν—λΈ λ¦¬ν¬μ§€ν† λ¦¬μ— PRμ„ μ μ¶ν•μ—¬ ν•΄ν‚Ή νμ„ κ³µμ ν•μ„Έμ”.**

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


# HTTP νλΌλ―Έν„° μ¤μ—Ό (HPP) κ°μ”

HTTP νλΌλ―Έν„° μ¤μ—Ό (HPP)μ€ κ³µκ²©μκ°€ HTTP νλΌλ―Έν„°λ¥Ό μ΅°μ‘ν•μ—¬ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ λ™μ‘μ„ μλ„ν•μ§€ μ•μ€ λ°©μ‹μΌλ΅ λ³€κ²½ν•λ” κΈ°μ μ…λ‹λ‹¤. μ΄ μ΅°μ‘μ€ HTTP νλΌλ―Έν„°λ¥Ό μ¶”κ°€, μμ • λλ” λ³µμ ν•¨μΌλ΅μ¨ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤. μ΄λ¬ν• μ΅°μ‘μ ν¨κ³Όλ” μ‚¬μ©μμ—κ² μ§μ ‘μ μΌλ΅ λ³΄μ΄μ§€ μ•μ§€λ§, μ„λ²„ μΈ΅μ—μ„ μ• ν”λ¦¬μΌ€μ΄μ…μ κΈ°λ¥μ„ μƒλ‹Ήν λ³€κ²½ν•  μ μμΌλ©°, ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ κ΄€μ°° κ°€λ¥ν• μν–¥μ„ λ―ΈμΉ  μ μμµλ‹λ‹¤.

## HTTP νλΌλ―Έν„° μ¤μ—Ό (HPP) μμ‹

μ€ν–‰ μ• ν”λ¦¬μΌ€μ΄μ… κ±°λ URL:

- **μ›λ³Έ URL:** `https://www.victim.com/send/?from=accountA&to=accountB&amount=10000`

μ¶”κ°€ `from` νλΌλ―Έν„°λ¥Ό μ‚½μ…ν•¨μΌλ΅μ¨:

- **μ΅°μ‘λ URL:** `https://www.victim.com/send/?from=accountA&to=accountB&amount=10000&from=accountC`

κ±°λκ°€ `accountA`κ°€ μ•„λ‹ `accountC`μ— μλ» μ²­κµ¬λ  μ μμΌλ©°, μ΄λ” HPPκ°€ κ±°λ λλ” λΉ„λ°€λ²νΈ μ¬μ„¤μ •, 2FA μ„¤μ •, API ν‚¤ μ”μ²­κ³Ό κ°™μ€ λ‹¤λ¥Έ κΈ°λ¥μ„ μ΅°μ‘ν•  μ μλ” κ°€λ¥μ„±μ„ λ³΄μ—¬μ¤λ‹λ‹¤.

### **κΈ°μ λ³„ νλΌλ―Έν„° νμ‹±**

- νλΌλ―Έν„°κ°€ νμ‹±λκ³  μ°μ„ μμ„κ°€ λ§¤κ²¨μ§€λ” λ°©μ‹μ€ κΈ°λ³Έ μ›Ή κΈ°μ μ— λ”°λΌ λ‹¤λ¥΄λ©°, HPPκ°€ μ–΄λ–»κ² μ•…μ©λ  μ μλ”μ§€μ— μν–¥μ„ λ―ΈμΉ©λ‹λ‹¤.
- [Wappalyzer](https://addons.mozilla.org/en-US/firefox/addon/wappalyzer/)μ™€ κ°™μ€ λ„κµ¬λ” μ΄λ¬ν• κΈ°μ κ³Ό κ·Έ νμ‹± λ™μ‘μ„ μ‹λ³„ν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

## PHPμ™€ HPP μ•…μ©

**OTP μ΅°μ‘ μ‚¬λ΅€:**

- **λ§¥λ½:** μΌνμ© λΉ„λ°€λ²νΈ(OTP)λ¥Ό μ”κµ¬ν•λ” λ΅κ·ΈμΈ λ©”μ»¤λ‹μ¦μ΄ μ•…μ©λμ—μµλ‹λ‹¤.
- **λ°©λ²•:** Burp Suiteμ™€ κ°™μ€ λ„κµ¬λ¥Ό μ‚¬μ©ν•μ—¬ OTP μ”μ²­μ„ κ°€λ΅μ±„κ³ , κ³µκ²©μλ” HTTP μ”μ²­μ—μ„ `email` νλΌλ―Έν„°λ¥Ό λ³µμ ν–μµλ‹λ‹¤.
- **κ²°κ³Ό:** μµμ΄ μ΄λ©”μΌμ„ μ„ν• OTPκ°€ μ΅°μ‘λ μ”μ²­μ—μ„ μ§€μ •λ λ‘ λ²μ§Έ μ΄λ©”μΌ μ£Όμ†λ΅ μ „μ†΅λμ—μµλ‹λ‹¤. μ΄ κ²°ν•¨μ€ μλ„λ λ³΄μ• μ΅°μΉλ¥Ό μ°νν•μ—¬ λ¬΄λ‹¨ μ ‘κ·Όμ„ ν—μ©ν–μµλ‹λ‹¤.

μ΄ μ‹λ‚λ¦¬μ¤λ” OTP μƒμ„±μ„ μ„ν•΄ μ²« λ²μ§Έ `email` νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν–μ§€λ§, μ „λ‹¬μ„ μ„ν•΄ λ§μ§€λ§‰ κ²ƒμ„ μ‚¬μ©ν• μ• ν”λ¦¬μΌ€μ΄μ…μ λ°±μ—”λ“μ—μ„μ μ¤‘μ”ν• κ°„κ³Όλ¥Ό κ°•μ΅°ν•©λ‹λ‹¤.

**API ν‚¤ μ΅°μ‘ μ‚¬λ΅€:**

- **μ‹λ‚λ¦¬μ¤:** μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‚¬μ©μκ°€ ν”„λ΅ν•„ μ„¤μ • νμ΄μ§€λ¥Ό ν†µν•΄ API ν‚¤λ¥Ό μ—…λ°μ΄νΈν•  μ μλ„λ΅ ν—μ©ν•©λ‹λ‹¤.
- **κ³µκ²© λ²΅ν„°:** κ³µκ²©μλ” POST μ”μ²­μ— μ¶”κ°€ `api_key` νλΌλ―Έν„°λ¥Ό μ¶”κ°€ν•¨μΌλ΅μ¨ API ν‚¤ μ—…λ°μ΄νΈ κΈ°λ¥μ κ²°κ³Όλ¥Ό μ΅°μ‘ν•  μ μμμ„ λ°κ²¬ν•©λ‹λ‹¤.
- **κΈ°μ :** Burp Suiteμ™€ κ°™μ€ λ„κµ¬λ¥Ό μ‚¬μ©ν•μ—¬ κ³µκ²©μλ” ν•λ‚μ ν•©λ²•μ μΈ `api_key` νλΌλ―Έν„°μ™€ ν•λ‚μ μ•…μμ μΈ `api_key` νλΌλ―Έν„°λ¥Ό ν¬ν•¨ν•λ” μ”μ²­μ„ μ‘μ„±ν•©λ‹λ‹¤. μ„λ²„λ” λ§μ§€λ§‰ λ°μƒλ§ μ²λ¦¬ν•μ—¬ κ³µκ²©μκ°€ μ κ³µν• κ°’μΌλ΅ API ν‚¤λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.
- **κ²°κ³Ό:** κ³µκ²©μλ” ν”Όν•΄μμ API κΈ°λ¥μ„ μ μ–΄ν•κ² λμ–΄, λ¬΄λ‹¨μΌλ΅ κ°μΈ λ°μ΄ν„°μ— μ ‘κ·Όν•κ±°λ‚ μμ •ν•  μ μμµλ‹λ‹¤.

μ΄ μμ‹λ” API ν‚¤ κ΄€λ¦¬μ™€ κ°™μ€ μ¤‘μ”ν• κΈ°λ¥μ—μ„ μ•μ „ν• νλΌλ―Έν„° μ²λ¦¬κ°€ ν•„μ”ν•¨μ„ λ”μ± κ°•μ΅°ν•©λ‹λ‹¤.

## νλΌλ―Έν„° νμ‹±: Flask vs. PHP

μ›Ή κΈ°μ μ΄ μ¤‘λ³µ HTTP νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν•λ” λ°©μ‹μ€ λ‹¤λ¥΄λ©°, HPP κ³µκ²©μ— λ€ν• μ·¨μ•½μ„±μ— μν–¥μ„ λ―ΈμΉ©λ‹λ‹¤:

- **Flask:** μΏΌλ¦¬ λ¬Έμμ—΄ `a=1&a=2`μ—μ„ `a=1`κ³Ό κ°™μ€ μ²« λ²μ§Έ νλΌλ―Έν„° κ°’μ„ μ±„νƒν•μ—¬ μ΄κΈ° μΈμ¤ν„΄μ¤λ¥Ό ν›„μ† μ¤‘λ³µλ³΄λ‹¤ μ°μ„ μ‹ν•©λ‹λ‹¤.
- **PHP (Apache HTTP μ„λ²„μ—μ„):** λ°λ€λ΅, λ§μ§€λ§‰ νλΌλ―Έν„° κ°’μ„ μ°μ„ μ‹ν•μ—¬ μ£Όμ–΄μ§„ μμ—μ„ `a=2`λ¥Ό μ„ νƒν•©λ‹λ‹¤. μ΄ λ™μ‘μ€ κ³µκ²©μκ°€ μ΅°μ‘ν• νλΌλ―Έν„°λ¥Ό μ›λ³Έλ³΄λ‹¤ μ°μ„ μ‹ν•¨μΌλ΅μ¨ HPP μ•…μ©μ„ λ¬΄μ‹¬μ½” μ΄‰μ§„ν•  μ μμµλ‹λ‹¤.

## μ°Έκ³  λ¬Έν—
* [https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654](https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654)
* [https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution](https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution)

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


{% hint style="success" %}
AWS ν•΄ν‚Ή λ°°μ°κΈ° λ° μ—°μµν•κΈ°:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP ν•΄ν‚Ή λ°°μ°κΈ° λ° μ—°μµν•κΈ°: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks μ§€μ›ν•κΈ°</summary>

* [**κµ¬λ… κ³„ν**](https://github.com/sponsors/carlospolop) ν™•μΈν•κΈ°!
* **π’¬ [**Discord κ·Έλ£Ή**](https://discord.gg/hRep4RUj7f) λλ” [**ν…”λ κ·Έλ¨ κ·Έλ£Ή**](https://t.me/peass)μ— μ°Έμ—¬ν•κ±°λ‚ **Twitter** π¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**λ¥Ό ν”λ΅μ°ν•μ„Έμ”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) λ° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) κΉƒν—λΈ λ¦¬ν¬μ§€ν† λ¦¬μ— PRμ„ μ μ¶ν•μ—¬ ν•΄ν‚Ή νμ„ κ³µμ ν•μ„Έμ”.**

</details>
{% endhint %}
