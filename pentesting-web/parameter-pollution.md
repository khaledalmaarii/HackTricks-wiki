# Parametre KirliliÄŸi

<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

# HTTP Parametre KirliliÄŸi (HPP) Genel BakÄ±ÅŸ

HTTP Parametre KirliliÄŸi (HPP), saldÄ±rganlarÄ±n HTTP parametrelerini manipÃ¼le ederek bir web uygulamasÄ±nÄ±n davranÄ±ÅŸÄ±nÄ± istenmeyen ÅŸekillerde deÄŸiÅŸtirdiÄŸi bir tekniktir. Bu manipÃ¼lasyon, HTTP parametrelerinin eklenmesi, deÄŸiÅŸtirilmesi veya Ã§oÄŸaltÄ±lmasÄ± yoluyla gerÃ§ekleÅŸtirilir. Bu manipÃ¼lasyonlarÄ±n etkisi doÄŸrudan kullanÄ±cÄ±ya gÃ¶rÃ¼nmez, ancak sunucu tarafÄ±nda uygulamanÄ±n iÅŸlevselliÄŸini Ã¶nemli Ã¶lÃ§Ã¼de deÄŸiÅŸtirebilir ve istemci tarafÄ±nda gÃ¶zle gÃ¶rÃ¼lÃ¼r etkilere sahip olabilir.

## HTTP Parametre KirliliÄŸi (HPP) Ã–rneÄŸi

Bir bankacÄ±lÄ±k uygulamasÄ± iÅŸlem URL'si:

- **Orijinal URL:** `https://www.kurban.com/gonder/?from=hspA&to=hspB&miktar=10000`

Ek bir `from` parametresi ekleyerek:

- **ManipÃ¼le EdilmiÅŸ URL:** `https://www.kurban.com/gonder/?from=hspA&to=hspB&miktar=10000&from=hspC`

Ä°ÅŸlem, `from` parametresinin `hspA` yerine yanlÄ±ÅŸlÄ±kla `hspC` hesabÄ±na tahsil edilebilir ve bu da HPP'nin iÅŸlemleri veya ÅŸifre sÄ±fÄ±rlamalarÄ±, 2FA ayarlarÄ± veya API anahtar istekleri gibi diÄŸer iÅŸlevleri manipÃ¼le etme potansiyelini gÃ¶sterir.

### Teknolojiye Ã–zgÃ¼ Parametre AyrÄ±ÅŸtÄ±rma

- Parametrelerin nasÄ±l ayrÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ± ve Ã¶nceliklendirildiÄŸi, temel web teknolojisine baÄŸlÄ± olarak deÄŸiÅŸir ve HPP'nin nasÄ±l sÃ¶mÃ¼rÃ¼lebileceÄŸini etkiler.
- [Wappalyzer](https://addons.mozilla.org/en-US/firefox/addon/wappalyzer/) gibi araÃ§lar, bu teknolojileri ve ayrÄ±ÅŸtÄ±rma davranÄ±ÅŸlarÄ±nÄ± belirlemeye yardÄ±mcÄ± olur.

## PHP ve HPP SÃ¶mÃ¼rÃ¼sÃ¼

**OTP ManipÃ¼lasyonu Durumu:**

- **BaÄŸlam:** Bir One-Time Password (OTP) gerektiren bir giriÅŸ mekanizmasÄ± sÃ¶mÃ¼rÃ¼ldÃ¼.
- **YÃ¶ntem:** SaldÄ±rganlar, Burp Suite gibi araÃ§larÄ± kullanarak OTP isteÄŸini onaylayarak HTTP isteÄŸindeki `email` parametresini Ã§oÄŸalttÄ±.
- **SonuÃ§:** Ä°lk e-posta iÃ§in tasarlanan OTP, manipÃ¼le edilen istekte belirtilen ikinci e-posta adresine gÃ¶nderildi. Bu hata, amaÃ§lanan gÃ¼venlik Ã¶nlemini atlayarak yetkisiz eriÅŸime izin verdi.

Bu senaryo, uygulamanÄ±n arka uÃ§ tarafÄ±nda kritik bir gÃ¶zden kaÃ§Ä±rma durumunu vurgulamaktadÄ±r. Ä°lk `email` parametresi, OTP oluÅŸturmak iÃ§in iÅŸlenirken, teslimat iÃ§in son parametre kullanÄ±lmÄ±ÅŸtÄ±r.

**API Anahtar ManipÃ¼lasyonu Durumu:**

- **Senaryo:** Bir uygulama, kullanÄ±cÄ±larÄ±n profil ayarlarÄ± sayfasÄ± aracÄ±lÄ±ÄŸÄ±yla API anahtarlarÄ±nÄ± gÃ¼ncellemelerine izin verir.
- **SaldÄ±rÄ± VektÃ¶rÃ¼:** Bir saldÄ±rgan, POST isteÄŸine ek bir `api_key` parametresi ekleyerek API anahtar gÃ¼ncelleme iÅŸlevinin sonucunu manipÃ¼le edebileceÄŸini keÅŸfeder.
- **Teknik:** Burp Suite gibi bir araÃ§ kullanarak, saldÄ±rgan, isteÄŸe hem meÅŸru hem de kÃ¶tÃ¼ niyetli bir `api_key` parametresi iÃ§eren bir istek oluÅŸturur. Sunucu, yalnÄ±zca son Ã¶rneÄŸi iÅŸleyerek API anahtarÄ±nÄ± saldÄ±rganÄ±n saÄŸladÄ±ÄŸÄ± deÄŸere gÃ¼nceller.
- **SonuÃ§:** SaldÄ±rgan, kurbanÄ±n API iÅŸlevselliÄŸi Ã¼zerinde kontrol kazanÄ±r ve yetkisiz ÅŸekilde Ã¶zel verilere eriÅŸebilir veya bunlarÄ± deÄŸiÅŸtirebilir.

Bu Ã¶rnek, Ã¶zellikle API anahtar yÃ¶netimi gibi kritik Ã¶zelliklerde gÃ¼venli parametre iÅŸleme gerekliliÄŸini vurgular.

## Parametre AyrÄ±ÅŸtÄ±rma: Flask vs. PHP

Web teknolojilerinin Ã§ift HTTP parametrelerini nasÄ±l iÅŸlediÄŸi farklÄ±lÄ±k gÃ¶sterir ve HPP saldÄ±rÄ±larÄ±na karÅŸÄ± hassasiyetlerini etkiler:

- **Flask:** Sorgu dizesinde `a=1&a=2` gibi bir durumda, ilk parametre deÄŸerini benimser ve baÅŸlangÄ±Ã§taki Ã¶rneÄŸi sonraki Ã§oÄŸaltmalardan Ã¶nce tercih eder.
- **PHP (Apache HTTP Sunucusu Ã¼zerinde):** Aksine, verilen Ã¶rnekte `a=2`'yi tercih eder. Bu davranÄ±ÅŸ, saldÄ±rganÄ±n orijinal parametrenin Ã¼zerine manipÃ¼le edilen parametreyi onaylayarak istemeden HPP saldÄ±rÄ±larÄ±nÄ± kolaylaÅŸtÄ±rabilir.

## Referanslar
* [https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654](https://medium.com/@shahjerry33/http-parameter-pollution-its-contaminated-85edc0805654)
* [https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution](https://github.com/google/google-ctf/tree/master/2023/web-under-construction/solution)

<details>

<summary><strong>AWS hackleme becerilerini sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ± gÃ¶rmek** veya HackTricks'i **PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>
