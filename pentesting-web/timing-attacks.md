# Timing Attacks

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

{% hint style="warning" %}
Bu tekniÄŸi derinlemesine anlamak iÃ§in [https://portswigger.net/research/listen-to-the-whispers-web-timing-attacks-that-actually-work](https://portswigger.net/research/listen-to-the-whispers-web-timing-attacks-that-actually-work) adresindeki orijinal raporu kontrol edin.
{% endhint %}

## Temel Bilgiler

Bir zamanlama saldÄ±rÄ±sÄ±nÄ±n temel amacÄ±, benzer isteklerden gelen yanÄ±tlarÄ±n **zaman farklarÄ±nÄ± kontrol ederek** karmaÅŸÄ±k sorularÄ± yanÄ±tlayabilmek veya gizli iÅŸlevleri tespit edebilmektir.

Geleneksel olarak bu, hem aÄŸ hem de sunucu tarafÄ±ndan saÄŸlanan gecikme ve dalgalanma nedeniyle Ã§ok karmaÅŸÄ±k olmuÅŸtur. Ancak, [**Race Condition Single Packet attack**](race-condition.md#http-2-single-packet-attack-vs.-http-1.1-last-byte-synchronization) keÅŸfedilip geliÅŸtirildikten sonra, bu tekniÄŸi kullanarak tÃ¼m aÄŸ gecikmelerini denklemin dÄ±ÅŸÄ±na Ã§Ä±karmak mÃ¼mkÃ¼ndÃ¼r.\
Sadece **sunucu gecikmelerini** bÄ±rakmak, zamanlama saldÄ±rÄ±larÄ±nÄ± keÅŸfetmeyi ve kÃ¶tÃ¼ye kullanmayÄ± kolaylaÅŸtÄ±rÄ±r.

## KeÅŸifler

### Gizli SaldÄ±rÄ± YÃ¼zeyi

Blog yazÄ±sÄ±nda, bu tekniÄŸi kullanarak gizli parametreleri ve hatta baÅŸlÄ±klarÄ± bulmanÄ±n mÃ¼mkÃ¼n olduÄŸu, parametre veya baÅŸlÄ±k istekte bulunduÄŸunda yaklaÅŸÄ±k **5ms'lik bir zaman farkÄ±** olduÄŸu kontrol edilerek belirtildi. AslÄ±nda, bu keÅŸif tekniÄŸi Burp Suite'teki **Param Miner**'a eklendi.

Bu zaman farklarÄ±, bir **DNS isteÄŸi** yapÄ±ldÄ±ÄŸÄ±nda, geÃ§ersiz bir girdi nedeniyle bazÄ± **loglarÄ±n yazÄ±lmasÄ±** veya bir parametre istekte bulunduÄŸunda bazÄ± **kontrollerin yapÄ±lmasÄ±** nedeniyle olabilir.

Bu tÃ¼r saldÄ±rÄ±lar gerÃ§ekleÅŸtirirken hatÄ±rlamanÄ±z gereken bir ÅŸey, yÃ¼zeyin gizli doÄŸasÄ± nedeniyle zaman farklarÄ±nÄ±n gerÃ§ek nedenini bilmeyebileceÄŸinizdir.

### Ters Proxy YanlÄ±ÅŸ YapÄ±landÄ±rmalarÄ±

AynÄ± araÅŸtÄ±rmada, zamanlama tekniÄŸinin "kapsamlÄ± SSRF'leri" keÅŸfetmek iÃ§in harika olduÄŸu paylaÅŸÄ±ldÄ± (bu, yalnÄ±zca izin verilen IP/domain'lere eriÅŸebilen SSRF'lerdir). Sadece **izin verilen bir alan adÄ± ayarlandÄ±ÄŸÄ±nda** ve izin verilmeyen bir alan adÄ± ayarlandÄ±ÄŸÄ±nda zaman farkÄ±nÄ± kontrol etmek, aÃ§Ä±k proxy'leri keÅŸfetmeye yardÄ±mcÄ± olur, yanÄ±t aynÄ± olsa bile.

Bir kapsamlÄ± aÃ§Ä±k proxy keÅŸfedildiÄŸinde, hedefin bilinen alt alan adlarÄ±nÄ± ayrÄ±ÅŸtÄ±rarak geÃ§erli hedefler bulmak mÃ¼mkÃ¼ndÃ¼ ve bu da:

* **AÃ§Ä±k proxy** aracÄ±lÄ±ÄŸÄ±yla kÄ±sÄ±tlÄ± alt alan adlarÄ±na eriÅŸerek **gÃ¼venlik duvarlarÄ±nÄ± atlamak**
* AyrÄ±ca, bir **aÃ§Ä±k proxy** kullanarak yalnÄ±zca dahili olarak eriÅŸilebilen **yeni alt alan adlarÄ±nÄ± keÅŸfetmek** mÃ¼mkÃ¼ndÃ¼r.
* **Ã–n UÃ§ taklit saldÄ±rÄ±larÄ±**: Ã–n uÃ§ sunucularÄ± genellikle `X-Forwarded-For` veya `X-Real-IP` gibi arka uÃ§ iÃ§in baÅŸlÄ±klar ekler. Bu baÅŸlÄ±klarÄ± alan aÃ§Ä±k proxy'ler, istenen uÃ§ noktaya ekleyecektir, bu nedenle bir saldÄ±rgan, bu baÅŸlÄ±klarÄ± beyaz listeye alÄ±nmÄ±ÅŸ deÄŸerlerle ekleyerek daha fazla dahili alan adÄ±na eriÅŸebilir.

## Referanslar

* [https://portswigger.net/research/listen-to-the-whispers-web-timing-attacks-that-actually-work](https://portswigger.net/research/listen-to-the-whispers-web-timing-attacks-that-actually-work)

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
