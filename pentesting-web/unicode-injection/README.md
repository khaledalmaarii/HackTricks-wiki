# Unicode Enjeksiyonu

<details>

<summary><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam vermek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>

## GiriÅŸ

Arka plan/Ã¶n uÃ§, **garip unicode karakterler alÄ±rsa**, bir saldÄ±rgan, XSS veya SQLi gibi enjeksiyon zafiyetlerini **atlatmak ve keyfi karakterler enjekte etmek** iÃ§in kullanÄ±labilecek korumalarÄ± **geÃ§ebilir**.

## Unicode Normalizasyonu

Unicode normalizasyonu, **unicode karakterlerinin ascii karakterlere normalleÅŸtirilmesi** durumunda gerÃ§ekleÅŸir.

Bu tÃ¼r bir zafiyetin yaygÄ±n bir senaryosu, sistem **kullanÄ±cÄ±nÄ±n girdisini kontrol ettikten sonra deÄŸiÅŸtiriyorsa** ortaya Ã§Ä±kar. Ã–rneÄŸin, bazÄ± dillerde kullanÄ±cÄ±nÄ±n girdisini **bÃ¼yÃ¼k veya kÃ¼Ã§Ã¼k harf yapmak** iÃ§in yapÄ±lan basit bir Ã§aÄŸrÄ±, verilen girdiyi normalleÅŸtirebilir ve **unicode ASCII'ye dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lerek yeni karakterler oluÅŸturulabilir**.\
Daha fazla bilgi iÃ§in kontrol edin:

{% content-ref url="unicode-normalization.md" %}
[unicode-normalization.md](unicode-normalization.md)
{% endcontent-ref %}

## `\u` to `%`

Unicode karakterleri genellikle **`\u` Ã¶nekiyle** temsil edilir. Ã–rneÄŸin, karakter `ã±‹` `\u3c4b`'dir ([buradan kontrol edin](https://unicode-explorer.com/c/3c4B)). Bir arka uÃ§, Ã¶neki **`\u`'yi `%`'ye dÃ¶nÃ¼ÅŸtÃ¼rÃ¼rse**, elde edilen dize `%3c4b` olur ve URL Ã§Ã¶zÃ¼mlenmiÅŸ hali: **`<4b`**. Ve gÃ¶rebileceÄŸiniz gibi, bir **`<` karakteri enjekte edilir**.\
EÄŸer arka uÃ§ savunmasÄ±zsa, bu tekniÄŸi **herhangi bir karakteri enjekte etmek** iÃ§in kullanabilirsiniz.\
Ä°htiyacÄ±nÄ±z olan karakterleri bulmak iÃ§in [https://unicode-explorer.com/](https://unicode-explorer.com/) adresini kontrol edin.

Bu zafiyet aslÄ±nda bir araÅŸtÄ±rmacÄ±nÄ±n bulduÄŸu bir zafiyetten kaynaklanÄ±r, daha ayrÄ±ntÄ±lÄ± bir aÃ§Ä±klama iÃ§in [https://www.youtube.com/watch?v=aUsAHb0E7Cg](https://www.youtube.com/watch?v=aUsAHb0E7Cg) adresine bakÄ±n.

## Emoji Enjeksiyonu

Arka uÃ§lar, **emoji alÄ±rsa** bazen garip davranÄ±ÅŸlar sergiler. Bu, araÅŸtÄ±rmacÄ±nÄ±n `ğŸ’‹img src=x onerror=alert(document.domain)//ğŸ’›` gibi bir payload ile XSS elde etmeyi baÅŸardÄ±ÄŸÄ± [**bu yazÄ±da**](https://medium.com/@fpatrik/how-i-found-an-xss-vulnerability-via-using-emojis-7ad72de49209) yaÅŸandÄ±.

Bu durumda, hatalÄ± olan ÅŸey, sunucunun zararlÄ± karakterleri kaldÄ±rdÄ±ktan sonra UTF-8 dizesini **Windows-1252'den UTF-8'e dÃ¶nÃ¼ÅŸtÃ¼rmesi** idi (temel olarak giriÅŸ kodlamasÄ± ve dÃ¶nÃ¼ÅŸÃ¼m kodlamasÄ± uyuÅŸmuyordu). ArdÄ±ndan, bu, doÄŸru bir < yerine garip bir unicode karakteri olan `â€¹` verir.\
``Sonra bu Ã§Ä±ktÄ±yÄ± **UTF-8'den ASCII'ye yeniden dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼ler**. Bu, `â€¹`'yi `<`'ye **normalleÅŸtirdi** ve bu sistemdeki saldÄ±rÄ±nÄ±n nasÄ±l Ã§alÄ±ÅŸabileceÄŸidir.\
Ä°ÅŸte olanlar:
```php
<?php

$str = isset($_GET["str"]) ? htmlspecialchars($_GET["str"]) : "";

$str = iconv("Windows-1252", "UTF-8", $str);
$str = iconv("UTF-8", "ASCII//TRANSLIT", $str);

echo "String: " . $str;
```
Emoji listeleri:

* [https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv](https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv)
* [https://unicode.org/emoji/charts-14.0/full-emoji-list.html](https://unicode.org/emoji/charts-14.0/full-emoji-list.html)

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸmek iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek veya HackTricks'i PDF olarak indirmek** isterseniz, [**ABONELÄ°K PLANLARINA**](https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'Ä± takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na **PR gÃ¶ndererek paylaÅŸÄ±n**.

</details>
