# Unicode Injection

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Introduction

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒ**å¥‡å¦™ãªãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ–‡å­—ã‚’å—ã‘å–ã£ãŸã¨ã**ã«ã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã‹ã«ã‚ˆã£ã¦ã€æ”»æ’ƒè€…ã¯**ä¿è­·ã‚’å›é¿ã—ã€ä»»æ„ã®æ–‡å­—ã‚’æ³¨å…¥ã™ã‚‹**ã“ã¨ãŒã§ãã€ã“ã‚Œã«ã‚ˆã‚ŠXSSã‚„SQLiãªã©ã®**æ³¨å…¥è„†å¼±æ€§ã‚’æ‚ªç”¨ã™ã‚‹**ã“ã¨ãŒã§ãã¾ã™ã€‚

## Unicode Normalization

ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ­£è¦åŒ–ã¯ã€**ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ–‡å­—ãŒASCIIæ–‡å­—ã«æ­£è¦åŒ–ã•ã‚Œã‚‹**ã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚

ã“ã®ç¨®ã®è„†å¼±æ€§ã®ä¸€èˆ¬çš„ãªã‚·ãƒŠãƒªã‚ªã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒ**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸå¾Œã«**ä½•ã‚‰ã‹ã®å½¢ã§**å¤‰æ›´**ã™ã‚‹å ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€ã„ãã¤ã‹ã®è¨€èªã§ã¯ã€**å…¥åŠ›ã‚’å¤§æ–‡å­—ã¾ãŸã¯å°æ–‡å­—ã«ã™ã‚‹**ãŸã‚ã®å˜ç´”ãªå‘¼ã³å‡ºã—ãŒã€ä¸ãˆã‚‰ã‚ŒãŸå…¥åŠ›ã‚’æ­£è¦åŒ–ã—ã€**ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ãŒASCIIã«å¤‰æ›ã•ã‚Œ**æ–°ã—ã„æ–‡å­—ãŒç”Ÿæˆã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\
è©³ç´°ã«ã¤ã„ã¦ã¯ã€æ¬¡ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

{% content-ref url="unicode-normalization.md" %}
[unicode-normalization.md](unicode-normalization.md)
{% endcontent-ref %}

## `\u` to `%`

ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ–‡å­—ã¯é€šå¸¸ã€**`\u`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**ã§è¡¨ã•ã‚Œã¾ã™ã€‚ãŸã¨ãˆã°ã€æ–‡å­—`ã±‹`ã¯`\u3c4b`ã§ã™ï¼ˆ[ã“ã“ã§ç¢ºèª](https://unicode-explorer.com/c/3c4B)ï¼‰ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒ**`\u`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’`%`ã«å¤‰æ›**ã™ã‚‹ã¨ã€çµæœã®æ–‡å­—åˆ—ã¯`%3c4b`ã«ãªã‚Šã€URLãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã¨**`<4b`**ã«ãªã‚Šã¾ã™ã€‚ãã—ã¦ã€è¦‹ã¦ã®é€šã‚Šã€**`<`æ–‡å­—ãŒæ³¨å…¥ã•ã‚Œã¾ã™**ã€‚\
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒè„†å¼±ã§ã‚ã‚Œã°ã€ã“ã®æŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦**ä»»æ„ã®ç¨®é¡ã®æ–‡å­—ã‚’æ³¨å…¥**ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\
å¿…è¦ãªæ–‡å­—ã‚’è¦‹ã¤ã‘ã‚‹ã«ã¯ã€[https://unicode-explorer.com/](https://unicode-explorer.com/)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

ã“ã®è„†å¼±æ€§ã¯ã€ç ”ç©¶è€…ãŒç™ºè¦‹ã—ãŸè„†å¼±æ€§ã‹ã‚‰å®Ÿéš›ã«æ¥ã¦ã„ã¾ã™ã€‚è©³ç´°ãªèª¬æ˜ã«ã¤ã„ã¦ã¯ã€[https://www.youtube.com/watch?v=aUsAHb0E7Cg](https://www.youtube.com/watch?v=aUsAHb0E7Cg)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## Emoji Injection

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ã€**çµµæ–‡å­—ã‚’å—ã‘å–ã£ãŸã¨ã**ã«ä½•ã‹ãŠã‹ã—ãªå‹•ä½œã‚’ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ç ”ç©¶è€…ãŒãƒšã‚¤ãƒ­ãƒ¼ãƒ‰`ğŸ’‹img src=x onerror=alert(document.domain)//ğŸ’›`ã‚’ä½¿ç”¨ã—ã¦XSSã‚’é”æˆã—ãŸ[**ã“ã®ãƒ¬ãƒãƒ¼ãƒˆ**](https://medium.com/@fpatrik/how-i-found-an-xss-vulnerability-via-using-emojis-7ad72de49209)ã§èµ·ã“ã£ãŸã“ã¨ã§ã™ã€‚

ã“ã®å ´åˆã€ã‚µãƒ¼ãƒãƒ¼ãŒæ‚ªæ„ã®ã‚ã‚‹æ–‡å­—ã‚’å‰Šé™¤ã—ãŸå¾Œã€**UTF-8æ–‡å­—åˆ—ã‚’Windows-1252ã‹ã‚‰UTF-8ã«å¤‰æ›**ã—ãŸã“ã¨ãŒã‚¨ãƒ©ãƒ¼ã§ã—ãŸï¼ˆåŸºæœ¬çš„ã«å…¥åŠ›ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨å¤‰æ›å…ƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒä¸ä¸€è‡´ã§ã—ãŸï¼‰ã€‚ãã®ãŸã‚ã€é©åˆ‡ãª<ã‚’æä¾›ã›ãšã€å¥‡å¦™ãªãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã®ã‚‚ã®ã‚’æä¾›ã—ã¾ã—ãŸï¼š`â€¹`\
``ãã®ãŸã‚ã€å½¼ã‚‰ã¯ã“ã®å‡ºåŠ›ã‚’å–ã‚Šã€**ä»Šåº¦ã¯UTF-8ã‹ã‚‰ASCIIã«å†å¤‰æ›ã—ã¾ã—ãŸ**ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`â€¹`ãŒ`<`ã«**æ­£è¦åŒ–**ã•ã‚Œã€ã“ã‚ŒãŒãã®ã‚·ã‚¹ãƒ†ãƒ ã§ã®ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆãŒæ©Ÿèƒ½ã™ã‚‹æ–¹æ³•ã§ã—ãŸã€‚\
ã“ã‚ŒãŒèµ·ã“ã£ãŸã“ã¨ã§ã™ï¼š
```php
<?php

$str = isset($_GET["str"]) ? htmlspecialchars($_GET["str"]) : "";

$str = iconv("Windows-1252", "UTF-8", $str);
$str = iconv("UTF-8", "ASCII//TRANSLIT", $str);

echo "String: " . $str;
```
Emojiãƒªã‚¹ãƒˆ:

* [https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv](https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv)
* [https://unicode.org/emoji/charts-14.0/full-emoji-list.html](https://unicode.org/emoji/charts-14.0/full-emoji-list.html)

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€ç·´ç¿’ã™ã‚‹:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€ç·´ç¿’ã™ã‚‹: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„!
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
