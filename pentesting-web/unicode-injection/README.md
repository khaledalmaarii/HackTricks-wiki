# Unicode Injection

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Introduction

ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œê°€ **ì´ìƒí•œ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ ìˆ˜ì‹ í•  ë•Œ** ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ì— ë”°ë¼ ê³µê²©ìëŠ” **ë³´í˜¸ë¥¼ ìš°íšŒí•˜ê³  ì„ì˜ì˜ ë¬¸ìë¥¼ ì£¼ì…**í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” **XSS ë˜ëŠ” SQLiì™€ ê°™ì€ ì£¼ì… ì·¨ì•½ì ì„ ì•…ìš©í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

## Unicode Normalization

ìœ ë‹ˆì½”ë“œ ì •ê·œí™”ëŠ” **ìœ ë‹ˆì½”ë“œ ë¬¸ìê°€ ASCII ë¬¸ìë¡œ ì •ê·œí™”ë  ë•Œ** ë°œìƒí•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ìœ í˜•ì˜ ì·¨ì•½ì ì˜ ì¼ë°˜ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì‹œìŠ¤í…œì´ **ì‚¬ìš©ìì˜ ì…ë ¥ì„ í™•ì¸í•œ í›„** ì–´ë–¤ ì‹ìœ¼ë¡œë“  **ìˆ˜ì •**í•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¼ë¶€ ì–¸ì–´ì—ì„œëŠ” **ì…ë ¥ì„ ëŒ€ë¬¸ì ë˜ëŠ” ì†Œë¬¸ìë¡œ ë³€í™˜**í•˜ëŠ” ê°„ë‹¨í•œ í˜¸ì¶œì´ ì£¼ì–´ì§„ ì…ë ¥ì„ ì •ê·œí™”í•˜ê³  **ìœ ë‹ˆì½”ë“œê°€ ASCIIë¡œ ë³€í™˜**ë˜ì–´ ìƒˆë¡œìš´ ë¬¸ìê°€ ìƒì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="unicode-normalization.md" %}
[unicode-normalization.md](unicode-normalization.md)
{% endcontent-ref %}

## `\u` to `%`

ìœ ë‹ˆì½”ë“œ ë¬¸ìëŠ” ì¼ë°˜ì ìœ¼ë¡œ **`\u` ì ‘ë‘ì‚¬**ë¡œ í‘œí˜„ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¬¸ì `ã±‹`ëŠ” `\u3c4b`ì…ë‹ˆë‹¤([ì—¬ê¸°ì—ì„œ í™•ì¸](https://unicode-explorer.com/c/3c4B)). ë§Œì•½ ë°±ì—”ë“œê°€ **`\u` ì ‘ë‘ì‚¬ë¥¼ `%`ë¡œ ë³€í™˜**í•˜ë©´, ê²°ê³¼ ë¬¸ìì—´ì€ `%3c4b`ê°€ ë˜ë©°, URL ë””ì½”ë”©í•˜ë©´: **`<4b`**ê°€ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³ , ë³´ì‹œë‹¤ì‹œí”¼, **`<` ë¬¸ìê°€ ì£¼ì…ë©ë‹ˆë‹¤**.\
ë°±ì—”ë“œê°€ ì·¨ì•½í•˜ë‹¤ë©´ ì´ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ **ì–´ë–¤ ì¢…ë¥˜ì˜ ë¬¸ìë„ ì£¼ì…**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
í•„ìš”í•œ ë¬¸ìë¥¼ ì°¾ìœ¼ë ¤ë©´ [https://unicode-explorer.com/](https://unicode-explorer.com/)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

ì´ ì·¨ì•½ì ì€ ì‹¤ì œë¡œ ì—°êµ¬ìê°€ ë°œê²¬í•œ ì·¨ì•½ì ì—ì„œ ë¹„ë¡¯ëœ ê²ƒìœ¼ë¡œ, ë” ê¹Šì´ ìˆëŠ” ì„¤ëª…ì€ [https://www.youtube.com/watch?v=aUsAHb0E7Cg](https://www.youtube.com/watch?v=aUsAHb0E7Cg)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

## Emoji Injection

ë°±ì—”ë“œëŠ” **ì´ëª¨ì§€ë¥¼ ìˆ˜ì‹ í•  ë•Œ** ì´ìƒí•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤. ì—°êµ¬ìê°€ `ğŸ’‹img src=x onerror=alert(document.domain)//ğŸ’›`ì™€ ê°™ì€ í˜ì´ë¡œë“œë¡œ XSSë¥¼ ë‹¬ì„±í•œ [**ì´ ê¸€**](https://medium.com/@fpatrik/how-i-found-an-xss-vulnerability-via-using-emojis-7ad72de49209)ì—ì„œ ë°œìƒí•œ ì¼ì…ë‹ˆë‹¤.

ì´ ê²½ìš°, ì„œë²„ê°€ ì•…ì„± ë¬¸ìë¥¼ ì œê±°í•œ í›„ **UTF-8 ë¬¸ìì—´ì„ Windows-1252ì—ì„œ UTF-8ë¡œ ë³€í™˜**í–ˆê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤(ê¸°ë³¸ì ìœ¼ë¡œ ì…ë ¥ ì¸ì½”ë”©ê³¼ ë³€í™˜ ì¸ì½”ë”©ì´ ë¶ˆì¼ì¹˜í–ˆìŠµë‹ˆë‹¤). ê·¸ëŸ¬ë©´ ì´ëŠ” ì ì ˆí•œ <ë¥¼ ì œê³µí•˜ì§€ ì•Šê³  ì´ìƒí•œ ìœ ë‹ˆì½”ë“œ ë¬¸ì `â€¹`ë§Œ ì œê³µí•©ë‹ˆë‹¤.\
``ê·¸ë˜ì„œ ì´ ì¶œë ¥ê°’ì„ ê°€ì ¸ì™€ì„œ **ì´ì œ UTF-8ì—ì„œ ASCIIë¡œ ë‹¤ì‹œ ë³€í™˜**í–ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ `â€¹`ê°€ `<`ë¡œ **ì •ê·œí™”**ë˜ì—ˆê³ , ì´ê²ƒì´ ê·¸ ì‹œìŠ¤í…œì—ì„œ ìµìŠ¤í”Œë¡œì‡ì´ ì‘ë™í•  ìˆ˜ ìˆì—ˆë˜ ë°©ë²•ì…ë‹ˆë‹¤.\
ì´ê²ƒì´ ë°œìƒí•œ ì¼ì…ë‹ˆë‹¤:
```php
<?php

$str = isset($_GET["str"]) ? htmlspecialchars($_GET["str"]) : "";

$str = iconv("Windows-1252", "UTF-8", $str);
$str = iconv("UTF-8", "ASCII//TRANSLIT", $str);

echo "String: " . $str;
```
Emoji ëª©ë¡:

* [https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv](https://github.com/iorch/jakaton\_feminicidios/blob/master/data/emojis.csv)
* [https://unicode.org/emoji/charts-14.0/full-emoji-list.html](https://unicode.org/emoji/charts-14.0/full-emoji-list.html)

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
