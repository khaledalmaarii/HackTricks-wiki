# Web alatka - WFuzz

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

Alatka za FUZZ-ovanje web aplikacija bilo gde.

> [Wfuzz](https://github.com/xmendez/wfuzz) je napravljen da olakÅ¡a zadatak u proceni web aplikacija i zasniva se na jednostavnom konceptu: zamenjuje svako pojavljivanje kljuÄne reÄi FUZZ vrednoÅ¡Ä‡u zadatog payload-a.

## Instalacija

Instalirano na Kali

Github: [https://github.com/xmendez/wfuzz](https://github.com/xmendez/wfuzz)
```
pip install wfuzz
```
## Opcije filtriranja

### **Code**
### **Kod**

This option allows you to filter the response based on the HTTP status code. You can specify a single code or a range of codes using the syntax `code` or `code1-code2`. For example, to filter for all responses with a status code of 200, you would use `--filter-code 200`. To filter for all responses with status codes between 400 and 500, you would use `--filter-code 400-500`.

Ova opcija vam omoguÄ‡ava filtriranje odgovora na osnovu HTTP statusnog koda. MoÅ¾ete specificirati jedan kod ili opseg kodova koristeÄ‡i sintaksu `kod` ili `kod1-kod2`. Na primer, da biste filtrirali sve odgovore sa statusnim kodom 200, koristili biste `--filter-code 200`. Da biste filtrirali sve odgovore sa statusnim kodovima izmeÄ‘u 400 i 500, koristili biste `--filter-code 400-500`.

### **Size**
### **VeliÄina**

This option allows you to filter the response based on the size of the response body. You can specify a single size or a range of sizes using the syntax `size` or `size1-size2`. For example, to filter for all responses with a body size of 100 bytes, you would use `--filter-size 100`. To filter for all responses with body sizes between 200 and 500 bytes, you would use `--filter-size 200-500`.

Ova opcija vam omoguÄ‡ava filtriranje odgovora na osnovu veliÄine tela odgovora. MoÅ¾ete specificirati jednu veliÄinu ili opseg veliÄina koristeÄ‡i sintaksu `veliÄina` ili `veliÄina1-veliÄina2`. Na primer, da biste filtrirali sve odgovore sa veliÄinom tela od 100 bajtova, koristili biste `--filter-size 100`. Da biste filtrirali sve odgovore sa veliÄinama tela izmeÄ‘u 200 i 500 bajtova, koristili biste `--filter-size 200-500`.

### **Words**
### **ReÄi**

This option allows you to filter the response based on the presence or absence of specific words in the response body. You can specify one or more words to include or exclude using the syntax `+word1,+word2` or `-word1,-word2`. For example, to filter for all responses that contain the words "password" and "admin", you would use `--filter-words +password,+admin`. To filter for all responses that do not contain the words "error" and "invalid", you would use `--filter-words -error,-invalid`.

Ova opcija vam omoguÄ‡ava filtriranje odgovora na osnovu prisustva ili odsustva odreÄ‘enih reÄi u telu odgovora. MoÅ¾ete specificirati jednu ili viÅ¡e reÄi za ukljuÄivanje ili iskljuÄivanje koristeÄ‡i sintaksu `+reÄ1,+reÄ2` ili `-reÄ1,-reÄ2`. Na primer, da biste filtrirali sve odgovore koji sadrÅ¾e reÄi "password" i "admin", koristili biste `--filter-words +password,+admin`. Da biste filtrirali sve odgovore koji ne sadrÅ¾e reÄi "error" i "invalid", koristili biste `--filter-words -error,-invalid`.
```bash
--hs/ss "regex" #Hide/Show
#Simple example, match a string: "Invalid username"
#Regex example: "Invalid *"

--hc/sc CODE #Hide/Show by code in response
--hl/sl NUM #Hide/Show by number of lines in response
--hw/sw NUM #Hide/Show by number of words in response
--hh/sh NUM #Hide/Show by number of chars in response
--hc/sc NUM #Hide/Show by response code
```
## Opcije izlaza

Wfuzz provides several options for displaying the output of the scan. These options can be used to customize the format and level of detail in the output.

### Standard output

By default, Wfuzz displays the output on the standard output (stdout). This is the most common way to view the results of a scan. The output includes information such as the request URL, response status code, and any discovered vulnerabilities.

### Output to a file

Wfuzz also allows you to redirect the output to a file using the `-o` or `--output` option followed by the desired file name. This can be useful for saving the results of a scan for later analysis or sharing with others.

Example:

```
wfuzz -c -z file,wordlist/general/common.txt --hc 404 http://example.com/FUZZ -o output.txt
```

In this example, the output of the scan will be saved to a file named `output.txt`.

### Output to a workspace

Wfuzz supports integration with cloud/SaaS platforms such as Workspace, AWS, and GCP. This allows you to send the output of a scan directly to a workspace or cloud storage for further analysis or collaboration.

To use this feature, you need to configure the appropriate settings in Wfuzz and provide the necessary credentials for the cloud/SaaS platform.

### Output to a database

Wfuzz also supports storing the output of a scan in a database. This can be useful for managing and querying large amounts of scan data.

To enable database output, you need to configure the database settings in Wfuzz and provide the necessary credentials and connection details.

### Custom output format

If none of the built-in output options meet your needs, Wfuzz allows you to define a custom output format using the `--output-format` option. This option accepts a string that specifies the desired format.

Example:

```
wfuzz -c -z file,wordlist/general/common.txt --hc 404 http://example.com/FUZZ --output-format "URL: {url}, Status: {status_code}"
```

In this example, the output will be customized to display only the URL and status code for each request.
```bash
wfuzz -e printers #Prints the available output formats
-f /tmp/output,csv #Saves the output in that location in csv format
```
### Opcije enkodera

The `wfuzz` tool provides several options for encoding payloads. These options can be used to modify the format of the payloads sent during the fuzzing process. Here are some of the available encoder options:

- **URL Encoding**: This option (`-z url`) encodes special characters in the payload using URL encoding. For example, the space character is encoded as `%20`.

- **HTML Encoding**: This option (`-z html`) encodes special characters in the payload using HTML encoding. For example, the less than symbol `<` is encoded as `&lt;`.

- **Base64 Encoding**: This option (`-z b64`) encodes the payload using Base64 encoding. This can be useful when dealing with binary data.

- **Hex Encoding**: This option (`-z hex`) encodes the payload using hexadecimal encoding. Each byte of the payload is represented by two hexadecimal digits.

- **Unicode Encoding**: This option (`-z unicode`) encodes the payload using Unicode encoding. Each character of the payload is represented by its Unicode code point.

These encoding options can be combined with other `wfuzz` options to customize the fuzzing process and increase the chances of finding vulnerabilities in web applications.
```bash
wfuzz -e encoders #Prints the available encoders
#Examples: urlencode, md5, base64, hexlify, uri_hex, doble urlencode
```
Da biste koristili enkoder, morate ga naznaÄiti u opciji **"-w"** ili **"-z"**.

Primeri:
```bash
-z file,/path/to/file,md5 #Will use a list inside the file, and will transform each value into its md5 hash before sending it
-w /path/to/file,base64 #Will use a list, and transform to base64
-z list,each-element-here,hexlify #Inline list and to hex before sending values
```
## CheetSheet

### Brute force napad na login formu

#### **POST, Jedna lista, filter string (sakrij)**
```bash
wfuzz -c -w users.txt --hs "Login name" -d "name=FUZZ&password=FUZZ&autologin=1&enter=Sign+in" http://zipper.htb/zabbix/index.php
#Here we have filtered by line
```
#### **POST, 2 liste, filter kod (prikaÅ¾i)**
```bash
wfuzz.py -c -z file,users.txt -z file,pass.txt --sc 200 -d "name=FUZZ&password=FUZ2Z&autologin=1&enter=Sign+in" http://zipper.htb/zabbix/index.php
#Here we have filtered by code
```
#### **GET, 2 liste, filter string (prikaÅ¾i), proxy, kolaÄiÄ‡i**

---

#### **GET, 2 Ğ»Ğ¸ÑÑ‚Ğµ, Ñ„Ğ¸Ğ»Ñ‚ĞµÑ€ ÑÑ‚Ñ€Ğ¸Ğ½Ğ³ (Ğ¿Ñ€Ğ¸ĞºĞ°Ğ¶Ğ¸), Ğ¿Ñ€Ğ¾ĞºÑĞ¸, ĞºĞ¾Ğ»Ğ°Ñ‡Ğ¸Ñ›Ğ¸**
```bash
wfuzz -c -w users.txt -w pass.txt --ss "Welcome " -p 127.0.0.1:8080:HTTP -b "PHPSESSIONID=1234567890abcdef;customcookie=hey" "http://example.com/index.php?username=FUZZ&password=FUZ2Z&action=sign+in"
```
### Brute force direktorijuma/RESTful brute force

[Arjun lista reÄi za parametre](https://raw.githubusercontent.com/s0md3v/Arjun/master/arjun/db/params.txt)
```
wfuzz -c -w /tmp/tmp/params.txt --hc 404 https://domain.com/api/FUZZ
```
### BF putanja parametara

BF (Brute Force) napad je tehnika koja se koristi za otkrivanje validnih vrednosti putanja parametara. Ova tehnika se koristi kada je potrebno pronaÄ‡i taÄne vrednosti parametara kako bi se izvrÅ¡io odreÄ‘eni zahtev.

Da biste izvrÅ¡ili BF napad na putanju parametara, moÅ¾ete koristiti alat kao Å¡to je `wfuzz`. Ovaj alat Ä‡e automatski generisati razliÄite kombinacije vrednosti parametara i poslati ih na ciljani URL. Kada se pronaÄ‘e validna vrednost parametra, to znaÄi da je putanja parametara otkrivena.

Da biste izvrÅ¡ili BF napad na putanju parametara koristeÄ‡i `wfuzz`, moÅ¾ete koristiti sledeÄ‡u sintaksu:

```plaintext
wfuzz -c -z file,<wordlist> --hc <response_code> <url>?<param>=FUZZ
```

Gde:

- `-c` opcija se koristi za prikazivanje samo uspeÅ¡nih zahteva
- `-z file,<wordlist>` opcija se koristi za uÄitavanje liste reÄi iz datoteke
- `--hc <response_code>` opcija se koristi za filtriranje odgovora sa odreÄ‘enim HTTP statusnim kodom
- `<url>` predstavlja ciljani URL
- `<param>` predstavlja ime parametra koji Å¾elite da testirate
- `FUZZ` je oznaka koju `wfuzz` koristi za zamenjivanje vrednosti parametra iz liste reÄi

Na primer, ako Å¾elite da izvrÅ¡ite BF napad na putanju parametara sa parametrom `id` na URL-u `http://example.com`, koristeÄ‡i listu reÄi `wordlist.txt`, moÅ¾ete koristiti sledeÄ‡u komandu:

```plaintext
wfuzz -c -z file,wordlist.txt --hc 200 http://example.com?id=FUZZ
```

Ova komanda Ä‡e automatski generisati razliÄite kombinacije vrednosti parametra `id` iz liste reÄi `wordlist.txt` i poslati ih na URL `http://example.com`. Samo uspeÅ¡ni zahtevi sa HTTP statusnim kodom 200 Ä‡e biti prikazani.

BF napad na putanju parametara moÅ¾e biti veoma koristan za otkrivanje validnih vrednosti parametara i pronalaÅ¾enje ranjivosti u ciljanoj aplikaciji.
```bash
wfuzz -c -w ~/git/Arjun/db/params.txt --hw 11 'http://example.com/path%3BFUZZ=FUZZ'
```
### Header Autentifikacija

#### **Osnovno, 2 liste, filter string (prikaÅ¾i), proxy**
```bash
wfuzz -c -w users.txt -w pass.txt -p 127.0.0.1:8080:HTTP --ss "Welcome" --basic FUZZ:FUZ2Z "http://example.com/index.php"
```
#### **NTLM, 2 liste, filter string (prikaÅ¾i), proxy**

---

##### **NTLM**

NTLM (New Technology LAN Manager) je autentifikacioni protokol koji se koristi u Windows mreÅ¾ama. WFuzz podrÅ¾ava NTLM autentifikaciju i moÅ¾e se koristiti za testiranje sigurnosti sistema koji koriste ovaj protokol.

##### **2 liste**

WFuzz omoguÄ‡ava koriÅ¡Ä‡enje 2 liste za napade. Prva lista se koristi za generisanje URL-ova, dok se druga lista koristi za generisanje payload-a. Ovo je korisno kada Å¾elite da testirate viÅ¡e kombinacija URL-ova i payload-a.

##### **Filter string (prikaÅ¾i)**

Filter string (prikaÅ¾i) je opcija koja vam omoguÄ‡ava filtriranje rezultata napada na osnovu odreÄ‘enog stringa. MoÅ¾ete koristiti ovu opciju da biste prikazali samo one rezultate koji sadrÅ¾e odreÄ‘eni string, Å¡to vam pomaÅ¾e da se fokusirate samo na relevantne informacije.

##### **Proxy**

Proxy je posrednik izmeÄ‘u vaÅ¡eg raÄunara i ciljnog servera. WFuzz podrÅ¾ava koriÅ¡Ä‡enje proxy servera za anonimno izvrÅ¡avanje napada. MoÅ¾ete konfigurisati proxy postavke u WFuzz-u kako biste sakrili svoj identitet tokom napada.
```bash
wfuzz -c -w users.txt -w pass.txt -p 127.0.0.1:8080:HTTP --ss "Welcome" --ntlm 'domain\FUZZ:FUZ2Z' "http://example.com/index.php"
```
### Brute forceovanje kolaÄiÄ‡a/zaglavlja (brute vhost)

#### **KolaÄiÄ‡, filter koda (prikaÅ¾i), proxy**
```bash
wfuzz -c -w users.txt -p 127.0.0.1:8080:HTTP --ss "Welcome " -H "Cookie:id=1312321&user=FUZZ"  "http://example.com/index.php"
```
#### **User-Agent, filter kod (sakrij), proxy**

User-Agent je HTTP zaglavlje koje se koristi za identifikaciju klijentskog softvera koji Å¡alje zahtev serveru. MoÅ¾e se koristiti za prikrivanje identiteta ili za laÅ¾no predstavljanje kao drugi klijentski softver.

Filter kod se koristi za filtriranje rezultata pretrage kako bi se prikazali samo odreÄ‘eni rezultati koji ispunjavaju odreÄ‘ene uslove. MoÅ¾e se koristiti za suÅ¾avanje obima pretrage i fokusiranje na relevantne rezultate.

Proxy je posrednik izmeÄ‘u klijenta i servera koji omoguÄ‡ava anonimnost i zaÅ¡titu identiteta. Proxy server moÅ¾e se koristiti za sakrivanje IP adrese klijenta i zaobilaÅ¾enje ograniÄenja pristupa od strane servera.
```bash
wfuzz -c -w user-agents.txt -p 127.0.0.1:8080:HTTP --ss "Welcome " -H "User-Agent: FUZZ"  "http://example.com/index.php"
```
#### **Host**
```bash
wfuzz -c -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-
top1million-20000.txt --hc 400,404,403 -H "Host: FUZZ.example.com" -u
http://example.com -t 100
```
#### **KoriÅ¡Ä‡enje fajla**

Ova tehnika se koristi za izvrÅ¡avanje brute force napada na HTTP metode (verbs) koristeÄ‡i listu metoda iz fajla.

Da biste koristili ovu tehniku, prvo morate kreirati fajl koji sadrÅ¾i listu HTTP metoda koje Å¾elite da isprobate. Svaka metoda treba biti navedena u zasebnom redu.

Na primer, moÅ¾ete kreirati fajl `methods.txt` sa sledeÄ‡im sadrÅ¾ajem:

```
GET
POST
PUT
DELETE
```

Zatim moÅ¾ete koristiti `wfuzz` alat za izvrÅ¡avanje brute force napada na HTTP metode koristeÄ‡i ovaj fajl. Evo primera komande:

```
wfuzz -w methods.txt http://example.com/FUZZ
```

Ovde `FUZZ` predstavlja rezervisanu reÄ koju `wfuzz` koristi za zamenjivanje sa svakom metodom iz fajla.

Nakon izvrÅ¡avanja komande, `wfuzz` Ä‡e automatski zameniti `FUZZ` sa svakom metodom iz fajla i poslati HTTP zahtev na odgovarajuÄ‡u putanju na ciljnom veb serveru.

Ova tehnika je korisna za otkrivanje potencijalno ranjivih HTTP metoda na ciljnom veb serveru.
```bash
wfuzz -c -w methods.txt -p 127.0.0.1:8080:HTTP --sc 200 -X FUZZ "http://example.com/index.php"
```
#### **KoriÅ¡Ä‡enje inline liste**

Inline lista je tehnika koja se koristi u alatu wfuzz kako bi se brzo i efikasno testirali razliÄiti parametri. Ova tehnika omoguÄ‡ava da se vrednosti parametara iz liste ubace direktno u URL zahteva, umesto da se koristi fajl sa listom vrednosti.

Da biste koristili inline listu, potrebno je da definiÅ¡ete listu vrednosti u formatu `{vrednost1,vrednost2,vrednost3}`. Zatim, umesto da koristite opciju `-z` za uÄitavanje fajla sa listom, koristite opciju `-Z` i navodite inline listu kao vrednost.

Na primer, ako Å¾elite da testirate razliÄite vrednosti za parametar `id`, moÅ¾ete koristiti inline listu na sledeÄ‡i naÄin:

```
wfuzz -c -z list.txt http://example.com/?id=FUZZ
```

Ovde `list.txt` predstavlja fajl sa listom vrednosti, dok `FUZZ` predstavlja oznaku koja Ä‡e biti zamenjena sa svakom vrednoÅ¡Ä‡u iz liste.

Sa inline listom, isti rezultat moÅ¾ete postiÄ‡i na sledeÄ‡i naÄin:

```
wfuzz -c -Z {1,2,3} http://example.com/?id=FUZZ
```

Ovde se inline lista `{1,2,3}` direktno ubacuje u URL zahteva, umesto da se koristi fajl sa listom.

KoriÅ¡Ä‡enje inline liste moÅ¾e biti veoma korisno kada Å¾elite brzo da testirate razliÄite vrednosti parametara i izbegnete upotrebu dodatnih fajlova.
```bash
$ wfuzz -z list,GET-HEAD-POST-TRACE-OPTIONS -X FUZZ http://testphp.vulnweb.com/
```
### Brute force napad na direktorijume i fajlove

Brute force napad je tehnika koja se koristi za otkrivanje direktorijuma i fajlova na ciljnom veb serveru. Ova tehnika se zasniva na pokuÅ¡aju svih moguÄ‡ih kombinacija putanja ili imena fajlova kako bi se pronaÅ¡li oni koji su dostupni.

#### Upotreba alata Wfuzz

Wfuzz je popularan alat za izvrÅ¡avanje brute force napada na direktorijume i fajlove. Ovaj alat omoguÄ‡ava korisnicima da definiÅ¡u listu putanja ili imena fajlova koje Å¾ele da testiraju. Wfuzz zatim automatski generiÅ¡e sve moguÄ‡e kombinacije i Å¡alje zahteve serveru.

#### Instalacija Wfuzz-a

Da biste instalirali Wfuzz, moÅ¾ete koristiti sledeÄ‡u komandu:

```bash
sudo apt-get install wfuzz
```

#### Osnovna upotreba Wfuzz-a

Osnovna sintaksa za upotrebu Wfuzz-a je:

```bash
wfuzz -c -z file,<wordlist> -u <target_url> -t <num_threads> -H <headers>
```

- `-c` opcija omoguÄ‡ava prikazivanje samo uspeÅ¡nih odgovora
- `-z file,<wordlist>` opcija definiÅ¡e da se koristi lista reÄi iz datoteke za generisanje putanja ili imena fajlova
- `-u <target_url>` opcija definiÅ¡e ciljnu URL adresu
- `-t <num_threads>` opcija definiÅ¡e broj niti koje Ä‡e se koristiti za izvrÅ¡avanje napada
- `-H <headers>` opcija definiÅ¡e dodatne zaglavlja koja Ä‡e se poslati sa zahtevima

#### Primer upotrebe Wfuzz-a

Evo primera kako moÅ¾ete koristiti Wfuzz za brute force napad na direktorijume i fajlove:

```bash
wfuzz -c -z file,wordlist.txt -u http://example.com/FUZZ -t 10 -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"
```

U ovom primeru, Wfuzz Ä‡e koristiti listu reÄi iz datoteke "wordlist.txt" za generisanje putanja koje Ä‡e biti testirane na URL adresi "http://example.com/FUZZ". Napad Ä‡e se izvrÅ¡avati sa 10 niti, a dodatno Ä‡e se poslati zaglavlje "User-Agent" sa svakim zahtevom.

#### Napredne opcije Wfuzz-a

Wfuzz takoÄ‘e pruÅ¾a napredne opcije koje omoguÄ‡avaju korisnicima da prilagode napad prema svojim potrebama. Ove opcije ukljuÄuju podeÅ¡avanje vremenskog ograniÄenja, podeÅ¡avanje HTTP metoda, podeÅ¡avanje autentifikacije i joÅ¡ mnogo toga.

Za viÅ¡e informacija o naprednim opcijama Wfuzz-a, moÅ¾ete pogledati zvaniÄnu dokumentaciju alata.
```bash
#Filter by whitelisting codes
wfuzz -c -z file,/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --sc 200,202,204,301,302,307,403 http://example.com/uploads/FUZZ
```
## Alat za zaobilaÅ¾enje veb stranica

[https://github.com/carlospolop/fuzzhttpbypass](https://github.com/carlospolop/fuzzhttpbypass)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju oglaÅ¡enu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
