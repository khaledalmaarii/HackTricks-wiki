# Chrome ke코iranje za XSS

<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Da li radite u **cybersecurity kompaniji**? 콯elite li da vidite svoju **kompaniju reklamiranu na HackTricks-u**? Ili 쬰lite da imate pristup **najnovijoj verziji PEASS-a ili preuzmete HackTricks u PDF formatu**? Proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Pridru쬴te se** [**游눫**](https://emojipedia.org/speech-balloon/) [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili me **pratite** na **Twitter-u** 游냕[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **i** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud).

</details>

Detaljnije informacije [**u ovom writeup-u**](https://blog.arkark.dev/2022/11/18/seccon-en/#web-spanote).

Tehnika koja se ovde razmatra uklju캜uje razumevanje pona코anja i interakcije dve osnovne vrste ke코a: **back/forward ke코 (bfcache)** i **disk ke코**. Bfcache, koji 캜uva potpunu snimku stranice uklju캜uju캖i JavaScript hip, ima prioritet u odnosu na disk ke코 za back/forward navigacije zbog svoje sposobnosti da 캜uva sveobuhvatniju snimku. Disk ke코, s druge strane, 캜uva resurse preuzete sa weba bez uklju캜ivanja JavaScript hipa i koristi se za back/forward navigacije radi smanjenja tro코kova komunikacije. Interesantan aspekt disk ke코a je uklju캜ivanje resursa preuzetih kori코캖enjem `fetch`, 코to zna캜i da 캖e pristupljeni URL resursi biti prikazani od strane pregleda캜a iz ke코a.

### Klju캜ne ta캜ke:

- Bfcache ima prednost u odnosu na disk ke코 u back/forward navigacijama.
- Da bi se koristio ke코 stranice sa diska umesto bfcache-a, potrebno je onemogu캖iti bfcache.

Onemogu캖avanje bfcache-a:

Podrazumevano, Puppeteer onemogu캖ava bfcache, u skladu sa uslovima navedenim u dokumentaciji Chromium-a. Jedan efikasan na캜in da se onemogu캖i bfcache je kori코캖enje `RelatedActiveContentsExist`, postignuto otvaranjem stranice sa `window.open()` koja zadr쬬va referencu na `window.opener`.

Reprodukcija pona코anja:

1. Posetite veb stranicu, na primer `https://example.com`.
2. Izvr코ite `open("http://spanote.seccon.games:3000/api/token")`, 코to rezultira serverskim odgovorom sa status kodom 500.
3. U novootvorenoj kartici, navigirajte na `http://spanote.seccon.games:3000/`. Ova akcija ke코ira odgovor `http://spanote.seccon.games:3000/api/token` kao disk ke코.
4. Koristite `history.back()` da se vratite unazad. Ova akcija rezultira prikazivanjem ke코iranog JSON odgovora na stranici.

Potvrdu da je disk ke코 kori코캖en mo쬰te potvrditi kori코캖enjem DevTools-a u Google Chrome-u.

Za dodatne detalje o bfcache-u i disk ke코u, reference se mogu prona캖i na [web.dev o bfcache-u](https://web.dev/i18n/en/bfcache/) i [Chromium-ovim dizajnerskim dokumentima o disk ke코u](https://www.chromium.org/developers/design-documents/network-stack/disk-cache/), redom.


<details>

<summary><strong>Nau캜ite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

* Da li radite u **cybersecurity kompaniji**? 콯elite li da vidite svoju **kompaniju reklamiranu na HackTricks-u**? Ili 쬰lite da imate pristup **najnovijoj verziji PEASS-a ili preuzmete HackTricks u PDF formatu**? Proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), na코u kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* Nabavite [**zvani캜ni PEASS & HackTricks swag**](https://peass.creator-spring.com)
* **Pridru쬴te se** [**游눫**](https://emojipedia.org/speech-balloon/) [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili me **pratite** na **Twitter-u** 游냕[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **i** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud).

</details>
