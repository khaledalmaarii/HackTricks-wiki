# Chrome Ã–nbelleÄŸi XSS

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸÃ¼n</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>ile Ã¶ÄŸrenin!</strong></summary>

* Bir **cybersecurity ÅŸirketinde** Ã§alÄ±ÅŸÄ±yor musunuz? **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** ister misiniz? veya **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* Ã–zel [**NFT'lerimizden oluÅŸan PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ve** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ile gÃ¶ndererek paylaÅŸÄ±n**.

</details>

Daha ayrÄ±ntÄ±lÄ± bilgiler [**bu yazÄ±da**](https://blog.arkark.dev/2022/11/18/seccon-en/#web-spanote) bulunmaktadÄ±r.

Burada tartÄ±ÅŸÄ±lan teknik, iki temel Ã¶nbellek tÃ¼rÃ¼nÃ¼n davranÄ±ÅŸÄ±nÄ± ve etkileÅŸimini anlamayÄ± iÃ§erir: **geri/ileri Ã¶nbelleÄŸi (bfcache)** ve **disk Ã¶nbelleÄŸi**. bfcache, JavaScript yÄ±ÄŸÄ±nÄ± da dahil olmak Ã¼zere bir sayfanÄ±n tam bir anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ depolar ve daha kapsamlÄ± bir anlÄ±k gÃ¶rÃ¼ntÃ¼ depolama yeteneÄŸine sahip olduÄŸu iÃ§in geri/ileri gezinmelerinde disk Ã¶nbelleÄŸinden Ã¶nceliklidir. Ã–te yandan, disk Ã¶nbelleÄŸi, JavaScript yÄ±ÄŸÄ±nÄ± iÃ§ermeyen web'den alÄ±nan kaynaklarÄ± depolar ve geri/ileri gezinmelerde iletiÅŸim maliyetlerini azaltmak iÃ§in kullanÄ±lÄ±r. Disk Ã¶nbelleÄŸinin ilginÃ§ bir yÃ¶nÃ¼, `fetch` kullanÄ±larak alÄ±nan kaynaklarÄ± iÃ§ermesidir, bu da tarayÄ±cÄ±nÄ±n Ã¶nbellekten eriÅŸilen URL kaynaklarÄ±nÄ± render etmesi anlamÄ±na gelir.

### Ana Noktalar:

- Geri/ileri gezinmelerde **bfcache**, disk Ã¶nbelleÄŸinden Ã¶nceliklidir.
- Bfcache'in yerine disk Ã¶nbellekte depolanan bir sayfayÄ± kullanmak iÃ§in bfcache devre dÄ±ÅŸÄ± bÄ±rakÄ±lmalÄ±dÄ±r.

### Bfcache'in devre dÄ±ÅŸÄ± bÄ±rakÄ±lmasÄ±:

Puppeteer varsayÄ±lan olarak bfcache'i devre dÄ±ÅŸÄ± bÄ±rakÄ±r ve Chromium'un belgelerinde listelenen koÅŸullarla uyum saÄŸlar. Bfcache'i devre dÄ±ÅŸÄ± bÄ±rakmanÄ±n etkili bir yÃ¶ntemi, `RelatedActiveContentsExist` kullanarak `window.open()` ile bir sayfa aÃ§mak ve `window.opener` referansÄ±nÄ± korumaktÄ±r.

### DavranÄ±ÅŸÄ±n yeniden Ã¼retilmesi:

1. Bir web sayfasÄ±nÄ± ziyaret edin, Ã¶rneÄŸin `https://example.com`.
2. `open("http://spanote.seccon.games:3000/api/token")` komutunu Ã§alÄ±ÅŸtÄ±rÄ±n, bu 500 durum koduyla bir sunucu yanÄ±tÄ± alÄ±r.
3. Yeni aÃ§Ä±lan sekmede `http://spanote.seccon.games:3000/` adresine gidin. Bu iÅŸlem, `http://spanote.seccon.games:3000/api/token` yanÄ±tÄ±nÄ± disk Ã¶nbelleÄŸe bir Ã¶nbellek olarak kaydeder.
4. `history.back()` kullanarak geri gidin. Bu iÅŸlem, Ã¶nbelleÄŸe alÄ±nan JSON yanÄ±tÄ±nÄ±n sayfada render edilmesine neden olur.

Disk Ã¶nbelleÄŸin kullanÄ±ldÄ±ÄŸÄ±nÄ±n doÄŸrulanmasÄ±, Google Chrome'daki DevTools kullanÄ±larak teyit edilebilir.

Bfcache ve disk Ã¶nbellek hakkÄ±nda daha fazla ayrÄ±ntÄ± iÃ§in, sÄ±rasÄ±yla [web.dev'deki bfcache hakkÄ±nda](https://web.dev/i18n/en/bfcache/) ve [Chromium'un disk Ã¶nbellek hakkÄ±ndaki tasarÄ±m belgelerinde](https://www.chromium.org/developers/design-documents/network-stack/disk-cache/) referanslar bulunabilir.


<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana dÃ¶nÃ¼ÅŸÃ¼n</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ±)</strong></a><strong>ile Ã¶ÄŸrenin!</strong></summary>

* Bir **cybersecurity ÅŸirketinde** Ã§alÄ±ÅŸÄ±yor musunuz? **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek** ister misiniz? veya **PEASS'Ä±n en son sÃ¼rÃ¼mÃ¼ne veya HackTricks'i PDF olarak indirmek** ister misiniz? [**ABONELÄ°K PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* Ã–zel [**NFT'lerimizden oluÅŸan PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katÄ±lÄ±n** veya **Twitter'da** ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**'u takip edin**.
* **Hacking hilelerinizi** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ve** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ile gÃ¶ndererek paylaÅŸÄ±n**.

</details>
