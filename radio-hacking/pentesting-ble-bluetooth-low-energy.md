<details>

<summary><strong>é›¶åŸºç¡€å­¦ä¹ AWSé»‘å®¢æ”»å‡»æˆä¸ºè‹±é›„</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDF**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>


# ä»‹ç»

è‡ªè“ç‰™4.0è§„èŒƒä»¥æ¥ï¼ŒBLEä»…ä½¿ç”¨40ä¸ªé¢‘é“ï¼Œè¦†ç›–2400è‡³2483.5 MHzèŒƒå›´ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿè“ç‰™åœ¨åŒä¸€èŒƒå›´å†…ä½¿ç”¨79ä¸ªé¢‘é“ã€‚

BLEè®¾å¤‡é€šè¿‡å‘é€**å¹¿å‘ŠåŒ…**ï¼ˆ**ä¿¡æ ‡**ï¼‰æ¥é€šä¿¡ï¼Œè¿™äº›åŒ…å°†BLEè®¾å¤‡çš„å­˜åœ¨å¹¿æ’­ç»™é™„è¿‘çš„å…¶ä»–è®¾å¤‡ã€‚è¿™äº›ä¿¡æ ‡æœ‰æ—¶ä¹Ÿ**å‘é€æ•°æ®**ã€‚

ç›‘å¬è®¾å¤‡ï¼Œä¹Ÿç§°ä¸ºä¸­å¤®è®¾å¤‡ï¼Œå¯ä»¥å¯¹å¹¿å‘ŠåŒ…å‘é€ç‰¹å®šäºå¹¿å‘Šè®¾å¤‡çš„**æ‰«æè¯·æ±‚**ã€‚å¯¹è¯¥æ‰«æçš„**å“åº”**ä½¿ç”¨ä¸**å¹¿å‘Š**åŒ…ç›¸åŒçš„ç»“æ„ï¼Œä½†åŒ…å«äº†æ— æ³•åœ¨æœ€åˆçš„å¹¿å‘Šè¯·æ±‚ä¸­æ”¾å…¥çš„é¢å¤–ä¿¡æ¯ï¼Œä¾‹å¦‚å®Œæ•´çš„è®¾å¤‡åç§°ã€‚

![](<../.gitbook/assets/image (201) (2) (1) (1).png>)

å‰å¯¼å­—èŠ‚åŒæ­¥é¢‘ç‡ï¼Œè€Œå››å­—èŠ‚æ¥å…¥åœ°å€æ˜¯**è¿æ¥æ ‡è¯†ç¬¦**ï¼Œåœ¨å¤šä¸ªè®¾å¤‡å°è¯•åœ¨åŒä¸€é¢‘é“ä¸Šå»ºç«‹è¿æ¥çš„åœºæ™¯ä¸­ä½¿ç”¨ã€‚æ¥ä¸‹æ¥ï¼Œåè®®æ•°æ®å•å…ƒï¼ˆ**PDU**ï¼‰åŒ…å«**å¹¿å‘Šæ•°æ®**ã€‚PDUæœ‰å‡ ç§ç±»å‹ï¼›æœ€å¸¸ç”¨çš„æ˜¯ADV\_NONCONN\_INDå’ŒADV\_INDã€‚å¦‚æœè®¾å¤‡**ä¸æ¥å—è¿æ¥**ï¼Œå®ƒä»¬å°†ä½¿ç”¨**ADV\_NONCONN\_IND** PDUç±»å‹ï¼Œä»…åœ¨å¹¿å‘ŠåŒ…ä¸­ä¼ è¾“æ•°æ®ã€‚å¦‚æœè®¾å¤‡**å…è®¸è¿æ¥**å¹¶åœ¨**å»ºç«‹è¿æ¥**å**åœæ­¢å‘é€å¹¿å‘Š**åŒ…ï¼Œå®ƒä»¬å°†ä½¿ç”¨**ADV\_IND**ã€‚

## GATT

**é€šç”¨å±æ€§é…ç½®æ–‡ä»¶**ï¼ˆGATTï¼‰å®šä¹‰äº†**è®¾å¤‡åº”å¦‚ä½•æ ¼å¼åŒ–å’Œä¼ è¾“æ•°æ®**ã€‚å½“æ‚¨åˆ†æBLEè®¾å¤‡çš„æ”»å‡»é¢æ—¶ï¼Œæ‚¨é€šå¸¸ä¼šé›†ä¸­æ³¨æ„åŠ›åœ¨GATTï¼ˆæˆ–GATTsï¼‰ä¸Šï¼Œå› ä¸ºè¿™æ˜¯å¦‚ä½•**è§¦å‘è®¾å¤‡åŠŸèƒ½**ä»¥åŠå¦‚ä½•å­˜å‚¨ã€åˆ†ç»„å’Œä¿®æ”¹æ•°æ®çš„æ–¹å¼ã€‚GATTä»¥è¡¨æ ¼å½¢å¼åˆ—å‡ºäº†è®¾å¤‡çš„ç‰¹æ€§ã€æè¿°ç¬¦å’ŒæœåŠ¡ï¼Œä½œä¸º16ä½æˆ–32ä½å€¼ã€‚**ç‰¹æ€§**æ˜¯åœ¨ä¸­å¤®è®¾å¤‡å’Œå¤–å›´è®¾å¤‡ä¹‹é—´**å‘é€çš„æ•°æ®å€¼**ã€‚è¿™äº›ç‰¹æ€§å¯ä»¥æœ‰**æè¿°ç¬¦**ï¼Œ**æä¾›æœ‰å…³å®ƒä»¬çš„é¢å¤–ä¿¡æ¯**ã€‚å¦‚æœç‰¹æ€§ä¸æ‰§è¡Œç‰¹å®šæ“ä½œç›¸å…³ï¼Œåˆ™é€šå¸¸ä¼šåœ¨**æœåŠ¡**ä¸­**åˆ†ç»„**ã€‚

# æšä¸¾
```bash
hciconfig #Check config, check if UP or DOWN
# If DOWN try:
sudo modprobe -c bluetooth
sudo hciconfig hci0 down && sudo hciconfig hci0 up

# Spoof MAC
spooftooph -i hci0 -a 11:22:33:44:55:66
```
## GATTool

**GATTool** å…è®¸ä¸å¦ä¸€è®¾å¤‡**å»ºç«‹**è¿æ¥ï¼Œåˆ—å‡ºè¯¥è®¾å¤‡çš„**ç‰¹æ€§**ï¼Œå¹¶è¯»å†™å…¶å±æ€§ã€‚\
GATTTool å¯ä»¥ä½¿ç”¨ `-I` é€‰é¡¹å¯åŠ¨ä¸€ä¸ªäº¤äº’å¼shellï¼š
```bash
gatttool -i hci0 -I
[ ][LE]> connect 24:62:AB:B1:A8:3E Attempting to connect to A4:CF:12:6C:B3:76 Connection successful
[A4:CF:12:6C:B3:76][LE]> characteristics
handle: 0x0002, char properties: 0x20, char value handle:
0x0003, uuid: 00002a05-0000-1000-8000-00805f9b34fb
handle: 0x0015, char properties: 0x02, char value handle:
0x0016, uuid: 00002a00-0000-1000-8000-00805f9b34fb
[...]

# Write data
gatttool -i <Bluetooth adapter interface> -b <MAC address of device> --char-write-req <characteristic handle> -n <value>
gatttool -b a4:cf:12:6c:b3:76 --char-write-req -a 0x002e -n $(echo -n "04dc54d9053b4307680a"|xxd -ps)

# Read data
gatttool -i <Bluetooth adapter interface> -b <MAC address of device> --char-read -a 0x16

# Read connecting with an authenticated encrypted connection
gatttool --sec-level=high -b a4:cf:12:6c:b3:76 --char-read -a 0x002c
```
## Bettercap
```bash
# Start listening for beacons
sudo bettercap --eval "ble.recon on"
# Wait some time
>> ble.show # Show discovered devices
>> ble.enum <mac addr> # This will show the service, characteristics and properties supported

# Write data in a characteristic
>> ble.write <MAC ADDR> <UUID> <HEX DATA>
>> ble.write <mac address of device> ff06 68656c6c6f # Write "hello" in ff06
```
<details>

<summary><strong>ä»é›¶åˆ°è‹±é›„å­¦ä¹ AWSé»‘å®¢æ”»å‡»ï¼Œé€šè¿‡</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ï¼</strong></summary>

æ”¯æŒHackTricksçš„å…¶ä»–æ–¹å¼ï¼š

* å¦‚æœæ‚¨æƒ³åœ¨**HackTricksä¸­çœ‹åˆ°æ‚¨çš„å…¬å¸å¹¿å‘Š**æˆ–**ä¸‹è½½HackTricksçš„PDFç‰ˆæœ¬**ï¼Œè¯·æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)ï¼
* è·å–[**å®˜æ–¹PEASS & HackTrickså•†å“**](https://peass.creator-spring.com)
* å‘ç°[**PEASSå®¶æ—**](https://opensea.io/collection/the-peass-family)ï¼Œæˆ‘ä»¬ç‹¬å®¶çš„[**NFTsç³»åˆ—**](https://opensea.io/collection/the-peass-family)
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**telegramç¾¤ç»„**](https://t.me/peass)æˆ–åœ¨**Twitter** ğŸ¦ ä¸Š**å…³æ³¨**æˆ‘ [**@carlospolopm**](https://twitter.com/carlospolopm)**ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«æ‚¨çš„é»‘å®¢æŠ€å·§ã€‚

</details>
