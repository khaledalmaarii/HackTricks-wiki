# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO**ã¯**Relocation Read-Only**ã®ç•¥ã§ã€**GOT (Global Offset Table)**ã®ä¸Šæ›¸ãã«é–¢é€£ã™ã‚‹ãƒªã‚¹ã‚¯ã‚’è»½æ¸›ã™ã‚‹ãŸã‚ã«ãƒã‚¤ãƒŠãƒªã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã§ã™ã€‚ã“ã®æ¦‚å¿µã‚’æ˜ç¢ºã«ã™ã‚‹ãŸã‚ã«ã€2ã¤ã®ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã«åˆ†ã‘ã¦èª¬æ˜ã—ã¾ã™ï¼š**Partial RELRO**ã¨**Full RELRO**ã€‚

### **Partial RELRO**

**Partial RELRO**ã¯ã€ãƒã‚¤ãƒŠãƒªã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãªãã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–ã™ã‚‹ãŸã‚ã®ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å–ã‚Šã¾ã™ã€‚**GOTã‚’ãƒ¡ãƒ¢ãƒªå†…ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å¤‰æ•°ã®ä¸Šã«é…ç½®ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€Partial RELROã¯ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãŒGOTã«åˆ°é”ã—ã¦ç ´æã™ã‚‹ã®ã‚’é˜²ãã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™**ã€‚&#x20;

ã“ã‚Œã¯**GOTãŒä»»æ„ã®æ›¸ãè¾¼ã¿**ã®è„†å¼±æ€§ã‹ã‚‰æ‚ªç”¨ã•ã‚Œã‚‹ã®ã‚’é˜²ãã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

### **Full RELRO**

**Full RELRO**ã¯ã€**GOTã‚’å®Œå…¨ã«èª­ã¿å–ã‚Šå°‚ç”¨ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ä¿è­·ã‚’å¼·åŒ–ã—ã¾ã™ã€‚** ãƒã‚¤ãƒŠãƒªãŒé–‹å§‹ã•ã‚Œã‚‹ã¨ã€ã™ã¹ã¦ã®é–¢æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè§£æ±ºã•ã‚Œã€GOTã«ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã€ãã®å¾Œã€GOTã¯èª­ã¿å–ã‚Šå°‚ç”¨ã¨ã—ã¦ãƒãƒ¼ã‚¯ã•ã‚Œã€å®Ÿè¡Œæ™‚ã«ãã‚Œã«å¯¾ã™ã‚‹å¤‰æ›´ã‚’åŠ¹æœçš„ã«é˜²ãã¾ã™ã€‚

ãŸã ã—ã€Full RELROã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨èµ·å‹•æ™‚é–“ã«é–¢ã™ã‚‹ã‚‚ã®ã§ã™ã€‚GOTã‚’èª­ã¿å–ã‚Šå°‚ç”¨ã¨ã—ã¦ãƒãƒ¼ã‚¯ã™ã‚‹å‰ã«ã€ã™ã¹ã¦ã®å‹•çš„ã‚·ãƒ³ãƒœãƒ«ã‚’èµ·å‹•æ™‚ã«è§£æ±ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€**Full RELROãŒæœ‰åŠ¹ãªãƒã‚¤ãƒŠãƒªã¯èª­ã¿è¾¼ã¿æ™‚é–“ãŒé•·ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™**ã€‚ã“ã®è¿½åŠ ã®èµ·å‹•ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒã€ã™ã¹ã¦ã®ãƒã‚¤ãƒŠãƒªã§Full RELROãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã£ã¦ã„ãªã„ç†ç”±ã§ã™ã€‚

ãƒã‚¤ãƒŠãƒªã§Full RELROãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## ãƒã‚¤ãƒ‘ã‚¹

ãƒ•ãƒ«RELROãŒæœ‰åŠ¹ãªå ´åˆã€ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹å”¯ä¸€ã®æ–¹æ³•ã¯ã€ä»»æ„ã®å®Ÿè¡Œã‚’å¾—ã‚‹ãŸã‚ã«GOTãƒ†ãƒ¼ãƒ–ãƒ«ã«æ›¸ãè¾¼ã‚€å¿…è¦ã®ãªã„åˆ¥ã®æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã§ã™ã€‚

LIBCã®GOTã¯é€šå¸¸ãƒ‘ãƒ¼ã‚·ãƒ£ãƒ«RELROã§ã‚ã‚‹ãŸã‚ã€ä»»æ„ã®æ›¸ãè¾¼ã¿ã§å¤‰æ›´å¯èƒ½ã§ã™ã€‚è©³ç´°ã¯[Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
