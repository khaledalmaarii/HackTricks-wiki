# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO**ëŠ” **Relocation Read-Only**ì˜ ì•½ìë¡œ, **GOT (Global Offset Table)** ì˜¤ë²„ë¼ì´íŠ¸ì™€ ê´€ë ¨ëœ ìœ„í—˜ì„ ì™„í™”í•˜ê¸° ìœ„í•´ ë°”ì´ë„ˆë¦¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë³´ì•ˆ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ ê°œë…ì„ ëª…í™•í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë³´ê² ìŠµë‹ˆë‹¤: **Partial RELRO**ì™€ **Full RELRO**.

### **Partial RELRO**

**Partial RELRO**ëŠ” ë°”ì´ë„ˆë¦¬ì˜ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë©´ì„œ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ê°„ë‹¨í•œ ì ‘ê·¼ ë°©ì‹ì„ ì·¨í•©ë‹ˆë‹¤. **GOTë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í”„ë¡œê·¸ë¨ì˜ ë³€ìˆ˜ ìœ„ì— ë°°ì¹˜í•¨ìœ¼ë¡œì¨, Partial RELROëŠ” ë²„í¼ ì˜¤ë²„í”Œë¡œìš°ê°€ GOTì— ë„ë‹¬í•˜ì—¬ ì†ìƒë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.** 

ì´ê²ƒì€ **ì„ì˜ ì“°ê¸°** ì·¨ì•½ì ìœ¼ë¡œë¶€í„° GOTê°€ ë‚¨ìš©ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### **Full RELRO**

**Full RELRO**ëŠ” **GOTë¥¼ ì™„ì „íˆ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ ë³´í˜¸ë¥¼ ê°•í™”í•©ë‹ˆë‹¤.** ë°”ì´ë„ˆë¦¬ê°€ ì‹œì‘ë˜ë©´ ëª¨ë“  í•¨ìˆ˜ ì£¼ì†Œê°€ í•´ê²°ë˜ê³  GOTì— ë¡œë“œëœ í›„, GOTëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ í‘œì‹œë˜ì–´ ëŸ°íƒ€ì„ ì¤‘ì— ìˆ˜ì •ì´ íš¨ê³¼ì ìœ¼ë¡œ ë°©ì§€ë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ Full RELROì˜ ë‹¨ì ì€ ì„±ëŠ¥ê³¼ ì‹œì‘ ì‹œê°„ ì¸¡ë©´ì—ì„œì˜ trade-offì…ë‹ˆë‹¤. GOTë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ í‘œì‹œí•˜ê¸° ì „ì— ëª¨ë“  ë™ì  ê¸°í˜¸ë¥¼ ì‹œì‘ ì‹œ í•´ê²°í•´ì•¼ í•˜ë¯€ë¡œ, **Full RELROê°€ í™œì„±í™”ëœ ë°”ì´ë„ˆë¦¬ëŠ” ë¡œë“œ ì‹œê°„ì´ ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.** ì´ ì¶”ê°€ì ì¸ ì‹œì‘ ì˜¤ë²„í—¤ë“œëŠ” ëª¨ë“  ë°”ì´ë„ˆë¦¬ì—ì„œ Full RELROê°€ ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ì§€ ì•ŠëŠ” ì´ìœ ì…ë‹ˆë‹¤.

ë°”ì´ë„ˆë¦¬ì—ì„œ Full RELROê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Full RELROê°€ í™œì„±í™”ëœ ê²½ìš°, ì´ë¥¼ ìš°íšŒí•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ GOT í…Œì´ë¸”ì— ì“°ì§€ ì•Šê³  ì„ì˜ ì‹¤í–‰ì„ ì–»ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤.

LIBCì˜ GOTëŠ” ì¼ë°˜ì ìœ¼ë¡œ Partial RELROì´ë¯€ë¡œ ì„ì˜ ì“°ê¸°ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
