# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO** oznaÄava **Relocation Read-Only**, i to je bezbednosna funkcija koja se koristi u binarnim datotekama kako bi se smanjili rizici povezani sa **GOT (Global Offset Table)** prepisivanjima. RazloÅ¾imo koncept na njegove dve razliÄite vrste radi jasnoÄ‡e: **DelimiÄni RELRO** i **Potpuni RELRO**.

### **DelimiÄni RELRO**

**DelimiÄni RELRO** koristi jednostavniji pristup za poboljÅ¡anje bezbednosti bez znaÄajnog uticaja na performanse binarne datoteke. **Postavljanjem GOT-a iznad promenljivih programa u memoriji, DelimiÄni RELRO ima za cilj da spreÄi prelivanje bafera da doÄ‘e do GOT-a i oÅ¡teti ga.**&#x20;

Ovo **ne spreÄava GOT** da bude zloupotrebljen **iz ranjivosti sa proizvoljnim pisanjem**.

### **Potpuni RELRO**

**Potpuni RELRO** pojaÄava zaÅ¡titu tako Å¡to **Äini GOT potpuno samo-za-Äitanje.** Kada se binarna datoteka pokrene, sve adrese funkcija se reÅ¡avaju i uÄitavaju u GOT, zatim, GOT se oznaÄava kao samo-za-Äitanje, efikasno spreÄavajuÄ‡i bilo kakve izmene tokom izvrÅ¡avanja.

MeÄ‘utim, kompromis sa Potpunim RELRO-om je u pogledu performansi i vremena pokretanja. PoÅ¡to je potrebno da se reÅ¡e svi dinamiÄki simboli prilikom pokretanja pre nego Å¡to se GOT oznaÄi kao samo-za-Äitanje, **binarne datoteke sa omoguÄ‡ĞµĞ½Ğ¸Ğ¼ Potpunim RELRO-om mogu doÅ¾iveti duÅ¾e vreme uÄitavanja**. Ova dodatna prekomerna optereÄ‡enja prilikom pokretanja su razlog zaÅ¡to Potpuni RELRO nije omoguÄ‡ĞµĞ½ po defaultu u svim binarnim datotekama.

MoguÄ‡e je videti da li je Potpuni RELRO omoguÄ‡en u binarnoj datoteci sa:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Ako je Full RELRO omoguÄ‡en, jedini naÄin da se zaobiÄ‘e je da se pronaÄ‘e drugi naÄin koji ne zahteva pisanje u GOT tabelu za dobijanje proizvoljne izvrÅ¡ne radnje.

Napomena: LIBC-ova GOT je obiÄno Partial RELRO, tako da se moÅ¾e modifikovati sa proizvoljnim pisanjem. ViÅ¡e informacija u [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries).

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
