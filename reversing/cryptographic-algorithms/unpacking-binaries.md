{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **åœ¨** **Twitter** ğŸ¦ **ä¸Šå…³æ³¨æˆ‘ä»¬** [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}


# è¯†åˆ«æ‰“åŒ…çš„äºŒè¿›åˆ¶æ–‡ä»¶

* **ç¼ºå°‘å­—ç¬¦ä¸²**ï¼šå¸¸è§çš„æƒ…å†µæ˜¯æ‰“åŒ…çš„äºŒè¿›åˆ¶æ–‡ä»¶å‡ ä¹æ²¡æœ‰ä»»ä½•å­—ç¬¦ä¸²ã€‚
* å¾ˆå¤š **æœªä½¿ç”¨çš„å­—ç¬¦ä¸²**ï¼šæ­¤å¤–ï¼Œå½“æ¶æ„è½¯ä»¶ä½¿ç”¨æŸç§å•†ä¸šæ‰“åŒ…å·¥å…·æ—¶ï¼Œå¸¸å¸¸ä¼šå‘ç°å¾ˆå¤šæ²¡æœ‰äº¤å‰å¼•ç”¨çš„å­—ç¬¦ä¸²ã€‚å³ä½¿è¿™äº›å­—ç¬¦ä¸²å­˜åœ¨ï¼Œä¹Ÿå¹¶ä¸æ„å‘³ç€äºŒè¿›åˆ¶æ–‡ä»¶æ²¡æœ‰è¢«æ‰“åŒ…ã€‚
* ä½ è¿˜å¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·æ¥å°è¯•æ‰¾å‡ºç”¨äºæ‰“åŒ…äºŒè¿›åˆ¶æ–‡ä»¶çš„æ‰“åŒ…å·¥å…·ï¼š
* [PEiD](http://www.softpedia.com/get/Programming/Packers-Crypters-Protectors/PEiD-updated.shtml)
* [Exeinfo PE](http://www.softpedia.com/get/Programming/Packers-Crypters-Protectors/ExEinfo-PE.shtml)
* [Language 2000](http://farrokhi.net/language/)

# åŸºæœ¬å»ºè®®

* **ä»åº•éƒ¨å¼€å§‹** åœ¨ IDA ä¸­åˆ†ææ‰“åŒ…çš„äºŒè¿›åˆ¶æ–‡ä»¶ **å¹¶å‘ä¸Šç§»åŠ¨**ã€‚è§£åŒ…å™¨åœ¨è§£åŒ…ä»£ç é€€å‡ºæ—¶é€€å‡ºï¼Œå› æ­¤è§£åŒ…å™¨ä¸å¤ªå¯èƒ½åœ¨å¼€å§‹æ—¶å°†æ‰§è¡Œæƒä¼ é€’ç»™è§£åŒ…çš„ä»£ç ã€‚
* æœç´¢ **JMP** æˆ– **CALL** åˆ° **å¯„å­˜å™¨** æˆ– **å†…å­˜åŒºåŸŸ**ã€‚è¿˜è¦æœç´¢ **æ¨é€å‚æ•°å’Œåœ°å€æ–¹å‘çš„å‡½æ•°ï¼Œç„¶åè°ƒç”¨ `retn`**ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è¿”å›å¯èƒ½ä¼šè°ƒç”¨åœ¨è°ƒç”¨ä¹‹å‰åˆšæ¨é€åˆ°å †æ ˆçš„åœ°å€ã€‚
* åœ¨ `VirtualAlloc` ä¸Šè®¾ç½® **æ–­ç‚¹**ï¼Œå› ä¸ºè¿™ä¼šåœ¨å†…å­˜ä¸­åˆ†é…ç¨‹åºå¯ä»¥å†™å…¥è§£åŒ…ä»£ç çš„ç©ºé—´ã€‚ä½¿ç”¨â€œè¿è¡Œåˆ°ç”¨æˆ·ä»£ç â€æˆ–ä½¿ç”¨ F8 **è·å–æ‰§è¡Œå‡½æ•°å EAX ä¸­çš„å€¼**ï¼Œç„¶åâ€œ**åœ¨è½¬å‚¨ä¸­è·Ÿè¸ªè¯¥åœ°å€**â€ã€‚ä½ æ°¸è¿œä¸çŸ¥é“è¿™æ˜¯å¦æ˜¯è§£åŒ…ä»£ç å°†è¦ä¿å­˜çš„åŒºåŸŸã€‚
* **`VirtualAlloc`** çš„å‚æ•°å€¼ä¸º "**40**" æ„å‘³ç€å¯è¯»+å¯å†™+å¯æ‰§è¡Œï¼ˆä¸€äº›éœ€è¦æ‰§è¡Œçš„ä»£ç å°†è¢«å¤åˆ¶åˆ°è¿™é‡Œï¼‰ã€‚
* **åœ¨è§£åŒ…** ä»£ç æ—¶ï¼Œé€šå¸¸ä¼šå‘ç° **å¤šä¸ªè°ƒç”¨** åˆ° **ç®—æœ¯æ“ä½œ** å’Œåƒ **`memcopy`** æˆ– **`Virtual`**`Alloc` çš„å‡½æ•°ã€‚å¦‚æœä½ å‘ç°è‡ªå·±åœ¨ä¸€ä¸ªæ˜¾ç„¶åªæ‰§è¡Œç®—æœ¯æ“ä½œå’Œå¯èƒ½ä¸€äº› `memcopy` çš„å‡½æ•°ä¸­ï¼Œå»ºè®®å°è¯• **æ‰¾åˆ°å‡½æ•°çš„ç»“æŸ**ï¼ˆå¯èƒ½æ˜¯ JMP æˆ–è°ƒç”¨æŸä¸ªå¯„å­˜å™¨ï¼‰ **æˆ–** è‡³å°‘æ‰¾åˆ° **æœ€åä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨**ï¼Œç„¶åè¿è¡Œåˆ°é‚£é‡Œï¼Œå› ä¸ºä»£ç å¹¶ä¸æœ‰è¶£ã€‚
* åœ¨è§£åŒ…ä»£ç æ—¶ **æ³¨æ„** æ¯å½“ä½  **æ›´æ”¹å†…å­˜åŒºåŸŸ**ï¼Œå› ä¸ºå†…å­˜åŒºåŸŸçš„å˜åŒ–å¯èƒ½è¡¨ç¤º **è§£åŒ…ä»£ç çš„å¼€å§‹**ã€‚ä½ å¯ä»¥ä½¿ç”¨ Process Hacker è½»æ¾è½¬å‚¨å†…å­˜åŒºåŸŸï¼ˆè¿›ç¨‹ --> å±æ€§ --> å†…å­˜ï¼‰ã€‚
* åœ¨å°è¯•è§£åŒ…ä»£ç æ—¶ï¼ŒçŸ¥é“ä½ æ˜¯å¦å·²ç»åœ¨å¤„ç†è§£åŒ…ä»£ç çš„å¥½æ–¹æ³•ï¼ˆè¿™æ ·ä½ å¯ä»¥ç›´æ¥è½¬å‚¨å®ƒï¼‰æ˜¯ **æ£€æŸ¥äºŒè¿›åˆ¶æ–‡ä»¶çš„å­—ç¬¦ä¸²**ã€‚å¦‚æœåœ¨æŸä¸ªæ—¶åˆ»ä½ æ‰§è¡Œäº†è·³è½¬ï¼ˆå¯èƒ½æ›´æ”¹äº†å†…å­˜åŒºåŸŸï¼‰ï¼Œå¹¶ä¸”ä½ æ³¨æ„åˆ° **æ·»åŠ äº†æ›´å¤šå­—ç¬¦ä¸²**ï¼Œé‚£ä¹ˆä½ å¯ä»¥çŸ¥é“ **ä½ æ­£åœ¨å¤„ç†è§£åŒ…çš„ä»£ç **ã€‚\
ç„¶è€Œï¼Œå¦‚æœæ‰“åŒ…å™¨å·²ç»åŒ…å«äº†å¾ˆå¤šå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥æŸ¥çœ‹åŒ…å«â€œhttpâ€è¿™ä¸ªè¯çš„å­—ç¬¦ä¸²æ•°é‡ï¼Œçœ‹çœ‹è¿™ä¸ªæ•°å­—æ˜¯å¦å¢åŠ ã€‚
* å½“ä½ ä»å†…å­˜åŒºåŸŸè½¬å‚¨å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ [PE-bear](https://github.com/hasherezade/pe-bear-releases/releases) ä¿®å¤ä¸€äº›å¤´éƒ¨ä¿¡æ¯ã€‚
